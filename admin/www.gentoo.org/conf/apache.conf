# $Header: /var/cvsroot/gentoo/admin/www.gentoo.org/conf/apache.conf,v 1.3 2003/01/30 00:20:53 rajiv Exp $

# This file contains options which affect the main apache server and all
# virtual hosts running on this machine. If this machine is running as only
# www.gentoo.org you should include this configuration file in your main
# apache.conf file (usually /etc/apache/conf/httpd.conf) by adding:
#
#   Include /home/httpd/gentoo-src/gentoo-xml/conf/www.gentoo.org-apache.conf
#
# If this server is handling other virtual hosts besides www.gentoo.org,
# include only the virtual host specific cong:
#
#   Include /home/httpd/gentoo-src/gentoo-xml/conf/www.gentoo.org.conf
#
# For the second case, you should also read the options below and use any
# as you feel are appropriate.

ServerName www.gentoo.org
ServerAdmin www@gentoo.org
DocumentRoot /home/httpd/gentoo-src/gentoo-xml/htdocs

<Directory /home/httpd/gentoo-src/gentoo-xml/htdocs>
	Options -All
	AllowOverride None
	Order allow,deny
	Allow from all                             
</Directory>

<IfModule mod_dir.c>
    DirectoryIndex index.xml index.html
</IfModule>

<IfDefine PERL>
	LoadModule perl_module extramodules/libperl.so
	AddModule mod_perl.c

	PerlModule AxKit
	SetHandler perl-script
	PerlHandler Apache::AxKit::StyleChooser::PathInfo AxKit
	AxAddStyleMap application/x-xpathscript Apache::AxKit::Language::XPathScript
	AddHandler axkit .xml
	AxAddStyleMap text/xsl Apache::AxKit::Language::LibXSLT
</IfDefine>

<IfDefine GZIP>
	LoadModule gzip_module extramodules/mod_gzip.so
	AddModule mod_gzip.c

	Include conf/addon-modules/mod_gzip.conf
	LogFormat "%h %l %u %t \"%r\" %>s %b %b mod_gzip: %{mod_gzip_compression_ratio}npct." gzip
</IfDefine>

<IfModule mod_status.c>
	<Location /server-status>
		SetHandler server-status
		Order deny,allow
		Deny from all
		Allow from 127.0.0.1 216.110.76.37 216.110.80.169
	</Location>
	ExtendedStatus On
</IfModule>

<IfModule mod_info.c>
	<Location /server-info>
		SetHandler server-info
		Order deny,allow
		Deny from all
		Allow from 127.0.0.1 216.110.76.37 216.110.80.169
	</Location>
</IfModule>

<IfModule mod_perl.c>
	<Location /perl-status>
		SetHandler perl-script
		Order deny,allow
		Deny from all
		PerlHandler Apache::Status
		Allow from 127.0.0.1 216.110.76.37 216.110.80.169
	</Location>
</IfModule>

MinSpareServers 15
MaxSpareServers 25
StartServers 20

NameVirtualHost *
Include /home/httpd/gentoo-src/gentoo-xml/conf/www.gentoo.org.conf
