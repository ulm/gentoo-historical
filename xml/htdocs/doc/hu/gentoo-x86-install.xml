<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "../../dtd/guide.dtd">
<guide link="/doc/hu/gentoo-x86-install.xml">
<title>Gentoo Linux 1.4 Telepítési útmutató</title>
<author title="Chief Architect"><mail link="drobbins@gentoo.org">Daniel Robbins</mail></author>
<author title="Author">Chris Houser</author><author title="Author">Jerry Alexandratos</author>
<author title="Ghost, Reviewer"><mail link="g2boojum@gentoo.org">Grant Goodyear</mail></author>
<author title="Editor"><mail link="zhen@gentoo.org">John P. Davis</mail></author>
<author title="Editor"><mail link="Pierre-Henri.Jondot@wanadoo.fr">Pierre-Henri Jondot</mail></author>
<author title="Editor"><mail link="stocke2@gentoo.org">Eric Stockbridge</mail></author>
<author title="Editor"><mail link="rajiv@gentoo.org">Rajiv Manglani</mail></author>
<author title="Editor"><mail link="seo@gentoo.org">Jungmin Seo</mail></author>
<author title="Editor"><mail link="zhware@gentoo.org">Stoyan Zhekov</mail></author>
<author title="Editor"><mail link="jhhudso@gentoo.org">Jared Hudson</mail></author>
<author title="Editor">Colin Morey</author>
<author title="Editor"><mail link="peesh@gentoo.org">Jorge Paulo</mail></author>
<author title="Editor"><mail link="carl@gentoo.org">Carl Anderson</mail></author>
<author title="Editor, Reviewer"><mail link="swift@gentoo.org">Sven Vermeulen</mail></author>
<author title="Editor"><mail link="avenj@gentoo.org">Jon Portnoy</mail></author>
<author title="Editor"><mail link="klasikahl@gentoo.org">Zack Gilburd</mail></author>
<author title="Reviewer"><mail link="gerrynjr@gentoo.org">Gerald J. Normandin Jr.</mail></author>
<author title="Reviewer"><mail link="spyderous@gentoo.org">Donnie Berkholz</mail></author>
<author title="Reviewer"><mail link="antifa@gentoo.org">Ken Nowack</mail></author>
<author title="Editor, Reviewer"><mail link="bennyc@gentoo.org">Benny Chuang</mail></author>
<author title="Hungarian Translator"><mail link="xea@gentoo.hu">Pécsi Sándor</mail></author>
<author title="Hungarian Translator"><mail link="silent@mailbox.hu">Vaskó László</mail></author>
<author title="Hungarian Translator"><mail link="newage@wap.hu">Barak Tamás</mail></author>
<author title="Hungarian Reviewer"><mail link="strangedr@gentoo.org">Ferencz Tamás</mail></author>
<abstract>
Ez az útmutató lépésről lépésre végigvezet a Gentoo Linux 1.4
telepítésén. A Gentoo Linux telepítése többféle képpen is történhet,
attól függően, hogy mennyit akar a felhasználó magának fordítani.
</abstract>

<license/>

<version>2.6.17</version>
<date>2003. 10. 27.</date>

<chapter>
<title>A telepítésről</title>
<section>
<body>

<p>Először is, ha új vagy a témában, akkor Isten hozott! A Gentoo Linux telepítése többféleképpen is történhet.
Azoknak, akiknek gyors telepítésre van szükségük, léteznek előrefordított csomagok, míg azoknak, akik maximális
testreszabhatóságot igényelnek, lehetséges az egész Gentoo Linux forráskódból történő fordítása is. A választás a
Tied!
</p>

<p>Egy jelentős változás a hivatalos 1.4-es kiadásban az új 2 CD-s telepítőkészlet, amelyet a
<uri link="http://store.gentoo.org">Gentoo Linux Store</uri>-ról és a <uri link="http://www.gentoo.org/main/en/mirrors.xml">tükörszerverekről</uri>
szerezhetsz be. Ez a 2CD-s készlet létezik x86 (486 és fölötte),
i686 (Pentium Pro, Pentium II, Athlon/Duron és fölötte), Pentium III,
Pentium 4 és Athlon XP-hez. Hogy megtudd, Neked melyik készlet kell,
olvasd el a részletes leírást a  <uri
link="http://store.gentoo.org">Gentoo Linux Storen</uri>.
</p>

<p>
Ezeket az ISO-kat megtalálhatod és letöltheted a legtöbb tükörszerverről. Az x86 architektúrához való
LiveCD-ket a <path>releases/x86/1.4/livecd/</path> alkönyvtárban találod.
</p>

<p>Ejtsünk pár szót
erről a 2CD-s készletről. Az első CD ("CD1")
az ún. LiveCD telepítő. Ez egy bootolható CD-ROM, ami azt jelenti, hogy
ha beleteszed a CD-t a meghajtódba, akkor a gép képes közvetlenül a
CD-ről indulni. Ezt a CD-t fogod majd használni egy CD alapú
telepítéshez. A bootolható Gentoo Linux környezeten kívül még
megtalálhatsz itt mindent, ami a Gentoo Linux telepítéséhez szükséges,
akár Internet kapcsolat nélkül is. Ráadásként van még néhány
előrefordított csomag is a CD1-en, mint például az XFree86 X szervere.
Ha ISO CD-képet (CD-image) töltöttél le, akkor a CD1-et onnan
ismerheted fel, hogy a fájlnév "<path>-cd1.iso</path>" -ra végződik.
</p>

<p>
Az előzővel
ellentétben a második CD ("CD2") már nem
bootolható, és sok előrecsomagolt alkalmazást tartalmaz. Ezen a CD-n
vannak például a KDE, GNOME, OpenOffice, Mozilla, Evolution, stb.
optimalizált változatai. A CD2 beszerzése <e>nem kötelező</e>, azoknak
készült, akik nagyon gyorsan akarnak teljes Gentoo rendszert
felépíteni. A CD2-n levő csomagokat egy tipikus mai egyprocesszoros
rendszeren körülbelül 36 óráig tartana forráskódból lefordítani. A CD2
ISO fájlja "<path>-cd2.iso</path>" -ra végződik.
</p>

<note>
A teljes
2CD-s Gentoo Linux készlet tartalmazza a Gentoo Reference Platformot,
ami egy teljes, előrefordított Gentoo Linux rendszer, GNOME-mal, KDE-vel,
Mozillával és OpenOffice-szal. A Gentoo Reference Platform ("GRP") azért
készült, hogy legyen lehetőség a Gentoo Linux csomagok villámgyors
telepítésére. A "forráskódból való telepítés", ami a Gentoo Linux
alapelve, mindig teljes egészében elérhető telepítési opció lesz. A GRP
célja, hogy a Gentoo Linuxot kényelmesebbé tegye anélkül, hogy le
kellene mondani a "forrásból való telepítésről".
</note>

<p>
A 2 CD-s készlet
mellett létezik egy nagyon kicsi "basic"
LiveCD is, amelyről indíthatod a géped. Miután elindult a rendszered,
beállíthatod az Internetkapcsolatodat, majd hálózatról telepítheted a
Gentoot. A "basic" CD előnye, hogy nagyon kicsi, így az ISO CD-kép
fájlt gyorsan le lehet tölteni. Ha már tapasztaltabb felhasználó vagy, aki a lehető
legfrissebb csomagokat akarja használni és gyors Internet kapcsolatod
van, ez a megoldás lehet számodra a legjobb. A "basic" ISO fájl nevének
a vége "<path>-basic.iso</path>" lesz.
</p>
		
<p>
A Gentoo Linux
telepítéséhez legalább egy Pentium I processzor
ajánlott minimum 64MB RAM-mal. Ennél gyengébb gépen a fordítás
túlságosan lassú lesz. (Megjegyezném, hogy vállalkozó szellemû
fanatikusok bírtak már mûködésre Gentoo Linuxot 386-on, 32MB RAM
mellett, azonban ők korán őszülnek ;)
</p>

<p>
Miután elindítottad
valamelyik LiveCD-ről a gépet, még több
választási lehetőséged nyílik. A Gentoo Linux telepítése az egyik ún
"stage tarball" archívum használatával történik, amelyből egyébként három
van. Azt, hogy melyikre van ezekből szükséged, az határozza meg, hogy a
rendszerednek mekkora hányadát akarod magad fordítani forrásból és
mennyit akarsz előrefordított csomagokból feltenni. A stage1 tarballt
akkor használd, ha az egész rendszeredet teljesen alapoktól kezdve
saját magadnak akarod lefordítani. Ha a stage2-t választod, akkor
tulajdonképpen egy "félig lefordított" rendszer telepítését
folytathatod. A stage3 tarball pedig már tartalmaz egy alap Gentoo Linux
rendszert, ami előre le lett neked fordítva. Ha a "GRP" telepítés
érdekel, akkor a stage3 tarballt használd.
</p>

<p>
<b>Ha nem GRP telepítést csinálsz,
akkor melyik stageről indulj?</b> Hogy világosabb legyen a helyzet
a stagek körül, olvasd el a következő részt!
</p>

<p>
Stage1-ről indulva teljes
ellenőrzést kapsz az optimalizálási
beállítások és a kiegészítő fordítás-idejû opciók fölött, amik
kezdetben engedélyezve vannak a rendszereden. Ez a stage1-et teszi
ideálissá a tapasztaltabb felhasználók számára, akik pontosan tudják
mit csinálnak. Azoknak is nagyszerû lehet, akik többet akarnak megtudni
a Gentoo Linux belső mûködéséről.
</p>

<p>
Stage2 esetén az ún. "bootstrap" fázist kihagyhatod, amivel a telepítés
alatt sok időt spórolhatsz meg, de így be kell érned az alapértelmezett
optimalizációs beállításokkal.
</p>

<p>
Stage3 választásával lesz lehetőséged a Gentoo Linux leggyorsabb
telepítésére, de ez egyúttal azt is jelenti, hogy az egész rendszered
az előre megadott beállításokkal lesz telepítve (őszintén szólva, ezek
jó beállítások és figyelmesen lettek kiválasztva, hogy a stabilitás
megőrzése mellett minél nagyobb teljesítményt tegyenek lehetővé). Mivel
a Gentoo Linux nagyobb kiadásainak vannak különböző stage3-ai a
különböző népszerûbb processzorokra optimalizálva, így a stage3 jó
kezdeti kombináció lehet mindkét részről - gyors telepítés és jó
beállítások.
</p>

<p>
<b>Ha először telepítesz Gentoo Linuxot,
ajánlott a stage3 vagy a GRP-s stage3 használata.</b>
</p>

<note>
<b>Tapasztalt felhasználóknak:</b> Ha stage3 telepítést csinálsz, ne változtasd
meg a CHOST beállítást az <path>/etc/make.conf</path> fájlban. Ha ilyen
változtatásra van szükséged, csinálj stage1-et és építsd fel a
rendszeredet a kívánt CHOST beállítással. A CHOST beállítás tipikusan
valami ilyen: <c>i686-pc-linux-gnu</c>.
</note>

<impo>
Amennyiben a telepítés bármelyik
pontján hibába ütköznél, kérlek jelentsd ezt a <uri>http://bugs.gentoo.org</uri>címen. Ha a
hiba javításához szükséges az eredeti fejlesztő csapat (pl. a KDE
csapat) bevonása is, akkor ezt a <e>Gentoo Linux fejlesztői</e> megteszik
helyetted.
</impo>

<note>
 A LiveCD-n
nem biztos hogy a legfrissebb telepítési útmutató van.. A legfrissebb
dokumentációt itt találhatod meg: <uri>http://www.gentoo.org/doc/hu/gentoo-x86-install.xml</uri>. Használd a weben található leírást a legfrissebb telepítéshez.

</note>

<p>
Tehát akkor gyorsan
nézzük át a részletes teendőket az installálás
során. Elsőnek letöltöd és kiírod a LiveCD-t, majd bebootolsz róla.
Kapni fogsz egy root promptot, létre kell hoznod a partíciókat,
fájlrendszereket és kitömöríteni rá a stage1, stage2 vagy stage3
tarballt. Ha a stage1 vagy 2-t választod, bizonyos lépéseket még meg
kell tenned, hogy ugyanott tarts, mintha a stage3-ról indultál volna.
Ha a rendszerünk már elérte a stage3-at, neki kell állni a
konfigurálásnak (személyre szabni a konfigurációs fájlokat, a
rendszertöltőt, stb) és újraindítani a gépet, majd örömtáncot járni,
van egy teljesen mûködő Gentoo Linuxod! :-) Miután az alap Gentoo
Linuxod mûködőképes, felhasználhatod a CD2-t, hogy az előre fordított
csomagokat, mint pl: KDE, GNOME, OpenOffice, Mozilla, stb. feltegyed.
</p>

<p>
A következő táblázatban
látod, hogy mit kell tenned, attól függően, melyik stage-t
választod:
</p>

<table>
<tcolumn width="0.75in"/>
<tcolumn width="1in"/>
<tcolumn width="1.25in"/>
<tcolumn width="3.5in"/>
<tr>
 <th>Stage </th>
 <th>Szükséges Internet hozzáférés?</th>
 <th>Szükséges média</th>
 <th>Lépések</th>
</tr>
<tr>
 <ti>1</ti>
 <ti>Igen</ti>
 <ti><e>basic</e> vagy <e>CD 1</e></ti>
 <ti>partícionálás/fájlrendszer
létrehozása, emerge sync, bootstrap, emerge system, kernel fordítás,
végső konfigurálás</ti>
</tr>
<tr>
 <ti>2</ti>
 <ti>Igen</ti>
 <ti><e>basic</e> vagy <e>CD 1</e></ti>
 <ti>partícionálás/fájlrendszer
létrehozása, emerge sync, emerge system,
kernel fordítás, végső konfigurálás</ti>
</tr>
<tr>
 <ti>3</ti>
 <ti>Nem, ha <e>CD 1</e>-et használsz, különben igen</ti>
 <ti><e>basic</e> vagy <e>CD 1</e></ti>
 <ti>partícionálás/fájlrendszer
létrehozása, emerge sync (nem kell, ha <e>CD 1</e>-et használsz), végső
konfigurálás</ti>
</tr>
<tr>
 <ti>3+GRP</ti>
 <ti>Nem</ti>
 <ti><e>CD 1</e>, <e>CD 2</e> opcionális</ti>
 <ti>partícionálás/fájlrendszer
létrehozása, végső
konfigurálás, CD1 előre fordított csomagjainak telepítése (opcionális),
újraindítás, extra csomagok telepítése (pl KDE, GNOME, stb.) ("CD 2" esetén)</ti>
</tr>
</table>

<note>
A hardveres ATA RAID használatához olvasd el az ATA RAID fejezetet
ennek a dokumentumnak a végén, mielőtt továbbhaladnál.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Bootolás</title>
<section>
<body>

<warn>
Előbb
olvasd el az egész fejezetet, mielőtt továbblépnél, különösen a boot
opciókat. Ezeknek a figyelmen kívül hagyása rossz
billentyûzetbeállításokhoz, elindítatlan pcmcia szolgáltatásokhoz, idő
előtti kopaszodáshoz, stb vezethet.
</warn>

<p>
Kezdd azzal, hogy
bebootolsz a LiveCD-ről. Egy szép lilás Gentoo
logós boot logot látsz majd. Ha itt Entert nyomsz, elkezdődik a
bootolási folyamat, de itt adhatod meg a kernelnek a saját magad által
összeállított boot paramétereket is. Például: <c>gentoo
nousb nohotplug</c>.
Ha több processzoros gépre telepíted a Gentoo
Linuxot (SMP), akkor a promptnál írj <c>smp</c> -t <c>gentoo</c> helyett a promptnál.Ez lehetővé teszi a
LiveCD-nek, hogy mindegyik processzort lássa, ne csak az elsőt.
</p>
		
<p>
A következő táblázatban
láthatod a választható
kerneleket, utána pedig a boot paramétereket. F2 és F3 megnyomására
előjön a
help képernyő.
</p>

<table>
<tcolumn width="2in"/>
<tcolumn width="4in"/>
<tr><th>Kernel</th><th>Leírás</th></tr>
<tr><ti>gentoo</ti><ti>az alap gentoo kernel (alapértelmezés)</ti></tr>
<tr><ti>nofb</ti><ti>letiltott framebuffer mód</ti></tr>
<tr><ti>smp</ti><ti>multiprocesszor támogatás, fb
nélkül</ti></tr>
<tr><ti>acpi</ti><ti>energiatakarékos mód (ACPI)</ti></tr>
<tr><ti>memtest</ti><ti>memória teszt</ti></tr>
</table>

<table>
<tcolumn width="2in"/>
<tcolumn width="4in"/>
<tr><th>Rendszerindítási opció</th><th>Leírás</th></tr>
<tr><ti>doataraid</ti><ti>betölti
az ide raid modulokat az initrd-ből</ti></tr>
<tr><ti>dofirewire</ti><ti>betölti
a firewire modulokat az initrd-ből (pl firewire
cdromokhoz)</ti></tr>
<tr><ti>dokeymap</ti><ti>lehetővé
teszi a billentyûzetkiosztás megváltoztatását angolról</ti></tr>
<tr><ti>dopcmcia</ti><ti>elindítja
a pcmcia szolgáltatást</ti></tr>
<tr><ti>doscsi</ti><ti>ellenőrzi,
hogy van-e scsi eszköz a gépben (néhány ethernet kártyával
összeakadhat)</ti></tr>
<tr><ti>noapm</ti><ti>megakadályozza
az apm modul betöltését</ti></tr>
<tr><ti>nodetect</ti><ti>nem
engedi a hwsetup/kudz és a hotplug elindítását</ti></tr>
<tr><ti>nodhcp</ti><ti>nem
indul el a dhcp ha hálózati eszközt talál</ti></tr>
<tr><ti>nohotplug</ti><ti>letiltja
a hotplug szolgáltatás elindítását</ti></tr>
<tr><ti>noraid</ti><ti>letiltja
az evms modulok betöltését</ti></tr>
<tr><ti>nousb</ti><ti>letiltja
az usb modulok initrd-ből indítását és a hotplugot</ti></tr>
<tr><ti>ide=nodma</ti><ti>letiltja
az ide eszközök dma elérését</ti></tr>
<tr><ti>cdcache</ti><ti>a
cd egész futásidejû részét betölti memóriába. Ez 40MB RAM-ot
igényel, de lehetővé teszi a <path>/mnt/cdrom</path> umountolását és egy másik cd csatlakoztatását</ti></tr>
</table>

<p>
Amint entert nyomsz,
elkezdődik a bootolási folyamat.
</p>

<p>
Jönnek a
standard kernel és initrd üzenetek, amit pedig a Gentoo Linux bootolási
folyamat követ. Automatikusan "<e>root</e>" -ként leszel beléptetve. A root promptnak ("#") kell megjelennie a konzolodon, a többi
konzolon pedig Alt+F1, F2, F3 és F4-el tudsz lépkedni.  Gyere vissza az eredetire az Alt+F1 megnyomásával.
</p>

<note>
<b>Tapasztalt felhasználóknak:</b>  Amikor a LiveCD bebootol, a root jelszó egy véletlenszerû szövegre lesz
állítva, biztonsági okokból. Ha <c>sshd</c> futtatását tervezed, állítsd be a LiveCD root jelszavát még most
a <c>passwd</c> parancs beírásával, majd kövesd az utasításokat. Ha ezt nem teszed meg, nem fogod tudni
a megfelelő jelszót a hálózaton keresztüli belépéshez.
</note>

<p>
Biztos észrevetted,
hogy a # promptod fölött van egy rakás segítő
szöveg, ami elmagyarázza, hogy hogyan állítsd be a hálózatodat és hogy
hol találod meg a Gentoo Linux stage tarballokat és csomagokat a
CD-n.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Kiegészítő hardverek beállítása</title>
<section>
<body>

<p>
Amikor a LiveCD
bootol, megpróbálja megtalálni a hardver
eszközeidet és betölteni hozzájuk a megfelelő kernel modulokat. Az
esetek nagy többségében jó munkát végez. Ha azonban a PCI eszközkeresés
valamelyik hardveredet kihagyta volna,
kézzel kell betöltened a megfelelő kernel modulokat.
Ha meg akarod
nézni az elérhető hálózati kártyák listáját, használd az <c>ls
/lib/modules/`uname -r`/kernel/drivers/net/*</c> parancsot. Ha pedig
egy konkrét modult akarsz betölteni, azt tedd így:
</p>

<pre caption="PCI modulok betöltése">
# <i>modprobe pcnet32</i>
<comment>(a pcnet32-t írd át a hálózati kártyád moduljára)</comment>
</pre>

<p>
Ehhez hasonlóan, ha
hozzá akarsz férni egy olyan SCSI eszközhöz,
ami nem lett felismerve a bootolás alatt, akkor neked kell hozzá
betölteni a megfelelő modult a <path>/lib/modules</path>-ből, ismét a
<c>modprobe</c> használatával:
</p>

<pre caption="SCSI modulok betöltése">
# <i>modprobe aic7xxx</i>
<comment>(az aic7xxx -et helyettesítsd a SCSI adaptered moduljával)</comment>
# <i>modprobe sd_mod</i>
<comment>(az sd_mod a SCSI lemeztámogatás modulja)</comment>
</pre>

<note>
A SCSI CD-ROM-okhoz és lemezekhez van kernelbe épített támogatás.
</note>

<note>
<b>Tapasztalt felhasználóknak:</b> A Gentoo LiveCD valószínûleg engedélyezte a
DMA használatát a lemezeiden, így maximális teljesítmény nyújtanak,
azonban ha mégsem így lenne, akkor a
<c>hdparm</c> segítségével megteheted ezt
a következőképpen:
<pre caption="DMA beállítása">
<comment>(Helyettesítsd a hdX-et a meghajtód nevével)</comment>
# <i>hdparm -d 1 /dev/hdX</i> 
<comment>(Ez engedélyezi a DMA-t a meghajtón)</comment>
# <i>hdparm -d1 -A1 -m16 -u1 -a64 /dev/hdX</i>
<comment>(Engedélyezi a DMA-t és más biztonságos teljesítménynövelő beállítást)</comment>
# <i>hdparm -X66 /dev/hdX</i>
<comment>(UltraDMA használata -- veszélyes -- bizonyos meghajtókkal gondot okozhat)</comment>
</pre>
</note>

			
</body>
</section>
</chapter>
<chapter>
<title>Hálózat
beállítása</title>
<section>
<title>Talán működik magától?</title>
<body>

<p>
Ha a rendszered Etherneten
keresztül csatlakozik hálózathoz, nagyon valószínû, hogy a hálózati beállítások már meg is történtek. Ha
így van, máris használhatod a
LiveCD-n levő hálózati alkalmazásokat, mint például:  <c>ssh</c>,
<c>scp</c>, <c>ping</c>, <c>irssi</c>, <c>wget</c> és <c>links</c>.
</p>
	  
<p>
Ha a hálózat
automatikusan be lett állítva, ellenőrizheted ezt az <c>/sbin/ifconfig</c> paranccsal, ami egy listát ad
az elérhető hálózati interfészekről, mint például: lo és eth0:
</p>

<pre caption="ifconfig kimenete működő hálózati kártya esetén">
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11 Base address:0xe800 
</pre>

<p>
Ajánlott
ellenőrzésképpen pingelni a szolgáltatód DNS szerverét
(amelyet -ha még nincs benne- az
<path>/etc/resolv.conf</path> fájl tartalmaz) és
egy távoli gépet az interneten, hogy a csomagjaid elérik az internetet
és mûködik a DNS név feloldás is, stb.
</p>

<pre caption="Hálózat tesztelése">
# <i>ping -c 3 www.yahoo.com</i>
</pre>

<p>
Amennyiben mûködik a
hálózat, a következő részt átugorhatod.
</p>

</body>
</section>
<section>
<title>PPPoE beállítás</title>
<body>

<p>
Ha neked PPPoE kell az
internetre csatlakozáshoz, megkönnyítheted a
dolgod a LiveCD-n található <c>rp-pppoe</c> használatával. A kapcsolatod
beállításához használd a mellékelt
<c>adsl-setup</c>scriptet. A script meg
fogja kérdezni, melyik ethernet eszközön keresztül csatlakozik az adsl
modem, a felhasználónevedet, jelszavadat, az szolgáltatód DNS
szerverének IP címét és hogy szükséged van-e egy alapszintû tûzfalra
vagy nem.
</p>

<pre caption="PPPoE beállítása">
# <i> adsl-setup </i>
# <i> adsl-start </i>
</pre>

<p>
Ha valami nem jól
mûködik, ellenőrizd, hogy jól gépelted-e be az
azonosítót és jelszót, az <path>/etc/ppp/pap-secrets</path> vagy az
<path>/etc/ppp/chap-secrets</path> fájlokban és bizonyosodj meg róla, hogy jó
ethernet eszközt használsz.
</p>

</body>
</section>

<section>
<title>A hálózat automatikus beállítása</title>
<body>

<p>
A hálózat beállításának
legegyszerûbb módja, ha nem lett
automatikusan beállítva, a <c>net-setup</c> script futtatása:
</p>

<pre caption="Net-Setup Script">
# <i>net-setup eth0</i>
</pre>

<p>
Persze, ha úgy jobban
tetszik, beállíthatod a hálózatot kézzel is.
Ezt nézzük most.
</p>

</body>
</section>
<section>
<title>Kézi DHCP konfiguráció</title>
<body>

<p>
A hálózat beállítása
egyszerû a DHCP használatával; Ha a
szolgáltatód nem használ DHCP-t, ugorj le a statikus konfiguráció
részhez.
</p>

<pre caption="Hálózat beállítása DHCP-vel">
# <i>dhcpcd eth0</i>
</pre>

<note>
Néhány ISP
(Internet Service Provider - Internetszolgáltató) kér hostnevet. Ha a
tied kér, akkor a fenti parancsot a
<c>-h hostnév</c> kapcsolóval
egészítsd ki.
</note>

<p>
Ha <e>dhcpConfig</e> figyelmeztetéseket kapsz, ne ess kétségbe, ezek a
hibák többnyire csak kozmetikaiak. Haladj lejjebb a hálózat tesztelése
részhez.
</p>

</body>
</section>
<section>
<title>Kézi statikus konfiguráció</title>
<body>

<p>
A telepítéshez
szükségünk van a hálózatra azért, hogy le tudjuk
tölteni a szükséges forrásokat, továbbá a hálózati interfészünk
alapvető információira. Ezekről az adatokról a következő táblázatban
olvashatsz.
</p>

<table>
<tcolumn width="1.25in"/>
<tcolumn width="4in"/>
<tcolumn width="1.25in"/>
<tr><th>Információ</th><th>Leírás</th><th>Példa érték</th></tr>
<tr><ti>IP cím</ti><ti>A hálózati kártyához rendelt IP cím</ti><ti>192.168.1.2</ti></tr>
<tr><ti>Broadcast cím</ti><ti>Az az IP cím, amely a hálózat minden gépére küldi a csomagokat</ti><ti>192.168.1.255</ti></tr>
<tr><ti>Alhálózati maszk</ti><ti>A maszk, amit az IP cím segítségével arra használunk, hogy megállapíthassuk, hogy egy cím melyik része azonosítja a hálózatot és melyik része azonosítja a gépet.</ti><ti>255.255.255.0</ti></tr>
<tr><ti>Átjáró</ti><ti>Annak a gépnek az IP címe, amelyik a helyi hálózaton kívülre továbbítja az adatcsomagokat (legtöbbször az internet felé)</ti><ti>192.168.1.1</ti></tr>
</table>

<p>
Használd
az ifconfig programot a hálózati információid beállítására, a következő példa alapján. Azonban cseréld ki az <c>$IFACE</c> szöveget a hálózati interfészed nevére (tipikusan <c>eth0</c>), <c>$IPNUM</c> -ot az
IP címedre, <c>$BCAST</c> -ot a broadcast címedre és <c>$NMASK</c>  -ot az alhálózati
maszkodra. A <c>route</c> parancsnál pedig cseréld ki a <c>$GTWAY</c> szöveget az
alapértelmezett átjáród IP címére.
</p>

<pre caption="Statikus IP beállítás">
# <i>ifconfig $IFACE $IPNUM broadcast $BCAST netmask $NMASK</i>
# <i>route add -net default gw $GTWAY netmask 0.0.0.0 metric 1 $IFACE</i>
</pre>

<p>
Most pedig itt az
ideje, hogy létrehozzuk az <path>/etc/resolv.conf</path> fájlt, hogy a névfeloldás rendben mûködjön (hogy az egyes gépneveket,
szolgáltatásokat név alapján is megkereshessünk, ne csak IP cím
alapján). Használhatod a <c>nano -w /etc/resolv.conf</c> parancsot, hogy létrehozd a fájlt. A <c>nano</c>egy
kicsi és egyszerû szövegszerkesztő.
</p>

<p>
Itt egy példa, hogyan
kell létrehozni az <path>/etc/resolv.conf</path> fájlt:
file:
</p>

<pre caption="/etc/resolv.conf sablon">
domain mydomain.com
nameserver 10.0.0.1
nameserver 10.0.0.2
</pre>

<p>
A <c>10.0.0.1</c> és <c>10.0.0.2</c> IP-ket helyettesítsd az elsődleges és
másodlagos DNS szervered IP címével.
</p>

</body>
</section>

<section>
<title>Proxy beállítások</title>
<body>

<p>
Ha proxy mögött vagy,
szükséges lehet beállítani azt, mielőtt
továbbhaladnánk. Ehhez néhány környezeti változót fogunk megadni.
</p>

<pre caption="Proxy beállítások">
<comment>Ha a proxy korlátozza a HTTP forgalmat:</comment>
# <i>export http_proxy="http://ide.jon.a.gepnev:1234"</i>
<comment>Ha a proxy korlátozza az FTP forgalmat:</comment>
# <i>export ftp_proxy="ftp://ide.jon.a.gepnev"</i>
<comment>Ha a proxy korlátozza az RSYNC forgalmat:</comment>
# <i>export RSYNC_PROXY="rsync://ide.jon.a.gepnev"</i>
</pre>

</body>
</section>

<section>
<title>A
hálózatod most már használatra kész!</title>
<body>

<p>
A hálózatnak már
konfiguráltnak és használhatónak kell lennie.
Mostantól kezdve tudod használni a mellékelt <c>ssh</c>, <c>scp</c>, <c>links</c>, <c>irssi</c> és <c>wget</c>
parancsokat, hogy más gépekhez csatlakozz LAN-on vagy
interneten
keresztül.
</p>

</body>
</section>
</chapter>

<chapter>
<title>A rendszeridő és
dátum beállítása</title>
<section>
<body>

<p>
Következőnek be kell
állítanod a rendszered óráját. Ezt a
<c>date</c> paranccsal teheted meg.
</p>

<pre caption="Rendszeróra beállítása">
# <i>date</i>
Thu Feb 27 09:04:42 CST 2003
<comment>(ha a dátum nem stimmel, használd a következő parancsot)</comment>
# <i>date 022709042003</i>
<comment>(date HHNNóóppÉÉÉÉ formátumban)</comment>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Fájlrendszerek,
partíciók és blokk eszközök</title>
<section>
<title>A blokk eszközök bemutatása</title>
<body>

<p>
Ebben a fejezetben
áttekintjük a Gentoo Linux és egyáltalán a Linux
lemez-orientált vonásait, beleértve a Linux fájlrendszereit, partícióit
és a blokk eszközöket. Aztán, amikor már ismered ezeket, átnézzük a
témába vágó lépéseket, amelyek szükségesek a Gentoo Linux
telepítéséhez.</p>

<p>
Kezdetnek nézzük a
"blokk eszközöket". Valószínûleg a legismertebb
blokk eszköz az, amelyik a legelső IDE meghajtót képviseli a
gépben:
</p>

<pre caption="/dev/hda1, az elsődleges mester IDE meghajtó">
/dev/hda
</pre>

<p>
Ha pedig SCSI
rendszered van, akkor pedig:
</p>

<pre caption="/dev/sda1, az
első logikai SCSI meghajtó">
/dev/sda
</pre>

<p>
A fenti blokk eszközök
egy absztrakt interfészt képviselnek a
lemezhez. A felhasználói programok ezeket a blokk eszközöket
használhatják a lemezzel való kommunikációra anélkül, hogy amiatt
kellene aggódnia, hogy a lemez IDE, SCSI vagy éppen valami más. A
program egyszerûen megcímzi a tárt a lemezen, mint egy folyamatos,
véletlen hozzáférésû 512 bájtos blokkot.
</p>

</body>
</section>
<section>
<title>Partíciók és az fdisk</title>
<body>

<p>
Linux alatt a
fájlrendszerek létrehozását az
<c>mkfs</c> (vagy <c>mke2fs</c>, <c>mkreiserfs</c>, stb.) paranccsal végezzük,
paraméternek a kiválasztott
blokk eszközt megadva.
</p>

<p>
Noha elméletileg
lehetséges az egész lemezt egyetlen blokk
eszközként használni (amely az <e>egész</e> lemezt képviseli), pl: <path>/dev/hda</path>
vagy <path>/dev/sda</path>, ami egyetlen fájlrendszernek ad otthont, ez azonban
szinte soha nem így történik a gyakorlatban. Inkább felosztják a teljes
blokk eszközt kisebb, könnyebben kezelhető részekre (ezeket hívják
partícióknak). Partíciókat az <c>fdisk</c> nevû eszközzel tudunk létrehozni. A
merevlemezen található partíciós tábla mutatja meg, hogyan is van a
lemez felosztva.
</p>

<p>
A lemez partíciós
tábláját az <c>fdisk</c>,
futtatásával tudjuk
megnézni, ahogy paraméternek az kívánt blokk eszköz nevét adjuk meg.
</p>

<note>
Léteznek
alternatív megoldások is az fdiskhez, pl: <c>cfdisk</c>,
<c>parted</c> és <c>partimage</c>. Azonban az <c>fdisk</c> használata ajánlott,
mivel ez a legismertebb a Unix/Linux világban, és a dokumentáció
hátralevő részében is ezzel fogunk foglalkozni.
</note>

<pre caption="Fdisk elindítása">
# <i>fdisk /dev/hda</i>
</pre>

<p>
vagy
</p>

<pre caption="Fdisk indítása SCSI rendszeren">
# <i>fdisk /dev/sda</i>
</pre>

<impo>
<e>Ne</e> állítsd át
olyan olyan lemez partíciós tábláját, amely
épp használatban van vagy fontos adatokat tartalmaz, ugyanis bizonyos
mûveletek adatvesztéssel járnak!
</impo>

<p>
Ha elindítottad az <c>fdisk</c>et , egy ilyen prompt fogad:
</p>

<pre caption="Az fdisk prompt">
Command (m for help): 
</pre>

<p>
Használd a <c>p</c> parancsot,
hogy kiírasd a lemezed aktuális partíciós
táblázatát.
</p>

<pre caption="Egy példa fdisk partíciós tábla">
Command (m for help): <i>p</i>

Disk /dev/hda: 240 heads, 63 sectors, 2184 cylinders
Units = cylinders of 15120 * 512 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda2            15        49    264600   82  Linux swap
/dev/hda3            50        70    158760   83  Linux
/dev/hda4            71      2184  15981840    5  Extended
/dev/hda5            71       209   1050808+  83  Linux
/dev/hda6           210       348   1050808+  83  Linux
/dev/hda7           349       626   2101648+  83  Linux
/dev/hda8           627       904   2101648+  83  Linux
/dev/hda9           905      2184   9676768+  83  Linux

Command (m for help): 
</pre>

<p>
A példában szereplő
lemez hét Linuxos fájlrendszert (Mindegyik egy
"Linux" partícióval) és egy swap partíciót tartalmaz ("Linux
swap").
</p>

<p>
Vedd észre, hogy a
partíciók nevei <path>/dev/hda1</path> -től egészen <path>/dev/hda9</path>-ig mennek. A PC korai napjaiban a partícionáló szoftverek csak maximum
négy partíciót (ezeket hívták primary vagy elsődleges partíciónak)
engedélyeztek. Ez túl kevés volt, így kialakult a <e>kiterjesztett
partícionálás (extended partitioning) </e>. A kiterjesztett (extended) partíció nagyon hasonló az
elsődlegeshez és beleszámít a maximum négy elsődleges partícióba.
Azonban, a kiterjesztett partíciók további tetszőleges számú,
úgynevezett <e>logikai</e>
partíciót hordozhatnak magukban, amivel kikerülhető
a négy partíciós korlát.
</p>

<p>
Azok a partíciók,
amelyek neve <path>/dev/hda5</path> illetve efölött, mind logikai
partíciók. A számok 1-től 4-ig le vannak foglalva az elsődleges vagy
kiterjesztett partícióknak.
</p>

<p>
Így a példánkban <path>/dev/hda1</path>-től <path>/dev/hda3</path>-ig szereplő
partíciók elsődlegesek. <path>/dev/hda4</path>kiterjesztett partíció, amely tartalmazza a logikai partíciókat <path>/dev/hda5</path>-től
<path>/dev/hda9</path>-ig. Közvetlenül sohasem fogod <e>használni</e> a
<path>/dev/hda4</path>-t, hanem ez fogja tárolni a logikai partíciókat (amik viszont már rendelkeznek saját fájlrendszerrel)
<path>/dev/hda5</path>-től <path>/dev/hda9</path>-ig.
</p>

<p>
Azt is vedd észre, hogy
minden partíciónak van egy ID-je, amit a
partíció típusának is hívnak. Ha létre akarsz hozni egy Linuxos
partíciót, annak a típusát '83'-ra kell állítani. A swap partíciók
típusa '82', a szoftveres RAID partícióké pedig 'fd'. A partíció
típusát a
<c>t</c>  opcióval állíthatod be az <c>fdisk</c> programban.  A Linux
kernel a partíciók típusát használja fel arra, hogy bootolás alatt
automatikusan felismerje a fájlrendszereket és a swap eszközöket a
lemezen.
</p>

</body>
</section>

<section>
<title>fdisk használata a partíciók beállítására</title>
<body>

<p>
Most, hogy megtörtént a
partícionálásba a bevezetőnk, ideje hogy
végre is hajtsd a Gentoo Linux telepítéséhez szükséges partícionálási
feladatokat. Miután befejezted, a partíciós tábládnak valami hasonlóan
kellene kinéznie:
</p>

<pre caption=" A partíciós konfiguráció amit el kell érned">
Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1   *         1        14    105808+  83  Linux
/dev/hda2            15        81    506520   82  Linux swap
/dev/hda3            82      3876  28690200   83  Linux

Command (m for help):
</pre>

<p>
Az ajánlott partíciós
beállításaink három partíciót tartalmaznak.
Az első (<path>/dev/hda1</path>) a lemez elején egy kis méretû szelet, a boot
partíció. Ennek az a célja, hogy a rendszertöltőhöz szükséges adatokat
tárolja, mint például a GRUB (vagy éppen Lilo) rendszertöltő
beállításait vagy épp a Linux kernelt. A boot partíció ezeknek a
védelmére szolgál. A mindennapi használat során a boot partíció nincs <e>mountolva</e> (csatlakoztatva)
a biztonság kedvéért. Ha SCSI rendszered van, a boot
partíciód valószínûleg <path>/dev/sda1</path>névre fog hallgatni.
</p>

<p>
Ajánlott, hogy legyen
külön boot
partíciód (Ami a rendszer elindításához szükséges dolgokat tartalmazza)
a
lemez elején. Ugyan már nem követelmény, de még mindig egy hasznos
tanács
azokból az időkből, amikor a lilo rendszertöltő nem tudta az 1024-ik
cylinder mögötti lemezekről betölteni a kernelt.
</p>

<p>
A második partíció (<path>/dev/hda2</path>) legyen a lapozó (swap) terület. A kernel a swap területet használja fel
virtuális memóriaként, ha a RAM kevésnek bizonyul. Ez a partíció is
viszonylag kicsi, tipikusan 512 MB körül van. SCSI rendszeren ezt <path>/dev/sda2</path>-nek fogják hívni.
</p>

<p>
A harmadik partíció (<path>/dev/hda3</path>) a
legnagyobb és a lemez maradék részét fogja felhasználni. Ez a partíció
lesz a "root" partíció, amelynek feladata a Gentoo Linux fő
fájlrendszerének
tárolása. SCSI rendszeren a neve: <path>/dev/sda3</path>.
</p>

<p>
Mielőtt felosztanánk a
lemezt, nézd
át a következő táblázatot az ajánlott partíció és fájlrendszer
konfigurációkról!
</p>

<table>
<tcolumn width="1.5in"/>
<tcolumn width="2.5in"/>
<tcolumn width="2.5in"/>
<tcolumn width="1in"/>
<tr>
 <th>Partíció</th>
 <th>Méret</th>
 <th>Típus</th>
 <th>Példa</th>
</tr>
<tr>
 <ti>boot
partíció (a kernelt és a bootoláshoz szükséges adatokat tárolja) </ti>
 <ti>32 MB</ti>
 <ti>ext2/3
ajánlott; ReiserFS elfogadott (a mountolás az <c>-o notail</c> paraméterrel
történjen). Naplózó FS esetén a napló méretét add hozzá a partíció
méretéhez, tehát minimum 64MB legyen</ti>
 <ti><path>/dev/hda1</path></ti>
</tr>
<tr>
 <ti>swap partíció (lapozó terület, már nincs a 128MB-s korlát)</ti>
 <ti>Ajánlott
a fizikai RAM méretének egy- és kétszerese között</ti>
 <ti>Linux swap</ti>
 <ti><path>/dev/hda2</path></ti>
</tr>
<tr>
 <ti>root partíció (/usr, /home, stb.)</ti>
 <ti>&gt;=1.5 GB</ti>
 <ti>ReiserFS, ext3 ajánlott; ext2 elfogadható</ti>
 <ti><path>/dev/hda3</path></ti>
</tr>
</table>

<p>
Oké, akkor most hozzuk
létre a példában
szereplő partíciókat. Először is, indítsd el az fdisket az <c>fdisk /dev/hda</c> vagy <c>fdisk /dev/sda</c>,
paranccsal, attól függően, hogy IDE vagy SCSI
rendszered
van. Ezután nyomj <c>p</c> -t, hogy megtekintsd az aktuális partíciós
konfigurációdat.
Van bármi is a lemezen, amit meg akarsz őrizni? Ha igen, <b>állj meg </b>és
mentsd
el őket. Ha az itt található utasítások szerint folytatod a telepítést,
a
lemezről <b>minden adat törlésre kerül.</b>
</p>

<impo>
Az itt leírt lépések követése a lemez
teljes tartalmának <b>törlésével</b>fog járni!  Ha bármi is marad a lemezen,
győződj meg róla, hogy az olyan információ, ami nem kell a
későbbiekben. Továbbá ellenőrizd, hogy a
<b>megfelelő meghajtót
választottad ki</b>, nehogy véletlenül rossz lemezről töröld az adatokat.
</impo>

<p>
Most pedig töröljük az összes létező partíciót. Ehhez nyomj <c>d</c> -t, majd üss Entert.
A program megkérdezi majd, hogy hányas számú partíciót
akarod törölni. Ha például törölni akarod a már létező <path>/dev/hda1</path> -t, írd be ezt:
</p>

<pre caption="Partíció törlése">
Command (m for help): <i>d</i>
Partition number (1-4): <i>1</i>
</pre>

<p>
Ezután a partíció be lesz jegyezve törlésre. Ugyan nem fog már
megjelenni, ha a <c>p</c> gombbal kilistázod a partíciókat, de addig nem fog
törlődni,
amíg el nem mented a változásokat. Így, ha hibát csinálsz, még ki tudsz
lépni
a <c>q</c> gombbal anélkül, hogy bármi kárt okoznál.
</p>

<p>
Tehát, mivel le akarod törölni az összes partíciót a lemezről, a <c>p</c> gombbal listázd a partíciókat, és mindegyiket töröld
a <c>d</c> gombbal, majd az utána
megadott sorszámával. Mire végzel, a partíciós táblád üres lesz,
valahogy így:
</p>

<pre caption="Egy üres partíciós tábla">
Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System

Command (m for help):
</pre>

<p>
Most hogy a memóriában már üres a partíciós tábla, ideje, hogy
létrehozzunk
egy boot partíciót. Ehhez nyomd le az <c>n</c> gombot (új partíció létrehozása), majd a
<c>p</c> gombot, amivel meg tudod mondani az fdisknek, hogy elsődleges
(primary)
partíciót akarsz. Ezután nyomj <c>1</c> -et, hogy létrehozd az első primary
partíciót.
Amikor a program az első cylindert kérdezi, nyomj Entert. Amikor pedig
az
utolsó cylindert kéri, írd be hogy <c>+32M</c> , ha egy 32MB méretû partíciót
akarsz létrehozni. Alul láthatod a kimenetet:
</p>

<note>
A naplózó fájlrendszereknek több
hely szükséges a naplóhoz, mint a nem naplózóknak. Az alap beállítások
körülbelül 33 megabyte lemezterületet követelnek.. Ezért ha a <path>boot</path>
partícióhoz naplózó fájlrendszert akarsz használni, az utolsó cylinderhez <c>+64M</c> -t írj.
</note>

<pre caption="Boot partíció létrehozása">
Command (m for help): <i>n</i>
Command action
e   extended
p   primary partition (1-4)
<i>p</i>
Partition number (1-4): <i>1</i>
First cylinder (1-3876, default 1): <comment>(Hit Enter)</comment>
Using default value 1
Last cylinder or +size or +sizeM or +sizeK (1-3876, default 3876): <i>+32M</i>
</pre>

<p>
Ez után, ha <c>p</c>-t nyomsz, a következőket láthatod:
</p>

<pre caption="Az első partíció kész!">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1          1        14    105808+  83  Linux
</pre>

<p>
Most hozzuk létre a swap partíciót! Nyomj <c>n</c>-t az új partíció
létrehozásához,
majd <c>p</c>-vel mondd meg az fdisknek, hogy elsődleges partíció lesz. Majd
nyomj egy <c>2</c>-t, hogy létrehozd a második primary partíciót, esetünkben
a
<path>/dev/hda2</path>-t. Amikor megkérdezi az első cylindert, nyomj entert, majd
az utolsó cylindernél <c>+512MB</c> -t írj be, ha mondjuk 512 megás lapozó
partíciót akarsz létrehozni. Miután ezzel megvagy, nyomj <c>t</c> -t a
partíció típusának beállításához, és írd be, hogy <c>82</c>. Ezzel a típust
'Linux Swap"-ra állítod. Miután megtetted ezeket a lépéseket, nyomj <c>p</c>-t
hogy ellenőrizd a partíciós tábládat, aminek hasonlóan kellene kinéznie:
</p>

<pre caption="A swap partíció
létrehozva!">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1          1        14    105808+  83  Linux
/dev/hda2         15        81    506520   82  Linux swap
</pre>

<p>
Végül hozzuk létre a root partíciót. Ezt az előzőekhez hasonló módon
teheted meg. Nyomnod kell <c>n</c> -t, az új partíció létrehozásához, <c>p</c> -vel
megmondod, hogy elődleges legyen, majd a <c>3</c>-mal azt, hogy a harmadik
legyen, esetünkben
<path>/dev/hda3</path>. Első cylindernek és ezúttal utolsó
cylindernek is nyomj entert, ezzel az összes maradék helyet odaadod a
root partíciónak. Ezek után ha <c>p</c> -t nyomsz a következőnek kell
látszania:
</p>

<pre caption="A root partíció is
kész!">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1          1        14    105808+  83  Linux
/dev/hda2         15        81    506520   82  Linux swap
/dev/hda3         82      3876  28690200   83  Linux
</pre>

<p>
Végül már csak a "bootable" (bootolható, indítható) flaget kell
beállítani a boot partícióra és elmenteni a változásokat. Nyomj <c>a</c> -t a
menüben és írj be egy <c>1</c> -t a partíció számához. Ezzel az fdisk
bootolhatóvá teszi a /dev/hda1 -et. Ha most nyomsz egy <c>p</c>-t, láthatod,
hogy a <path>/dev/hda1</path> mellett van egy
<c>*</c> is, ami azt jelenti, hogy ez a
partíció képes indítani a Linuxodat. Nyomj <c>w</c> -t, ami utasítja az
fdisket, hogy írja ki a változásokat a lemezre. Ha kész, a lemezed jól
be van partícionálva a Gentoo Linux telepítéséhez.
</p>

<note>
Ha az <c>fdisk</c> vagy a <c>cfdisk</c> arra utasít, akkor indítsd újra a gépedet, hogy a rendszer
felismerje az új partíciós táblát.
</note>

</body>
</section>

<section>
<title>Fájlrendszerek létrehozása</title>
<body>

<p>
Most, hogy megvannak a partícióink, ideje fájlrendszert tenni a boot és
a root partíciókra, így lehet őket mountolni (csatlakoztatni) és
adattárolásra használni. Persze a lapozóterületet is be fogjuk
állítani.
</p>

<p>
A Gentoo Linux fájlrendszerek széles körét támogatja. Mindnek megvan a
maga erőssége, gyengesége és a teljesítményére jellemző tulajdonsága.
Jelen pillanatban ext2, ext3, XFJ, JFS és ReiserFS használata
támogatott.
</p>

<p>
Az ext2 a jól bevált Linuxos fájlrendszert, de nem támogatja az ún.
'metadata journaling' -ot, azaz nem naplózó fs (fs - file system,
fájlrendszer). Ez miatt a rendszer indulásakori ellenőrzés igen
időigényes lehet. Most már elég sok újabb,
<e>naplózó</e> rendszer létezik, ami
nagyon gyorsan ellenőrzi a lemezt és általában ezeket helyezik előtérbe
a nem naplózókkal szemben. A naplózó rendszere segítik megelőzni a
hosszú várakozást, amikor elindítod a géped és a fájlrendszer <e>ellenőrzésre szorul</e>.
</p>

<p>
Az ext3 az ext2 naplózó változata, metadata journalinggal és egyéb
naplózó funkciókkal például a teljes adat és a rendezett adat szerinti
naplózás. Az ext3 egy nagyon jó és megbízható fs. Elfogadható
teljesítményt nyújt a legtöbb esetben. Mivel nem alkalmazza a "faszerkezet"
használatát a belső felépítésében, nem túl jól skálázható, tehát nem a
legjobb választás nagyon nagy fájlrendszernek vagy olyan helyzetekben,
amikor nagyon nagy fájlokat vagy sok fájlt egy könyvtárban kell
kezelni. Azonban normál esetben az ext3 kitûnően teljesít.
</p>

<p>
A ReiserFS egy B*-fa alapú fájlrendszer, nagyon jó általános
teljesítménnyel és ha kis fájlokkal kell dolgozni (4k -nál kisebbekkel)
többszörösen (akár tíz- tizenötszörösen is) túlteljesíti mind az ext2
-t és az ext3 -t. A ReiserFS rendkívül jól skálázható és naplózó is. A
2.4.18 és az utáni kernelekben levő Reiser támogatás sziklaszilárd és
erősen ajánlott mind általános használatra, mind pedig extrémebb
helyzetekben, ahol sok kicsi vagy hatalmas fájlokkal (akár több
tízezerrel egy könyvtárban) kell dolgozni. A ReiserFS az ajánlott
választás a nem-boot partíciókra.
</p>

<p>
Az XFS egy naplózó fájlrendszer, amelyet azonban a Gentoo Linuxban az <c>xfs-sources</c> kernel támogat teljesen. Sok előnye van és a
skálázhatóságra lett kialakítva. Azonban csak jobb szünetmentes
tápegységgel ellátott SCSI rendszerekre ajánlott, mivel az XFS agresszíven gyorstárazza (cacheli) az átvitel alatt levő adatot a
RAM-ba, aminek következményeként a helytelenül tervezett programok
(amik nem vesznek figyelembe bizonyos követelményeket amikor a fájlokat
lemezre írják) adatvesztést okozhatnak, ha a rendszer váratlanul áll
le.
</p>

<p>
A JFS az IBM nagy teljesítményû naplózó fájlrendszere. Csak mostanában
lett kész széles körû használatra és egyenlőre nincs elég tapasztalat
róla, hogy akár pozitívan akár negatívan értékelni lehessen az
általános stabilitását.
</p>

<p>
Ha a legismertebb naplózó fájlrendszert akarod használni, használd az
ext3 -at. Ha egy jó általános célú nagy teljesítményû kell, használd a
ReiserFS-t. Mindkettő átfontolt és kiforrott.
</p>

<p>
A fenti példát alapul véve a következő parancsokkal beállítjuk a
partícióinkat:
</p>

<pre caption="Partíciók
beállítása (példa)">
# <i>mke2fs -j /dev/hda1</i>
# <i>mkswap /dev/hda2</i>
# <i>mkreiserfs /dev/hda3</i>
</pre>

<p>
Ext3-at választottunk a <path>/dev/hda1</path> boot partícióra mert ezt a naplózó
fájlrendszert az összes főbb rendszertöltő támogatja.
<c>mkswap</c>-ot
használtunk a <path>/dev/hda2</path> swap partíció beállítására, ez itt egyértelmû. Végül a fő
fájlrendszerhez a <path>/dev/hda3</path> -on  ReiserFS-t választottunk, mert ez egy stabil naplózó
fájlrendszer, nagyszerû teljesítménnyel. Most pedig tedd meg ezt te is.
</p>

<p>
A következőkben olvashatod a különféle <c>mkfs</c> parancsokat, amiket a
telepítés alatt használhatsz.
</p>

<p>
<c>mkswap</c> a lapozóterületek beállításáért felelős:
</p>

<pre caption="Lapozóterület
beállítása">
# <i>mkswap /dev/hda2</i>
</pre>

<p>
Használhatod az <c>mke2fs</c> parancsot az ext2 fájlrendszer létrehozásához:
</p>

<pre caption="ext2 fájlrendszer
létrehozása">
# <i>mke2fs /dev/hda1</i>
</pre>

<p>
Ha ext3-at szeretnél, az
<c>mke2fs -j</c>:
</p>

<pre caption="Creating an ext3 Filesystem">
# <i>mke2fs -j /dev/hda3</i> paranccsal tudod elérni:
</pre>

<note>
Ha érdekel, hogy használhatod még az ext3-at Linux 2.4 alatt, nézd meg ezt:
<uri>http://www.zip.com.au/~akpm/linux/ext3/ext3-usage.html</uri>.
</note>

<p>
ReiserFS létrehozásához használd az <c>mkreiserfs</c> parancsot:
</p>

<pre caption="ReiserFS létrehozása">
# <i>mkreiserfs /dev/hda3</i>
</pre>

<p>
XFS létrehozásához használd az <c>mkfs.xfs</c> parancsot:
</p>

<pre caption="XFS létrehozása">
# <i>mkfs.xfs /dev/hda3</i>
</pre>

<note>
Érdemes még néhány
kiegészítést tenni az <c>mkfs.xfs</c>
parancshoz. A <c>-d agcount=3 -l size=32m</c>. paraméterrel lecsökkentheted a lefoglalási csoportok számát.
Az XFS-nek jó, ha 4 gigabájt lemezterület után legalább 1 lefoglalási
csoportot használhat, például, ha van egy 20 GB-s partíció, akkor az
agcount legyen minimum 5. Az
<c>-l size=32m</c> paraméter megnöveli a napló
méretét 32 megabájtra, ami teljesítménynövekedéssel jár.
</note>

<p>
JFS fájlrendszer létrehozásához használd az <c>mkfs.jfs</c> parancsot:
</p>

<pre caption="JFS létrehozása">
# <i>mkfs.jfs /dev/hda3</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Partíciók csatlakoztatása (mountolása)</title>
<section>
<body>

<p>
Most pedig aktiválni fogjuk a frissen létrehozott lapozóterületünket,
mivel szükségünk lesz arra a virtuális memóriára később, amit ez nyújt:
</p>

<pre caption="Swap aktiválása">
# <i>swapon /dev/hda2</i>
</pre>

<p>
Következő lépésként létrehozzuk az <path>/mnt/gentoo/boot</path> mount pontot és
csatlakoztatni fogjuk a létrehozott fájlrendszereinket. Ha majd a boot
és a root fájlrendszereket csatlakoztattad, minden fájl, amit a
<path>/mnt/gentoo</path> könyvtárban hozol létre vagy oda másolsz, az új
fájlrendszerekre fog kerülni. Vigyázz arra, hogy ha külön partíciót
akarsz használni az
<path>/usr</path> vagy <path>/var</path> könyvtáraknak, akkor ezeket a
<path>/mnt/gentoo/usr</path> és <path>/mnt/gentoo/var</path> -ba csatlakoztasd.
</p>

<impo>
Ha a <path>/boot</path> partíciód
(Ami a kernelt is tárolja) ReiserFS fájlrendszerû, akkor az <c>-o notail</c> opcióval mountold, hogy a GRUB hiba nélkül kerüljön telepítésre. Ha még
nincs beleírva, akkor írd be az
<path>/etc/fstab</path> -ba a boot partícióhoz a <c>notail</c> opciót is. Ha LILO -t használsz ReiserFS-sel, akkor az <c>-o notail</c>
nem szükséges, de mindig az a biztonságos, ha megadod, ha ReiserFS-sel
dolgozol.
</impo>

<pre caption="Mount pontok
létrehozása">
# <i>mount /dev/hda3 /mnt/gentoo</i>
# <i>mkdir /mnt/gentoo/boot</i>
# <i>mount /dev/hda1 /mnt/gentoo/boot</i>
</pre>

<impo>
ha bármilyen problémát
van az ext2-es boot partíció csatlakoztatására, használd a
<c>mount /dev/hXX /mnt/gentoo/boot -t ext2</c> parancsot.
</impo>

</body>
</section>
</chapter>


<chapter>
<title>Stage tarballok és chroot</title>
<section>
<title>A kívánt stage tarball kiválasztása</title>
<body>

<p>

Most el kell döntened melyiket akarod használni a telepítésed alapjául.
A stagek a <path>/mnt/cdrom/stages/</path> könyvtárban vannak a CD-n és az <c>ls
/mnt/cdrom/stages/</c>paranccsal tudod megnézni, hogy a te CD-den éppen
melyik(ek) van(nak).
</p>

<p>
Aki <b>GRP telepítést</b> akar, az használja a <path>stage3-xx-yy.tar.bz2</path> csomagot.
</p>

<p>
Ha olyan stage tarballt akarsz telepíteni, ami
<e>nincs</e> a CD-den (ami a
"basic" LiveCD esetében fordulhat elő), azt is meg lehet oldani, de le
kell töltened azt a staget, amelyiket használni akarsz. Ha már megvan
(és ez a valószínûbb), lépj előre a "stage tarball kitömörítése"
fejezethez.
</p>

<note>
Ha proxyt akarsz használni (mondjuk a proxy.server.tld:8080 -t), tedd a lenti <c>links</c> parancshoz a
<c>-http-proxy proxy.server.tld:8080</c> kiegészítést.
</note>

<pre caption="A szükséges stagek
letöltése">
# <i>cd /mnt/gentoo</i>
<comment>Használj lynx -t, hogy megtudd a tarballod URL-jét (internet címét):</comment>
# <i>links http://gentoo.oregonstate.edu/releases/x86/1.4/</i>
<comment>A <c>fel</c> és <c>le</c> nyilakkal (vagy a <c>TAB</c> gombbal) tudsz a kívánt könyvtárba eljutni.
Jelöld ki a kívánt staget, amit le akarsz tölteni.
Nyomj <c>d</c> -t a letöltés megkezdéséhez.
Mentsd el a fájlt és lépj ki a böngészőből.

<b>VAGY</b> használhatod a wget programot is, ha tudod a címet:</comment>
# <i>wget </i><comment>(ide írd a tarballod URL-jét)</comment>
</pre>

</body>
</section>
<section>
<title>A stage tarball kitömörítése</title>
<body>

<p>
Most ki kell tömörítened a választott stage tarballt az
<path>/mnt/gentoo/</path>könyvtárba. Ne felejtsd el, hogy csak <b>egyet</b>kell, akár a stage1,
stage2 vagy a stage3 -at. Tehát, ha például stage3 telepítést akarsz
csinálni, csak a stage3 tarballt tömörítsd ki, a követketőképpen:
</p>

<impo>
ne maradjon le a <c>p</c> kapcsoló a <c>tar</c> paraméterei közül, mert bizonyos fájlok nem a megfelelő
jogosultságokkal lesznek kitömörítve.
</impo>

<pre caption="A stage kitömörítése">
# <i>cd /mnt/gentoo</i>
<comment>A "stage3" szöveget cseréld "stage2" vagy "stage1" -re, ha azokkal akarsz dolgozni.</comment>
<comment>Ha letöltötted a tarballodat, akkor az elérési útnak "/mnt/gentoo/"
-t adj meg a "/mnt/cdrom/stages/" helyett.</comment>
# <i>tar -xvjpf /mnt/cdrom/stages/stage3-*.tar.bz2</i>
</pre>

<p>
Ha a tarballodat letöltötted, most már letörölheted, ha akarod az <c>rm /mnt/gentoo/stage*.tar.bz2</c> paranccsal.
</p>

</body>
</section>

<section>
<title>Teendők a GRP -hez.</title>
<body>

<impo>
ezt a fejezetet csak a GRP felhasználóknak írtuk. Ha nem GRP telepítést csinálsz,
ugorj a Tükörszerver kiválasztása" részhez.
</impo>

<p>
<b>GRP felhasználók</b>: Van egy Portage pillanatkép (snapshot, fájl vagy
fájlok, ami egy program, adatbázis, project aktuális állapotát mutatja)
a LiveCD-n. Ezt kell használnod, így később átugorhatod majd az <c>emerge sync</c> lépést. Azért lett ez így megoldva, mert az
<c>emerge sync</c> parancshoz internet elérés lenne szükséges. Tömörítsd ki a snapshotot a
következőképpen:
</p>

<pre caption="Portage snapshot
kitömörítése">
<comment>Az ééééhhnn -t helyettesítsd a fájlnévben szereplő dátummal.</comment>
# <i>tar -xvjf /mnt/cdrom/snapshots/portage-ééééhhnn.tar.bz2 -C /mnt/gentoo/usr</i>
</pre>

<p>
Ez ki fogja tömöríteni a Portage fa pillanatképét a friss Gentoo
telepítésedre. Így már nincs szükség internetkapcsolatra és <c>emerge
sync</c>-re a Portage fa letöltéséhez. Most másold át a distfiles-t (Az a
könyvtár, amely a telepítéshez szükséges csomagok forráskódjait
tartalmazza) és a csomagokat a LiveCD-ről a helyükre:
</p>

<pre caption="A GRP fájlok másolása">
# <i>cp -R /mnt/cdrom/distfiles /mnt/gentoo/usr/portage/distfiles</i>
# <i>cp -a /mnt/cdrom/packages /mnt/gentoo/usr/portage/packages</i>
</pre>

<p>
Minden szükséges fájl a helyén van már a GRP használatához. Minden át
lett másolva és kitömörítve, ami a Gentoo Linux telepítéséhez kell --
még hálózati kapcsolat nélkül is.
</p>

</body>
</section>

<section>
<title>Tükör kiválasztása (Nem kötelező)</title>
<body>

<p>
A <c>mirrorselect</c>olyan eszköz, amely arra lett kitalálva, hogy automatikusan
megkeresse a számodra leggyorsabban elérhető tükörszervert vagy kézzel
választhass egy listából.
Sajnos a <c>mirrorselect</c> nem mûködik minden router mögött.
</p>

<pre caption="A mirrorselect
használata">
<comment>Automatikus kiválasztáshoz:</comment>
# <i>mirrorselect -a -s4 -o &gt;&gt; /mnt/gentoo/etc/make.conf</i>
<comment>Kézi kiválasztáshoz:</comment>
# <i>mirrorselect -i -o &gt;&gt; /mnt/gentoo/etc/make.conf</i>
</pre>

<p>
Ha bármi miatt nem sikerülne a <c>mirrorselect</c> használata, nyugodtan
továbbléphetsz, mert nem történt semmi változás.
</p>

</body>
</section>
<section>
<title>Belépés a chrootba</title>
<body>

<p>
Most a <c>chroot</c> (ez egy olyan eszköz, amellyel megváltoztathatod a
használt fájlrendszered gyökérkönyvtárát) segítségével "belépsz" az új
Gentoo Linux rendszeredbe:
</p>

<note>
Az <c>env-update</c> parancs kiadásakor kaphatsz üzenetet, hogy az
<path>/etc/make.profile/make.defaults</path>nem elérhető. Ezt nyugodtan figyelmen
kívül hagyhatod, később le kell majd futtatni az <c>emerge sync</c> parancsot,
ami megoldja ezt a problémát.
</note>

<pre caption="A chroot környezet
előkészítése, majd belépés">
# <i>mount -t proc proc /mnt/gentoo/proc</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update</i>
Regenerating /etc/ld.so.cache...
# <i>source /etc/profile</i>
<comment>(A fenti parancs mutatja a shellednek az új elérési utakat és binárisokat)</comment>
</pre>

<p>
Miután ezekkel végeztél, már az új Gentoo Linuxod "belsejében" vagy, az <path>/mnt/gentoo</path>könyvtárban. A telepítési folyamat többi része már a
chrooton belül fog történni.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Az aktuális Portage fa letöltése sync használatával</title>
<section>
<body>

<impo>
Ha GRP telepítést
csinálsz, átugorhatod ezt a fejezetet!
</impo>

<p>
Le kell futtatnod az <c>emerge sync</c>parancsot. Ez a parancs utasítja a
Portaget, hogy töltse le a legfrissebb másolatát a Gentoo Linux Portage
fájának az Internetről. Ha a <e>CD 1</e>-ről már korábban kitömörítetted a
Portage fa pillanatképét, nyugodtan átugorhatod ezt a lépést. A Portage
fa tartalmazza azokat a scripteket, amelyek minden program csomag
telepítését végzik a Gentoo Linuxban (ezeket a scripteket hívják
ebuildeknek). Jelenleg több mint 4000 csomaghoz vannak ebuildek. Ha az <c>emerge sync</c>
 lefutott, a teljes Portage fát megtalálod az
<path>/usr/portage</path> könyvtárban.:
</p>

<pre caption="Frissítés sync-cel">
# <i>emerge sync</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Gentoo optimalizációk beállítása (make.conf)</title>
<section>
<body>

<p>
Most, hogy van a Portage fáról egy mûködő másolatod, ideje beállítani a
különböző optimalizációkat és a választható fordításidejû
lehetőségeket, amiket a Gentoo Linuxodban használni akarsz.. A Portage
ezeket a beállításokat fogja használni minden program fordításakor.
Ehhez csak szerkesztened kell az  <path>/etc/make.conf</path>-ot. Ebben a fájlban
érdemes beállítanod a USE flageket, amelyek kiegészítő funkciókat
jelölnek, amiket a programodban használni akarsz, ha lehetséges.
Általában az alap beállítások kitûnően megteszik. További információt
<uri link="http://www.gentoo.org/doc/hu/use-howto.xml">itt</uri>, teljes listát pedig <uri
link="http://www.gentoo.org/dyn/use-index.xml"> itt</uri> találhatsz a USE flagekről.
</p>

<p>
Ha stage1-ről indultál, érdemes beállítani a CHOST, CFLAGS és CXXFLAGS
beállításokat a rendszeredhez (magyarázatokkal ellátott példákat
lejjebb találhatsz). Ha stage2 vagy stage3-ről telepítesz, ezek a
beállítások már megtörténtek és nem igényelnek további módosításokat.
</p>

<warn>
<b>Tapasztalt felhasználóknak:</b> Ha azt tervezed, hogy
ACCEPT_KEYWORDS="~x86"használatával telepíted a Gentoot, addig ne állítsd be az ACCEPT_KEYWORDS értékét, amíg
a bootstrap fázis le nem futott.
</warn>

<impo>
<b>Tapasztalt felhasználóknak:</b> A CFLAGS és CXXFLAGS beállítások arra szolgálnak, hogy
megmondják a C és C++ fordítónak, hogyan optimalizálják a kódot a
fordítás során. Például az Athlon XP processzorral rendelkezőknek
ajánlott a "-march=athlon-xp" beállítást hozzátenni a CFLAGS és
CXXFLAGS -be így minden csomag annak a processzornak az
utasításkészletére és egyéb tulajdonságaira lesz fordítva. Az <path>/etc/make.conf</path>
 fájl tartalmaz a megjegyzéseiben egy rövid leírást a
CFLAGS és CXXFLAGS helyes beállításairól.
</impo>

<!-- needs qa
<note>
<b>Tapasztalt felhasználóknak:</b>If you are building from a stage1 and don't want
to manually configure CFLAGS and CXXFLAGS, you can use the <c>genflags</c>
utility, which will try to guess accurate flags for your CPU architecture..
Simply type <c>emerge -O genflags</c> and then execute
<c>info2flags</c>. <c>info2flags</c> will suggest CHOST, CFLAGS and
CXXFLAGS settings, which you can then add to
<path>/etc/make.conf</path>.
</note>
-->

<p>
Ha szükséges, itt beállíthatod a proxy információidat is, amennyiben
tûzfal mögött vagy. A következő paranccsal beletúrhatsz az <path>/etc/make.conf</path>
-ba a <c>nano</c> segítségével:
</p>

<pre caption="make.conf beállítása">
# <i>nano -w /etc/make.conf</i>
</pre>

<note>
<b>Tapasztalt felhasználóknak:</b> Azoknak, akik részletesebben akarnak foglalkozni a
fordítással, érdemes betekinteni az <path>/etc/make.globals</path> fájlba. Ez a
fájl nyújtja a Gentoo alapértelmezett beállításait és nem ajánlott
módosítani. Ha ezek nem lennének megfelelőek, az új értékeket az <path>/etc/make.conf</path>,
-ba tedd, mivel a <path>make.conf</path> értékei  <e>felülbírálják</e> a
<path>make.globals</path> értékeit. Ha érdekelnek a USE beállítások, nézd meg az <path>/etc/make.profile/make.defaults</path> fájlt.
Ha például ki akarod kapcsolni az <c>izebize</c> USE flaget (természetesen ilyen nem létezik), akkor a
<c>USE="-foo"</c> -t írd a <path>/etc/make.conf</path>-bat, ahelyett, hogy
az <path>/etc/make.globals</path>-t vagy az
<path>/etc/make.profile/make.defaults</path> -ot
módosítanád.
</note>

<warn>
A stage1 elhagyásáig
NE használd a '<c>static</c>' USE változót.
</warn>

</body>
</section>
</chapter>

<chapter>
<title>Indulás stage1-ről</title>
<section>
<body>

<note>
ha nem stage1
telepítést csinálsz, ugord át ezt a fejezetet.
</note>

<p>
A stage1 tarball a teljes testreszabást és optimalizációt szolgálja. Ha
ezt a tarballt választottad, valószínûleg egy überoptimalizált és friss
rendszert szeretnél. Jó szórakozást! A stage1-ről indított telepítés
sok időt vesz igénybe, de az eredmény egy olyan rendszer lesz, ami pont
a te gépedre lett alkotva.
</p>

<p>
Most ideje elkezdeni a 'bootstrap' lépést. Ez a folyamat körülbelül 2
órát vesz igénybe egy 1,2Ghz-s AMD Athlon rendszeren (150 perc volt az
1Ghz-s AMD Duron gépemen). Ez alatt lefordul a GNU C könyvtár, a
fordító csomag és még más fontos program. Indítsd el a bootstrapot:
</p>

<pre caption="Bootstrap">
# <i>cd /usr/portage</i>
# <i>scripts/bootstrap.sh</i>
</pre>

<p>
Ezzel megkezdődik a "bootstrap" folyamat.
</p>

<note>
a <c>bootstrap.sh</c> már
támogatja a <c>--fetchonly</c> opciót, ami mindössze annyit tesz, hogy letölti
a szükséges fájlokat, így nem kell feleslegesen kapcsolódni az
internetre. További információkért használd a <c>bootstrap.sh -h</c> parancsot.
</note>

<note>
A Portage
alapértelmezetten a <path>/var/tmp</path> könyvtárat használja a csomagok
fordítására, gyakran több száz megabájtot. Ha meg akarod változtatni,
hol tárolja a Portage ezeket az ideiglenes fájlokat, állítsd be a
PORTAGE_TMPDIR változót még fordítás <e>előtt</e> a követketőképpen:
<pre caption="Az ideiglenes fájlok
elérési útjának megváltoztatása">
# <i>export PORTAGE_TMPDIR="/egyebkonyvtar/tmp"</i>
</pre>
</note>

<p>
A <c>bootstrap.sh</c> lefordítja a következő csomagokat: <c>binutils</c>, <c>gcc</c>, <c>gettext</c>,
és <c>glibc</c>, majd újrafordítja a <c>gettext</c> -et a <c>glibc</c> után. Mondani sem
kell talán, hogy ez sokáig fog tartani. Ha ezzel végez a gép, a
rendszered egyenértékû lesz egy 'stage2' rendszerrel, ami azt jelenti,
hogy folytathatod a telepítést a stage2 fejezettől.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Indulás stage2-ről és a stage1 folytatása</title>
<section>
<body>

<note>
Ez a fejezet azoknak
van írva, akik stage1-ről folytatják vagy stage2-ről kezdik a Gentoo
Linux telepítését. Ha stage3-ról csinálod, ugord át ezt a fejezetet.
</note>

<warn>
Ha stage2-ről indulsz,
ne változtasd meg a CHOST változót az
<path>/etc/make.conf</path>-ban, mert az
hibákat okozhat fordítás közben.
</warn>
		
<p>
A stage2 tarball esetén már nem kell foglalkozni a bootstrap.sh -val,
már lefuttatták neked. Már csak az az utáni dolgokkal kell foglalkoznod.:
</p>

<note>
Ha egy korábban
elkészített stage2-ről indulsz és biztos akarsz lenne abban, hogy a
fordító csomag a legfrissebb, az alábbi parancshoz add a <c>-u</c>
paramétert.
Ha nem tudod, ez mit jelent, nyugodtan hagyd figyelmen kívül.
</note>

<pre caption="A rendszer többi
részének telepítése">
# <i>emerge -p system</i>
<comment>(ez kilistázza, mely csomagokat kell frissíteni)</comment>
# <i>emerge system</i>
</pre>

<p>
Jó sokáig fog tartani, amíg lefordul az egész rendszer. Az előnye a
nagyobb optimalizáltság lesz. A hátránya pedig az, hogy addig is el
kell foglalnod magad. Mondjuk olvasd el a Gyûrûk Urát.
</p>

<p>
Ha ezzel kész van, a rendszeredre majdnem minden fontos program
felkerült, most elkezdjük a beállításokat.
</p>

</body>
</section>
</chapter>


<chapter>
<title>Indulás stage3-ról.</title>
<section>
<body>

<note>
Ez a fejezet azoknak
szól, akik stage3-ról <b>indulnak</b>, nem azoknak, akik stage1-ről vagy
stage2-ről folytatják a telepítést. A GRP felhasználók is átugorhatják.
</note>

<warn>
Ne felejtsd el, hogy
ha stage3-ról indultál, ne változtasd meg a CHOST változót az
<path>/etc/make.conf</path>-ban, mert fordítási hibát eredményez.
</warn>

<p>
A stage3 tarball egy teljesen előre fordított Gentoo Linux
alaprendszert tartalmaz, így nem kell hozzá magadnak fordítani.
</p>
	 
<note>
<b>Tapasztalt felhasználóknak:</b> mivel a stage3 tarball előrefordított, lehetséges,
hogy kicsit régebbi programokat tartalmaz. Ha ez neked gondot okoz,
automatikusan frissítheted a már meglevő stage3-adat a legfrissebb
csomagokra a következőképpen (persze csak miutan csináltál egy biztonsági másolatot az
<path>/etc/make.conf</path>-ról):<c>export CONFIG_PROTECT="-*"
emerge -u system</c>(Ez azonban
internethozzáférést igényel). Ez sokáig eltarthat, ha a stage3-ad már
nagyon régi, egyébként általában gyorsan végrehajtódik és máris
tartalmazza a legújabb frissítéseket és javításokat. Akárhogy is
döntesz, ezt nem kötelező megcsinálni, továbbléphetsz a következő
fejezetre.
</note>
		
</body>
</section>
</chapter>


<chapter>
<title>Időzóna beállítása</title>
<section>
<body>

<p>
Most be kell állítanod az időzónádat..
</p>

<p>
Nézz bele az <path>/usr/share/zoneinfo</path>könyvtárba és keresd meg azt a fájlt,
amelyik legjobban leírja az időzónát, amiben vagy. Ezután rendelj hozzá
egy szimbolikus linket
<path>/etc/localtime</path> néven:
</p>

<pre caption="Szimbolikus link
létrehozása az időzóna beállításához">
# <i>ln -sf /usr/share/zoneinfo/path/to/timezonefile /etc/localtime</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Az /etc/fstab beállítása</title>
<section>
<body>

<impo>
 a fájlok szerkesztéséhez
használd a <c>nano -w "fajlnev"</c> parancsot.
</impo>

<p>
A Gentoo Linuxod már majdnem használatra kész. Már csak néhány fontos
rendszer fájlt kell beállítanod és telepíteni egy rendszertöltőt. Kezdd
az <path>/etc/fstab</path> beállításával. Ne felejtsd el, hogy ha a boot partíciód
ReiserFS, akkor a <c>notail</c> opcióval jegyezd fstabba. Ne felejtsd el
továbbá az
<c>ext2</c>, <c>ext3</c> vagy  <c>reiserfs</c> -t megadni a fájlrendszer
típusának.
</p>

<warn>
Az <path>/etc/fstab</path>-nakehhez hasonlóan kell kinéznie, persze a "BOOT", "ROOT",
"SWAP" szövegeket cseréld le azoknak a blokk eszközöknek a nevére,
amiket használsz (például <c>hda1</c>) stb:
</warn>

<pre caption="fstab szerkesztése">
<comment># /etc/fstab: static file system information.
#
# noatime turns off atimes for increased performance (atimes normally aren't
# needed; notail increases performance of ReiserFS (at the expense of storage
# efficiency).  It is safe to drop the noatime options if you want and to 
# switch between notail and tail freely.

# &lt;fs&gt;           &lt;mount point&gt;   &lt;type&gt;   &lt;opts&gt;          &lt;dump/pass&gt;

# NOTE: If your BOOT partition is ReiserFS, add the notail option to opts..
</comment>
/dev/BOOT           /boot       ext2	 noauto,noatime	 1 2
/dev/ROOT           /           ext3	 noatime         0 1
/dev/SWAP           none        swap	 sw              0 0
/dev/cdroms/cdrom0  /mnt/cdrom  iso9660	 noauto,ro       0 0
proc                /proc       proc	 defaults        0 0
</pre>

<note>
<p>
Egy kis magyarázat: Amint
láthatod, az fstab hozzávetőlegesen egy táblázat.. Minden sor egy
csatlakoztatni kívánt partíciót/eszközt jelent, és minden oszlop pedig
azoknak egy tulajdonsága.
</p>
<p>
Az első oszlop tartalmazza a blokk eszköz pontos nevét, amit
csatlakoztatni akarsz. Vegyünk például egy boot partíciót, ami a
primary master merevlemez legelső partíciója. Ebben az esetben az első
oszlopba a /dev/hda1 szöveg kerül. A /dev/ mindenképpen kötelező blokk
eszköz esetén. A 'hd' előtag (HDa1) mutatja hogy IDE merevlemezről van
szó. SCSI rendszeren ez 'sd' lesz. Az 'a' betû arra utal, hogy a
partíció a primary master (tehát a legelső) meghajtón van. IDE
meghajtók esetében az 'a' primary mastert jelöl, a 'b' primary slavet,
a 'c' secondary mastert, a 'd' pedig 'secondary slavet'. A név végén
álló sorszám pedig az adott meghajtón levő partíció sorszáma, amely
1-től kezdődik.
</p>
<p>
A második oszlop tartalmazza a partíció csatolási pontját. Az előző
példánknál maradva ez /boot lesz, mert a fájlrendszer
gyökérkönyvtárában levő boot könyvtárba akarjuk csatlakoztatni.
</p>
<p>
A harmadik oszlop tartalmazza a partíció fájlrendszerét. Jelenleg ez a
következők lehetnek: adfs, affs, autofs, coda, coherent, cramfs,
devpts, efs, ext2, ext3, hfs, hpfs, iso9660, jfs, minix, msdos, ncpfs,
nfs, ntfs, proc, qnx4, reiserfs, romfs, smbfs, sysv, tmpfs, udf, ufs,
umsdos, vfat, xenix és xfs.
</p>
<p>
A negyedik oszlop a csatlakoztatás paramétereit tartalmazza, egymástól
vesszővel elválasztva. A noatime paraméter némi teljesítménynövekedést
eredményez. A notail ReiserFS esetén nyújt sebességnövekedést, a
tárolókapacitás hátrányára. További paramétereket a mount man oldalain
találhatsz.
</p>
<p>
Az ötödik oszlop mutatja, hogy a partícióra érvényes legyen-e a dump
parancs. Ha nincs megadva az ötödik mező, akkor az alapértelmezés 0
(hamis) lesz.
</p>
<p>
A hatodik oszlop pedig az fsck lemezellenőrző programnak mondja meg,
hogy az adott partíciót kell-e ellenőrizni a rendszer indulásakor, ha
igen, akkor hányadik menetben ellenőrizze.
</p>
</note>

<warn>
vedd észre, hogy a <path>/boot</path> partíciót <e>nem</e> csatlakoztatjuk a rendszer indulásakor. Ez
adatvédelmi célokat szolgál. Csak akkor csatlakoztasd, ha használod,
majd ha a dolgodat befejezted, unmountold!
</warn>

</body>
</section>
</chapter>


<chapter>
<title>Rendszermag (kernel) és a naplózó démon (system logger) telepítése</title>
<section>
<title>A kernel kiválasztása</title>
<body>
	
<p>
Két lehetőséged van a kernel telepítésekor. Fordíthatsz magadnak
sajátot, vagy használhatod a <c>genkernel</c> eszközt, hogy az automatikusan
beállítsa és lefordítsa neked azt.
</p>
	
<p>
Akármelyiket is választod, előbb telepítened kell annak a kernelnek a
forráskódját, amelyiket használni akarod. A Gentoo Linux számos kernel
ebuildet nyújt. Ezekről egy listát megtalálhatsz
<uri link="/doc/en/gentoo-kernel.xml">itt</uri>. Ha nem
vagy biztos benne, melyiket kellene választanod, ajánlott a <c>gentoo-sources</c> (vagy még inkább
a <c>vanilla-sources</c>, de ez magánvélemény. xea) használata. A vanilla-sources a
hivatalos módosítatlan kernelforrás, a gentoo-sources pedig a Gentoo
Linux team által patchelt kernel. Ha XFS támogatást akarsz, válaszd az <c>xfs-sources</c> -t vagy
<c>gs-sources</c> -t. A Gentoo LiveCD-n is <c>gs-sources</c> és
<c>xfs-sources</c>van . Van egy <c>gaming-sources</c>  is, amely játékok használatakor nyújt
előnyt, köszönhetően például a 'preemptible kernel' funkciónak.
</p>

<p>
Válassz egyet és telepítsd a következő módon:
</p>

<pre caption="Kernel forrás
telepítése">
# <i>emerge -k sys-kernel/gentoo-sources</i>
</pre>

<p>
Létre lesz hozva egy szimbolikus link a frissen telepített
kernelforrásodhoz. A Portage az
<path>/usr/src/linux</path> linket használja egy
speciális célra. Minden ebuild, ami kernel modult tartalmaz, úgy van
beállítva, hogy az <path>/usr/src/linux</path>-ban keresse a kernel fát. Ez a link
akkor lesz létrehozva, amikor először emergelsz (emergelni - az emerge
eszköz segítségével programcsomagot telepíteni) kernel forrást, de
utána már nem nyúl hozzá.
</p>

</body>
</section>
<section>
<title>Genkernel használata a kernel fordításához</title>
<body>

<p>
Most, hogy a kernelforrás telepítésre került, ideje lefordítani, hogy
megkapd a mûködő kernelt. Két lehetőség van erre. Az első a
<c>genkernel</c> script használata, amely automatikusan építi meg a kernelt neked. A
<c>genkernel</c> majdnem ugyanúgy állítja be a kernelt, mint ahogy a LiveCD
teszi. Mivel a <c>genkernel</c> nem igényel kézi konfigurációt, ezért ideális
megoldás lehet azoknak, akik még nem ismerősek a témában.
</p>

<p>
Most pedig nézzük, hogy használhatod a genkernelt. Először is
emergelned kell a genkernel ebuildet:
</p>

<pre caption="A genkernel
emergelése">
# <i>emerge -k genkernel</i>
</pre>
		
<p>
Majd fordítsd le a kernelforrásodat a <c>genkernel</c> futtatásával :
</p>

<note>
<b>Tapasztalt felhasználóknak:</b>használhatod a <c>genkernel --config</c> parancsot is, ami
megengedi az alapértelmezett kernel konfiguráció módosítását még
mielőtt a fordítás megkezdődne.
</note>

<pre caption="genkernel futtatása">
<comment>Ha először használod a genkernel 1.2-t (ami az 1.4-20030803 x86/i686 GRP készletben van), használd ezt:</comment>
# <i>genkernel gentoo-sources</i>
<comment>Ha pedig 1.4-es vagy újabbat használsz, nem szükséges meghatározni a kernelt:</comment>
# <i>genkernel</i>
Gentoo Linux genkernel, version 1.4
Copyright 2003 Gentoo Technologies, Inc., Bob Johnson, Daniel Robbins
Distributed under the GNU General Public License version 2

Settings:
compile optimization: 1 processor(s)
source tree: /usr/src/linux-2.4.20-gaming-r3
config: gentoo (customized)
config loc: /etc/kernels/config-2.4.20-gaming-r3
initrd config: (default) /etc/kernels/settings

* Running "make oldconfig"...                                                                     [ ok ]
* Logging to /var/log/genkernel.log...                                                            [ ok ]
* Starting 2.4.20-gaming-r3 build...                                                              [ ok ]
* Running "make dep"...                                                                           [ ok ]
* Running "make bzImage"...                                                                       [ ok ]
* Running "make modules"...                                                                       [ ok ]
* Running "make modules_install"...                                                               [ ok ]
* Moving bzImage to /boot/kernel-2.4.20-gaming-r3...                                              [ ok ]
* Building busybox...                                                                             [ ok ]
* Creating initrd...                                                                              [ ok ]

* Build completed successfully!

* Please specify /boot/kernel-2.4.20-gaming-r3 and /boot/initrd-2.4.20-gaming-r3
* when customizing your boot loader configuration files.
</pre>

<p>
Miután a <c>genkernel</c> végzett, már kész a kerneled, a teljes modulkészlet
és az
<e>initial root disk</e> (initrd) -nek nevezett fájl, aminek a bootolás
alatt van szerepe. A kernelt és initrd-t akkor fogjuk használni, amikor
majd később a rendszertöltőt konfiguráljuk. Az initrd azonnal elindul
bootoláskor, hardverkeresés céljából, még mielőtt a valódi rendszer
elindulna (épp úgy, mint a LiveCd-n).
</p>

<p>
Most teszünk még egy lépést, hogy a rendszerünk hasonló legyen a
LiveCD-hez, emergeljük a <c>hotplug</c>ot. Amíg az initrd dolga a
bootoláshoz szükséges hardver eszközök automatikus felismerése, addig a <c>hotplug</c>é minden más keresése. A
<c>hotplug</c>emergeléséhez és
engedélyezéséhez írd be a következőt:
</p>

<pre caption="hotplug emergelése
és engedélyezése: ">
# <i>emerge -k hotplug</i>
# <i>rc-update add hotplug default</i>
</pre>

<p>
Most hogy lefuttattad és beállítottad a rendszeredet, hogy a <c>genkernel</c>-t hasznája, átugorhatod
a következő "kézi kernel konfiguráció" részt.
</p>

</body>
</section>
<section>
<title>Kézi kernel konfiguráció</title>
<body>

<p>
Ha nem akarod a genkernelt használni, hogy lefordítsa neked a kernelt,
ez a rész átvezet téged a rendszermag konfigurálás és fordításon. Vedd
észre, hogy a <path>/usr/src/linux</path> symlink (szimbolikus link) automatikusan
lett létrehozva és beállítva (a Portage tette ezt) még az emergelés
alatt. Ha több kernel forrásod is van, helyesen kell beállítani ezt a
linket, még a továbblépés előtt.
</p>

<warn>
Ha saját magadnak
állítasz be kernelt, vigyázz a <i>grsecurity</i>
beállításaival. A túl agresszív
biztonsági beállítások megakadályozhatják bizonyos programok (pl X)
futását. Ha nem értesz hozzá, inkább hagyd ki.
</warn>

<note>
ha ugyanazt a kernel
konfigurációt akarod, mint ami a LiveCD-n is van, vagy arra akarod
építeni a sajátod, futtasd le a <c>cd /usr/src/linux &amp;&amp; cat /proc/config > .config &amp;&amp; make oldconfig</c>parancsot. Ha nem
<c>xfs-sources</c>-t használsz, akkor feltesz majd néhány kérdést az általad
választott illetve az xfs kernelek közötti különbségeket illetően.
</note>

<pre caption="Linux kernel
konfigurálása">
# <i>cd /usr/src/linux</i>
# <i>make menuconfig</i>
</pre>

<warn>
ahhoz, hogy a kerneled
rendben mûködjön, néhány dolgot biztosan <e>bele kell forgatni a kernelbe, nem pedig modulként
 használni.</e>. Biztosan engedélyezd a &quot;ReiserFS&quot; támogatást, ha ezt a fájlrendszert
 akarod majd használni. Ugyanez elmondható az &quot;Ext3&quot;-ról is. Ha XFS fájlrendszert akarsz használni,
 akkor pedig az &quot;SGI XFS filesystem support&quot; opcióval állítsd be. Ajánlott az ext2 támogatást akkor is
 belefordítani a kernelbe, ha nem használod.
</warn>

<p>
Lejjebb találhatsz pár opciót, amit be kell állítanod:
</p>

<pre caption="make menuconfig beállításai">
Code maturity level options ---&gt;
[*] Prompt for development and/or incomplete code/drivers&quot;
<comment>(Ez azért kell, hogy néhány lenti opciót elérhess)</comment>
....

File systems ---&gt;
&lt;*&gt; Reiserfs support
<comment>(Akkor kell, ha ReiserFS rendszerû partíciót akarsz használni)</comment>
.... 
&lt;*&gt; Ext3 journalling file system support
<comment>(ext3 használata esetén kell)</comment>
....
[*] Virtual memory file system support (former shm fs)
<comment>(Szükséges a Gentoo Linux helyes mûködéséhez)</comment>
....
&lt;*&gt; JFS filesystem support
<comment>(Csak JFS használatához kell)</comment>
....
[*] /proc file system support
<comment>(Szükséges a Gentoo Linux helyes mûködéséhez)</comment>
[*] /dev file system support (EXPERIMENTAL)
[*]   Automatically mount at boot
<comment>(Szükséges a Gentoo Linux helyes mûködéséhez)</comment>
[ ] /dev/pts file system for Unix98 PTYs
<comment>(Ez NEM kell, tiltsd le, hacsak nem 2.6-os kernelt akarsz használni)</comment>
....
&lt;*&gt; Second extended fs support
<comment>(Csak ext2 használatához kell)</comment>
....
&lt;*&gt; XFS filesystem support
<comment>(XFS-hez kell)</comment>
</pre>

<p>
Ha a PPPoE -t használod az Internetre kapcsolódáshoz, a következő
dolgokat kell kiválasztanod (akár beépítettként is vagy még inkább modulként
is): &quot;PPP
(point-to-point protocol) support&quot;, &quot;PPP support for async serial
ports&quot;, &quot;PPP support for sync tty ports&quot;. A két
lehetséges tömörítési beállítás nem káros, de nem is szükséges, csak
úgy mint a &quot;PPP
over Ethernet&quot; opció, amelyet egyedül az <c>rp-pppoe</c> használ, ha úgy van beállítva, hogy kernel módban mûködjön.
</p>

<p>
Ha van IDE felületû CD-íród, szükséged lesz SCSI emulációra. Az &quot;ATA/IDE/MFM/RLL support&quot; menü &quot;IDE, ATA
and ATAPI Block devices&quot; almenüjében jelöld be a &quot;SCSI emulation support&quot;
 menüpontot
(ajánlott modulként, de nem kötelező). Majd a &quot;SCSI support&quot; menüben engedélyezd a
&quot;SCSI support&quot;, &quot;SCSI CD-ROM support&quot; és &quot;SCSI
generic support&quot; opciókat (szintén lehet modulként és beépítettként
is). Ha úgy döntesz, modulként használod őket, akkor futtasd le ezt: <c>echo -e &quot;ide-scsi\nsg\nsr_mod&quot;
&gt;&gt; /etc/modules.autoload.d/kernel-2.4</c>, hogy automatikusan betöltődjenek, amikor a rendszer elindul.
</p>

<p>
Ha szükséges, ne felejts el drivert tenni a kernelbe a hálózati kártyádhoz.
</p>

<note>
Lehetséges a Gentoo Linux telepítése 2.2
-es kernellel, azonban ennek ára van. Elveszítesz sok olyan jó lehetőséget,
amely a 2.4-es kernelekben jelent meg (pl. XFS, tmpfs fájlrendszere,
iptables, stb), noha létezik hozzá pl. ReiserFS patch és devfs pach is.
A Gentoo Linux boot scriptjeihez szükséges akár tmpfs vagy ramdisk támogatás
 a kernelben, úgyhogy aki 2.2-es kernelt akar használni, az mindenképpen
 fordítsa bele a ramdisk támogatást (nem modulként!). <comment>Fontos</comment>, hogy a
<e>gentoo=notmpfs</e> flag szerepeljen a
<path>/boot/grub/grub.conf</path> fájlban vagy a
<path>/etc/lilo.conf</path> append sorában (attól függően, melyiket használod), ha
2.2-es kernelt használsz, hogy a boot scriptek a tmpfs helyett a
ramdiskbe töltődjenek.  Ha nem akarsz használni devfs-t, akkor a
<e>gentoo=notmpfs,nodevfs</e> flag a helyes.
</note>

<pre caption = "Rendszermag fordítása és telepítése">
# <i>make dep &amp;&amp; make clean bzImage modules modules_install</i>
# <i>cp /usr/src/linux/arch/i386/boot/bzImage /boot</i>
</pre>

</body>
</section>
<section>
<title>További hardver specifikus ebuildek telepítése</title>
<body>

<p>
Most a gépedben levő egyéb hardverhez telepítjük fel a megfelelő kezelőprogramokat.
Itt egy lista a kernellel kapcsolatos ebuildekről, amiket emergelhetsz:
</p>

<table>
<tcolumn width="1in"/>
<tcolumn width="4in"/>
<tcolumn width="2in"/>
<tr>
 <th>Ebuild</th>
 <th>Leírás</th>
 <th>Parancs</th>
</tr>
<tr>
 <ti>nvidia-kernel</ti>
 <ti>XFree86 kernel modul az nVidia videokártyákhoz
 (szükséges a hardveres 3D gyorsításhoz)</ti>
 <ti><c>emerge -k nvidia-kernel</c></ti>
</tr>
<tr>
 <ti>nforce-net</ti>
 <ti>Az nForce(2) -es alaplapokon található
 integrált ethernet vezérlőprogramja</ti>
 <ti><c>emerge nforce-net</c></ti>
</tr>
<tr>
 <ti>nforce-audio</ti>
 <ti>Az nForce(2) -es alaplapokon található integrált hangkártya vezérlőprogramja</ti>
 <ti><c>emerge nforce-audio</c></ti>
</tr>
<tr>
 <ti>e100</ti>
 <ti>Intel e100 Fast Ethernet kártyák</ti>
 <ti><c>emerge e100</c></ti>
</tr>
<tr>
 <ti>e1000</ti>
 <ti>Intel e1000 Gigabit Ethernet kártyák</ti>
 <ti><c>emerge e1000</c></ti>
</tr>
<tr>
 <ti>emu10k1</ti>
 <ti>Creative Sound Blaster Live!/Audigy támogatás</ti>
 <ti><c>emerge emu10k1</c></ti>
</tr>
<tr>
 <ti>ati-drivers</ti>
 <ti>Hardveresen gyorsított ATI Radeon 8500+/FireGL támogatás XFree86-hoz</ti>
 <ti><c>emerge ati-drivers</c></ti>
</tr>
<tr>
 <ti>xfree-drm</ti>
 <ti>Hardveresen gyorsított XFree86 támogatás ATI Radeon 9200-ig, Rage128-hoz, Matrox, Voodoo és egyéb kártyákhoz</ti>
 <ti><c>VIDEO_CARDS="ide_jon_a_te_kartyad_neve" emerge xfree-drm</c></ti>
</tr>
</table>

<p>
Az <c>nvidia-kernel</c>, <c>ati-drivers</c> és <c>xfree-drm</c>csomagok mûködéséhez további
beállítások szükségesek. Minden más ebuildet fel kell hogy ismerjen
automatikusan a <c>hotplug</c> csomag, már rendszerindításkor. Ha nem használsz
hotplugot, akkor az
<path>/etc/modules.autoload.d/kernel-2.4</path>-be írd a betöltendő
modulok nevét.
</p>

<p>
Az <c>xfree-drm</c> -ről további információt a <uri
link="/doc/en/dri-howto.xml">Direct Rendering Guide</uri> lapjain olvashatsz.
</p>


</body>
</section>
<section>
<title>Egy rendszernaplózó telepítése (system logger)</title>
<body>

<p>
Már telepítéve van az új kerneled és a hozzá tartozó modulok.
Most telepíteni kell egy naplózót, amely fájlokba menti a rendszeren történő
különböző eseményeket. Egy ilyet kell kiválasztanod. Ajánljuk a sysklogd
-t, amely a leggyakrabban használt naplózó. Lehet választani azonban még az
msyslog, syslog-ng és metalog közül is. A komolyabb felhasználók kezdenek
eltávolodni a sysklogd-től - annak nem túl jó teljesítménye miatt - az újabb
változatok felé. Ha nem tudsz dönteni, ajánlott a metalog használata, amely
elég népszerû. De a választás a tied, írd be az <e>egyik</e> parancsot ezek közül:
</p>

<pre caption="Naplózó prorgam telepítése">
# <i>emerge -k app-admin/sysklogd</i>
# <i>rc-update add sysklogd default</i>
<comment>vagy</comment>
# <i>emerge -k app-admin/syslog-ng</i>
# <i>rc-update add syslog-ng default</i>
<comment>vagy</comment>
# <i>emerge -k app-admin/metalog</i>
# <i>rc-update add metalog default</i>
<comment>vagy</comment>
# <i>emerge -k app-admin/msyslog</i>
# <i>rc-update add msyslog default</i>
</pre>

<impo>
A Metalog blokkokban írja ki
naplót, így az üzenetek nem kerülnek azonnal a naplófájlokba. Ha
debuggolni (debug - hibakeresés és javítás) akarod ezt a démont,
akkor ez a funkció nem túl hasznos. Amikor már fut a Gentoo Linux
rendszered, az USR1 szignál küldésével ideiglenesen kikapcsolhatod a
pufferezést (tehát minden üzenet valós időben kerül a fájlokba, nem
tárolódik el ideiglenesen a memóriában), míg az USR2 szignállal
visszakapcsolhatod azt. Ha véglegesen ki akarod kapcsolni, az
/etc/conf.d/metalog fileban a 'METALOG_OPTS="-B" ' sort
'METALOG_OPTS="-B -s" ' -re.
</impo>

<pre caption="metalog pufferelés ki-be kapcsolása">
<comment>Kikapcsolás:</comment>
# <i> killall -USR1 metalog </i>
<comment>Bekapcsolás:</comment>
# <i> killall -USE2 metalog</i>
</pre>

<p>
Ajánlott telepíteni még egy cron csomagot is (ez különböző feladatok
ütemezésére szolgál). Jelenleg dcron, fcron és vcron közül lehet választani.
Ha nem tudod, melyiket válaszd, legyen a vcron.
</p>

<pre caption="Cron démon kiválasztása">
# <i>emerge -k sys-apps/dcron</i>
# <i>rc-update add dcron default</i>
# <i>crontab /etc/crontab</i>
<comment>vagy</comment>
# <i>emerge -k sys-apps/fcron</i>
# <i>rc-update add fcron default</i>
# <i>crontab /etc/crontab</i>
<comment>vagy</comment>
# <i>emerge -k sys-apps/vcron</i>
# <i>rc-update add vcron default</i>
<comment>Ha vcron-t telepítesz, nem kell mindig lefuttatni a <i>crontab /etc/crontab</i> parancsot.</comment>
</pre>

<p>
További információkat a programok és démonok rendszerindításba ágyazásáról
az <uri link="/doc/en/rc-scripts.xml">rc-script guide</uri>-ban találhatsz.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Egyéb szükséges csomagok telepítése</title>
<section>
<body>

<p>
Ha neked rp-pppoe -ra van szükséged az internetre csatlakozáshoz, vigyázz, mert
még nincs telepítve, úgyhogy éppen itt lenne az ideje:
</p>

<pre caption="rp-pppoe telepítése">
# <i>USE="-X" emerge rp-pppoe</i>
<comment>GRP felhasználók pedig így:</comment>
# <i>emerge -K rp-pppoe</i>
</pre>

<note>
A <i>USE="-X"</i> paraméter megakadályozza a kiegészítő X interfész telepítését, ami azért jó, mert ilyenkor maga az X is telepítésre kerülne. Később bármikor újrafordíthatod
az <i>rp-pppoe</i> -t X támogatással. Az <i>rp-pppoe</i> GRP változatában engedélyezve van a kiegészítő
XFree felület is. Ha nem GRP-t telepítesz, fordítsd a programot forrásból, mint az első példában.
</note>
<!-- this pkg is a candidate for moving from .tbz2 to distfiles/ (source) -->


<note>
Vedd észre, hogy az rp-pppoe csak telepítésre kerül, de nem lesz beállítva. Ezt újra meg
kell tenned az <c>adsl-setup</c> futtatásával, ha majd első alkalommal indítod el a Gentoo Linux rendszeredet.

</note>

<p>
Ha pedig olyasmiket akarsz használni, mint például XFS, ReiserFS vagy LVM,
akkor ezekhez is külön kell telepítened csomagokat:
</p>

<pre caption="Különböző fájlrendszerek programjainak emergelése">
# <i>emerge -k xfsprogs</i>
<comment>ReiserFS-hez írt programok: </comment>
# <i>emerge -k reiserfsprogs</i>
<comment>JFS programjai: </comment>
# <i>emerge -k jfsutils</i>
<comment>Ha LVM-et akarsz használni, telepítened kell az LVM programcsomagját is:</comment>
# <i>emerge -k lvm-user</i>
</pre>

<p>
Ha laptop géped van és használni akarod a PCMCIA foglalatokat is, telepítened
kell a <i>pcmcia-cs</i> csomagot:
</p>

<pre caption="pcmcia-cs emergelése">
# <i>emerge -k sys-apps/pcmcia-cs</i>
</pre>

<!-- fix the bug or fix the docs, don't send the user in circles
(drobbins)
		<warn>You will have to re-emerge <i>pcmcia-cs</i> after installation to get PCMCIA
			to work.
			</warn>
	-->

</body>
</section>
</chapter>

<chapter>
<title>Felhasználókezelés</title>
<section>
<title>Root jelszó beállítása</title>
<body>

<p>
Még mielőtt elfelejtenéd, állítsd be a root (rendszergazdai) jelszót:
</p>

<pre caption="root jelszó beállítása">
# <i>passwd</i>
</pre>

</body>
</section>
<section>
<title>Felhasználó létrehozása a mindennapi munkára</title>
<body>

<p>
A Unix/Linux rendszerek úgy vannak tervezve, hogy azok a beállítások,
amelyek fontosak a gép helyes mûködése szempontjából, az átlagos felhasználó
számára nem módosíthatóak. Általában egyetlen felhasználónak (ez pedig
a root, azaz rendszergazda) engedett hozzájuk nyúlni, mások legfeljebb
olvashatják azokat, írni nem tudnak. Éppen ezért rootként dolgozni <e>veszélyes</e> és kerülendő. E célból <e>erősen</e>
ajánlott egy olyan felhasználót létrehozni, amelyet a hétköznapi dolgokra használsz:
</p>

<pre caption = "Felhasználó hozzáadása:">
# <i>useradd felhasznalonev -m -G users,wheel,audio -s /bin/bash</i>
# <i>passwd felhasznalonev</i>
</pre>

<p>
Természetesen a <c>felhasznalonev</c> szöveget cseréld a kívánt névre.
</p>

<p>
Ha pedig valami miatt mégis rootként kell cselekedned, használd a <c>su -</c> parancsot vagy vess egy pillantást a <c>sudo</c> csomagra.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Gépnév beállítása (Hostname)</title>
<section>
<body>

<p>
Szerkeszd az <path>/etc/hostname</path> -t, amelynek egyetlen sorban kell tartalmaznia a gépnevet, pl.: <c>engepem</c>.
</p>

<pre caption="Gépnév beállítása">
# <i>echo engepem &gt; /etc/hostname</i>
</pre>

<p>
Majd szerkeszd az <path>/etc/dnsdomainname</path> fájlt, amely a DNS domain nevedet
tartalmazza, pl:  <c>ezadomainem.hu</c>.
</p>

<pre caption="Domain név beállítása">
# <i>echo ezadomainem.hu &gt; /etc/dnsdomainname</i>
</pre>

<p>
Ha van NIS domained is, azt az
<path>/etc/nisdomainname</path> fájlban adhatod meg.
</p>

<pre caption="NIS Domain név beállítása">
# <i>echo nis.mydomain.com &gt; /etc/nisdomainname</i>
</pre>

</body>
</section>
</chapter>


<chapter>
<title>/etc/hosts szerkesztése</title>
<section>
<body>

<p>
Ez a fájl a különböző IP címekhez tartozó hosztneveket tartalmazza. A
rendszered ebből olvassa ki azoknak az IP-khez tartozó neveket, amelyek nem
szerepelnek a névszervered adatbázisában. Itt egy példa:
</p>

<pre caption="/etc/hosts példa">
127.0.0.1      localhost
<comment># A következő sor a LAN-on használt IP-det és gépnevedet tartalmazza</comment>
192.168.1.1    mymachine.mydomain.com	mymachine
</pre>

<note>
Ha DHCP hálózaton vagy,
hasznos lehet a géped aktuális hosztnevét a <i>localhost</i> után beírni. Ez
segíteni fogja a GNOME-t és még számos más programot a névfeloldásban.
</note>

</body>
</section>
</chapter>


<chapter>
<title>Végső hálózati beállítások</title>
<section>
<title>Kernel modulok betöltése</title>
<body>

<p>
Írd be minden olyan modulnak a nevét az <path>/etc/modules.autoload.d/kernel-2.4</path>fájlba, amelyet rendszerindításkor be akarsz tölteni (a hozzájuk tartozó
opciókat ugyanabba a sorba írhatod). Ezeknek egyik fontos része a hálózati
kártyád modulja (már amennyiben modulként forgattad):
</p>

<pre caption="/etc/modules.autoload.d/kernel-2.4">
<comment>Ez a példa azt feltételezi, hogy 3com hálózati kártyád van
Nézz a kártyád modulja után a /lib/modules/&lt;kernel version&gt;/kernel/drivers/net könyvtárban. </comment>
3c59x
</pre>

</body>
</section>
<section>
<title>Hálózati csatolók beállítása</title>
<body>

<p>
Ezután szerkeszd át az <path>/etc/conf.d/net</path> scriptet az igényeid szerint:
</p>

<pre caption="Hálózat beállítása a bootolás alatt">
# <i>nano -w /etc/conf.d/net</i>
</pre>

<p>
Ha azt szeretnéd, hogy az eth0 automatikusan megkapja az IP címét, az <c>iface_eth0</c>-t
írd át <e>dhcp</e>-re. Ha pedig kézzel akarod  megadni, írd be az IP címet, broadcast címet és az
alhálózati maszkot. Ha több hálózati csatolód van, akkor növekvő sorrendben hozz létre nekik bejegyzéseket
<c>iface_eth1</c>, <c>iface_eth2</c>, stb néven.
</p>

<p>
Most pedig az <c>net.eth0</c> initscriptet (olyan script, amely a rendszer indításakor töltődik be) hozzá
kell adnod az alapértelmezett futási szinthez, <e>ha</e>
nem PCMCIA kártyáról van szó:
</p>

<pre caption="Hálózati interfészek automatikus indítása már a rendszer indítása alatt">
# <i>rc-update add net.eth0 default</i>
</pre>

<p>
Ha több hálózati kártyád vagy tokengyűrűs eszközöd, azoknak is létre kell hoznod további <path>net.eth</path><comment>x</comment> vagy
<path>net.tr</path><comment>x</comment> scripteket, ahol <comment>x</comment> az adott eszköz száma:
</p>

<pre caption="Több hálózati interfész">
# <i>cd /etc/init.d</i>
# <i>ln -s net.eth0 net.eth<comment>x</comment></i>
</pre>

<p>
Hozzá kell adnod a többi létrehozott initscriptet is és hozzáadni az alapértelmezett futási szinthez
(ismét csak akkor, ha nem PCMCIA kártya):
</p>

<pre caption = "net.ethx hozzáadása az alapértemlezett futási szinthez">
# <i>rc-update add net.eth<comment>x</comment> default</i>
</pre>

</body>
</section>
<section>
<title>Csak azoknak, akik PCMCIA kártyát használnak</title>
<body>

<p>
Ha van PCMCIA kártyád, nézz bele az <path>/etc/conf.d/pcmcia</path> fájlba, hogy ellenőrizd az ottani beállításokat, majd
futtasd le a következő parancsot:
</p>

<pre caption = "PCMCIA szolgáltatások automatikus indítása">
# <i>rc-update add pcmcia boot</i>
</pre>

<p>
Ez automatikusan be fogja tölteni a PCMCIA meghajtókat, amikor a hálózat is betöltődik. A megfelelő <path>/etc/init.d/net.eth*</path> szolgáltatást
már automatikusan el fogja indítani a pcmcia.</p>

</body>
</section>
</chapter>

<chapter>
<title>Utolsó lépések: Az alapvető beállítások megadása (beleértve a billentyűzetkiosztást)</title>
<section>
<body>

<pre caption="Alapvető beállítások">
# <i>nano -w /etc/rc.conf</i>
</pre>

<p>
Kövesd a fájlban található utasításokat az alap beállítások megadásához.
A CLOCK változóval a rendszeridődet állíthatod be, míg a KEYMAP változó
a billentyûzet beállításait tartalmazza (nézegesd az
<path>/usr/share/keymaps</path> könyvtárat a különböző lehetőségekért).
</p>

</body>
</section>
</chapter>

<chapter>
<title>Rendszertöltő telepítése</title>
<section>
<title>Megyjegyzések</title>
<body>

<p>
A Gentoo szellemében a felhasználónak a rendszertöltő esetében is van választási
lehetősége. A virtuális csomagrendszer használatával lehet választani a
GRUB és LILO között.
</p>

<p>
Mindkettő telepítése se nem szükséges, se nem előnyös. Tulajdonképpen
potenciális problémaforrás is lehet, úgyhogy inkább csak egyet telepíts.
</p>

<p>
Ráadásul aszerint is be kell állítanod majd a rendszertöltőt, hogy <c>genkernel</c>-lel létrehozott rendszermagot használsz (kernellel és initrd-vel)
vagy kézzel fordítottat. Vedd észre a fontos különbségeket!
</p>

</body>
</section>
<section>
<title>GRUB beállítása</title>
<body>

<p>
A GRUB használatában a legnehezebb megérteni, hogyan hivatkozik a program a
lemezekre és partíciókra. Az a partíció, amit a Linux
<path>/dev/hda1</path> -nek hív, az a
GRUB számára <path>(hd0,0)</path>. Vigyázz, a zárójeleket kötelező odaírni! A merevlemezek
számozása nem 'a'-ról indul, hanem 0-ról (ebből nyílvánvalóan látszik, hogy nem
betûkkel, hanem számokkal dolgozik). Figyelj arra is, hogy a csak a
merevlemezeket számolja, az egyéb atapi-ide eszközöket, mint például CD vagy DVD
meghajtókat nem. Ugyanez a helyzet a SCSI meghajtókkal is, amelyek általában
nagyobb számokat kapnak mint az IDE meghajtók, kivéve, ha BIOS-ban úgy van
beállítva, hogy SCSI-ról történjen a rendszer indítása. Tegyük fel, hogy a <path>/dev/hda</path>
egy merevlemez (primary master), <path>/dev/hdb</path> egy CD/DVD lejátszó,
<path>/dev/hdc</path>egy CD író, <path>/dev/hdd</path> pedig egy második merevlemez.
Ebben az esetben a <path>/dev/hdd7</path> partíció a GRUB számára
<path>(hd1,6)</path> lesz. Talán furcsának tûnhet (és az is), de
mindjárt meglátod, hogy a GRUB Tab gombra való szövegkiegészítő funkciója
nagyban megkönnyítheti a munkádat, ha sok lemezed és/vagy partíciód van. Ideje
tehát telepíteni a GRUB-ot.
</p>

<p>
chrootban a <c>grub</c> telepítésének a legegyszerűbb módja:
</p>

<pre caption="GRUB telepítés">
# <i>emerge -k grub</i>
# <i>grub</i>
</pre>

<p>
Nem sokára kapni fogsz egy <e>grub&gt;</e> promptot. Ide kell beírnod a
megfelelő parancsokat a GRUB elhelyezéséhez és beállításához. A fenti példánál
maradva az első merevlemez MBR-jébe (master boot record) akarjuk telepíteni a
rendszertöltőt, így a gép bekapcsolásakor az első dolog, ami kommunikál velünk,
a GRUB lesz. Ebben az esetben a teendők a következők lesznek:
</p>

<pre caption="GRUB az MBR-ben">
grub&gt; <i>root (hd0,0)</i> <comment>(Ide írd a boot partíciód számát)</comment>
grub&gt; <i>setup (hd0)</i> <comment>(Ahol a boot record van, jelen esetben az MBR)</comment>
</pre>
	
<pre caption="GRUB nem az MBR-ben">
<comment>Ha pedig valahova máshova akarod telepíteni a rendszertöltőt, mint a master boot record:</comment>
grub&gt; <i>root (hd0,0)</i> <comment>(Ide írd a boot partíciód számát)</comment>
grub&gt; <i>setup (hd0,4)</i> <comment>(Ahol a boot record van. ; Jelen esetben /dev/hda5)</comment>
grub&gt; <i>quit</i>
</pre>

<p>
Hogy is mûködik ez a két parancs? Az első <c>root ( )</c> parancs
mondja meg a GRUB-nak, hogy hol található a boot partíciód (a példában szereplő
<path>/dev/hda1</path> a GRUB számára a  <path>(hd0,0)</path>a terminológia szerint). Majd a második
 <c>setup ( )</c> parancs mondja meg, hova telepítse a boot recordot - úgy lesz beállítva, hogy a
szükséges fájlokat a <c>root	( )</c>
-ként megadott helyen keresse. A példánkban a boot
record az MBR-ben van, így egyszerûen a <path>/dev/hda</path> -t adtuk meg (azaz a
<path>(hd0)</path>)-t).
Ha másik rendszertöltő is lenne, a GRUB pedig csak másodlagosként kellene,
lehetséges lenne a GRUB egy másik partícióra telepítése. Ha így lenne, (hd0)
helyett egy konkrét partíció száma lenne a paraméter. Ha ez a két parancs
lefutott, a <c>quit</c> paranccsal lehet kilépni a programból.
</p>

<note>
Pár
szót a Tab kiegészítésről. Ha annyit írsz csak be, hogy <c> root (</c> egy TAB billentyût, a program kiírja az elérhető eszközök listáját (nem csak
merevlemezeket). Ha a <c> root (hd</c>szöveg beírása után nyomod le a TAB-ot, az
elérhető merevlemezekről kapsz információt és a <c> root (hd0,</c>
szöveg utáni TAB
megnyomása az első merevlemezen található partíciókat listázza ki. Ezzel a
szintaxist is könnyebb betartani.
</note>
			
<p>
Most már csak pontosan be kell 'hangolni' a GRUB-ot, a
<path>/boot/grub/grub.conf</path>file létrehozásával, így kaphatunk egy szép GRUB boot menüt, amikor a gép
elindul.
</p>

<impo>
A visszafele kompatibilitás megőrzésének érdekében hozz létre egy linket a
<path>grub.conf</path>-ról <path>menu.lst</path> néven. Ezt az
<c>ln -s /boot/grub/grub.conf /boot/grub/menu.lst</c> paranccsal teheted meg.
</impo>

<p>
Most pedig hozd létre a <path>grub.conf</path>  fájlt (<c>nano -w
/boot/grub/grub.conf</c>) és írd bele a következőt:
</p>

<pre caption="grub.conf szerkesztése">
default 0
timeout 30
splashimage=(hd0,0)/boot/grub/splash.xpm.gz

<comment># Ha kézzel fordítottál kernel, ehhez hasonlóan kell kinéznie:</comment>
title=My example Gentoo Linux
root (hd0,0) 
kernel (hd0,0)/boot/bzImage root=/dev/hda3 

<comment># Ha genkernelt használtál, akkor viszont ehhez hasonlóan:</comment>
title=My example Gentoo Linux (genkernel)
root (hd0,0)
kernel (hd0,0)/boot/kernel-KV root=/dev/hda3
initrd (hd0,0)/boot/initrd-KV

<comment># Ezzel pedig Microsoft Windowst tudsz indítani:</comment>
title=Windows XP
root (hd0,5) 
chainloader (hd0,5)+1
</pre>

<warn>
A <c>KV</c> szöveget cseréld le a telepített kernel verziószámára!
</warn>

<note>
A (hd0,0) -t szóköz nélkül írd a zárójelek közé!
</note>

<impo>
Ha IDE
felületû CD írót akarsz használni SCSI emulációval, a kernel sorához írd
hozzá a <c>hdx=ide-scsi</c> szöveget is, ahol hdx a kívánt meghajtó neve, pl. hdb.
</impo>

<p>
Miután elmentetted a filet, a Gentoo Linux telepítése
befejeződött! Újraindítás után a GRUB menüben tudod majd választani a megadott
lehetőségeket.
</p>

<note>
A fenti <path>(hd0,0)</path> mutasson a boot partícióra (példánkban <path>/dev/hda1</path>) és a <path>/dev/hda3</path>
 pedig a root partícióra. <path>(hd0,5)</path> pedig a Windows NT rendszertöltőjére mutat.
</note>

<note>
kernel útját mutató útvonal függ a boot partíciótól. Pédául, ha külön boot
partíciód és root partíciód van, akkor a <path>grub.conf</path>-ban az útvonalak <path>/bzImage</path>
-re módosulnak.
</note>

<p>
Ha egyéb opciókat is meg akarsz adni a kernelnek, egyszerûen
írd azt a <c>kernel</c> sor végére. Máris megadtunk egyet, a
(<c>root=/dev/hda3</c>)-t, de mást
is beállíthatsz. Például kikapcsolhatod a devfs-t (de ez nem ajánlott), ha
hozzáírod a <c>gentoo=nodevfs</c>  paramétert a <c>kernel</c>
sorhoz.
</p>

<note>
A korábbi Gentoo Linux verziókkal ellentétesen többé nem szükséges a
<c>devfs=mount</c> paraméter megadása. Már alapértelmezésként engedélyezve van.
</note>

</body>
</section>
<section>
<title>LILO beállítása</title>
<body>

<p>
Míg a GRUB jelenti a legtöbb ember számára A rendszertöltőt,
mégsem mindig az a legjobb megoldás. LILO (LInux LOader) egy már bevált Linuxos
rendszertöltő. Íme, hogyan telepíts LILO-t, ha nem akarsz GRUB-ot használni.
</p>

<p>
Az első lépés az emergelés (mint mindig :-)
</p>

<pre caption="LILO emergelése">
# <i>emerge -k lilo</i>
</pre>

<p>
Most pedig be kell állítanod. Itt egy példa konfiguráció az <path>/etc/lilo.conf</path> fájlra:
</p>

<pre caption="Példa lilo.conf">
boot=/dev/hda
map=/boot/map
install=/boot/boot.b
prompt
timeout=50
lba32
default=linux

<comment># Ha saját kernelt fordítottál, akkor a következő négy sornak valami hasonlónak kell lennie:</comment>
image=/boot/bzImage
	label=linux
	read-only
	root=/dev/hda3

<comment># genkernel használatával viszont már ilyen:</comment>
image=/boot/kernel-KV
	label=gk_linux
	root=/dev/hda3
	initrd=/boot/initrd-KV
	append="root=/dev/hda3 init=/linuxrc"


<comment># Duál boot Windows-hoz pedig ilyen:</comment>
other=/dev/hda1
	label=dos
</pre>

<warn>
A <c>KV</c> szöveget cseréld le a telepített kerneled verziójára és győződj meg róla, hogy a
<c>default=</c> rész arra a címkére mutat (<c>gk_linux</c> ha
genkernelt használtál), amit használni akarsz.
</warn>

<ul>
<li><c>boot=/dev/hda</c> megmondja a LILO-nak, hogy a primary master meghajtóra telepítse magát</li>
<li><c>map=/boot/map</c> meghatározza a map fájlt. Nem tanácsos a módosítása. </li>
<li><c>install=/boot/boot.b</c> mondja meg a LILO-nak, hogy a megadott fájlt telepítse, mint az új boot szektor. Normális esetben ezt nem szabad állítani. Ha az install sor hiányzik,a LILO alapértelmezésként a <path>/boot/boot.b</path> -t akarja majd használni. </li>
<li>A <c>prompt</c> létezése mondja meg, hogy a klasszikus <e>lilo:</e> prompt módot használja. Ugyan nem ajánlott ennek az eltávolítása, de ha mégis megtennéd, még mindig visszakaphatod a prompt módot, ha lenyomva tartod a Shift gombot a rendszer indulásakor.</li>
<li><c>timeout=50</c> beállítja, hogy hány tized másodperc múlva indítsa el az alapértelmezett választást, amennyiben a felhasználó nem cselekszik. </li>
<li><c>lba32</c> a lemez geometriai tulajdonsága. Ne változtasd meg ezt, hacsak feltétlenül nem szükséges, különben előfordulhat, hogy nem képes majd a géped elindulni! </li>
<li><c>default=linux</c> arra a címkére mutat, amelyet betölt a LILO, ha a timeout-ban meghatározott időn belül nem cselekszik a felhasználó.</li>
<li><c>image=/boot/bzImage</c> specifies the linux kernel to boot with this particular boot option. </li>
<li><c>label=linux</c> lesz az operációs rendszer neve, amelyet a LILO képernyőjén láthatsz. </li>
<li><c>read-only</c> mondja meg, hogy a root partíció legyen csak olvasható, így nem változhat meg a bootolás során.</li>
<li><c>root=/dev/hda3</c> megmondja melyik partíció a root partíció. </li>
</ul>

<p>
A <path>lilo.conf</path>szerkesztésének befejezése után futtasd le a
LILO-t, hogy betöltse az MBR-be a megfelelő információkat:
</p>

<pre caption="LILO indítása">
# <i>/sbin/lilo</i>
</pre>

<p>
Ezennel a LILO konfigurált és a géped kész a Gentoo Linux bootolására!
</p>

</body>
</section>

<section>
<title>Framebuffer használata</title>
<body>

<p>
Azok, akik a kernelükbe kiválasztották a framebuffer
lehetőséget, valószínûleg használni is akarják azt. ők írják be a <c>vga=xxx</c>
konfigurációs fájlba, ahol <c>xxx</c> -et a következő táblázatból olvashatod ki:
</p>

<table>
<tcolumn width="1in"/>
<tcolumn width="1in"/>
<tcolumn width="1in"/>
<tcolumn width="1in"/>
<tr><ti></ti><th>640x480</th><th>800x600</th><th>1024x768</th><th>1280x1024</th></tr>
<tr><th>8 bpp</th><ti>769</ti><ti>771</ti><ti>773</ti><ti>775</ti></tr>
<tr><th>16 bpp</th><ti>785</ti><ti>788</ti><ti>791</ti><ti>794</ti></tr>
<tr><th>32 bpp</th><ti>786</ti><ti>789</ti><ti>792</ti><ti>795</ti></tr>
</table>

<p>
LILO esetén pedig a konfigurációs fájl elejére írd be a <c>vga=xxx</c> sort.
</p>

<p>
GRUB esetén írd hozzá a <c>vga=xxx</c> paramétert a grub.conf-ban a <c>kernel (hd0,0)...</c> sor végére.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Rendszerlemez készítése</title>
<section>
<title>GRUB rendszerlemezek</title>
<body>

<impo>
Ne felejts el egy floppy lemezt behelyezni a lemezmeghajtóba, mielőtt továbbhaladnál.
</impo>

<p>
Érdemes mindig a közelben tartani egy rendszerlemezt, amivel
akár súlyos hibákat is kijavíthatsz. Például ha a hardvered nem enged mûködő
rendszertöltőt telepíteni, akkor muszáj lesz rendszerlemezt készíteni. Ha
ezeknek a táborába tartozol, készíts egy GRUB rendszerlemezt és amikor
újraindítod róla a gépet, már tudni fogod telepíteni a GRUB-ot. Rendszerlemezt a
következőképp hozhatsz létre:
</p>

<pre caption="GRUB rendszerlemez készítése">
# <i>cd /usr/share/grub/i386-pc/</i>
# <i>cat stage1 stage2 > /dev/fd0</i>
</pre>

<p>
Most pedig indítsd újra a gépedet és bootolj floppyról. Amikor
megkapod a <c>grub&gt;</c> promptot, már végre tudod hajtani a megfelelő <c>root</c> és <c>setup</c> parancsokat.
</p>

</body>
</section>
<section>
<title>LILO rendszerlemezek</title>
<body>

<impo>
Ne felejts el egy lemezt helyezni a meghajtóba mielőtt továbblépnél.
</impo>

<p>
Ha LILO-t használsz, akkor is hasznos dolog lehet egy
rendszerlemez létrehozása:
</p>

<pre caption="LILO rendszerlemez készítése">
# <i>dd if=/boot/your_kernel of=/dev/fd0 </i>
<comment>(Csak akkor mûködik, ha a kerneled 1.4MB-nál kisebb méretû)</comment>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>GRP telepítés</title>
<section>
<body>

<p>
A GRP-t telepítők most telepíthetik a bináris csomagokat:
</p>

<pre caption="GRP telepítés">
# <i>emerge -k xfree</i> 
</pre>

<p>
A CD1 elegendő alkalmazást tartalmaz egy teljesen mûködő
rendszer összeállításához. Ráadásul a második CD-n további alkalmazások
találhatók, beleértve a KDE, GNOME, Mozilla, stb. Ezeknek a csomagoknak a
telepítéséhez előbb újra kell indítanod a rendszert (egy fejezettel később).
Miután már az új Gentoo Linuxodat futtatod, mountold be a második CD-t és másold
fel a fájlokat:
</p>

<pre caption="Bináris csomagok másolása a CD2-ről">
# <i>mount /dev/cdrom /mnt/cdrom</i>
# <i>cp -a /mnt/cdrom/packages/* /usr/portage/packages/</i>
</pre>

<p>
Mostantól a szokott módon tudod telepíteni a kívánt dolgokat, például:
</p>

<pre caption="KDE telepítése">
# <i>emerge -k kde</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>A telepítés kész!</title>
<section>
<body>

<p>
A Gentoo Linux telepítése befejeződött! Az utolsó szükséges
lépés a konfigurációs fájlok frissítése, kilépés a chrootolt shellből,
leválasztani a mountolt partíciókat és újraindítani a rendszert:
</p>

<warn>
az <c>etc-update</c> egy listát fog adni a frissítendő konfigurációs fájlokról. Ellenőrizd, hogy
 nincs-e ezek között olyan, amelyeknek nagy szerepe van a rendszer helyes
 mûködése szempontjából (<path>fstab, make.conf</path>,stb.). Ha van, ezeket ne frissítsd automatikusan, inkább
 nézd meg a diffet (diff = két fájl közötti különbség) és az alapján
 módosítsd a fájlt kézzel.
</warn>

<pre caption="A rendszer újraindítása">
# <i>etc-update</i>
# <i>exit</i> 
<comment>(Ez kilép a cdrootolt shellből; a  <i>^D</i> (control-d) kombináció is megfelel)</comment>
# <i>cd / </i>
# <i>umount /mnt/gentoo/boot</i>
# <i>umount /mnt/gentoo/proc</i>
# <i>umount /mnt/gentoo</i>
# <i>reboot</i>
<comment>(Ne felejtsd el kivenni a bootolható CD-t)</comment>
</pre>

<note>
Újraindítás után érdemes lefuttatni a <c>modules-update</c> parancsot, hogy az létrehozza az
<path>/etc/modules.conf</path> fájlt. Ahelyett, hogy ezt módosítanád, inkább szerkeszd az
<path>/etc/modules.d</path>-ben levő dolgokat.
</note>

<p>
Ha kérdésed van vagy csatlakozni szeretnél a Gentoo Linux
fejlesztésében, keresd meg a gentoo-user és gentoo-dev levelező listákat
(további információk a <uri
link="http://www.gentoo.org/main/en/lists.xml">levelező listák</uri> oldalon (angol nyelvű)).
Használd egészséggel az új Gentoo Linuxodat! :-)
</p>

</body>
</section>
</chapter>

<!--
            Gentoo Stats is down currently. Commenting out for the
            time being. I've also changed double-dash to dash-space-dash
            because otherwise commenting fails.
<chapter>
<title>Gentoo-Stats</title>
<section>
<body>

<p>
The Gentoo Linux usage statistics program was started as an attempt to give
the developers a way to find out about their user base. It collects information
about Gentoo Linux usage to help us in set priorities our development.
Installing it is completely optional and it would be greatly appreciated if
you decide to use it. Compiled statistics can be viewed at
<uri>http://stats.gentoo.org/</uri>.
</p>

<p>
The gentoo-stats server will assign a unique ID to your system.
This ID is used to make sure that each system is counted only once. The ID
will not be used to individually identify your system, nor will it be matched
against an IP address or other personal information. Every precaution has been
taken to assure your privacy in the development of this system. The following
are the things that we are monitoring right now through our "gentoo-stats"
program:
</p>

<ul>
<li>installed packages and their version numbers</li>
<li>CPU information: speed (MHz), vendor name, model name, CPU flags (like "mmx" or "3dnow")</li>
<li>memory information (total available physical RAM, total available swap space)</li>
<li>PCI cards and network controller chips</li>
<li>the Gentoo Linux profile your machine is using (that is, where the <path>/etc/make.profile</path> link is pointing to).</li>
</ul>

<p>
We are aware that disclosure of sensitive information is a threat to most
Gentoo Linux users (just as it is to the developers).
</p>

<ul>
<li>Unless you modify the gentoo-stats program, it will never transmit sensitive information such as your passwords, configuration data, shoe size....</li>
<li>Transmission of your e-mail addresses is optional and turned off by default.</li>
<li>The IP address your data transmission originates from will never be logged in such a way that we can identify you. There are no "IP address/system ID" pairs.</li>
</ul>

<p>
The installation is easy - just run the following commands:
</p>

<pre caption="Installing gentoo-stats">
# <i>emerge gentoo-stats</i>   <comment>(Installs gentoo-stats)</comment>
# <i>gentoo-stats - -new</i>    <comment>(Obtains a new system ID)</comment>
</pre>

<p>
The second command above will request a new system ID and enter it into
<path>/etc/gentoo-stats/gentoo-stats.conf</path> automatically. You can view
this file to see additional configuration options.
</p>

<p>
After that, the program should be run on a regular schedule (gentoo-stats does
not have to be run as root). Add this line to your <path>crontab</path>:
</p>

<pre caption="Updating gentoo-stats with cron">
0 0 * * 0,4 /usr/sbin/gentoo-stats - -update &gt; /dev/null
</pre>

<p>
The <c>gentoo-stats</c> program is a simple perl script which can be
viewed with your favorite pager or editor: <path>/usr/sbin/gentoo-stats</path>.
</p>

</body>
</section>
</chapter>

-->

<chapter>
<title>Gentoo Linux kevésbé szokványos hardveren</title>
<section>
<title>Hardveres ATA RAID</title>
<body>

<p>
Azok a felhasználók akik harveres ATA RAID-es rendszerre akarnak Gentoot telepíteni, oda kell hogy figyeljenek a következő
néhány lépésre a sikeres telepítés érdekében:
</p>

<ul>
<li>Mindenképpen a <c>doataraid</c> opcióval indítsd a LiveCD-t!</li>
<li>Ha elfelejtetted volna kiválasztani a <c>doataraid</c> opciót induláskor, vagy a modulok rejtélyes módon elfelejtettek volna betöltődni, pótold ezt:
<pre caption = "RAID modulok betöltése">
# <i>modprobe ataraid</i>
<comment>Promise Raid vezérlőkhöz:</comment>
# <i>modprobe pdcraid</i>
<comment>Highpoint Raid vezérlőkhöz:</comment>
# <i>modprobe hptraid</i>
</pre></li>
<li>Néháyn ATA RAID vezérlő igényli az újraindítást a partícionálás után, különben nem lehet formázni a lemezt.</li>
<li>Még a chrootolás előtt csatlakoztasd a devicetree-t az új környezetbe:
<pre caption = " /dev csatlakoztatása a /mnt/gentoo/dev -be">
# <i>mount -o bind /dev /mnt/gentoo/dev</i>
</pre></li>
<li>A kernel konfigurálásánál válaszd ki a kötelező RAID opciókat:
<pre caption = "RAID beállítása a kernel konfigurációban">
<comment>Highpoint RAID vezérlőnél:</comment>
ATA/IDE/MFM/RLL support  ---&gt;
[*] HPT36X/37X chipset support
[*] Support for IDE Raid controllers
[*] Highpoint 370 software RAID
<comment>Promise RAID vezérlőnél:</comment>
ATA/IDE/MFM/RLL support  ---&gt;
[*] PROMISE PDC202{46|62|65|67} support
<comment>és/vagy</comment>
[*] PROMISE PDC202{68|69|70|71|75|76|77} support
[*] Support for IDE Raid controllers
[*] Support Promise software RAID (Fasttrak(tm))
</pre></li>
<li>Ha GRUB-ot használsz írd a <c>--stage2=/boot/grub/stage2</c> szöveget a <c>setup</c> parancshoz, amikor futtatod a <c>grub</c>-ot:
<pre caption = "GRUD telepítése hardveres RAID rendszerekre">
grub&gt; <i>root (hd0,0)</i>
grub&gt; <i>setup --stage2=/boot/grub/stage2 (hd0)</i>
grub&gt; <i>quit</i>
</pre>
Továbbá a GRUB konfigurációjánál is a megfelelő RAID eszközre mutasson a <c>root</c> sor:
<pre caption = "grub.conf RAID esetén">
title=Az en Gentoom RAID-del
root (hd0,0)
kernel (hd0,0)/boot/bzImage root=/dev/ataraid/dXpY
</pre></li>
<li>A LILO felhasználók is állítsák a <c>root</c> sort a megfelelő RAID eszközre:
<pre caption = "lilo.conf RAID-del">
image=/boot/bzImage
label=linux
read-only
root=/dev/ataraid/dXpY
</pre></li>
</ul>

<p>
Ha probléma merül fel a Gentoo Linux telepítésével, jelentsd azt a <uri>http://bugs.gentoo.org</uri>-on.
</p>

<p>
Magyar nyelvű tanácsadásért fordulj a weben a <uri link="http://www.gentoo.hu">Magyar Gentoo Linux portálhoz</uri> vagy a
<uri link="http://magenta.linuxonline.hu">Magyar Gentoo Találkahelyhez</uri>, vagy IRC-en a <path>#gentoo.hu</path> (IRCnet) és
<path>#gentoo-hu</path> (Freenode) csatornákra.</p>

<p>
Köszönjük, hogy a Gentoo Linuxot választottad, reméljük sok örömödet leled majd az új rendszerben!
</p>


</body>
</section>
</chapter>
</guide>
