<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link = "/doc/en/gentoolkit.xml">
<title>Gentoolkit</title>
<author title="Author"><mail link="mbutcher@aleph-null.tv">
Matt Butcher</mail>
</author>

<author title="Editor"><mail link="zhen@gentoo.org">John P. Davis</mail></author>
<author title="Fordító"><mail link="drstrange@mailbox.hu">Ferencz Tamás</mail></author>
<!-- Licensed under GFDL -->

<abstract>
	A Gentoolkit egy segédprogram-gyűjtemény, a rendszer adminisztrációjának megkönnyítésére
	Az alábbi dokumentumban a gentoolkit használatának alapjaival ismerkedhetsz meg
</abstract>

<version>1.1</version>
<date>25 September 2002</date>

<chapter>
	<title>Bevezetés</title>
	<section>
		<title>Mi a Gentoolkit?</title>
		<body>
			<p>A Gentoo egyedülálló disztribúció, és mint ilyennek, vannak bizonyos bonyolult sajátosságai, melyek más disztrókban nem találhatók meg.
			Ahogy a Gentoo fejlesztői ráebredtek ezekre a nehézségekre, mindjárt segédeszközöket is fejlesztettek, hogy a rendszergazdák felülkerekdhessenek rajtuk.
				Ezekből a segédeszközökből több is a Gentoo része lett, 
				és bekerült a <path>app-admin/gentoolkit</path> csomagba.
			</p>

			<p>A Gentoolkit egy  rakás hasznos programot tartalmaz, amely megkönnyítheti a Portage és az ebuildek kezelését. A legtöbb felhasználó -- különösen azok, akik gyakran frissítik rendszerüket
			-- profitálhat a Gentoolkitből.</p>
		</body>
	</section>
	<section>
		<title>Telepítés</title>
		<body>
			<p>Mint bármelyik Gentoo csomag esetében, a telepítés itt is egy szimpla emerge....
			</p>

			<pre>
<i>emerge gentoolkit </i>
			</pre>
			<note>A Gentoolkit több eleme fontos információkat érul el rendszeredről, vagy root futtatási jogot igényel. 
			Ezért a programok némelyike csak root jogokkal fog futni (vagy helyesen futni).</note>
		</body>
	</section>
	<section>
		<title>Hol találhatsz dokumentációt?</title>
		<body>

			<p>
				E cikk írásakor még nem volt valamennyi gentoolkit-programnak megfelelő dokumentációja.
				Némelyiknek vannak man oldalai, de nem mindnek. A man oldalakat leszámítva minden dokumentációt a 
				<path>/usr/doc/gentoolkit-[version]/[program-name]/</path> könyvtárban találhatsz meg.
			</p>
		</body>
	</section>
</chapter>
<chapter>
	<title>Csomag paraméterek lekérdezése qpkg-vel</title>
	<section>

		<title>Bevezetés</title>
		<body>
			<p>A <c>qpkg</c> rugalmas eszköz, amellyel információkat szerezhetsz az ebuildekről ,
				akár telepítve vannak, akár sem. Elárulja, melyik fájl melyik ebuildhez tartozik, hogy egy csomagból több verzió is telepítve van-e,
				és hogy mit is csinál egy-egy adott ebuild.
			</p>
			<p>Ha paraméterek nélkül indítod a <c>qpkg</c>-t, akkor kinyomtatja az összes ebuildet, megcsillagozva azokat, amelyek telepítve vannak.
			</p>
			<note>A <c>qpkg</c> alapból színeket használ. Ennek parancssori kikapcsolására használd az <c>--no-color</c> vagy az <c>-nc</c> opciót.</note>

		</body>
	</section>
	<section>
		<title>Csomaglekérdezés</title>
		<body>
			<p>A <c>qpkg</c> leggyakrabban talán arra használják, hogy segítségével a felhasználó megtudja, mire jó egy adott csomag. Példának okáért, miközben a <path>net-misc</path> könyvtárat böngésztem,  megláttam
			 egy <path>neon</path> nevú csomagot. Mivel fogalmam nem volt, mi az, a qpkg-hez fordultam.
			</p>

			<pre> 
hebron root # <i>qpkg -i net-misc/neon
net-misc/neon-0.15.3-r1
       HTTP and WebDAV client library [ http://www.webdav.org/neon ]
net-misc/neon-0.18.5
       HTTP and WebDAV client library [ http://www.webdav.org/neon ]
net-misc/neon-0.19.2
       HTTP and WebDAV client library [ http://www.webdav.org/neon ]
net-misc/neon-0.19.2-r1
       HTTP and WebDAV client library [ http://www.webdav.org/neon ]
net-misc/neon-0.21.1
       HTTP and WebDAV client library [ http://www.webdav.org/neon ] </i>
			</pre>
			<p>
				A <c>qpkg</c> átnézte mind az öt <path>net-misc/neon</path>
				ebuildet, és megjelenítette a  DESCRIPTION és HOMEPAGE változók tartalmát.
			</p>
		</body>

	</section>
	<section>
		<title>Az egy ebuildhez tartozó fájlok listázása</title>
		<body>
			<p>
				A <c>qpkg</c> ki tudja listázni az egy-egy adott, telepített ebuildhez tartozó fájlokat. Tudom, 
				hogy a Gentoolkit egy sor segédprogramot feltett, de nem tudom, mik
				 voltak azok. Ennek kiderítésére kiadhatom a <c>qpkg -l</c> utasítást

			</p>
			<pre> 
hebron portage # <i>qpkg -l app-admin/gentoolkit
app-admin/gentoolkit-0.1.14-r1 *
CONTENTS:
/usr
/usr/share
/usr/share/gentoolkit
/usr/share/gentoolkit/histogram.awk
/usr/share/doc
/usr/share/doc/gentoolkit-0.1.14-r1
/usr/share/doc/gentoolkit-0.1.14-r1/gentool
/usr/share/doc/gentoolkit-0.1.14-r1/gentool/ChangeLog.gz
/usr/share/doc/gentoolkit-0.1.14-r1/lintool
/usr/share/doc/gentoolkit-0.1.14-r1/lintool/checklist-for-ebuilds.gz
/usr/share/doc/gentoolkit-0.1.14-r1/lintool/ChangeLog.gz
/usr/share/doc/gentoolkit-0.1.14-r1/etc-update
/usr/share/doc/gentoolkit-0.1.14-r1/etc-update/ChangeLog.gz
/usr/share/man
/usr/share/man/man1
/usr/share/man/man1/qpkg.1.gz
/usr/share/man/man1/lintool.1.gz
/usr/share/man/man1/etc-update.1.gz
/usr/bin
/usr/bin/gentool-bump-revision
/usr/bin/gentool-total-coverage
/usr/bin/gentool-author-coverage
/usr/bin/gentool-package-count
/usr/bin/qpkg
/usr/bin/pkg-size
/usr/bin/lintool
/usr/sbin
/usr/sbin/pkg-clean
/usr/sbin/mkebuild
/usr/sbin/emerge-webrsync
/usr/sbin/epm
/usr/sbin/etc-update
/etc
/etc/etc-update.conf </i>
			</pre>
		</body>
	</section>
	<section>
		<title>Annak kiderítése, hogy egy fájl honnan származik</title>
		<body>

			<p>
				Hogy megtaláld, egy adott fájl melyik csomagból származik, használd a <c>-f</c>
				vagy <c>--find-file</c> paramétert.
			</p>
			<pre>
				hebron portage # <i>qpkg -f	net-www/mozilla * </i>
			</pre>

		</body>
	</section>
	<section>
		<title>Duplikátumok listázása</title>
		<body>
			<p>
				Néha egy-egy csomagnak több verziója is létezhet. A <c>qpkg --dup</c>

				megjeleníti a duplikátumok listáját. Azonban az, hogy egy csomagból két verzió is telepítve van, 
				nem feltétlenül jelenti azt, hogy a régebbi törölhető. Lehet, hogy különböző slotban ülnek.
				Az azonos slotban ülő duplikátumok kiderítésére használd a 
				<c>qpkg --dups --slot</c> parancsot. Én épp most frissítettem a KDE 3.0-t 3.0.2-re, így lesznek  
				duplikátumaim ugyanabban a slotban.
			</p>
			<pre> 
hebron portage # <i>qpkg --dups --slot 
app-admin/gentoolkit
kde-base/kdeaddons
kde-base/kdeadmin
kde-base/kdeartwork
kde-base/kdebase
kde-base/kdegames
kde-base/kdelibs
kde-base/kdemultimedia
kde-base/kdenetwork
kde-base/kdetoys
kde-base/kdeutils
media-libs/freetype
x11-libs/qt </i>
			</pre>
		</body>
	</section>
	<section>
		<title>Csomag sértetlenség ellenőrzése</title>

		<body>
			<p>
				Néha hasznos lehet egy-egy csomag sértetlenségének ellenőrzése, hogy megtudjuk, 
				nem cserélődtek-e le egyes fájlok a telepítés óta. A <c>qpkg</c> ellenőrizni 
				tudja az md5sum értékeket és a telepítés idejét is, hogy kimutathassa, a csomaghoz
				tartozó fájlok nem sérültek-e meg, nem cserélődtek-e ki, vagy távolíttattak el
			</p>
			<p>Ha mind az mtime és az md5 értékeket ellenőrizni akarod, használd a <c>-c</c> paramétert.</p>
			<pre>

hebron portage # <i>qpkg gnupg -c -v    
app-crypt/gnupg-1.0.6 *
/usr/lib/gnupg/rndunix !md5! !mtime!
/usr/lib/gnupg/rndegd !md5! !mtime!
/usr/lib/gnupg/tiger !md5! !mtime!
/usr/bin/gpg !md5! !mtime!
/usr/bin/gpgv !md5! !mtime!
/usr/share/gnupg/options.skel !md5! !mtime!
/usr/share/gnupg/FAQ !md5! !mtime!
/usr/share/gnupg/faq.html !md5! !mtime!
/usr/share/locale/da/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/de/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/eo/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/et/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/fr/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/id/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/it/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/ja/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/nl/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/pl/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/pt_BR/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/sv/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/locale/tr/LC_MESSAGES/gnupg.mo !md5! !mtime!
/usr/share/info/gpgv.info.gz !md5! !mtime!
/usr/share/man/man1/gpg.1.gz !md5! !mtime!
/usr/share/man/man1/gpgv.1.gz !md5! !mtime!
24/92

app-crypt/gnupg-1.0.7 *
0/101 </i>
			</pre>
			<p>
				Amint látható, nálam a GnuPG-nek több verziója is telepítve van. A <c>qpkg</c>
				szerint a régebbi verzió számos fájlja kicserélődött, mióta 
				telepítettem. Ezek valószínűleg akkor módosultak, amikor frissítettem  
				<path>gnupg-1.0.6</path>-ról <path>gnupg-1.0.7</path>-re. Figyeld meg, hogy az utolsó két sor
szerint
				a <path>gnupg-1.0.7</path>107 fájlja közül 0 módosult,mióta telepítettem. Ez
				jó. Ha bármelyikük változott volna, aggódhatnék.
			</p>

		</body>
	</section>
	<section>
		<title>De várjunk csak... van még más is</title>
		<body>
			<p>
				A <c>qpkg</c> más, itt nem részletezendő lekérdezésekre is használható. A 

				 <c>qpkg</c>-nek igazán komplett manpage-e van. Bővebb információkért fordulj oda.
				 </p>

		</body>
	</section>
</chapter>
<chapter>
	<title>lintool</title>
	<section>
		<title>Bevezetés</title>
		<body>
			<p>

				A <c>lintool</c> olyan program, amellyel az ebuildek szabványoknak és előírásoknak  
				való megfelelését ellenőrizhetjük. Fontos, hogy az ebuild-fejlesztők használják a  <c>lintool</c>t,
				biztosítandó, hogy helyesen csinálják a dolgokat, és a core teamnek ne kelljen
				ne kelljen a feltétlen szükségesnél többet csinálnia ahhoz, hogy az ebuild bekerüljön a Gentoo
				lerakatba.
			</p>
		</body>
	</section>
	<section>
		<title>Használat</title>

		<body>
			<p>
				Ha futtatod a<c>lintool</c>t, kapsz egy szépen formázott listát az elvégzett
				ellenörzésekről.
			</p>
			<pre> 
hebron portage # <i>lintool app-crypt/gnupg/gnupg-1.0.7.ebuild 
app-crypt/gnupg/gnupg-1.0.7.ebuild                                     : Not OK

-------------------------------------------------------------------------------
 Summary for all 1 ebuild(s) checked                             # errors/warns
 -------------------------------------------------------------------------------
 Testing for illegal space characters, weird backslash formatting  : 0 / 0
 Testing for malformed headers                                     : 0 / 1
 Testing for occurence of deprecated try                           : 0 / 0
 Testing for superfluous A=${P}.tar.gz                             : 0 / 0
 Testing for empty DEPEND                                          : 0 / 0
 Testing for empty HOMEPAGE                                        : 0 / 0
 Testing for empty DESCRIPTION                                     : 0 / 0
 Testing for presence of env vars                                  : 1 / 1
 Testing for sane USE flag usage                                   : 0 / 0

 Total number of ebuilds with errors                               : 1 (100%)
 Total number of ebuilds with warnings                             : 1 (100%)
		</i>	</pre>
			<p>
				Az első sor összefoglalja, rendben van-e az ebuild vagy sem. A
				<c>gnupg-1.0.7.ebuild</c> ez esetben nincs. Végigböngészve a listát láthatjuk, hogy 
				van egy figyelmeztetésünk egy rosszul formázott headerről, meg egy hibaüzenet környezeti változók miatt.
			</p>

			<p>
				Belenézve az ebuildbe, látom, hogy hiányzik pár szükséges környezeti 
				változó (LICENSE és RDEPEND). Hozzóadva ezeket a hiba megszűnik. De
				még mindig van két figyelmeztetés -- egy rosszulformázott headerről meg egy környezeti vátozóról. Hogy
				megtalálhassam őket, lefuttathatom a <c>lintool</c>t újra a <c>--show-details</c> paraméterrel
			</p>
			<pre> 
hebron gnupg # <i>lintool --show-details ./gnupg-1.0.7.ebuild 
                                
-------------------------------------------------------------------------------
# Some data cut for brevity....

 Status for ./gnupg-1.0.7.ebuild
* Testing for malformed headers                                         : passed
- (W) Has illegal or suspect headers:
 |Suspect copyright year: # Copyright 1999-2000 Gentoo Technologies, Inc.
 * Testing for occurence of deprecated try                               : passed
 * Testing for superfluous A=${P}.tar.gz                                 : passed
 * Testing for empty DEPEND                                              : passed
 * Testing for empty HOMEPAGE                                            : passed
 * Testing for empty DESCRIPTION                                         : passed
 * Testing for presence of env vars                                      : passed
 - (W) Missing SLOT=
 * Testing for sane USE flag usage                                       : passed

 -------------------------------------------------------------------------------
  Summary for all 1 ebuild(s) checked                             # errors/warns
  -------------------------------------------------------------------------------
  Testing for illegal space characters, weird backslash formatting  : 0 / 0
  Testing for malformed headers                                     : 0 / 1
  Testing for occurence of deprecated try                           : 0 / 0
  Testing for superfluous A=${P}.tar.gz                             : 0 / 0
  Testing for empty DEPEND                                          : 0 / 0
  Testing for empty HOMEPAGE                                        : 0 / 0
  Testing for empty DESCRIPTION                                     : 0 / 0
  Testing for presence of env vars                                  : 0 / 1
  Testing for sane USE flag usage                                   : 0 / 0

  Total number of ebuilds with errors                               : 0 (0%)
  Total number of ebuilds with warnings                             : 1 (100%)
		</i>	</pre>
			<p>Most már látom, hogy alighanem rossz évet adtam meg, és hogy hiányzik
				a SLOT változó. Ezt javítva az összes figyelmeztetés eltűnik.</p>

		</body>
	</section>
</chapter>
<chapter>

	<title>epm</title>
	<section>
		<title>Bevezetés</title>
		<body>
			<p>
				Az <c>epm</c> egy csomagkezelő eszköz, amely a Red Hat rpm parancsait másolja. Jelen állapotában
				nem rendelkezik az rpm valamennyi opciójával, de a hasznosabb rpm lekérdezési opciók
				benne vannak.
			</p>

			<p>
				Csomageltávolításra is képes, amiről itt most nem szólunk. Az <c>epm --help</c>
				paranccsal többet is megtudhatsz arról, hogyan törölj csomagokat az <c>epm</c>mel.
			</p>
		</body>
	</section>
	<section>

		<title>Csomaglekérdezés epmmel</title>
		<body>
			<p>
				Az <c>epm</c> gyakorlatilag ugyanazokkal a parancssori opciókkal rendelkezik, mint a Red Hat
				rpmje. Az <c>epm -qa</c> kilistázza az összes telepített csomagot. Az <c>epm -ql</c> kilistázza
				az egy adott ebuildhez tartozó fájlokat.
			</p>

			<pre> 
hebron etc # <i>epm -ql ethereal
/usr/lib/ethereal/plugins/0.8.20/gryphon.so
/usr/lib/ethereal/plugins/0.8.20/gryphon.la
/usr/lib/ethereal/plugins/0.8.20/gryphon.a
/usr/lib/ethereal/plugins/0.8.20/mgcp.so
/usr/lib/ethereal/plugins/0.8.20/mgcp.la
/usr/lib/ethereal/plugins/0.8.20/mgcp.a
/usr/lib/ethereal/plugins/0.8.20/cosnaming.so
/usr/lib/ethereal/plugins/0.8.20/cosnaming.la
/usr/lib/ethereal/plugins/0.8.20/cosnaming.a
/usr/lib/ethereal/plugins/0.8.20/coseventcomm.so
/usr/lib/ethereal/plugins/0.8.20/coseventcomm.la
/usr/lib/ethereal/plugins/0.8.20/coseventcomm.a
/usr/bin/ethereal
/usr/bin/editcap
/usr/bin/mergecap
/usr/bin/tethereal
/usr/bin/text2pcap
/usr/bin/idl2eth
/usr/share/man/man1/idl2eth.1.gz
/usr/share/man/man1/tethereal.1.gz
/usr/share/man/man1/text2pcap.1.gz
/usr/share/man/man1/editcap.1.gz
/usr/share/man/man1/ethereal.1.gz
/usr/share/man/man1/mergecap.1.gz
/usr/share/doc/ethereal-0.8.20/AUTHORS.gz
/usr/share/doc/ethereal-0.8.20/COPYING.gz
/usr/share/doc/ethereal-0.8.20/NEWS.gz
/usr/share/doc/ethereal-0.8.20/ChangeLog.gz
/usr/share/doc/ethereal-0.8.20/README.gz
/usr/share/doc/ethereal-0.8.20/INSTALL.configure.gz
/usr/share/doc/ethereal-0.8.20/TODO.gz
/usr/share/doc/ethereal-0.8.20/README.aix.gz
/usr/share/doc/ethereal-0.8.20/README.bsd.gz
/usr/share/doc/ethereal-0.8.20/README.hpux.gz
/usr/share/doc/ethereal-0.8.20/README.irix.gz
/usr/share/doc/ethereal-0.8.20/README.linux.gz
/usr/share/doc/ethereal-0.8.20/README.tru64.gz
/usr/share/doc/ethereal-0.8.20/README.win32.gz
/usr/share/doc/ethereal-0.8.20/README.vmware.gz
/etc/ethereal/manuf </i>
			</pre>
			<p>
				Az <c>epm</c>-ben van néhány olyan lekérdező paraméter, ami a <c>qpkg</c>-ben
nincs 
				e cikk írásakor. Például a lekérdezés leszűkíthető a konfigurációs fájlokra, vagy csak a
dokumentációs
				fájlokra.
			</p>
			<pre>

hebron etc # <i>epm -qc ethereal
/etc/ethereal/manuf

hebron etc # epm -qd ethereal
/usr/share/man/man1/idl2eth.1.gz
/usr/share/man/man1/tethereal.1.gz
/usr/share/man/man1/text2pcap.1.gz
/usr/share/man/man1/editcap.1.gz
/usr/share/man/man1/ethereal.1.gz
/usr/share/man/man1/mergecap.1.gz
/usr/share/doc/ethereal-0.8.20/AUTHORS.gz
/usr/share/doc/ethereal-0.8.20/COPYING.gz
/usr/share/doc/ethereal-0.8.20/NEWS.gz
/usr/share/doc/ethereal-0.8.20/ChangeLog.gz
/usr/share/doc/ethereal-0.8.20/README.gz
/usr/share/doc/ethereal-0.8.20/INSTALL.configure.gz
/usr/share/doc/ethereal-0.8.20/TODO.gz
/usr/share/doc/ethereal-0.8.20/README.aix.gz
/usr/share/doc/ethereal-0.8.20/README.bsd.gz
/usr/share/doc/ethereal-0.8.20/README.hpux.gz
/usr/share/doc/ethereal-0.8.20/README.irix.gz
/usr/share/doc/ethereal-0.8.20/README.linux.gz
/usr/share/doc/ethereal-0.8.20/README.tru64.gz
/usr/share/doc/ethereal-0.8.20/README.win32.gz
/usr/share/doc/ethereal-0.8.20/README.vmware.gz
		</i>	</pre>
			<note>
				Az <c>emp --help</c> kilistázza mindazon opciókat, amiket az epm <e>a végén majd</e> támogatni fog. Megjegyzendő,
azonban, hogy
				a csillaggal jelölt opciókat még nem implementálták.
			</note>
		</body>
	</section>
</chapter>

<chapter>
	<title>Egyebek</title>
	<section>
		<title>etc-update</title>
		<body>
			<!-- 
			- Feel free to add more to this. It probably deserves its own chapter, but I don't 
			- use it, so I can't really write much about it.
			-->
			<p>
				Az <c>etc-update</c> alternatívát kínál a konfig fájlok kézzel való frissítéséhez.
				Miután lefutott egy olyan emerge, amely módosította a konfigurációs fájlokat, lefuttathatod az etc-update-et, amely végigvezet a
				konfigurációs fájlok frissítésének folyamatán.
			</p>

			<p>
				Menüs kezelőfelülettel rendelkezik, és lehetőséget ad a konfig fájlok megnézésére és 
				összeolvasztására, mielőtt döntenél felőlük.
			</p>
		</body>
	</section>
	<section>
		<title>gentool</title>
		<body>
			A <p>gentool gyűjtőnév alatt számos kisebb szkript bújik meg, mellyel ebuild statisztikákat
analizálhatunk.
				Például a gentoo-total-coverage kilistázza az összes emailcímet és a hozzájuk tartozó ebuildeket a portage fában
			</p>

		</body>
	</section>
	<section>
		<title>pkg-size</title>
		<body>
			<p>A <c>pkg-size</c> egy adott csomag telepített fájljainak méretét.
			</p>
			<pre>

hebron portage # <i>pkg-size nmap   
net-analyzer/nmap-2.54_beta24-r1 897024 (876KB) </i>
			</pre>
		</body>
	</section>
	<section>
		<title>mkebuild</title>
		<body>
			<p>A <c>mkebuild</c> leegyszerűsíti az ebuild-készítést, automatizálva azt, 
			amit a folyamatból lehet. A <c>mkebuild [filenév]</c> létrehoz egy
				ebuildet ilyen néven. A fájlnak valamilyen archív formában kell lennie. Munka közben
				jelzi az elvégzendő változtatásokat.
			</p>

		</body>
	</section>
	<section>
		<title>emerge-webrsync</title>
		<body>
			<!-- Can't find any documentation on this anywhere... not even a comment in the
code. -->
			<p>Letölti a napi snapshotot HTTP-n keresztül wget-tel, és (opcionálisan) szinkronizálja a
portage-dzsel.
			</p>
		</body>

	</section>
</chapter>
</guide>

