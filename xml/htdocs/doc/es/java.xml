<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide>
<title>Gua Java Gentoo</title>
<author title="Author and Editor">
<mail link="karltk@gentoo.org">Karl Trygve Kalleberg</mail>
</author>
<author title="Traductor">
<mail link="pablo.leira@pitagoral.com">Pablo Pita Leira</mail>
</author>
<author title="Editor-Es">
<mail link="bass@gentoo.org">José Alberto Suárez López</mail>
</author>
<abstract>
Guía Java para Usuarios y Desarrolladores de Gentoo 
</abstract>

<version>0.1</version>
<date>20 Abril, 2002</date>

<chapter>

<title>Instalar el JDK/JRE</title>
<section>
<title>Introducción</title>
<body>
<p>Gentoo suministra numerosos JDKs (alias para Java Development Kit) y JREs (alias para 
Java Runtime Environment). El par por defecto es el Blackdown JDK/JRE 
, pues es libre (como la cerveza gratis) sin ningún requisito de registrarse.
</p>

<note>Cuando kaffe esté en condiciones de reemplazar los JRE/JDK actuales, 
probablemente se convierta en nuestra JDK/JRE por defecto.</note>

<p>Normalmente, las JDK/JRE de Sun e IBM son más rápidas, pero
el obtenerlas requiere algo más de trabajo pues tienes que registrarte y 
aceptar la licencias previamente a bajártelas (además IBM requiere que te 
registres).</p>

<p>Nuestros ebuilds para Sun e IBM JDK/JREs te notificarán donde tienes que ir 
para bajarte los ficheros.</p>
</body>
</section>

<section>
<title>Instalando las JDK/JREs de Sun/IBM</title>
<body>

<p>Si lanzas <c>emerge dev-java/sun-jdk-1.3.1</c> o <c>emerge
dev-java/ibm-jdk-1.3.1</c>, se te dirá que tú mismo te tienes que bajar 
los ficheros. Esto tiene que ver con las restricciones de la JDK/JRE de SUN 
(la licencia está online) y con los requisitos de registrarse con la 
JDK/JRE de IBM.</p>

<note>También hay una versión dev-java/sun-jdk-1.4.0, pero no todos los paquetes 
funcionan perfectamente con Java 1.4, as que tú mismo si usas la JDK 1.4.0
.</note>

<p>Debes bajarte los ficheros indicados en 
<path>/usr/portage/distfiles</path>. Una vez hecho esto, vuelve a lanzar el comando 
emerge, y la JDK/JRE se instalarán sin problemas en <path>/opt</path>.</p>
</body>
</section>
</chapter>

<chapter>
<title>Configurar tu JDK/JRE</title>
<section>
<title>Introducción</title>
<body>
<p>Gentoo posee la posibilidad de instalar múltiples JDKs y JREs sin conflictos entre ellas. 
No obstante, hay que tener unas cuantas cosas en cuenta, como
se indica a continuación.</p>

<p>Usando el script <c>java-config</c>, si tienes acceso root puedes establecer
la configuración por defecto del sistema. Los usuarios también pueden usar
<c>java-config</c> para su configuración por defecto, pero en este caso será distinta 
de la configuración por defecto del sistema.</p>
</body>
</section>

<section>
<title>Establecer la JDK/JRE por defecto</title>
<body>
<p>El comando <c>java-config --list-available-vms</c> te lista
las JREs y JDKs disponibles en tu sistema, así:</p>
<pre>
[%1 ~] java-config --list-available-vms
[blackdown-jdk-1.3.1] Blackdown JDK 1.3.1 (/etc/env.d/java/20blackdown-jdk-1.3.1)
[blackdown-jre-1.3.1] Blackdown JRE 1.3.1 (/etc/env.d/java/20blackdown-jre-1.3.1)
[ibm-jdk-1.3.0] IBM JDK 1.3.0 (/etc/env.d/java/20ibm-jdk-1.3.0)
[ibm-jdk-1.3.1] IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
[ibm-jre-1.3.1] IBM JRE 1.3.1 (/etc/env.d/java/20ibm-jre-1.3.1)
[sun-jdk-1.4.0] Sun JDK 1.4.0 (/etc/env.d/java/20sun-jdk-1.4.0)
</pre>
<p>El nombre en los corchetes <path>"[]"</path> es un alias o ID para
esa máquina virtual (VM) particular. Usa esa ID para pasarla a <c>java-config
--set-system-vm</c>, as:</p>
<pre>
[#1 ~] java-config --set-system-vm=ibm-jdk-1.3.1
Now using IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
</pre>

<note>Tienes que ser root para usar --set-system-vm</note>

<p>Una vez que has usado <c>java-config --set-system-vm</c> con una VM
particular, tienes que regenerar tu /etc/profile.env,
así:</p>
<pre>
[#1 ~] env-update
</pre>

<p>Después de esto, o vuelves a hacer login, o lanzas source
<path>/etc/profile</path> en tú entorno.</p>

<p>Como usuario normal, también puedes usar <c>java-config --set-user-vm</c>,
el cual te creará <path>$HOME/.gentoo/java-env</path> con todas las variables de 
entorno requeridas. A este fichero deberás hacerle source desde tu script de 
inicialización de tu shell (<path>$HOME/.zshenv</path> en mí caso).</p>
</body>
</section>

<section>
<title>Establecer un CLASSPATH por defecto</title>
<body>
<p><c>java-config</c> también puede usarse para establecer el
CLASSPATH por defecto del sistema, y por supuesto, para tener un
CLASSPATH por defecto específico para el usuario.</p>

<p>Lo primero es ver la lista de librerías java que podrán estar en 
tu CLASSPATH, así:</p>
<pre>
[%1 ~] java-config --list-available-packages
[ant] No description (/usr/share/ant/classpath.env)
[java-gnome] No description (/usr/share/java-gnome/classpath.env)
[java-gtk] No description (/usr/share/java-gtk/classpath.env)
[log4j] "" (/usr/share/log4j/package.env)
</pre>

<note>Ninguno de estos paquetes tiene una descripción adecuada. Esto es
algo que se implementará en un futuro no lejano.</note>

<p>Otra vez, los nombres en corchetes <path>"[]"</path> son las IDs que tienes que 
pasar a <c>java-config --set-system-classpath</c>, as:</p>
<pre>
java-config --set-system-classpath=log4j,java-gtk,java-gnome
</pre>
<p>De nuevo, tienes que lanzar <c>env-update</c> para actualizar el entorno del
sistema, y quizás, quieras volver a hacer login o lanzar source
 <path>/etc/profile</path>.</p>
<p>Para los usuarios, <c>java-config --set-user-classpath</c> crear
<path>$HOME/.gentoo/java-env-classpath</path>, el cual es
incluido automáticamente por <path>$HOME/.gentoo/java-env</path>.</p>
</body>
</section>
</chapter>

<chapter>
<title>Recursos Adicionales</title>
<section>
<title>Recursos Off-line</title>
<body>
<ul>
<li><c>man java-config</c></li>
<li><c>java-config --help</c></li>
<li>El misma script <path>/usr/bin/java-config</path></li>
</ul>
</body>
</section>
<section>
<title>Recursos Online</title>
<body>
<ul>
<li>Los archivos de las listas de correo <uri link="http://lists.gentoo.org/pipermail/gentoo-dev/">
gentoo-dev </uri>, 
<uri link="http://lists.gentoo.org/pipermail/gentoo-user/"> gentoo-user
</uri></li>
<li>#gentoo en irc.openprojects.net</li>
</ul>
</body>
</section>
</chapter>
<chapter>
<title>Inconveniencias</title>
<section>
<title>En General</title>
<body>
<p>Si seleccionas una JRE como tu VM por defecto, podrás no tener disponible el comando
<c>javac</c>, a menos que lo hayas instalado manualmente, por ejemplo con 
un symlink que se encargue de ello.</p>

<p>Jikes (la VM de IBM) ser usada para compilar alguno de los paquetes grandes si es que
está disponible. En el futuro esperamos compilar con Jikes todos los paquetes que 
dependan de Java, de tal forma que algunas dependencias en el JDK serán reemplazadas 
con dependencias en el JRE.</p>

<p>Con algunas versiones de Portage, al hacer <c>emerge --world
update</c> se instalar el JDK sin importar si lo habas instalado
antes o no. Esta conducta es un error bien conocido que ha sido tratado en las últimas versiones
de Portage.</p>
</body>
</section>
</chapter>
</guide>
