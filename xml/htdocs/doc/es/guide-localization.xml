<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/guide-localization.xml,v 1.7 2006/04/30 12:17:16 yoswink Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/es/guide-localization.xml" lang="es">
<title>Configurando localización en Gentoo Linux</title>

<author title="Autor">
 Alexander Holler
</author>
<author title="Traductor/Editor">
  <mail link="slucy@uchicago.edu">Steven Lucy</mail>
</author>
<author title="Editor">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Editor">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Editor">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Editor">
  <mail link="flammie@gentoo.org">Flammie Pirinen</mail>
</author>
<author title="Traductor">
  <mail link="bass@gentoo.org">José Alberto Suárez López</mail>
</author>
<author title="Traductor">
  <mail link="chiguire@gentoo.org">John Christian Stoddart</mail>
</author>
<author title="Traductor">
  <mail link="yoswink@gentoo.org">José Luis Rivero</mail>
</author>
<author title="Traductor">
  <mail link="edulix@iespana.es">Eduardo Robles Elvira</mail>
</author>
<author title="Traductor">
  <mail link="ertomas@gmail.com">Tomás Cayuelas Ruiz</mail>
</author>

<abstract>
Este documento explica qué pasos se ha de seguir para transformar un
sistema Gentoo Linux a un idioma distinto al inglés. También explica
cómo llegar a mostrar el símbolo del Euro.
</abstract>

<version>1.24</version>
<date>2005-11-25</date>

<!--
<chapter>
<title>Prefacio</title>
<section>
<body>

<p>
Como soy español, explicaré cómo activar mi idioma, que es el
castellano. Si quiere usar otro idioma, sólo ha de cambiar el código
del idioma <e>es</e> con el que corresponda a su país, p.e. <e>fr</e>
para el francés o <e>de</e> para el alemán. 
</p>

</body>
</section>
</chapter>

-->
<chapter>
<title>Zona horaria</title>
<section>
<body>

<p>
Para mantener la hora correctamente, el archivo <path>/etc/localtime</path>
debe contener el archivo que corresponde a la zona horaria que quiera usar.
Examine los archivos en <path>/usr/share/zoneinfo/</path> y escoja su zona
horaria o ciudad más cercana.
</p>

<pre caption="Estableciendo la zona horaria">
#<i>cp /usr/share/zoneinfo/Europe/Madrid /etc/localtime</i>
#<i>date</i>
Sun Feb 16 08:26:44 CET 2003
</pre>

<note>
Asegúrese que el indicador de zona horaria de tres letras (en este
caso "CET") sea el correcto para su área.
</note>

<note>
Puede personalizar el valor de la variable de entorno <c>TZ</c> al texto que
sigue <path>/usr/share/zoneinfo</path> en el archivo rc de su shell
(<path>.bash_profile</path> en el caso de bash). En este caso
<c>TZ="Europe/Madrid"</c>.
</note>

</body>
</section>
</chapter>

<chapter>
<title>El reloj del sistema</title>
<section>
<body>

<p>
En la mayoría de las instalaciones de Gentoo Linux installations, el reloj
del sistema está puesto a la hora UTC (o GMT, Greenwich Mean Time) y luego se
ajusta tomando en cuenta la zona horaria para establecer la hora actual,
local. Si por alguna razón requiere que la hora del reloj del sistema no sea
UTC habrá que modificar <path>/etc/conf.d/clock</path> para cambiar el valor
de <c>CLOCK</c> de <c>UTC</c> a <c>local</c>
</p>

<pre caption="reloj local vs. GMT">
<comment>(recomendado:)</comment>
CLOCK="UTC"
<comment>(o:)</comment>
CLOCK="local"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Locales del Sistema</title>
<section>
<title>¿Qué son las locales?</title>

<body>

<p>
Las locales son un sistema de información que la mayoría de programas
utilizan para determinar los ajustes específicos del país,y de la lengua.
Las locales y sus datos son parte de la biblioteca del sistema y se pueden
encontrar en <path>/usr/share/locale</path> en la mayoría de sistemas. Una
local es generalmente nombrada como <c>ab_CD</c> donde <c>ab</c> representa
sus dos (o tres) letras del código del lenguaje (según lo especificado en la
ISO-639) y <c>CD</c> representa sus dos letras del código del país (según
lo especificado en la ISO-3199).
</p>

</body>
</section>
<section>
<title>Variables de entorno para las Locales</title>
<body>

<p>
Los ajustes de las locales se almacenan en las variables de entorno.  Éstos
se ajustan normalmente dentro de <path>/etc/env.d/02locale</path> (para
ajustar todo el sistema) y <path>~/.bashrc</path> (para ajustar un usuario
especifico) fichero.  Las variables que controlan diferentes aspectos de las
locales se muestran en la tabla de abajo, esas con la precedencia más alta
(ej. eliminan acciones de otras de más abajo) son las que están más arriba
de la tabla. Todas las variables toman un nombre de una local como
<c>ab_CD</c> formato ya comentado arriba.
</p>

<table>
<tr>
  <th>Nombre de la Variable</th>
  <th>Explicación</th>
</tr>
<tr>
  <ti>LC_ALL</ti>
  <ti>
   Define todas las locales inmediatamente. Éste es el nivel superior para
   las locales y sobreescribirá cualquier otro ajuste.
  </ti>
</tr>
<tr>
  <ti>LC_COLLATE</ti>
  <ti>
   Define ordenar alfabéticamente la cadena. Esto afecta, por (ej. la salida
   clasificada del listado de un directorio).
  </ti>
</tr>
<tr>
  <ti>LC_CTYPE</ti>
  <ti>
   Define el carácter que maneja las propiedades del sistema. Determina
   qué caracteres se consideran parte del alfabeto, numérico, etc... Tambien
   determina si el juego de caracteres usado, es aplicable.
  </ti>
</tr>
<tr>
  <ti>LC_MESSAGES</ti>
  <ti>
   Las localizaciones de los programas para aplicaciones que usan el mensaje
   de localización basado en esquemas (la mayoría de los programas GNU, vea
   los capítulos siguientes para una información mas exacta sobre lo que
   hacen, y como conseguir los programas).
  </ti>
</tr>
<tr>
  <ti>LC_MONETARY</ti>
  <ti>
    Define las unidades monetarias y el formato de los actuales valores
    numericos.
  </ti>
</tr>
<tr>
<ti>LC_NUMERIC</ti>
 <ti>
   Define el formato de los valores numericos que no son 
   monetarios. Afecta a cosas, como el separador para los miles y el
   separador decimal.
</ti>
</tr>
<tr>
  <ti>LC_PAPER</ti>
  <ti>Define el tamaño por defecto del papel</ti>
</tr>
<tr>
  <ti>LANG</ti>
  <ti>
   Define todos los ajustes de las locales inmediatamente. Este ajuste se
   puede ver sobreescrita si se usan ajustes individuales del tipo LC_* o
   incluso por LC_ALL.
  </ti>
</tr>
</table>

<note>
Aunque la mayoría de los programas trabajan con LC_ALL solamente, alguno de
ellos podría tener un mal funcionamiento, si LC_ALL es elegida y LANG no. 
Si usted quiere estar seguro, elija <e>ambas</e>.
</note>

<p>
La mayoría de los usuarios solo eligen la variable LANG, y quizás la variable
LC_CTYPE a nivel de usuario agregando definiciones al interprete de comandos
para el lanzamiento de archivos que definen manualmente la variable de entorno
desde la linea de comandos:
</p>

<pre caption="Configurar las locales en español">
export LANG="es_ES@euro"
</pre>

<note>
Añada <c>@euro</c> a sus locales si usted quiere usar el simbolo del Euro (€)
</note>

<p>
Para que los programas puedan trabajar con la localizacion que usted eligió,
usted probablemente necesitará compilar los programas con la opción <c>nls</c>
(soporte para lenguaje nativo, "Native Language Support"), indicado en sus
USE. La mayoría de los programas usan nls pero también necesitan la librería
gettext para extraer y utilizar mensajes localizados.  Por supuesto, el
Portage de Gentoo lo instalará automáticamente cuando se requiera.
</p>

<p>
Hay tambien localizaciones adicionales para la variable llamada LINGUAS, 
que afecta a los ficheros de localizacion que se instalan con los 
programas basados en gettext, y decide la localizacion que se tiene que 
usar para algunos programas especificos, por ejemplo:
<c>kde-base/kde-i18n</c> and <c>app-office/openoffice</c>. Dicha variable
se especifica dentro del fichero <path>/etc/make.conf</path>:
</p>

<pre caption="Ajustando LINGUAS en /etc/make.conf">
# <i>nano -w /etc/make.conf</i>
<comment>(Añada la variable LINGUAS. Para nosotros, 
usaremos el Castellano:)</comment>
LINGUAS="es"
</pre>


</body>
</section>
<section>
<title>Generando localizaciones específicas</title>
<body>

<p>
Si utiliza una localización que no esté disponible por defecto, debe usar
<c>localedef</c> para generar su propia localización. Por ejemplo:
</p>

<pre caption="Generando una localización con localedef">
# <i>localedef -c -i es_ES -f ISO-8859-15 es_ES.ISO-8859-15</i>
</pre>

<p>
Luego de generar la localización, podrá exportar su variable de
entorno LANG tal como lo desee.
</p>

<pre caption="Exportando la varible de entorno LANG">
# <i>export LANG="es_ES.ISO-8859-15"</i>
</pre>

</body>
</section>
<section>
<title>El parámetro USE userlocales</title>
<body>

<p>
Probablemente utilize uno, tal vez dos localizaciones en su sistema. Hasta
ahora, la compilación de <c>glibc</c> genera un conjunto completo de todas las
localizaciones disponibles. Ahora puede activar el parámetro USE
<c>userlocales</c> y especificar sólo las localizaciones que necesite en
<path>/etc/locales.build</path> .
</p>

<pre caption="Active el parámetro USE especialmente para glibc">
echo "sys-libs/glibc userlocales" >> /etc/portage/package.use
</pre>

<p>
Ahora identifique las localizaciones que quiere usar:
</p>

<pre caption="Añadiendo locales a /etc/locales.build">
en_US/ISO-8859-1
en_US.UTF-8/UTF-8
es_ES/ISO-8859-15
es_ES@euro/ISO-8859-15
es_ES.UTF-8/UTF-8
</pre>

<p>
El siguiente paso es recompilar <c>glibc</c> . Por supuesto, puede diferir
este paso hasta que venga la proxima actualización de <c>glibc</c> esté
disponible.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Distribución del teclado para la consola</title>
<section>
<body>

<p>
La distribución del teclado para la consola se configura con la variable
<c>KEYMAP</c> , en el archivo <path>/etc/conf.d/keymaps</path> . Los valores
válidos podrán encontrarse en <path> /usr/share/keymaps/ <c>{arch}</c> /
</path> . El subdirectorio <path>i386</path> está divido por distribución de
teclas ( <path>qwerty/</path> , <path>azerty/</path> , etc.). Algunos idiomas
tienen múltiples opciones, por lo que tal vez desee experimentar para decidir
cuál le sirve mejor.
</p>

<p>
El castellano requiere el uso de "teclas muertas", así que es
preferible no desactivarlas. Esto le librará de tener que pulsar la barra
espaciadora tras escribir caracteres como ~.
</p>

<pre caption="Establecer el mapa de teclado para la consola">
KEYMAP="es"
KEYMAP="es euro2"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Distribución del teclado en el servidor X</title>
<section>
<body>

<p>
La distribución del teclado a ser usado bajo el servidor X está pautado en
<path>/etc/X11/xorg.conf</path> por la opción <c>XkbLayout</c> .
</p>

<pre caption="Configurando el mapa del teclado para X">
Section "InputDevice"
    Identifier  "Keyboard1"
    ...
    Option "XkbLayout"    "es"
    # Option "XkbVariant"  "nodeadkeys"
    ...
</pre>

</body>
</section>
</chapter>

<chapter>
<title>KDE</title>
<section>
<body>

<p>
Para KDE se debe instalar el paquete <c>kde-base/kde-i18n</c>. Referente a 
Kde-i18n <uri link="#variables">variable LINGUAS</uri> descrita anteriormente.
</p>

</body>
</section>
</chapter>

<chapter>
<title>El símbolo Euro en la consola</title>
<section>
<body>

<p>
Para obtener el símbolo del Euro en la consola, hará falta configurar la
variable <c>CONSOLEFONT</c> en el archivo <path>/etc/conf.d/consolefont</path>
a uno de los archivos bajo <path>/usr/share/consolefonts/</path> (sin incluir
el <c>.psfu.gz</c>). El archivo <c>lat9w-16</c> tiene el símbolo del Euro.
</p>

<pre caption="Configurar la fuente de la consola">
CONSOLEFONT="lat9w-16"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>El símbolo del Euro en X</title>
<section>
<title>Para la mayoría de las aplicaciones</title>
<body>

<p>
Obteniendo el símbolo del Euro bajo X es algo más difícil. Lo primero es
cambiar las definiciones de <c>fixed</c> y <c>variable</c> en
<path>/usr/X11R6/lib/X11/fonts/misc/fonts.alias</path> para que terminen en
<c>iso8859-15</c> en vez de <c>iso8859-1</c> .
</p>

<pre caption="Configurando las fuentes por defecto de X">
fixed        -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-15
variable     -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Algunas aplicaciones usan sus propias fuentes y habrá que decirle a cada una
que hagan uso de fuentes con el símbolo del Euro. Puede hacer esto por usuario
en <path>.Xdefaults</path> (puede copiar este archivo a
<path>/etc/skel/</path> para que pueda ser aprovechado por los nuevos
usuarios) o a nivel global para cualquier aplicación con un archivo de
recursos en  <path>/usr/X11R6/lib/X11/app-defaults/</path> (como xterm).  En
estos archivos generalmente hay que cambiar una línea preexistente en vez de
agregar líneas. Para cambiar nuestra fuente en xterm haríamos:
</p>

<pre caption="Cambiando la fuente de xterm">
<comment>(en su directorioin your home directory)</comment>
# <i>echo 'XTerm*font: fixed' >> .Xresources</i>
# <i>xrdb -merge .Xresources</i>
</pre>

</body>
</section>
<section>
<title>El símbolo del Euro en (X)Emacs</title>
<body>

<p>
Para usar el símbolo del Euro en (X)Emacs, agregue lo siguiente al archivo
<path>.Xdefaults</path> :
</p>

<pre caption="Cambiando la fuente de emacs">
Emacs.default.attributeFont: -*-courier-medium-r-*-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Para XEmacs (no el Emacs original), hay que hacer un poco más. En 
<path>/home/user/.xemacs/init.el</path>
, agregue:
</p>

<pre caption="Cambiando la fuente de xemacs">
(define-key global-map '(EuroSign) '[€])
</pre>

<note>
El símbolo entre corchetes [] es el del Euro.
</note>

</body>
</section>

<section>
<title>OpenOffice.Org</title>
<body>

<p>
El codigo fuente actual de los ebuilds <c>app-office/openoffice</c> 
(o <c>-ximian</c>) soportan <uri link="#variables">variable LINGUAS</uri>
para seleccionar el lenguaje mediante un GUI. Actualmente el ebuild
precompilado de <c>app-office/openoffice-bin</c> en su versión <e>estable</e>
<e>no</e> soporta todavia la variable LINGUAS, sin embargo, para utilizar 
OpenOffice.Org totalmente en su lengua usted debería de instalar cualquier
version de codigo fuente, o, instalar la version inestable del paquete
precompilado, ateniendose a los riegos que ello conlleva. Para ver el estado
de la traduccion del GUI, de los diccionarios y otras localizaciones en su 
lengua, puede visitar la <uri link="http://l10n.openoffice.org/languages.html">
pagina web de localizaciones de Openoffice.Org.</uri>.
</p>

<p>
Por favor haga cuenta que este paquete ahora utiliza la variable de entorno
LINGUAS para especificar la localización. El sistema con la variable antigua
LANGUAGE=ENUS|PORT ya <e>no</e> funciona. El lenguaje por defecto es "US
English". Si desea cambiar el lenguaje por defecto de OpenOffice, revise el
mismo ebuild para obtener el código de idioma apropiado.
</p>

</body>
</section>
</chapter>
</guide>
