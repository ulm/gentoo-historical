<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link = "/doc/es/guide-localization.xml" lang="es">
<title>Configurando localización en Gentoo Linux</title>

<author title="Author">
  Alexander Holler
</author>
<author title="Traductor/Editor">
  <mail link="slucy@uchicago.edu">Steven Lucy</mail>
</author>
<author title="Editor">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Editor">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Editor">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Editor">
  <mail link="flammie@gentoo.org">Flammie Pirinen</mail>
</author>
<author title="Editor Es">
   <mail link="bass@gentoo.org">José Alberto Suárez López</mail>
</author>
<author title="Editor Es">
   <mail link="chiguire@gentoo.org">John Christian Stoddart</mail>
</author>
<author title="Editor Es">
   <mail link="yoswink@gentoo.org">José Luis Rivero</mail>
</author>
<author title="Traductor">
   <mail link="edulix@iespana.es">Eduardo Robles Elvira</mail>
</author>

<abstract>
Este documento explica qué pasos se ha de seguir para transformar un
sistema Gentoo Linux a un idioma distinto al inglés. También explica
cómo llegar a mostrar el símbolo del Euro.
</abstract>

<version>1.13</version>
<date>2005-02-05</date>

<chapter>
<title>Prefacio</title>
<section>
<body>
<p>
Como soy español, explicaré cómo activar mi idioma, que es el
castellano. Si quiere usar otro idioma, sólo ha de cambiar el código
del idioma <e>es</e> con el que corresponda a su país, p.e. <e>fr</e>
para el francés o <e>de</e> para el alemán. 
</p>
</body>
</section>
</chapter>

<chapter>
<title>Zona horaria</title>
<section>
<body>
<p>
Para mantener la hora correctamente, el archivo
<path>/etc/localtime</path> debe apuntar al archivo que corresponde a
la zona horaria que quiera usar. Examine los archivos en
<path>/usr/share/zoneinfo/</path> y escoja su zona horaria o ciudad
más cercana.
</p>

<pre caption="Estableciendo la zona horaria">
# <i>ln -sf /usr/share/zoneinfo/Europe/Madrid /etc/localtime</i>
# <i>date</i>
Sun Feb 16 08:26:44 CET 2003
</pre>

<note>
Asegúrese que el indicador de zona horaria de tres letras (en este
caso "CET") sea el correcto para su área.
</note>

<note>
Puede personalizar el valor de la variable de entorno <c>TZ</c> al texto
que sigue <path>/usr/share/zoneinfo</path> en el archivo rc de su
shell (<path>.bash_profile</path> en el caso de bash). En este caso
<c>TZ="Europe/Madrid"</c>.
</note>
</body>
</section>
</chapter>

<chapter>
<title>El reloj del sistema</title>
<section>
<body>

<p>
En la mayoría de las instalaciones de Gentoo Linux installations, el
reloj del sistema está puesto a la hora UTC (o GMT, Greenwich Mean
Time) y luego se ajusta tomando en cuenta la zona horaria para
establecer la hora actual, local. Si por alguna razón requiere que la
hora del reloj del sistema no sea UTC habrá que modificar
<path>/etc/rc.conf</path> para cambiar el valor de <c>CLOCK</c>.
</p>

<pre caption="reloj local vs. GMT">
<codenote>recomendado:</codenote>
CLOCK="UTC"
<codenote>o:</codenote>
CLOCK="local"
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Locales POSIX</title>
<section>
<title>Usando Locales Existentes</title>
<body>

<p>
El siguiente paso es establecer el valor de la variable de entorno
<c>LANG</c>, el cual es usado por el shell y por el manejador de
ventanas (entre otras aplicaciones). Se pueden encontrar valores
válidos en el directorio <path>/usr/share/locale</path> y normalmente
toman la forma <c>ab_CD</c>, donde el <c>ab</c> representa el código
de dos letras de su idioma y <c>CD</c> representa el el código de dos
letras de su país. Se puede omitir el <c>_CD</c> si su idioma se habla
sólo (o principalmente) en un único país. <c>LANG</c> puede
establecerse en <path>/etc/profile</path> si desea que tenga efecto en
todo el sistema, o en <path>~/.bashrc</path> para un único usuario.
</p>

<pre caption="Estableciendo la localización POSIX">
export LANG="es_ES@euro"
</pre>

<note>
Agregue <c>@euro</c> a su localización si desea usar el símbolo
monetario para Euros (&#8364;)
</note>
</body>
</section>

<section>
<title>Generando localizaciones específicas</title>
<body>

<p>
Si utiliza una localización que no esté disponible por defecto, debe
usar <c>localedef</c> para generar su propia localización. Por
ejemplo:
</p>

<pre caption="Generando una localización con localedef">
# <i>localedef -c -i en_US -f ISO-8859-15 en_US.ISO-8859-15</i>
</pre>

<p>
Luego de generar la localización, podrá exportar su variable de
entorno LANG tal como lo desee.
</p>

<pre caption="Exporting la varible de entorno LANG">
# export LANG="en_US.ISO-8859-15"
</pre>
</body>
</section>

<section>
<title>El parámetro USE userlocales</title>
<body>

<p>
Probablemente utilize uno, tal vez dos localizaciones en su
sistema. Hasta ahora, la compilaciónde <c>glibc</c> genera un
conjunto completo de todas las localizaciones disponibles. Ahora puede
activar el parámetro USE <c>userlocales</c> y especificar sólo las
localizaciones que necesite en <path>/etc/locales.build</path>.
</p>

<pre caption="Active el parámetro USE especialmente para glibc">
echo "sys-libs/glibc userlocales" >> /etc/portage/package.use
</pre>

<p>
Ahora identifique las localizaciones que quiere usar:
</p>

<pre caption="nano -w /etc/locales.build">
en_US/ISO-8859-1
en_US.UTF-8/UTF-8
de_DE/ISO-8859-1
de_DE@euro/ISO-8859-15
</pre>

<p>
El siguiente paso es recompilar <c>glibc</c>. Por supuesto, puede
diferir este paso hasta que venga la proxima actualización de
<c>glibc</c> esté disponible.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Distribución del teclado para la consola</title>
<section>
<body>

<p>
La distribución del teclado para la consola se configura con la
variable <c>KEYMAP</c>, en el archivo
<path>/etc/rc.conf</path>. Los valores válidos podrán encontrarse en
<path>/usr/share/keymaps/<c>{arch}</c>/</path>. El subdirectorio
<path>i386</path> está divido por distribución de teclas
(<path>qwerty/</path>, <path>azerty/</path>, etc.). Algunos idiomas
tienen múltiples opciones, por lo que tal vez desee experimentar para
decidir cuál le sirve mejor.
</p>

<!--Añadido por Eduardo Robles Elvira-->
<p>
El castellano requiere el uso de "teclas muertas", así que es
preferible no desactivarlas, es más, dudo que se pueda (aunque no lo
he comprobado). Esto le librará de tener que pulsar la barra
espaciadora tras escribir caracteres como ~.
</p>

<pre caption="Estableciendo el mapa de teclado para la consola">
KEYMAP="de"
KEYMAP="de-latin1"
KEYMAP="de-latin1-nodeadkeys"
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Distribución del teclado en el servidor X</title>
<section>
<body>

<p>
La distribución del teclado a ser usado bajo el servidor X está
pautado en <path>/etc/X11/XF86Config</path> por la opción
<c>XkbLayout</c>.
</p>

<pre caption="Configurando el mapa del teclado para X">
 Section "InputDevice"
     Identifier  "Keyboard1"
     ...
     Option "XkbLayout"    "es"
     # Option "XkbVariant"  "nodeadkeys"
     ...
</pre>
</body>
</section>
</chapter>

<chapter>
<title>KDE</title>
<section>
<body>

<p>
Para KDE se debe instalar el paquete kde-i18n configurando
apropiadamente la variable de entorno LINGUAS:
</p>

<pre caption="Instalando un KDE localizado">
# <i>LINGUAS="es" emerge kde-i18n</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>El símbolo Euro en la consola</title>
<section>
<body>

<p>
Para obtener el símbolo del Euro en la consola, hará falta configurar
la variable <c>CONSOLEFONT</c> en el archivo <path>/etc/rc.conf</path>
a uno de los archivos bajo <path>/usr/share/consolefonts/</path> (sin
incluir el <c>.psfu.gz</c>). El archivo <c>lat9w-16</c> tiene el
símbolo del Euro.
</p>

<pre caption="Configurando la fuente de la consola">
CONSOLEFONT="lat9w-16"
</pre>
</body>
</section>
</chapter>

<chapter>
<title>El símbolo del Euro en X</title>
<section>
<title>Para la mayoría de las aplicaciones</title>
<body>

<p>
Obteniendo el símbolo del Euro bajo X es algo más difícil. Lo primero
es cambiar las definiciones de <c>fixed</c> y <c>variable</c> en
<path>/usr/X11R6/lib/X11/fonts/misc/fonts.alias</path> para que
terminen en <c>iso8859-15</c> en vez de <c>iso8859-1</c>.
</p>

<pre caption="Configurando las fuentes por defecto de X">
fixed        -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-15
variable     -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Algunas aplicaciones usan sus propias fuentes y habrá que decirle a
cada una que hagan uso de fuentes con el símbolo del Euro. Puede hacer
esto por usuario en <path>.Xdefaults</path> (puede copiar este archivo
a <path>/etc/skel/</path> para que pueda ser aprovechado por los
nuevos usuarios) o a nivel global para cualquier aplicación con un
archivo de recursos en  <path>/usr/X11R6/lib/X11/app-defaults/</path>
(como xterm). En estos archivos generalmente hay que cambiar una línea
preexistente en vez de agregar líneas. Para cambiar nuestra fuente en
xterm haríamos:
</p>

<pre caption="Cambiando la fuente de xterm">
<codenote>(en su directorioin your home directory)</codenote>
# <i>echo 'XTerm*font: fixed' >> .Xresources </i>
# <i>xrdb -merge .Xresources</i>
</pre>
</body>
</section>

<section>
<title>El símbolo del Euro en (X)Emacs</title>
<body>

<p>
Para usar el símbolo del Euro en (X)Emacs, agregue lo siguiente al
archivo <path>.Xdefaults</path>:
</p>

<pre caption="Cambiando la fuente de emacs">
Emacs.default.attributeFont: -*-courier-medium-r-*-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Para XEmacs (no el Emacs original), hay que hacer un poco más. En <path>/home/user/.xemacs/init.el</path>, agregue:
</p>

<pre caption="Cambiando la fuente de xemacs">
(define-key global-map '(EuroSign) '[&#8364;])
</pre>

<note>
El símbolo entre corchetes [] es el del Euro.
</note>
</body>
</section>

<section>
<title>Configurando el idioma de OpenOffice</title>
<body>

<note>
La personalización del idioma por defecto no está disponible para el
ebuild openoffice-bin ebuild. El idioma por defecto es ENUS.
</note>

<p>
Por favor haga cuenta que este paquete ahora utiliza la variable de
entorno LINGUAS para especificar la localización. El sistema con la
variable antigua LANGUAGE=ENUS|PORT ya <e>no</e> funciona. El lenguaje
por defecto es "US English". Si desea cambiar el lenguaje por defecto
de OpenOffice, revise el mismo ebuild para obtener el código de idioma
apropiado.
</p>

<pre caption="Ejemplo: emerge openoffice para ambiente español">
# <i>LINGUAS="es" emerge openoffice</i>
</pre>
</body>
</section>
</chapter>
</guide>
