<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/handbook/hb-net-start.xml,v 1.4 2006/09/03 21:47:02 yoswink Exp $ -->

<sections>

<version>7.0</version>
<date>2006-08-30</date>

<section>
<title>Comenzando</title>
<body>

<note>
Este documento asume que se tiene correctamente configurado el kernel, 
los módulos para su hardware y que conoce el nombre de su interfaz 
hardware. También asumiremos que se está configurando eth0, pero podría
tratarse de eth1, wlan0, etc.
</note>

<note>
Esto documento requiere que este ejecutándose baselayout-1.11.11 o superior.
</note>

<p>
Para comenzar a configurar su tarjeta de red, necesitamos que el sistema
RC (runlevel scripts o initscripts) de Gentoo la reconozca. Esto se hace 
creando un enlace simbólico desde <c>net.lo</c> a <c>net.eth0</c> en 
<path>/etc/init.d</path>
</p>

<pre caption="Crear el enlace simbólico net.eth0 apuntando a net.lo">
# <i>cd /etc/init.d</i>
# <i>ln -s net.lo net.eth0</i>
</pre>

<p>
El sistema RC de Gentoo ahora conoce la interfaz. También necesita saber cómo
configurar la nueva interfaz. Todas las interfaces de red son configuradas en
<path>/etc/conf.d/net</path>.<br/>
A continuación se muestra un ejemplo de configuración para DHCP y direcciones
estáticas:
</p>

<pre caption="Ejemplos de /etc/conf.d/net">
<comment># Para DHCP</comment>
config_eth0=( "dhcp" )

<comment># Para IP estática usando notación CIDR</comment>
config_eth0=( "192.168.0.7/24" )
routes_eth0=( "default via 192.168.0.1" )

<comment># Para IP estática usando notación de máscara de red</comment>
config_eth0=( "192.168.0.7 netmask 255.255.255.0" )
routes_eth0=( "default gw 192.168.0.1" )
</pre>

<note>
Si no especifica una configuración para la interfaz entonces se asume DHCP.
</note>

<note>
CIDR (Classless InterDomain Routing)
Originariamente, las direcciones IPv4 fueron clasificadas en A, B, o C.
Esta clasificación temprana no tuvo en cuenta la gran popularidad que 
obtendría Internet, y ahora corre el riesgo de no tener suficientes 
direcciones únicas. CIDR es un esquema de direccionamiento que permite
que una dirección IP designe muchas direcciones IP. Una dirección IP CIDR
es igual que una dirección IP normal excepto que termina con una barra 
invertida seguida de un número; por ejemplo: 192.168.0.0/16.
CIDR se describe en <uri link="http://rfc.net/rfc1519.html">RFC 1519</uri>.
</note>

<p>
Ahora que ya hemos configurado nuestra interfaz, podemos iniciarla o detenerla
utilizando los siguientes comandos:
</p>

<pre caption="Comenzar y detener los scripts de red">
# <i>/etc/init.d/net.eth0 start</i>
# <i>/etc/init.d/net.eth0 stop</i>
</pre>

<impo>
Cuando este solucionando problemas con la red, se recomienda configurar
<c>RC_VERBOSE="yes"</c> en <path>/etc/conf.d/rc</path> para obtener mayor 
información sobre lo que está ocurriendo.
</impo>

<p>
Ahora que ya ha iniciado y detenido la interfaz de red, quizá quiera que
comience automáticamente cuando Gentoo arranca. Aquí tiene cómo hacerlo. 
El último comando "rc" indica a Gentoo que inicie todos los scripts en el
nivel de ejecución actual que no hayan sido iniciados ya.
</p>

<pre caption="Configurando una interfaz de red para que inicie en el arranque">
# <i>rc-update add net.eth0 default</i>
# <i>rc</i>
</pre>

</body>
</section>

</sections>
