<?xml version = '1.0' encoding = 'UTF-8' ?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">
<!-- The content of this document is licensed under the CC-BY-SA license --><!-- See http://creativecommons.org/licenses/by-sa/2.0 --><!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/handbook/hb-portage-tools.xml,v 1.2 2005/02/22 15:12:11 chiguire Exp $ -->

<sections>

<version>1.3</version>
<date>2004-10-24</date>

<section>
<title>etc-update</title>
<body>

<p>
<c>etc-update</c> es una herramienta que ayuda a combinar los ficheros <path>._cfg0000_&lt;name></path>. Proporciona una fusión interactiva y además puede auto-combinar cambios triviales. Portage genera los <path>._cfg0000_&lt;name></path> cuando quiere almacenar un fichero en un directorio protegido por la variable CONFIG_PROTECT.
</p>

<p>
Ejecutar <c>etc-update</c> es bastante simple:
</p>

<pre caption="Ejecutar etc-update" >
# <i>etc-update</i>
</pre>

<p>
Después de combinar los cambios sencillos, se presentará una lista con los ficheros protegidos que tienen una actualización pendiente. Al final se muestran las opciones posibles:
</p>

<pre caption="etc-update options" >
Por favor, seleccione el fichero a editar introduciendo el número correspondiente.
           (-1 para salir) (-3 para auto-combinar todos los ficheros restantes)
                           (-5 para auto-combinar SIN usar 'mv -i'):   
</pre>

<p>
Si se indica <c>-1</c>, <c>etc-update</c> terminará sin realizar ningún cambio. Si se introduce <c>-3</c> o <c>-5</c>, <e>todos</e> los ficheros de configuración listados serán sobreescritos con las nuevas versiones. Por tanto es muy importante seleccionar primero los ficheros de configuración que no deben ser automaticamente actualizados. Esto se consigue simplemente indicando el número que aparece a la izquierda del fichero de configuración.
</p>

<p>
Como ejemplo, seleccionamos el fichero de configuración <path>/etc/pear.conf</path>:
</p>

<pre caption="Actualizando un fichero de configuración concreto" >
Comienzo de diferencias entre /etc/pear.conf y /etc/._cfg0000_pear.conf
<comment>[...]</comment>
Fin de diferencias entre /etc/pear.conf y /etc/._cfg0000_pear.conf
1) Reemplazar el original con la actualización
2) Borrar la actualización, manteniendo el original inalterado
3) Combinar interactivamente el original y la actualización
4) Mostrar de nuevo las diferencias
</pre>

<p>
Ahora puede ver las diferencias entre los dos ficheros. Si cree que el fichero de configuración actualizado puede ser utilizado sin problemas, indique <c>1</c>. Si cree que el fichero de configuración actualizado no es necesario, o no proporciona ninguna información nueva o útil, indique <c>2</c>. Si quiere actualizar su fichero de configuración actual de forma interactiva, introduzca <c>3</c>. 
</p>

<p>
No tiene objeto detallar ahora el proceso de actualización interactiva. Para completarlo, listaremos los comandos que están disponibles durante la combinación interactiva de ambos ficheros. Son mostradas dos líneas (la original, y la nueva propuesta) y un punto indicativo en el cual puede introducir uno de los comandos siguientes:
</p>

<pre caption="Comandos disponibles en la combinación interactiva" >
ed:     Editar usando ambas versiones, cada una decorada con una cabecera.
eb:     Editar usando ambas versiones.
el:     Editar usando la versión de la izquierda.
er:     Editar usando la versión de la derecha.
e:      Editar una nueva versión.
l:      Usar la versión de la izquierda.
r:      Usar la versión de la derecha.
s:      Incluir las líneas comunes sin comentarios.
v:      Incluir las líneas comunes con comentarios.
q:      Salir.
</pre>

<p>
Cuando haya acabado de actualizar los ficheros de configuración importantes, puede actualizar automaticamente el resto. <c>etc-update</c> acabará si no encuentra más ficheros de configuración para actualizar.
</p>
</body>
</section>

<section>
<title>dispatch-conf</title>
<body>

<p>
Usando <c>dispatch-conf</c> se pueden combinar las actualizaciones de sus ficheros de configuración al tiempo que se mantiene un registro de todos los cambios. <c>dispatch-conf</c> alamcena las diferencias entre los ficheros de configuración como parches o usando el sistema de revisión RCS.
</p>

<p>
Al igual que <c>etc-update</c>, se puede mantener los ficheros de configuración tal como están, usar el nuevo fichero de configuración, editar el actual o combinar los cambios interactivamente. Sin embargo, <c>dispatch-conf</c> tiene también algunas características adicionales interesantes:
</p>

<ul>
 <li>
    Combina automáticamente ficheros de configuración que sólo contienen actualizaciones de comentarios.
 </li>
 <li>
    Combina automáticamente ficheros de configuración que sólo difieren en la cantidad de espacio en blanco
 </li>
</ul>

<p>
Asegúrese de editar <path>/etc/dispatch-conf.conf</path> en primer lugar y de crear el directorio referenciado por la variable archive-dir.
</p>

<p>
Para más información, lea la página de man acerca de <c>dispatch-conf</c>:
</p>

<pre caption="Leyendo la página man de dispatch-conf" >
$ <i>man dispatch-conf</i>
</pre>
</body>
</section>

<section>
<title>quickpkg</title>
<body>

<p>
Con <c>quickpkg</c> se pueden crear archivos de paquetes que ya han sido instalados en el sistema. Estos archivos pueden usarse como paquetes precompilados. Ejecutar <c>quickpkg</c> es sencillo: basta añadir los nombres de los paquetes que se quiere archivar.
</p>

<p>
Por ejemplo, para archivar <c>curl</c>, <c>arts</c> y <c>procps</c>:
</p>

<pre caption="Ejemplo de uso de quickpkg" >
# <i>quickpkg curl arts procps</i>
</pre>

<p>
Los paquetes precompilados se almacenarán en <path>/usr/portage/packages/All</path>. Los enlaces simbólicos que apunten a esos paquetes se ubican en <path>/usr/portage/packages/&lt;category></path>.
</p>
</body>
</section>
</sections>
