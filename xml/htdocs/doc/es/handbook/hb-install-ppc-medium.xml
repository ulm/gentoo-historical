<?xml version = '1.0' encoding = 'UTF-8' ?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/handbook/hb-install-ppc-medium.xml,v 1.10 2006/03/02 23:05:15 chiguire Exp $ -->

<sections>
	
<version>2.9</version>
<date>2006-02-27</date>

<section>
<title>Requisitos de hardware</title>
<subsection>
<title>Introducción</title>
<body>

<p>
Antes de empezar, enumeraremos los requerimientos de hardware
necesarios para instalar con éxito Gentoo en nuestra máquina.
</p>

</body>
</subsection>
<subsection>
<title>Requisitos de hardware</title>
<body>

<table>
<tr>
  <th>Máquinas Apple NewWorld</th>
  <ti>
    Microprocesadores Power/PowerPC (G3, G4, G5) como iMac, eMac, iBook 
    PowerBook, Xserver, PowerMac
  </ti>
</tr>
<tr>
  <th>Máquinas Apple OldWorld</th>
  <ti>
    Máquinas Apple con una revisión de OpenFirmware anterior a la
    3, tal como los G3 Beige, PCI PowerMacs y PCI PowerBooks. Los 
    clónicos Apple basados en PCI también deberían estar soportados
  </ti>
</tr>
<tr>
<th>Pegasos de Genesi</th>
  <ti>
    Pegasos I/II, Open Desktop Workstation
  </ti>
</tr>
<tr>
  <th>IBM</th>
  <ti>
    RS/6000, iSeries, pSeries
  </ti>
</tr>
<tr>
  <th>Memoria</th>
  <ti>Al menos 64 MB</ti>
</tr>
<tr>
  <th>Espacio en disco</th>
  <ti>1.5 GB (excluyendo la partición de intercambio)</ti>
</tr>
<tr>
  <th>Partición de intercambio</th>
  <ti>Al menos 256 MB</ti>
</tr>
</table>

<p>
Es una buena idea leer <uri link="/doc/es/gentoo-ppc-faq.xml">
Preguntas Frecuentes y sus Respuestas Gentoo Linux/PowerPC</uri>
para encontrar ayuda con algunas cuestiones comunes relativas a la 
instalación o si no estamos seguros con la máquina PowerPC frente a 
la que estamos sentados.
</p>

</body>
</subsection>
</section>
<!-- Copy/paste from hb-install-x86-medium.xml (with s/x86/ppc/) -->
<!-- START -->
<section>
<title>Los CDs de instalación de Gentoo</title>
<subsection>
<title>Introducción</title>
<body>

<p>
Los <e>CDs de instalación de Gentoo</e> son CDs arrancables que
contienen un entorno Gentoo auto-contenido. Permiten arrancar Linux
desde el CD. Durante el proceso de arranque se detecta el hardware y
se cargan los controladores apropiados. Estos discos son mantenidos
por los desarrolladores de Gentoo.
</p>

<p>
Todos los CDs de instalación permiten arrancar, configurar la red,
inicializar las particiones y empezar a instalar Gentoo desde
Internet. Actualmente disponemos de dos CDs de instalación que son
perfectamente adecuados para instalar Gentoo siempre y cuando estemos
pensando en llevar a cabo una instalación basada en conexión a
Internet utilizando las últimas versiones de los paquetes.
</p>

<p>
Si queremos instalar Gentoo sin una conexión activa a Internet, habría
que  utilizar las instrucciones de instalación descritas en los <uri
link="2006.0/index.xml" >Manuales Gentoo 2006.0</uri>.
</p>

<p>
Los dos CDs de instalación actualmente disponibles son: 
</p>

<ul>
  <li>
    El CD <e>Minimal</e> de instalación Gentoo, un pequeño y ajustado
    CD arrancable que tiene como único propósito arrancar el sistema,
    preparar la red y continuar con la  instalación de Gentoo.
  </li>
  <li>
    El CD <e>Universal</e> de instalación Gentoo, es un CD arrancable con 
    las mismas funcionalidades del CD Minimal. Adicionalmente, contiene 
    varios archivos comprimidos (tarballs) de stage3 (optimizados para cada 
    subarquitectura). 
  </li>
</ul>

<p>
Como ayuda a decidir qué CD de instalación necesitamos, a continuación
se describen las ventajas y desventajas más importantes de cada CD.
</p>
</body>
</subsection>

<subsection>
<title>CD Minimal de instalación Gentoo</title>
<body>

<p>
El CD Minimal de instalación se conoce cómo
<c>install-ppc-minimal-2006.0.iso</c> y sólo necesita 52 MB de espacio
en disco. Puede utilizar este CD para instalar Gentoo, pero siempre
con una conexión activa a Internet.
</p>

<table>
<tr>
  <th>CD Minimal de instalación</th>
  <th>Pros y contras</th>
</tr>
  <tr>
  <th>+</th>
  <ti>La descarga más pequeña</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    No contiene archivos de stage3, ni copias de Portage, ni paquetes
    precompilados y por lo tanto no es recomendada para instalaciones sin red.
  </ti>
</tr>
</table>
</body>
</subsection>

<subsection>
<title>CD Universal de instalación Gentoo</title>
<body>

<p>
El CD Universal de instalación se llama
<c>install-ppc-universal-2006.0.iso</c> y ocupa unos 578 MB de un CD. Se 
puede utilizar este CD de instalación para instalar Gentoo, y se puede 
incluso instalar sin una conexión activa a Internet, solamente en el caso 
de querer instalar Gentoo en otro PC además del que está siendo 
instalado :)
</p>

<table>
<tr>
  <th>CD Universal de instalación</th>
  <th>Pros y contras</th>
</tr>
  <tr>
  <th>+</th>
  <ti>
    Contienen todo lo que necesita. Se pueden instalar incluso sin
    conexión a la red
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Es una descarga enorme</ti>
</tr>
</table>
</body>
</subsection>

<subsection>
<title>Otros CDs</title>
<body>

<p>
También puede encontrarse un CD llamado <e>Package CD</e> en algunos
de nuestro servidores. Este CD no es de instalación pero contiene una
fuente importante de recursos que puede ser utilizados durante una
instalación sin conexión a la red. Contiene paquetes precompilados
(conocidos como GRP) que permiten una rápida y fácil instalación de
aplicaciones adicionales (como pueden ser (OpenOffice.org, KDE, GNOME,
...) inmediatamente después de una instalación de Gentoo sin red.
</p>

<p>
Si se pretende utilizar el CD de paquetes para instalar aplicaciones
de una manera más rápida, conviene asegurarse que se utilizar la misma
subarquitectura que el tarball de stage3 que se está empleando.
</p>

</body>
</subsection>
<subsection>
<title>El archivo comprimido (tarball) Stage3</title>
<body>
  	 
<p>
Un archivo comprido stage3 contiene un entorno Gentoo mínimo, que permite
continuar la instalación de Gentoo con las instrucciones de este manual.
Anteriormente, el manual de Gentoo describía la instalación utilizando uno de
los tres archivos de stage. Aunque Gentoo sigue ofreciendo los archivos stage1
y stage2, el método de instalación oficial utiliza el archivo stage3. Si está
interesado en llevar a cabo la instalación de Gentoo utilizando stage1 o
stage2, por favor lea las preguntas frecuentes sobre 
<uri link="/doc/es/faq.xml#stage12"> ¿Cómo instalo Gentoo utilizando un
archivo stage1 o stage2?</uri>
</p>

</body>
</subsection>
</section>
<section>
<title>Descargar, grabar y arrancar un CD de instalación Gentoo</title>
<subsection>
<title>Descargar y grabar los CDs de instalación Gentoo</title>
<body>

<p>
Hemos elegido usar un CD de instalación Gentoo. Empezaremos por
descargar y grabar el CD que elegido. Ya hemos hablado anteriormente
de los distintos CD de instalación disponibles, pero ¿dónde podemos
encontrarlos?
</p>

<p>
Podemos descargar cualquiera de los CDs (y si queremos, también un CD
de Paquetes) desde uno de los <uri link="/main/en/mirrors.xml">
servidores réplica</uri>. Los CD de instalación se encuentran en el
directorio <path>releases/ppc/2006.0/ppc32/installcd</path>.
</p>

<p>
Dentro del directorio se encuentran los llamados archivos ISO. Éstos
son imágenes de CD completas que puede grabar en un CD-R.
</p>

<p>
En caso de querer saber si el archivo descargado está corrupto o no,
se puede verificar la suma de control MD5 del mismo y compararla con
la proporcionada por Gentoo (tal como 
<path>install-ppc-minimal-2006.0.iso.DIGESTS</path>). Se pueden revisar
las sumas de control con <c>md5sum</c> de Linux/Unix o con <uri 
link="http://www.etree.org/md5com.html">md5sum</uri> en Windows. Si
<c>md5sum</c> no está disponible en Mac OS X, vea <uri 
link="/doc/en/gentoo-ppc-faq.xml#doc_chap1">Preguntas de uso frecuente
de Gentoo Linux/PowerPC</uri>.
</p>

<p>
Otra manera de verificar la validez de la descarga es usar GnuPG para
revisar la firma criptográfica proporcionada (el nombre del archivo
termina con <path>.asc</path>). La descarga del archivo de firma y
obtención de la clave pública sería:
</p>

<pre caption="Obtener la clave pública" >
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Ahora verificaremos la firma:
</p>

<pre caption="Verificar la firma criptográfica" >
$ <i>gpg --verify &lt;signature file> &lt;downloaded iso></i>
</pre>

<p>
Para grabar el o los ISO descargados, se debe seleccionar
grabar/quemar sin formato. Cómo hacerlo depende del programa. Aquí
hablaremos de <c>cdrecord</c> y <c>K3B</c>; se puede encontrar mayor
información en las <uri link="/doc/es/faq.xml#isoburning">Preguntas
de Uso Frecuentes</uri> sobre Gentoo.
</p>

<ul>
  <li>
    Con cdrecord, basta escribir <c>cdrecord dev=/dev/hdc &lt;fichero
    ISO  descargado></c> (hay que reemplazar <path>/dev/hdc</path> con
    la ruta  correspondiente de la unidad CD-RW).
  </li>
  <li>
    Con K3B, hay que seleccionar <c>Herramientas</c> > <c>CD</c> >
    <c>Grabar Imagen ISO</c>. Luego hay que buscar el archivo ISO
    dentro del área 'Imagen a Grabar'. Y por último presionar el botón
    <c>Iniciar</c>.
  </li>
</ul>
</body>
</subsection>

<subsection>
<title>Por defecto: Arrancar el CD de instalación con Yaboot</title>
<body>

<p>
En las máquinas NewWorld hay que colocar el CD de instalación en la
unidad CD-ROM y reiniciar el sistema. Cuando el altavoz del sistema
suene, basta pulsar la tecla 'C' mientras el CD se carga.
</p>

<p>
Después que el CD de instalación se haya cargado, aparece un mensaje
de bienvenida y un punto indicativo de órdenes <e>boot:</e> en la
parte inferior de la pantalla.
</p>

<p>
Se proporciona un núcleo genérico, <e>ppc32</e>. Este núcleo está 
creado con soporte para sistemas multiprocesador, pero arrancará 
igualmente bien en sistemas con un sólo procesador.
</p>

<p>
Se pueden ajustar algunas opciones del núcleo en este punto
indicativo. La tabla siguiente lista algunas de las opciones de
arranque disponibles que pueden añadirse:
</p>

<table>
<tr>
  <th>Opción de arranque</th>
  <th>Descripción</th>
</tr>
<tr>
  <ti>
    <c>vídeo</c>
  </ti>
  <ti>
    Esta opción toma uno de los siguientes valores específicos según
    el fabricante: <c>nvidiafb</c>, <c>radeonfb</c>, <c>rivafb</c>,
    <c>atyfb</c>, <c>aty128</c> or <c>ofonly</c>. A esta etiqueta se
    puede le puede añadir la resolución y valor de refresco empleados.
    Por ejemplo, <c>video=radeonfb:1280x1024@75-32</c> que seleccionará 
    el frame buffer de ATI Radeon con una resolución de 1280x1024, una
    tasa de refresco de 75 Hz y una profundidad de color de 32 bits. Si
    no estamos seguros de qué poner, y la opción por defecto no
    funciona <c>video=ofonly</c> seguramente funcionará.
  </ti>
</tr>
<tr>
  <ti>
    <c>nol3</c>
  </ti>
  <ti>
    Deshabilita el caché de nivel 3 en algunos PowerBooks (lo necesita
    al menos el 17&quot;)
  </ti>
</tr>
<tr>
  <ti>
    <c>dofirewire</c>
  </ti>
  <ti>
    Activa el soporte para dispositivos IEEE1394 (FireWire), como
    discos duros externos.
  </ti>
</tr>
<tr>
  <ti>
    <c>dopcmcia</c>
  </ti>
  <ti>
    Si se quiere utilizar dispositivos PCMCIA durante la instalación
    (como tarjetas de red PCMCIA) debe habilitarse esta opción
  </ti>
</tr>
</table>

<p>
En este punto indicativo de órdenes, pulsando enter, se cargará un
entorno Gentoo Linux completo desde el CD. Continuaremos con <uri
link="#booted">Y cuando hayamos arrancado ...</uri>.
</p>
</body>
</subsection>

<subsection>
<title>Alternativa: Iniciando el CD de instalación en un Pegasos</title>
<body>

<p>
En el Pegasos basta insertar el CD y en el punto indicativo de órdenes
del SmartFirmware teclear <c>boot cd /boot/menu</c>. Esto abrirá un
pequeño menú de inicio donde se puede elegir algunos modos de vídeo
preconfigurados. Si se necesitan opciones especiales de arranque, se
pueden añadir a la línea de comando igual que lo visto anteriormente con
Yaboot. Por ejemplo, 
<c>boot cd /boot/pegasos video=radeonfb:1280x1024@75 mem=256M</c>. Las
opciones del núcleo por defecto (para el caso que algo salga mal y se
necesite) están preconfiguradas a <c>console=ttyS0,115200 console=tty0
init=/linuxrc looptype=squashfs loop=/image.squashfs udev nodevfs cdroot root=/dev/ram0</c>.
</p>
</body>
</subsection>

<subsection>
<title>Alternativa: Iniciando el CD de instalación con BootX</title>
<body>

<p>
Si disponemos de un Mac OldWorld no podremos usar la parte arrancable
del Live CD. La solución más sencilla es usar MacOS para arrancar un
entorno Linux con la ayuda de una herramienta llamada BootX.
</p>

<p>
En primer lugar, descargaremos <uri
link="http://penguinppc.org/projects/bootx/">BootX</uri> y
desempaquetaremos el archivo. Hay que copiar el <c>BootX Extension</c>
desde los ficheros descomprimidos en la <c>Carpeta de Extensiones</c>
y la aplicación Panel de Control de BootX en <c>Paneles de
Control</c>, ambos ubicados en la Carpeta del Sistema de MacOS. Luego,
hay que crear una carpeta llamada &quot;Linux Kernels&quot; en nuestra
Carpeta del Sistema y copiar el núcleo <c>ppc32</c> del CD en
ella. Finalmente, hay que copiar el fichero <c>ppc32.igz</c> ubicado en
el directorio <path>boot</path> del CD de instalación en la <c>Carpeta
del Sistema</c> de MacOS.
</p>

<p>
Para preparar BootX, debemos iniciar el Panel de control de la
aplicación BootX. Primero seleccionaremos el diálogo de Options y
marcaremos <c>Use Specified RAM Disk</c> y seleccionaremos el
<c>ppc32.igz</c> de la Carpeta del Sistema. Volveremos atrás hasta la
pantalla inicial y nos aseguraremos que el tamaño del disco RAM sea
como mínimo <c>32000</c>. Finalmente, indicaremos las opciones del
núcleo indicadas a continuación:
</p>

<pre caption="Opciones del kernel para BootX" >
cdroot root=/dev/ram0 init=linuxrc loop=image.squashfs looptype=squashfs 
console=tty0 nodevfs udev
</pre>

<note>
Las opciones del núcleo de la anterior sección sobre yaboot también se
pueden aplicar aquí. Se puede añadir cualquiera de dichas opciones a los
argumentos del núcleo anteriores.
</note>

<p>
Verificaremos una vez más que la configuración es correcta, y entonces
la guardaremos. Esto nos evitará trabajo posterior en caso de que no
arranque o falte algo. Pulsaremos el botón Linux, en la parte superior
de la ventana. Si todo va bien, deberíamos arrancar con el CD de
instalación. Continuaremos con
<uri link="#booted" >Y cuando hayamos arrancado ...</uri>
</p>
</body>
</subsection>

<subsection id="booted" >
<title>Y cuando hayamos arrancado ...</title>
<body>

<p>
Tendremos el indicador del root (&quot;#&quot;) en la consola actual y
también podremos cambiar a otras consolas presionando Alt-F2, Alt-F3 y
Alt-F4. Para regresar a la consola en la que empezamos presionaremos
Alt-F1. Debido a la disposición del teclado, probablemente tendremos
que pulsar Alt-fn-Fx en los equipos Apple.
</p>

<p>
Si estamos instalando Gentoo en un sistema con un teclado no
norteamericano, usaremos <c>loadkeys</c> para cargar el teclado
correspondiente al nuestro. Para listar los mapas de teclado
disponibles, ejecutaremos <c>ls /usr/share/keymaps/i386</c>. En las
máquinas NewWorld o Pegasos no usaremos los mapas de teclado
<path>ppc</path> o <path>mac</path>, porque son para las OldWord
basadas en ADB.
</p>

<pre caption="Listado de los mapas de teclado disponibles" >
<comment>(PPC usa teclados x86 en muchos sistemas. Los mapas de teclado 
mac/ppc proporcionados en el CD de instalación son de configuración 
ADB y no funcionarán con el núcleo del CD de instalación)</comment>
# <i>ls /usr/share/keymaps/i386</i>
</pre>

<p>
Ahora cargaremos el mapa del teclado a utilizar:
</p>

<pre caption="Carga de un mapa de teclado" >
# <i>loadkeys be-latin1</i>
</pre>

<p>
Ahora continuaremos con <uri link="#hardware" >Configurando hardware
adicional</uri>.
</p>
</body>
</subsection>

<subsection id="hardware" >
<title>Configurando hardware adicional</title>
<body>

<p>
Cuando arranca el CD de instalación, trata de detectar todos los
dispositivos de hardware y cargar los módulos apropiados en el núcleo
para soportar este hardware. En la gran mayoría de casos, hace muy
buen trabajo. Sin embargo, en algunos casos puede que no cargue
automáticamente los módulos del núcleo necesarios. Si falla la
auto-detección PCI con algún hardware del sistema, trataremos de
cargar el módulo apropiado manualmente.
</p>

<p>
En el siguiente ejemplo trataremos de cargar el módulo
<c>airport</c>. Este módulo soporta sólo las antiguas tarjetas Airport
(802.11b). Airport Extreme (802.11g) no está soportado en el CD de
instalación debido a restricciones en la distribución del microcódigo.
</p>

<pre caption="Cargar el módulo airport" >
# <i>modprobe airport</i>
</pre>

<p>
En antiguos iMacs, ocasionalmente, la tarjeta de red no es detectada
correctamente, y utilizan el controlador BMAC:
</p>

<pre caption="Cargar el módulo bmac">
# <i>modprobe bmac</i>
</pre>

</body>
</subsection>

<subsection>
<title>Opcional: Afinando el rendimiento del disco duro</title>
<body>

<p>
Si pertenecemos al grupo de los usuarios avanzados, tal vez queramos
afinar el desempeño del disco duro IDE usando <c>hdparm</c>. Con la
opción <c>-tT</c> podemos probar el rendimiento del disco (lo
ejecutaremos varias veces para tener una impresión más precisa):
</p>

<pre caption="Verificar el rendimiento del disco duro" >
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Para afinarlo podemos seguir uno de los siguientes ejemplos (o haremos
nuestros propios experimentos) que usan <path>/dev/hda</path> como
disco (lo sustituiremos por el disco en cuestión):
</p>

<pre caption="Afinar el desempeño del disco duro" >
<comment>Activar DMA:</comment>
# <i>hdparm -d 1 /dev/hda</i>
<comment>Activar DMA y las opciones de optimización seguras:</comment>
# <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>
</body>
</subsection>

<subsection id="useraccounts" >
<title>Opcional: Cuentas de usuario</title>
<body>

<p>
Si planeamos dar a otras personas acceso al entorno de instalación o
si queremos platicar con alguien usando <c>irssi</c> sin privilegios
de root (por razones de seguridad), hará falta crear las cuentas de
usuario necesarias y cambiar la contraseña de root.
</p>

<p>
Para cambiar la contraseña de root, usaremos <c>passwd</c>:
</p>

<pre caption="Cambiar la contraseña de root" >
# <i>passwd</i>
New password: <comment>(Escribir la nueva contraseña)</comment>
Re-enter password: <comment>(Escribirla de nuevo)</comment>
</pre>

<p>
Para crear una cuenta de usuario, primero escribimos sus credenciales,
y luego su contraseña. Se usan <c>useradd</c> y <c>passwd</c> para
estas tareas. En el siguiente ejemplo, crearemos un usuario llamado
&quot;john&quot;.
</p>

<pre caption="Crear una cuenta de usuario" >
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Escribir la contraseña de john)</comment>
Re-enter password: <comment>(Escribir de nuevo la contraseña de john)</comment>
</pre>

<p>
Podemos cambiar nuestro identificador de usuario desde root para usar la del
nuevo usuario mediante <c>su</c>:
</p>

<pre caption="Cambiar de usuario" >
# <i>su - john</i>
</pre>
</body>
</subsection>

<subsection>
<title>Opcional: Ver la documentación mientras instalamos</title>
<body>

<p>
Para ver el Manual Gentoo (ya sea desde el CD o en línea) durante la
instalación, nos aseguraremos de haber creado una cuenta de usuario
(ver <uri link="#useraccounts" >Opcional: Cuentas de
usuario</uri>). Luego pulsaremos <c>Alt-F2</c> para ir a una nueva
consola e ingresar en el sistema.
</p>

<p>
Si queremos ver la documentación incluida en el CD se puede ejecutar
inmediatamente <c>links</c>, para leerla:
</p>

<pre caption="Ver la documentación en el CD" >
# <i>links /mnt/cdrom/docs/handbook/html/index.html</i>
</pre>

<p>
Sin embargo, es preferible usar el Manual Gentoo en línea ya que es
más reciente que el Manual en el CD. También se puede ver usando
<c>links</c>, pero sólo después de haber completado el capítulo
<e>Configurar la red</e> (de otro modo no se podrá usar Internet para
ver el documento):
</p>

<pre caption="Ver la documentación en línea">
# <i>links http://www.gentoo.org/doc/es/handbook/handbook-ppc.xml</i>
</pre>

<p>
Podemos regresar a la consola original presionando <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Opcional: Iniciar el demonio SSH</title>
<body>

<p>
Si queremos permitir a otros usuarios el acceso a nuestra máquina
durante la instalación de Gentoo (quizá porque esos usuarios nos vayan
a ayudar, o incluso lo hagan por nosotros), necesitaremos crear una
cuenta de usuario para ellos e incluso darles la contraseña de root
(<e>sólo</e> <e>si</e> <b>confiamos totalmente</b> en ellos).
</p>

<p>
Para arrancar el demonio SSH, ejecutaremos el siguiente comando:
</p>

<pre caption="Iniciar el demonio SSH" >
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Para poder usar sshd, primero necesitaremos configurar la
red. Continuaremos en el capítulo <uri link="?part=1&amp;chap=3">
Configurar la red</uri>.
</p>
</body>

</subsection>
</section>
</sections>
