<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/handbook/hb-portage-diverttree.xml,v 1.7 2006/11/12 09:47:23 chiguire Exp $ -->

<sections>

<version>1.5</version>
<date>2006-11-01</date>

<section>
<title>Utilizando un subconjunto del árbol Portage</title>
<subsection>
<title>Excluyendo categorías/paquetes</title>
<body>

<p>
Puede realizar una actualización selectiva de ciertas categorías/paquetes e 
ignorar el resto. Esto se realiza a través indicando a <c>rsync</c> que 
excluya categorías/paquetes durante el proceso <c>emerge --sync</c>.
</p>

<p>
Necesita introducir el nombre del archivo que contiene los patrones
para la variable <c>--exclude-from</c> de su <path>/etc/make.conf</path>.
</p>

<pre caption="Introducir el archivo de exclusiones en /etc/make.conf">
PORTAGE_RSYNC_EXTRA_OPTS="--exclude-from=/etc/portage/rsync_excludes"
</pre>
  	 
<pre caption="Excluir todos los juegos en /etc/portage/rsync_excludes">
games-*/*
</pre>

<p>
Recuerde que esto puede provocar ciertos problemas con las dependencias, ya 
que paquetes nuevos y aceptados en su sistema pueden depender de otros
excluidos.
</p>

</body>
</subsection>
</section>
<section>
<title>Añadiendo Ebuilds no oficiales</title>
<subsection>
<title>Definiendo un directorio extensión de Portage (overlay)</title>
<body>

<p>
Puede indicarle a Portage que utilice ebuilds que no están disponibles
oficialmente a través del árbol de Portage. Cree un nuevo directorio (por 
ejemplo <path>/usr/local/portage</path>) en el cual guardará los ebuilds
procedentes de otras fuentes. Utilice la misma estructura de directorios que
tenemos en Portage.
</p>

<p> Después defina la variable PORTDIR_OVERLAY en <path>/etc/make.conf</path>
y haga que apunte al directorio creado previamente. Cuando ahora utilice
Portage, éste tendrá en cuenta aquellos ebuilds para no
eliminarlos/sobreescribirlos la próxima vez que ejecute <c>emerge --sync</c>.
</p>

</body>
</subsection>
<subsection>
<title>Trabajando con varias extensiones (overlays)</title>
<body>
  	 
<p>
Para los usuarios que desarrollan en varias extensiones, probar los paquetes
antes de que lleguen al árbol de Portage o simplemente que quieren utilizar
ebuilds no oficiales procedentes de varias fuentes, el paquete 
<c>app-portage/gentoolkit-dev</c> incorpora <c>gensync</c>, una herramienta
que ayudará a conservar las extensiones actualizadas.
</p>

<p>
Con <c>gensync</c> se pueden actualizar todos los repositorios de una sola
vez, o seleccionar solamente algunos de ellos. Cada repositorio debería tener
un archivo <path>.syncsource</path> en el directorio de configuración 
<path>/etc/gensync/</path> que contiene la información relativa a localización
del repositorio, nombre, ID, etc.
</p>
  	 
<p>
Suponiendo que tiene dos repositorios adicionales llamados <c>java</c> (para
el desarrollo de ebuilds en java) y <c>entapps</c> (para el desarrollo de
aplicaciones en casa para tu empresa) entonces puedes actualizar los
repositorios de la siguiente manera:
</p>
  	 
<pre caption="Utilizando gensync para actualizar varios repositorios">
# <i>gensync java entapps</i>
</pre>
  	 
</body>
</subsection>
</section>
<section>
<title>Software no mantenido por Portage</title>
<subsection>
<title>Utilizando Portage con programas con auto-mantenidos</title>
<body>

<p>
En algunos casos querrá configurar, instalar y mantener programas por 
sí mismo sin que Portage automatice el proceso, incluso aunque Portage
pueda suministrarle esos programas. Conocidos son los casos de las fuentes
del kernel y los controladores de nvdia. Puede configurar Portage para que
conozca cuando un determinado paquete ha sido instalado manualmente
en el sistema. Este proceso recibe el nombre de <e>inyectar</e> y está 
soportado por Portage a través del archivo 
<path>/etc/portage/profile/package.provided</path>.
</p>

<p>
Por ejemplo, si quiere que Portage le informe sobre 
<c>vanilla-sources-2.6.11.6</c> el cual ha sido instalado manualmente, 
añada la siguiente línea a <path>/etc/portage/profile/package.provided</path>:
</p>

<pre caption="Línea de ejemplo para package.provided">
sys-kernel/vanilla-sources-2.6.11.6
</pre>

</body>
</subsection>
</section>
</sections>
