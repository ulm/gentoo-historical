<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/handbook/hb-install-finalise.xml,v 1.3 2004/03/29 13:16:31 chiguire Exp $ -->

<sections>
<section>
<title>Administración del Usuario</title>
<subsection>
<title>Configurar una Contraseña para root</title>
<body>

<p>
Antes de que se le olvide, configure una contraseña para root tecleando:
</p>

<pre caption="Configurando la contraseña de root">
# <i>passwd</i>
</pre>

<p>
Si quiere que root sea capaz de entrar al sistema a través de la consola por puerto
serie (COM), añada <c>tts/0</c> en <path>/etc/securetty</path>.
</p>

<pre caption="Añadiendo tts/0 a /etc/securetty">
# <i>echo "ttyS0" &gt;&gt; /etc/securetty</i>
</pre>

</body>
</subsection>
<subsection>
<title>Añadir un Usuario de Uso Diario</title>
<body>

<p>
Trabajar como root en un sistema Unix/Linux es <e>peligroso</e> y su uso debería evitarse 
tanto como sea posible. Es por ello que se recomienda <e>encarecidamente</e> añadir un usuario 
para el uso cotidiano del sistema.
</p>

<p>
Por ejemplo, para crear un usuario llamado <c>john</c> que pertenezca a los 
grupos <c>wheel</c> (para ser capaz de convertirse a root usando <c>su</c>), <c>users</c> 
(por defecto para todos los usuarios) y <c>audio</c> (para poder usar dispositivos 
de audio):
</p>

<pre caption="Añadiendo un usuario de uso cotidiano">
# <i>useradd john -m -G users,wheel,audio -s /bin/bash</i>
# <i>passwd john</i>
Password: <comment>(Ingrese la contraseña para john)</comment>
Re-enter password: <comment>(Vuelva a ingresar la contraseña para verificar)</comment>
</pre>

<p>
Si alguna vez este usuario necesita realizar alguna tarea como root, puede utilizar <c>su -</c> 
para obtener temporalmente privilegios de root. Otra forma es utilizar el paquete <c>sudo</c> 
el cual, correctamente configurado, es muy seguro.
</p>

</body>
</subsection>
</section>
<section>
<title>Reinicie y Disfrute</title>
<subsection>
<title>Reiniciar</title>
<body>

<p>
¡Enhorabuena! Su sistema Gentoo ya está listo. Salga del entorno enjaulado (chroot), 
desmonte todas las particiones que tenga montadas. Después teclee ese 
comando mágico que ha estado esperando: <c>reboot</c>.
</p>

<pre caption="Reiniciando el sistema">
# <i>exit</i>
# <i>cd /</i>
# <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
# <i>reboot</i>
</pre>

<p>
Por supuesto, no olvide quitar el CD de inicio, sino se pondrá en marcha
de nuevo en vez de su nuevo sistema Gentoo.
</p>

<p>
Los usuarios de PPC iniciarán MacOS hasta que tengan instalado
un gestor de arranque. Éstos deberían leer <uri
link="#doc_chap2_sect2">Opcional: Configurar BootX</uri>. Los usuarios de MIPS tendrán
que hacer algunas cosas más en la memoria PROM de sus MIPS para conseguir que Gentoo funcione.
Estos usuarios deberían leer <uri link="#doc_chap2_sect3">Opcional: Conseguir que Gentoo/MIPS 
Funcione</uri>.
</p>

<p>Los usuarios de PRG pueden continuar con <uri link="#doc_chap2_sect4">Opcional: 
Installar Paquetes Extra</uri>. El resto de usuarios pueden acabar con <uri 
link="?part=1&amp;chap=12">¿Adónde ir desde aquí?</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Opcional: Configurar BootX</title>
<body>

<impo>
Esta subsección es <e>solo</e> para usuarios de PPC que quieran utilizar BootX como
gestor de arranque. Todos los demás lectores deberían saltarse esta subsección.
</impo>

<p>
Ahora su máquina está iniciada en MacOS. Abra el panel de control de BootX.
Seleccione <c>Options</c>, y desmarque la casilla <c>Used specified RAM disk</c>. Cuando 
vuelva al menu principal de BootX, podrá encontrar una opción para especificar el
disco duro y partición raíz de su máquina. Llene éstos con los valores apropiados.
</p>

<p>
BootX puede configurarse para arrancar Linux en el inicio. Si usted hace esto, verá
primero que su máquina se inicia en MacOS. Luego, durante el arranque, BootX
cargará e iniciará Linux. Visite la <uri
link="http://penguinppc.org/projects/bootx/">página de BootX</uri> para más 
información.
</p>

<p>
Si es usuario de PRG, puede continuar con <uri
link="#doc_chap2_sect3">Opcional: Instalar Paquetes Extra</uri>, si no siga con
<uri link="?part=1&amp;chap=12">¿Adónde ir desde aquí?</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Optional: Conseguir que Gentoo/MIPS Funcione</title>
<body>

<p>
Una vez haya reiniciado, vaya al <e>Menú de Mantenimiento del Sistema</e> y seleccione
<e>Enter Command Monitor</e> (<c>5</c>). Si quiere probar su nueva instalación de Gentoo,
puede ejecutar <c>boot -f &lt;kernel name&gt;</c>. Para tener su
sistema permanentemente iniciado dentro de su instalación de Gentoo, necesitará configurar
algunas variables en la memoria PROM de su MIPS:
</p>

<pre caption="Configurando el PROM para iniciar Gentoo">
1) Start System
2) Install System Software
3) Run Diagnostics
4) Recover System
5) Enter Command Monitor

Option? <i>5</i>
Command Monitor.  Type "exit" to return to the menu.

<comment>(&lt;root device&gt; = partición raiz de Gentoo, e.g. /dev/sda3)</comment>
&gt;&gt; <i>setenv OSLoadPartition &lt;root device&gt;</i>

<comment>(Liste los núcleos (kernels) disponibles, teclee "ls")</comment>
&gt;&gt; <i>setenv OSLoader &lt;kernel name&gt;</i>
&gt;&gt; <i>setenv OSLoadFilename &lt;kernel name&gt;</i>

<comment>(Declare los parámetros que desee del kernel)</comment>
&gt;&gt; <i>setenv OSLoadOptions &lt;kernel parameters&gt;</i>

<comment>(Proporcione la localización de la Cabecera del Volumen)</comment>
&gt;&gt; <i>setenv SystemPartition scsi(0)disk(1)rdisk(0)partition(8)</i>

<comment>(Automáticamente, inicia Gentoo)</comment>
&gt;&gt; <i>setenv AutoLoad Yes</i>

<comment>(Ajuste la zona horaria (timezone))</comment>
&gt;&gt; <i>setenv TimeZone EST5EDT</i>

<comment>(Utilice la consola por puerto serie (COM) - los usuarios con adaptadores gráficos deben tener "g" en vez de "d1" (uno))</comment>
&gt;&gt; <i>setenv console d1</i>
</pre>

<p>
¡Ahora ya está preparado para disfrutar de Gentoo!
</p>
</body>
</subsection>

<subsection>
<title>Opcional: Instalar Paquetes PRG</title>
<body>

<impo>
Esta parte es solo para los usuarios de PRG. El resto deberían saltarse esta parte
y continuar con <uri link="?part=1&amp;chap=12">¿Adónde ir desde aquí?</uri>.
</impo>

<p>
Ahora que su sistema está iniciado, entre con el usuario que creó anteriormente (por ejemplo,
<c>john</c>) y utilice <c>su -</c> para obtener privigelios de root:
</p>

<pre caption="Obteniendo privilegios de root">
$ <i>su -</i>
Password: <comment>(Enter your root password)</comment>
</pre>

<p>
Ahora necesitamos cambiar la configuración de Portage para buscar los binarios
preconstruidos del segundo CD (CD de Paquetes de Gentoo). Primero monte éste CD:
</p>

<pre caption="Monte el CD de Paquetes">
# <i>mkdir /mnt/cdrom</i>
<comment>(Ponga el CD de Paquetes de Gentoo en la bandeja del CDROM)</comment>
# <i>mount /mnt/cdrom</i>
</pre>

<p>
Ahora configure Portage para usar <path>/mnt/cdrom</path> para sus paquetes preoncstruidos:
</p>

<pre caption="Configurando Portage para usar /mnt/cdrom">
# <i>ls /mnt/cdrom</i>

<comment>(Si hay un directorio /mnt/cdrom/packages:)</comment>
# <i>export PKGDIR="/mnt/cdrom/packages"</i>

<comment>(Si no:)</comment>
# <i>export PKGDIR="/mnt/cdrom"</i>
</pre>

<p>
Ahora instale los paquetes que quiera. El CD de Paquetes contiene varios binarios 
preconstruidos, como por ejemplo KDE:
</p>

<pre caption="Instalando KDE">
# <i>USE="bindist" emerge --usepkg kde</i>
</pre>

<p>
La opción <c>USE="bindist"</c> es necesaria cuando instalas XFree (tanto directamente como si 
es una dependencia). Esto previene la descarga de las fuentes principales de Microsoft (las cuales no 
podemos distribuir en nuestros LiveCDs).
</p>

<p>
Esté preparado para instalar ahora los binarios. Cuando haga un <c>emerge sync</c> para actualizar
Portage (como más tarde aprenderá), los binarios precontruídos tal vez no sean las mismas versiones
que los ebuild en su árbol Portage actualizado. Esto lo puede intentar evitar utilizando
<c>emerge --usepkgonly</c> en vez de <c>emerge --usepkg</c>.
</p>

<p>
Enhorabuena, ¡Su sistema está ahora completamente equipado! Continue con <uri
link="?part=1&amp;chap=12">¿Adónde ir desde aquí?</uri> para aprender más sobre
Gentoo.
</p>

</body>
</subsection>
</section>
</sections>
