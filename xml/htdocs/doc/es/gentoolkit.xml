<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/gentoolkit.xml,v 1.5 2005/01/24 12:11:25 chiguire Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link = "/doc/es/gentoolkit.xml" lang="es">
<title>Guía Gentoolkit</title>
<author title="Author">
  <mail link="mbutcher@aleph-null.tv">Matt Butcher</mail>
</author>
<author title="Editor">
  <mail link="zhen@gentoo.org">John P. Davis</mail></author>
<author title="Editor">
  <mail link="erwin@gentoo.org">Erwin</mail>
</author>
<author title="Editor Es">
  <mail link="bass@gentoo.org">José Alberto Suárez López</mail>
</author>
<author title="Editor Es Adjunto">
  <mail link="chiguire@gentoo.org">John Christian Stoddart</mail>
</author>
<author title="Traductor">
  <mail link="enrique@barbeito.org">Enrique Barbeito García</mail>
</author>

<!-- Licensed under GFDL -->

<abstract>
Gentoolkit es un conjunto de herramientas que facilitan la
administración de un sistema Gentoo. Este documento cubre lo básico de
algunas de las herramientas presentes en gentoolkit.
</abstract>

<version>1.5</version>
<date>2004-12-27</date>

<chapter>
<title>Introducción</title>
<section>
<title>¿Qué es Gentoolkit?</title>
<body>
<p>
Gentoo es una distribución única y presenta algunas complejidades
que simplemente no existen para otras distribuciones. A medida que los desarrolladores y contribuidores de Gentoo descubrían algunas de estas
complejidades, escribieron herramientas para ayudar a los usuarios y
administradores a sortearlas. Muchas de estas herramientas han sido
contribuidas al proyecto Gentoo y se incluyen en el paquete
<path>app-portage/gentoolkit</path>.
</p>

<note>
En la actualidad existen dos versiones de gentoolkit:
<c>app-portage/gentoolkit</c> y
<c>app-portage/gentoolkit-dev</c>. Mientras que el primero contiene
guiones para administración, el último contiene guiónes específicos
para asistir el desarrollo en Gentoo. Este documento unicamente
discute gentoolkit.
</note>

<p>
Gentoolkit contiene un grupo de herramientas útiles para ayudar a
manejar sus paquetes y seguirle la pista a lo que ocurre en su
sistema. La mayoría de los usuarios --particularmente aquellos que a
menudo actualizan los sistemas-- se beneficiarán al tener gentoolkit
instalado.
</p>
</body>
</section>

<section>
<title>Instalación</title>
<body>
<p>Justo como cualquier paquete de Gentoo, la instalación es sólo un
simple <c>emerge</c>.
</p>

<pre caption="Obteniendo gentoolkit">
# <i>emerge gentoolkit</i>
</pre>

<note>
Muchas de las herramientas en gentoolkit revelan información
importante sobre su sistema o requieren permisos de usuario root. Por
esa razón, algunos de los programas solamente pueden ser ejecutados (o
solamente funcionan correctamente) si se ejecutan por un usuario con
permisos de root.
</note>
</body>
</section>

<section>
<title>Encontrando Documentación</title>
<body>

<p>
Cualquier documentación que un programa pudiera tener (exceptuando las
páginas man) se encuentra en <path>/usr/doc/gentoolkit-[versión]/[nombre-del-programa]/</path>.
</p>
</body>
</section>
</chapter>

<chapter>
<title>equery</title>
<section>
<title>Introducción</title>
<body>

<p>
<c>equery</c> es una herramienta que auna características de
<c>qpkg</c> y <c>epm</c> con las suyas propias para ser realmente
útil. <c>equery --help</c> lista las opciones completas. <c>equery</c>
eventualmente reemplazará <c>etcat</c> en algún momento.
</p>

<note>
No todas las características listadas por <c>equery --help</c> han
sido implementadas todavía. Las que no, están claramente marcadas.
</note>
</body>
</section>

<section>
<title>Averiguando el tamaño de los paquetes</title>
<body>

<p>
Alguna vez ha tenido la curiosidad de averiguar ¿cuánto espacio ocupa
un paquete específico? Como un paquete puede tener sus archivos
repartidos en una cantidad de directorios, el <c>du -hc</c> usual tal
vez no le suministre una cifra correcta. No se preocupe, que
¡<c>equery</c> viene al rescate!
</p>

<pre caption="Tamaño del paquete">
# <i>equery size openoffice-bin</i>
* app-office/openoffice-bin-1.1.2
	   Total Files : 2908
	   Total Size  : 223353.31 KiB
</pre>

<p>
Como puede ver, <c>equery</c> escribe el espacio total ocupado en
kilobytes además de listar la cantidad de archivos en el paquete.
</p>
</body>
</section>

<section>
<title>Listado de parámetros USE por paquete</title>
<body>

<p>
<c>equery</c> puede usarse para darnos información acerca de cuáles
parámetros USE estan siendo usados por un paquete en específico. Nos
dice cuáles son nuestros parámetros USE actuales para un paquete y
cuáles están disponibles para ese paquete.
</p>

<pre caption="Activar y desactivar parámetros USE">
# <i>equery uses ethereal</i>
[ Colour Code : set unset ]
[ Legend    : (U) Col 1 - Current USE flags        ]
[           : (I) Col 2 - Installed With USE flags ]

 U I [ Found these USE variables in : net-analyzer/ethereal-0.10.6 ]
 - - adns  : Adds support for the adns DNS client library
 + + gtk   : Adds support for x11-libs/gtk+ (The GIMP Toolkit)
 - - ipv6  : Adds support for IP version 6
 - - snmp  : Adds support for the Simple Network Management Protocol if available
 + + ssl   : Adds support for Secure Socket Layer connections
 + + gtk2  : Use gtk+-2.0.0 over gtk+-1.2 in cases where a program supports both.
 - - debug : Tells configure and the makefiles to build for debugging. Effects vary across packages,
             but generally it will at least add -g to CFLAGS. Remember to set FEATURES=nostrip too
</pre>

<p>
He instalado ethereal sólamente con los parámetros gtk, ssl y gtk2,
pero otros parámentros para ethereal son adns, ipv6, snmp y
debug. Para más información sobre los parámetros use, por favor
refiérase al capítulo <uri
link="/doc/es/handbook/handbook-x86.xml?part=2&amp;chap=2">Parámetros
USE</uri> del <uri link="/doc/es/handbook/">Manual Gentoo</uri>.
</p>
</body>
</section>

<section>
<title>¿Dónde está el ebuild?</title>
<body>

<p>
Podemos averigual cuál ebuild está siendo utilizado para un paquete
específico con <c>equery</c>. Esto se hace con el comando <c>equery
which</c>, que nos muestra la trayectoria completa al ebuild.
</p>

<pre caption="Displaying the ebuild path">
# <i>equery which cdrtools</i>
/usr/portage/app-cdr/cdrtools/cdrtools-2.01_alpha37.ebuild
</pre>
</body>
</section>

<section>
<title>Gráficos de dependencias</title>
<body>

<p>
<c>equery</c> es capaz de darnos un gráfico de dependencias de un
determinado paquete. Este gráfico lista todos los paquetes que tienen
dependencias directas e indirectas con el paquete en cuestión.
</p>

<pre caption="Un gráfico de dependencias para cdrtools">
# <i>equery depgraph cdrtools</i>
Displaying dependencies for app-cdr/cdrtools-2.01_alpha37
`-- app-cdr/cdrtools-2.01_alpha37
 `-- sys-libs/glibc-2.3.4.20040808 (virtual/libc)
  `-- sys-kernel/linux-headers-2.4.22 (virtual/os-headers)
   `-- sys-apps/baselayout-1.10.4
    `-- sys-apps/sysvinit-2.85-r1
     `-- sys-apps/gawk-3.1.3-r1
      `-- sys-apps/util-linux-2.12-r4
          `-- sys-apps/sed-4.0.9
	      `-- sys-libs/ncurses-5.4-r4
	          `-- sys-apps/pam-login-3.14
	          `-- sys-libs/pam-0.77-r1
                 `-- sys-libs/cracklib-2.7-r10
               `-- sys-apps/miscfiles-1.3-r1
              `-- app-arch/gzip-1.3.5-r1
              `-- sys-apps/portage-2.0.50-r10
</pre>

<p>
Por ejemplo, mientras que glibc podrá ser una dependencia directa para
cdrtools, los linux-headers son una dependencia indirecta.
</p>
</body>
</section>
</chapter>

<chapter>
<title>euse</title>
<section>
<title>Introducción</title>
<body>

<p>
<c>euse</c> es una herramienta para ver, activar y desactivar los
parámetros USE en varios lugares. Para más información acerca de los
parámetros USE, por favor refiérase al documento <uri
link="/doc/es/handbook/handbook-x86.xml?part=2&amp;chap=2">Parámetros
USE</uri>. <c>euse -i</c> lista todos los parámetros USE.
</p>
</body>
</section>

<section>
<title>Ver, activar y desactivar los parámetros USE</title>
<body>

<p>
El comando <c>euse --conf</c> lee los parámetros USE
activos/desactivos actuales de <path>make.conf</path>.
</p>

<pre caption="Listando los parámetros USE actuales en make.conf">
# <i> euse --conf</i>
USE setting in make.conf:
alsa acpi apache2 cups cdr crypt cscope -doc ethereal fbcon gif gimpprint gnome
gpm gstreamer gtk2 gtkhtml imlib imlib2 innodb -java javascript jpeg libg++ libwww
mad md5sum mikmod mmx motif mozilla mpeg mpeg4 mysql ncurses oggvorbis odbc
offensive opengl pam pdflib perl png python quicktime readline sdl spell sse ssl
svga tcltk tiff truetype usb vanilla X xml2 xmms xosd xv xvid x86 zlib
</pre>

<p>
El activar un parámetro USE se hace con la ayuda del comando <c>euse
--enable</c>, el cual obligatoriamente requiere un parámetro como
argumento. Si el parámetro no está activado, <c>euse</c> lo concatena
al final de los parámetros USE actuales. En caso que el parámetro USE
sea inválido, hay una advertencia. El quitar un parámetro USE se lleva
a cabo con el comando <c>euse --disable</c>. Si se especifica una
parámetro inválido, se advierte al usuario de manera acorde. Si el
parámetro ya está presente, se desactiva anteponiéndole un menos así
-parámetro en el make.conf.
</p>

<pre caption="Activando el parámetro USE 3dfx">
# <i>euse --enable 3dfx</i>
USE setting in make.conf after enabling:
alsa acpi apache2 cups cdr crypt cscope -doc ethereal fbcon gif gimpprint gnome
gpm gstreamer gtk2 gtkhtml imlib imlib2 innodb -java javascript jpeg libg++ libwww
mad md5sum mikmod mmx motif mozilla mpeg mpeg4 mysql ncurses oggvorbis odbc
offensive opengl pam pdflib perl png python quicktime readline sdl spell sse ssl
svga tcltk tiff truetype usb vanilla X xml2 xmms xosd xv xvid x86 zlib 3dfx
</pre>

<pre caption="Desactivando el parámetro USE 3dfx">
# <i>euse --disable 3dfx</i>
USE setting in make.conf after disabling:
alsa acpi apache2 cups cdr crypt cscope -doc ethereal fbcon gif gimpprint gnome
gpm gstreamer gtk2 gtkhtml imlib imlib2 innodb -java javascript jpeg libg++ libwww
mad md5sum mikmod mmx motif mozilla mpeg mpeg4 mysql ncurses oggvorbis odbc
offensive opengl pam pdflib perl png python quicktime readline sdl spell sse ssl
svga tcltk tiff truetype usb vanilla X xml2 xmms xosd xv xvid x86 zlib -3dfx
</pre>

<note>
<c>euse</c> no remueve físicamente el parámetro del archivo
make.conf. Solo le antepone un signo - (menos) para así
desactivarlo. Luego tal vez tenga que ordenar manualmente su make.conf
para deshacerse de parámetros no utilizados.
</note>
</body>
</section>
</chapter>

<chapter>
<title>Otras herramientas</title>
<section>
<title>revdep-rebuild</title>
<body>

<p>
Esta herramienta es la reconstructora de dependencias en reversa de
Gentoo. Efectuará un barrido de todos los ebuilds instalados que no
funcionen como resultado de alguna actualización de un paquete del
cual depende. Puede hacer el emerge de esos paquetes pero también
puede ocurrir que un paquete determinado ya no funcione con las
dependencias instaladas, en cuyo caso, debe actualizar el paquete que
no funciona a una versión más reciente. revdep-rebuild permite pasar
argumentos a emerge que permite el uso del parámetro <c>--pretend</c>
para inspeccionar cuáles paquetes se van a emerge antes de proceder.
</p>

<pre caption="Ejecutando revdep-rebuild en modo pretend">
# <i>revdep-rebuild -p</i>

Checking reverse dependencies...
Packages containing binaries and libraries broken by any package update,
will be recompiled.

Collecting system binaries and libraries... done.
  (/root/.revdep-rebuild.1_files)

Collecting complete LD_LIBRARY_PATH... done.
  (/root/.revdep-rebuild.2_ldpath)

Checking dynamic linking consistency...
  broken /usr/lib/ao/plugins-2/libarts.so (requires libartsc.so.0)
  broken /usr/lib/kde3/libkpresenterpart.so (requires libartskde.so.1 libqtmcop.so.1
         libsoundserver_idl.so.1 libkmedia2_idl.so.1 libartsflow.so.1 libartsflow_idl.so.1 libmcop.so.1)
  broken /usr/lib/ruby/site_ruby/1.8/i686-linux/fox.so (requires libFOX-1.0.so.0)
  broken /usr/lib/xine/plugins/1.0.0/xineplug_ao_out_arts.so (requires libartsc.so.0)
  broken /usr/lib/perl5/vendor_perl/5.8.0/i686-linux/auto/SDL_perl/SDL_perl.so (requires libSDL_gfx.so.0)
  broken /usr/lib/libloudmouth-1.so.0.0.0 (requires libgnutls.so.10)
  broken /usr/bin/k3b (requires libartskde.so.1 libqtmcop.so.1 libsoundserver_idl.so.1 libkmedia2_idl.so.1
         libartsflow.so.1 libartsflow_idl.so.1 libmcop.so.1)
  broken /usr/bin/lua (requires libhistory.so.4)
  broken /usr/bin/lyx (requires libAiksaurus-1.0.so.0)
  broken /usr/bin/luac (requires libhistory.so.4)
  broken /usr/bin/avidemux2 (requires libartsc.so.0)
  broken /usr/bin/pptout (requires libxml++-0.1.so.11)
  broken /usr/bin/xml2ps (requires libxml++-0.1.so.11)
 done.
  (/root/.revdep-rebuild.3_rebuild)

Assigning files to ebuilds... done.
  (/root/.revdep-rebuild.4_ebuilds)

Evaluating package order... done.
  (/root/.revdep-rebuild.5_order)

All prepared. Starting rebuild...
emerge --oneshot --nodeps -p =app-cdr/k3b-0.11.14 =app-office/koffice-1.3.2 =app-office/lyx-1.3.4 \
       =app-office/passepartout-0.2 =dev-lang/lua-5.0.2 =dev-ruby/fxruby-1.0.29 =media-libs/libao-0.8.5 \
       =media-libs/xine-lib-1_rc5-r3 =media-video/avidemux-2.0.26 =net-libs/loudmouth-0.16 

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild   R   ] app-cdr/k3b-0.11.14  
[ebuild   R   ] app-office/koffice-1.3.2  
[ebuild   R   ] app-office/lyx-1.3.4  
[ebuild   R   ] app-office/passepartout-0.2  
[ebuild   R   ] dev-lang/lua-5.0.2  
[ebuild   R   ] dev-ruby/fxruby-1.0.29  
[ebuild   R   ] media-libs/libao-0.8.5  
[ebuild   R   ] media-libs/xine-lib-1_rc5-r3  
[ebuild   R   ] media-video/avidemux-2.0.26  
[ebuild   R   ] net-libs/loudmouth-0.16  

Now you can remove -p (or --pretend) from arguments and re-run revdep-rebuild.
</pre>

<p>
Si requiere reconstruir algunos paquetes, puede ejecutar
<c>revdep-rebuild</c> sin el parámetro <c>-p</c> y éstos paquetes
listados serán emergidos otra vez.
</p>
</body>
</section>

<section>
<title>glsa-check</title>
<body>

<p>
La herramienta <c>glsa-check</c> es principalmente una de prueba, que
le sigue la pista a los diversos GLSA's (Advertencia de Seguridad
Gentoo Linux o Gentoo Linux Security Advisory, en inglés) cuyas
funciones serán eventualmente integradas a <c>emerge</c> y
<c>equery</c>. Para más información, por favor visite la <uri
link="/proj/en/portage/glsa-integration.xml">Página de Integración Portage GLSA</uri>.
</p> 
</body>
</section>
</chapter>
</guide>
