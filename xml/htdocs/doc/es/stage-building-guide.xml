<?xml version='1.0' encoding="ISO8859-15"?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/es/stage-building-guide.xml">

<author title = "Author"><mail link = "zhen@gentoo.org">John P. Davis</mail></author>
<author title = "Author"><mail link = "avenj@gentoo.org">Jon Portnoy</mail></author>
<author title = "Traductor"><mail link = "fiam@asturlinux.org">Alberto García Hierro</mail></author>
<author title="Editor-Es">
    <mail link="bass@gentoo.org">José Alberto Suárez López</mail>
</author>

<license/>

<version>1.1</version>
<date>24 de Agosto de 2003</date>

<abstract>Esta guía explica como construir fases (stages) para
Gentoo Linux.</abstract>

<chapter>
	<title>Preliminares</title>
	<section>
		<title>Introducción</title>
		<body>
		<p>Esta guía explica como construir fases recientes para
		Gentoo Linux usando stager, la aplicación para construirlas.</p>

	</body>
	</section>
	<section>
		<title>Consiguiendo los fuentes</title>
		<body>
		<p>Antes de construir cualquier cosa, es necesario conseguir
		los fuentes, las herramientas, etc. Lo primero que debemos
		hacer, es asegurarnos de que tenemos el módulo <i>gentoo-src</i>
		bajado del CVS y actualizado. Los scripts de construcción
		cambian frecuentemente, así que asegúrese de estar actualizado.
		Si no tiene acceso al módulo gentoo-src, puede encontrar
		snapshots de stager en 
		<uri>http://dev.gentoo.org/~avenj/stager/</uri>. Además,
		también necesita el archivo de la fase1 experimental más
		reciente. Normalmente, podrá encontrarlo en
		<path>experimental/x86/stages</path> en cualquier
		mirror de Gentoo. El archivo que estará buscando
		será <i>stage1-x86-1.4_pre<i>FECHA</i></i>.tar.bz2,
		donde <i>FECHA</i> es la fecha más reciente de las disponibles. 
		</p>
		
		</body>
	</section>
</chapter>

<chapter>
	<title>El proceso de construcción</title>
	<section>
		<title>Primeros Pasos</title>
		<body>
		<p>En primer lugar, cree un directorio en una partición
		lo suficientemente grande para contener todos los archivos
		que se generarán durante la construcción. Después copie
		el directorio de <path>stager</path> de <i>gentoo-src</i>
		en este directorio nuevo (al cual nos referiremos como
		<path>/usr/src/build</path> en este documento). 
		Alternativamente, extraiga el archivo del snapshot en este
		directorio. Finalmenre, cree un directorio llamado
		<i>stages</i> dentro de <path>/usr/src/build</path>
		y coloque dentro el tarball experimental de la fase1.
		</p>

		<pre caption="Preparándose">
# <c>mkdir /usr/src/build </c>
<codenote>Puede cambiar esta ruta por la que prefiera.</codenote>

# <c>cp -R /gentoo-src/stager/ /usr/src/build</c>
# <c>cd /usr/src/build/stager ; mkdir stages</c>
# <c>mv stage1-x86-1.4_preFECHA.tar.bz2 /usr/src/build/stager/stages</c>

		</pre>

		</body>
	</section>


	<section>
		<title>Construyendo</title>
		<body>
		<p>En primer lugar, tenemos que construir un archivo reciente
		de la fase2 que use optimizaciones genéricas. Este se usará
		para construir cualquier fase reciente, incluyendo una
		fase1 reciente.
		</p>

		<pre caption="Construyendo la fase2">
# <c>./stager x86 2 origen destino</c>
<codenote>En la línea anterior, origen se refiere a la fecha en el nombre
del tarball experimental.</codenote>
<codenote>Destino se refiere a la fecha del nuevo tarball. Reemplace ambos
según convenga.</codenote>		
		</pre>

		<p>Cuando la construcción termine, debería tener un tarball
		reciente de la fase2 en el directorio <path>stages</path>, 
		además del tarball de la fase1 original. Ahora puede construir
		una nueva fase1 desde su fase2, usando el mismo método
		básicamente:
		</p>

		<pre caption="Contruyendo la fase1 nueva">
# <c>./stager x86 1 destino destino</c>
		</pre>

		<p>¡Tachán! - Ahora ya ha construido una nueva fase1 además
		de la fase1 original y de la nueva fase2. En este momento,
		ya puede construir fases no genéricas. optimizadas para
		subtipos específicos de CPU. Tome nota de que estas fases
		optimizadas <i>no se pueden</i> usar para construir otras.
		Para la construcción de fases, sólo debería usar las genéricas.
		Construir para otros subtipos se hace de la misma manera,
		únicamente reemplace x86 con el subtipo específico. Ejecute
		stager sin argumentos para obtener una lista de subtipos.
        </p>
		</body>
	</section>

</chapter>

<chapter>
	<title>Notas finales</title>
	<section>
		<title>Contactos</title>
		<body>
		
		<table>
		<tr>
			<th>Contacto</th>
			<th>Función</th>
		</tr>
		<tr>
			<ti><mail link="avenj@gentoo.org">Jon Portnoy</mail></ti>
			<ti>Administrador de las liberaciones de Gentoo Linux</ti>
		</tr>
		<tr>
			<ti><mail link="jhhudso@gentoo.org">Jared Hudson</mail></ti>
			<ti>Comprobador de calidad de las liberaciones</ti>
		</tr>
		<tr>
			<ti><mail link="zhen@gentoo.org">John Davis</mail></ti>
			<ti>Author</ti>
		</tr>
		<tr>
			<ti><mail link="avenj@gentoo.org">Jon Portnoy</mail></ti>
			<ti>Autor</ti>
		</tr>
		</table>
		
		</body>
	</section>
</chapter>
</guide>
