<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/Attic/su-x.xml,v 1.2 2004/11/15 14:42:35 chiguire Exp $ -->
<guide link="su-x.xml">
<title>Using su in X HOWTO</title>
<author title="Author">
  <mail link="joshua@sungentoo.homeunix.com">Joshua Preston</mail>
</author>
<author title="Editor-Es">
   <mail link="bass@gentoo.org">José Alberto Suárez López</mail>
</author>
<author title="Editor-Es Adjunto">
   <mail link="chiguire@gentoo.org">John Christian Stoddart</mail>
</author>

<abstract>
Este howto fue diseñado para ayudar a los que intentan hacer su al usuario root mientras está en ambiente X como un usuario normal.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->
<license/>

<version>1.1</version>
<date>2004-07-31</date>

<chapter>
<title>Introdución</title>
<section>
<title>Propósito</title>
<body>

<p>
Todos hemos estado allí, habiendo hecho el login como un usuario normal
y luego necesitando correr alguna aplicación X como root. Tal vez sólo
querramos configurar un kernel con <e>make xconfig</e> recibiendo mensajes
de error en el proceso.
</p>

<pre caption="Un ejemplo de error X">
<comment>(mientras estamos ejecutando xterm)</comment>
 $ <i>su -</i>
Password:
 # <i>xlogo -render</i>
Xlib: connection to ":0.0" refused by server
Xlib: No protocol specified

Error: Can't open display: :0.0
</pre>

<p>
Afortunadamente para nosotros, hay varias maneras de resolver esto. 
Algunas de éstas sugerencias tal vez no sean las más seguras y tal vez
sean un "hack"; habrá que decidir cuál es más apropiado para sus 
necesidades.
</p>
</body>
</section>

<section>
<title>Ejecutando X como root</title>
<body>

<p>
¿Qué clase de documento sería este sin advertencias? Cubriremos
brevemente algunas de las advertencias y cuestiones acá mismo 
antes de comenzar.
</p>

<p>
En términos generales, el correr X como root (superusuario) es una 
mala idea. Aún el correr programas de X como root es el tema de 
acalorados debates.
</p>

<p>
Los siguientes riesgos están asociados con la ejecución de 
X como usuario root:
</p>

<ul>
  <li>Corrupción de datos</li>
  <li>Accesos no autorizados</li>
  <li>Fugas potenciales</li>
</ul>

<p>
Mientras que la mayoría de éstos son causados por sistemas X 
incorrectamente configurados, sigue siendo aceptado como una mala 
idea.
</p>

<p>
Usuarios novatos de Linux suelen ser culpables de ejecutar 
X como root.
</p>

<p>
Veamos un ejemplo. Normalmente hago un hábito de pasar revista a los 
canales IRC de Gentoo algunas veces por semana. Casi siempre hay alguien 
entrado a mi canal como usuario root para conectarse por IRC. ¡Imagínense 
el potencial riesgo de seguridad! Dependiendo del cliente que usa para 
conectarse, podría hacerle cosas realmente desagradables, como por 
ejemplo, enviarle por DCC un archivo como <path>.bashrc</path>.
</p>

<pre caption="Un .bashrc malicioso">
#!/bin/sh
logout
</pre>

<p>
Ahora, ¿si el usuario también tuviera habilitado el auto-inicio de 
transferencias DCC? Y, ¿qué tal si su directorio por defecto fuera 
<path>~/</path>? Pareciera que nuestro pequeño .bashrc sobreescribirá 
el existente, de manera que la proóxima vez que haga login, ¡será 
imediatamente echado del sistema!
</p>

<p>
¿Suena demasiado exagerado? ¡Piénselo de nuevo! Este es apenos UNO de 
muchos ejemplos del porqué usar root no es buena idea, ahora agréguele 
el funcionamiento interno y complejidades de X, y verá este dilema.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Soluciones</title>
<section>
<title>x11-misc/sux</title>
<body>

<p>
La mejor descripción de sux proviene de su 
<uri link="http://fgouget.free.fr/sux/sux-readme.shtml">página</uri>, 
listada a continuación.
</p>

<note>
Sux es un envoltorio alrededor del comando standard, su, que transferirá 
sus credenciales X al usuario blanco. Sux ha sido lanzado bajo los términos 
de la licencia X11.
</note>

<p>
¡Instalar sux es tan fácil como hacer emerge!
</p>

<pre caption="Hcer Emerge sux">
# <i>emerge x11-misc/sux</i>
</pre>

<p>
A continuación, unos ejemplos del uso de sux.
</p>

<pre caption="Ejecutar cualquier programa X como root">
$ <i>sux -c /usr/bin/X11/xlogo -render</i>
Password: <comment>(Ingrese contraseña de root y pulse enter)</comment>
</pre>

<pre caption="Ejecutar un shell como root">
$ <i>sux -</i>
Password: <comment>(Ingrese contraseña de root y pulse enter)</comment>
# <i>xlogo -render</i>
</pre>

<impo>
El invocar un shell con root usando sux permitirá ejecutar cualquier 
aplicación X con solo escribirla.
</impo>
</body>
</section>

<section>
<title>Usuarios de KDE</title>
<body>

<p>
Los usuarios de KDE tienen otra opción. <c>kdesu</c> es la versión KDE 
de su. Permite ejecutar aplicaciones X en el servidor X actual similar 
a sux, sin embargo, presentará una ventana solicitando la contraseña 
y no ejecutará aplicaciones de consola.
</p>

<impo>
<c>kdesu</c> fue diseñada para correr aplicaciones X solamente.
</impo>

<p>
El uso de <c>kdesu</c> es:
</p>

<pre caption="Ejecutar un programa X con opciones como root">
# <i>kdesu -c "/usr/bin/X11/xlogo -render"</i>
<comment>(puede especificar un usuario diferente, como diffuser)</comment>
# <i>kdesu -u diffuser -c "/usr/bin/X11/xlogo -render"</i>
</pre>

<pre caption="Ejecutar un programa X sin opciones como root">
# <i>kdesu /usr/bin/X11/xlogo</i>
<comment>(puede especificar un usuario diferente, como diffuser)</comment>
# <i>kdesu -u diffuser /usr/bin/X11/xlogo</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Conclusión</title>
<section>
<title>Para cerrar</title>
<body>

<p>
Hay muchas otras maneras de realizar las anteriores tareas, pero creo 
que estas son las más fáciles.
</p>

<p>
Espero que haya sido útil y le deseamos buena suerte con sus nuevos 
conocimientos.
</p>
</body>
</section>
</chapter>
</guide>
