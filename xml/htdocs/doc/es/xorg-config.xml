<?xml version='1.0' encoding='UTF-8'?>

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/xorg-config.xml,v 1.4 2004/11/29 16:02:15 neysx Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/es/xorg-config.xml" lang="es">

<title>Guía de configuración del Servidor X</title>

<author title="Author">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>

<author title="Editor-Es">
   <mail link="bass@gentoo.org">José Alberto Suárez López</mail>
</author>

<author title="Follow-up Editor-Es">
   <mail link="chiguire@gentoo.org">John Christian Stoddart</mail>
</author>

<author title="Traductor">
  <mail link="yoswink@gmail.com">José Luis Rivero</mail>
</author>

<abstract>
Xorg es el servidor de ventanas X que permite a los usuarios disponer
de un entorno gráfico a su alcance inmediato. Está guía de 
configuración explica qué es Xorg, cómo instalarlo y cuáles son las
distintas opciones de configuración.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->
<license/>

<version>1.6</version>
<date>2004-11-26</date>

<chapter>
<title>¿Qué es el Servidor de Ventanas X?</title>
<section>
<title>Entorno Gráfico vs Línea de Comandos</title>
<body>

<p>
La usuario medio puede tener miedo al pensar que va a tener que introducir
comandos. ¿Por qué no iba a ser capaz de comenzar su camino a través de la 
libertad que proporciona Gentoo (y Linux en general)? Bien, *gran sonrisa*,
por supuesto que eres capaz de esto :-) Linux ofrece una amplia variedad de
llamativos interfaces de usuarios y entornos los cuales pueden ser 
instalados sobre su instalación actual.  
</p>

<p>
Esta es una de las mayores sorpresas que se llevan los nuevos usuarios: un
interfaz gráfico de usuario no es nada más que una aplicación ejecutándose
sobre tu sistema. <e>No</e> es parte del núcleo de Linux o de nada interno
al sistema. Es una potente herramienta que activa completamente las 
habilidades gráficas de tu sistema.
</p>

<p>
Puesto que los estándares son importantes, un estándar para dibujar y mover 
ventanas en una pantalla, interactuando con el usuario a través del ratón, el 
teclado y otros aspectos básicos también importantes han sido creados y 
denominados <e>Sistema de Ventanas X (X Window System)</e>, abreviado
normalmente como <e>X11</e> o solamente <e>X</e>. Es utilizado en Unix, Linux
y Sistemas operativos basados en Unix a lo largo de todo el mundo.
</p>

<p>
La aplicación que proporciona a los usuarios de Linux la posibilidad de 
ejecutar interfaces gráficos de usuario y que utiliza el estándar X11 es 
Xorg-X11, una bifurcación del proyecto XFree86. XFree86 ha decidido utilizar
una licencia que puede no ser compatible con la licencia GPL, por tanto, se
recomienda el empleo de Xorg. Actualmente las diferencias entre Xorg y XFree86
son muy pequeñas; si conoce uno, conoce el otro. Las versiones de XFree86 
anteriores a 4.4 están también están disponibles a través de Portage.    
</p>
</body>
</section>

<section>
<title>El proyecto X.org</title>
<body>

<p>
El proyecto <uri link="http://www.x.org">X.org</uri> creó y mantiene una 
implementación de código abierto, libre y redistribuible del sistema X11.
Es una infraestructura de escritorio basada en X11 de código abierto. 
</p>

<p>
Xorg proporciona una interfaz entre tu hardware y el software gráfico que
quieras ejecutar. Además, Xorg esta completamente preparado para
el trabajo en red, esto significa que usted es capaz de ejecutar una 
aplicación en un sistema mientras la esta viendo en otro sistema diferente.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Instalando Xorg</title>
<section>
<title>Utilizando emerge</title>
<body>

<p>
Basta ya de cháchara, vamos al grano ¿verdad?. Para instalar Xorg, simplemente
necesita ejecutar <c>emerge xorg-x11</c>. La instalación de Xorg tarda
un rato, quizá quiera ir a tomar algo mientras espera.
</p>

<pre caption="Instalando Xorg">
# <i>emerge xorg-x11</i>
</pre>

<p>
Cuando la instalación haya finalizado, quizá necesite reinicializar algunas
variables de entorno antes de continuar. Simplemente ejecute <c>env-update</c> 
seguido de <c>source /etc/profile</c> y ya está configurado. Esto de ninguna 
manera dañara su sistema. 
</p>

<pre caption="Reinicializando las variables de entorno">
# <i>env-update</i>
# <i>source /etc/profile</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Configurando Xorg</title>
<section>
<title>El archivo xorg.conf</title>
<body>

<p>
El archivo de configuración de Xorg se llama <path>xorg.conf</path> y se
encuentra en <path>/etc/X11</path>. El paquete xorg-x11 proporciona un
ejemplo de configuración en <path>/etc/X11/xorg.conf.example</path> el 
cual puede utilizarse para crear su propia configuración. Está muy comentado,
pero si necesita más información respecto a la sintaxis, no dude en leer
la página del manual (man).
</p>

<pre caption="Leyendo la página del manual sobre xorg.conf">
# <i>man 5 xorg.conf</i>
</pre>

<p>
Feliz lectura para aquellos que lo vayan a hacer. Estamos seguros de que no será así,
con lo cual seguiremos con la explicación sobre como podemos crear el archivo
automáticamente.
</p>
</body>
</section>

<section>
<title>Manera predeterminada: Generación automática de xorg.conf</title>
<body>

<p>
El propio Xorg es capaz de adivinar la mayoría de parámetros. En la mayoría
de los casos, sólo necesitara cambiar algunas líneas para conseguir la resolución
que quiere y marchando. Si está interesado en un mayor conocimiento, asegúrese 
de consultar los recursos que se encuentran al final de este capítulo. Pero
primero, permítanos generar un (esperemos que funcione) archivo de configuración Xorg. 
</p>

<pre caption="Generando un archivo xorg.conf">
# <i>Xorg -configure</i>
</pre>

<p>
Asegúrese de leer las últimas lineas que aparecen en su pantalla cuando Xorg
ha terminado de probar su hardware. Si le informa de que ha fallado en algún
punto, forzosamente tendrá que editar manualmente el archivo 
<path>xorg.conf</path>. Asumiremos que no ha fallado, le debería informar que
ha generado <path>/root/xorg.conf.new</path> listo para que lo pruebe. Entonces,
vamos a probarlo :)
</p>

<pre caption="Probando el archivo xorg.conf.new">
# <i>X -config /root/xorg.conf.new</i>
</pre>

<p>
Si todo va bien, debería ver un feo, odioso, repulsivo, deformado gestor
de ventanas llamado <c>twm</c>, probablemente el gestor de ventanas más
pequeño disponible. Pruebe a mover el ratón y ver si el teclado también
funciona. En la siguiente sección optimizaremos nuestro <path>xorg.conf</path>
para que se ajuste a nuestro hardware. Ahora vamos a uno de los terminales
que se ven en la pantalla y escriba <c>exit</c> (o presione Ctrl-D) hasta
que Xorg se apague. Si no es capaz de utilizar el ratón para cambiar de 
terminal, puede presionar Ctrl-Alt-Retroceso para matar el servidor X.
</p>

 <p>
Si <c>twm</c> no arranca, no se preocupe - lo hará una vez haya iniciado el 
servidor X a través del comando <c>startx</c>. Compruebe si el ratón 
funciona correctamente y que la resolución sea buena. No será capaz de 
deducir exactamente la resolución, pero si podrá ver si es demasiado baja.
Puede salir siempre que lo desee, pulsando Ctrl-Alt-Backspace.
</p>

</body>
</section>

<section>
<title>Alternativa: Generación Semi-Automática de xorg.conf</title>
<body>

<p>
Xorg proporciona una herramienta llamada <c>xorgconfig</c> la cual le preguntará
por información relativa a su sistema (tarjeta gráfica, teclado, ...). Basándose
en los datos que ha suministrado, creará un archivo <path>xorg.conf</path>.
</p>

<pre caption="Generación semi-automática de xorg.conf">
# <i>xorgconfig</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Ajustando xorg.conf</title>
<section>
<title>Copiando xorg.conf</title>
<body>

<p>
Vamos primero a copiar el <path>xorg.conf.new</path> a
<path>/etc/X11/xorg.conf</path> para no tener que estar continuamente ejecutando
<c>Xorg -config</c> -- teclear <c>startx</c> es mucho más fácil :)
</p>

<pre caption="Copiando xorg.conf">
# <i>cp /root/xorg.conf.new /etc/X11/xorg.conf</i>
</pre>

<p>
Ahora ejecute <c>startx</c> para iniciar su servidor de X. Utilizará el
archivo recientemente copiado y su archivo de configuración. Para cerrar la 
sesión X, teclee <c>exit</c> o Ctrl-D en los xterms que aparecen. También
puede matar la sesión X utilizando la combinación Ctrl-Alt-Retroceso. Esto,
hace que la salida de las X sea vergonzosa - algo que puede que no siempre 
se quiera. Sin embargo no dañara nada.
</p>

<pre caption="Iniciando X">
# <i>startx</i>
</pre>
</body>
</section>

<section>
<title>Configurando su resolución</title>
<body>

<p>
Si nota que la resolución de la pantalla no es correcta, necesitará comprobar
dos secciones en su configuración. Primero de todo, tiene la sección
<e>Screen</e> la cual tiene una lista de resoluciones - si existe - que su 
servidor X puede soportar. De forma predeterminada, esta sección no contiene
ninguna lista de resoluciones. Si es este el caso, Xorg estima las resoluciones 
basándose en la información de la segunda sección, <e>Monitor</e>.
</p>

<p>
Lo que sucede es lo siguiente: Xorg comprueba la configuración de 
<c>HorizSync</c> y <c>VertRefresh</c> en la sección <e>Monitor</e> para
calcular las resoluciones válidas. Por ahora, deje estas configuraciones como 
están. Solamente cuando los cambios en la sección <e>Screen</e> (serán 
descritos en un minuto) no funcionen, entonces necesitará revisar las 
especificaciones de su monitor y rellenar con los valores corrector.  Además, 
también puede utilizar una herramienta que encuentra las
especificaciones de su monitor, llamada <c>sys-apps/ddcxinfo-knoppix</c>.
</p>

<warn>
<b>No</b> cambie los valores de estas dos variable relacionadas con el monitor
sin haber consultado las especificaciones técnicas de su monitor. Una 
configuración incorrecta conduce a errores de falta de sincronización en el 
mejor de los casos y ha quemar pantallas en el peor.
</warn>

<p>
Ahora vamos a cambiar las resoluciones. En el siguiente ejemplo desde
<path>/etc/X11/xorg.conf</path> añadimos líneas de resolución (<c>Modes</c>)
y la profundidad predeterminada (<c>DefaultDepth</c> ) para que su servidor
de X comience con 24 bits y 1024x768.  No importan los textos entrecomillados 
- son ejemplos y la mayoría serán diferentes de las configuraciones de su sistema.
</p>

<pre caption="Cambiando la sección Screen en /etc/X11/xorg.conf">
Section "Screen"
  Identifier  "Default Screen"
  Device    "S3 Inc. ProSavage KN133 [Twister K]"
  Monitor   "Generic Monitor"
  <i>DefaultDepth  24</i>
  <comment># Omitimos parte del texto para mejorar la legibilidad</comment>
  SubSection "Display"
    Depth   24
    <i>Modes   "1024x768"</i>
  EndSubSection
EndSection
</pre>

<p>
Ejecute X (<c>startx</c>) para descubrir si utiliza la resolución que quiere.
</p>
</body>
</section>

<section>
<title>Configurando su teclado</title>
<body>

<p>
Para configurar X para que utilice un teclado internacional, buscamos la sección
<e>InputDevice</e> que establece los parámetros del teclado y añadimos la 
opción <c>XkbLayout</c> para que apunte a la disposición de teclado que 
quiera. Como ejemplo, mostramos cómo aplicar la disposición de teclado en
español. (Si quiere el teclado en otro idioma, sustituya el código de letras del 
país por el del suyo propio).
</p>

<pre caption="Cambiando la disposición del teclado">
Section "InputDevice"
  Identifier  "Generic Keyboard"
  Driver    "keyboard"
  Option    "CoreKeyboard"
  Option    "XkbRules"  "xorg"
  Option    "XkbModel"  "pc105"
  <i>Option    "XkbLayout" "es"</i>
EndSection
</pre>
</body>
</section>

<section>
<title>Configurando su Ratón</title>
<body>

<p>
Si su ratón no funciona, primero necesitará encontrar si está detectado
por el kernel. Los ratones PS/2 están recogidos en <path>/dev/psaux</path>
Otros ratones (como los USBs) se sitúan en <path>/dev/input</path> 
(o <path>/dev/input/mice</path>). En cualquier caso puede comprobar los
dispositivos que representan su ratón revisando la salida de estos archivos 
cuando mueva el ratón. Para terminar la sesión presione <c>Ctrl-C</c>.
</p>

<pre caption="Comprobando los archivos de dispositivo">
# <i>cat /dev/input</i>
<comment>(No olvide presionar Ctrl-C para concluir)</comment>
</pre>

<p>
Si su ratón no es detectado, compruebe que todos los módulos necesarios 
están cargados.
</p>

<p>
Si su ratón es detectado, rellene con el dispositivo en la sección 
<e>InputDevice</e> apropiada. En el siguiente ejemplo verá que también podemos
configurar otras dos opciones: <c>Protocol</c> (la cual muestra el protocolo 
a emplear - la mayoría de los usuarios utilizarán PS/2 o IMPS/2) y <c>ZAxisMapping</c> 
(la cual permite que se utilice la rueda del ratón (si es posible).
</p>

<pre caption="Cambiando las configuraciones del ratón en Xorg">
Section "InputDevice"
  Identifier  "TouchPad Mouse"
  Driver    "mouse"
  Option    "CorePointer"
  <i>Option    "Device"    "/dev/psaux"</i>
  <i>Option    "Protocol"    "IMPS/2"</i>
  <i>Option    "ZAxisMapping"    "4 5"</i>
EndSection
</pre>

<p>
Ejecute <c>startx</c> y sea feliz con el resultado. Felicidades, ahora (esperemos) tiene 
Xorg funcionando en su sistema. El siguiente paso es desinstalar este horrible y ligero 
gestor de ventanas y utilizar  uno con mayores funcionalidades (o incluso un entorno 
de escritorio) como pueda ser KDE o GNOME, pero eso ya no forma parte de esta 
guía :)
</p>
</body>
</section>
</chapter>

<chapter>
<title>Recursos</title>
<section>
<title>Creando y retocando xorg.conf</title>
<body>

<p>
Primero de todo, <c>man 5 xorg.conf</c> proporciona una rápida y completa 
referencia sobre la sintaxis utilizada por el archivo de configuración. 
Asegúrese de tenerlo abierto en un terminal cerca cuando edite el archivo de 
configuración.
</p>

<p>
Un segundo punto de recursos sobre su sistema está en el directorio 
<path>/usr/X11R6/lib/X11/doc</path> con varios <path>README</path>'s
para chipsets gráficos particulares.
</p>

<p>
Hay también muchos recursos en línea sobre edición de <path>xorg.conf</path>. 
Nosotros solamente listamos aquí unos pocos, asegúrese de buscar en  
<uri link="http://www.google.com">Google</uri> para encontrar más :)
Como<path>xorg.conf</path> y <path>XF86Config</path> (el archivo de 
configuración del proyecto XFree86) utilizan la misma sintaxis para la mayoría de
opciones de configuración y hay más información disponible sobre 
<path>XF86Config</path>, incluiremos también esos recursos.
</p>

<ul>
  <li>
    <uri link="http://tldp.org/HOWTO/XFree-Local-multi-user-HOWTO/">The XFree
    Local Multi-User HOWTO</uri>
  </li>
  <li>
    <uri
    link="http://www-106.ibm.com/developerworks/edu/os-dw-linuxxwin-i.html">An
    Introduction to XFree 4.x</uri> by Chris Houser
  </li>
</ul>
</body>
</section>
</chapter>
</guide>
