<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/gentoo-x86-quickinstall.xml,v 1.1 2005/02/01 20:56:01 chiguire Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/es/gentoo-x86-quickinstall.xml" lang="es">
<title>Referencia rápida de instalación Gentoo Linux</title>
<author title="Autor">Steven Wagner</author>
<author title="Editor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Editor Es">
  <mail link="bass@gentoo.org">José Alberto Suárez López</mail>
</author>
<author title="Editor Es Adjunto">
  <mail link="chiguire@gentoo.org">John Christian Stoddart</mail>
</author>
<author title="Traductor">
  <mail link="jmboris@linuxmail.org">Juan Manuel Jaramillo</mail>
</author>

<abstract>
La guía rápida de instalación cubre todos los detalles del proceso de
instalación de una manera no detallada. Los usuarios deben tener
experiencia previa en la instalación de Gentoo Linux si desean seguir
esta guía.
</abstract>

<license/>

<version>1.12</version>
<date>2004-09-09</date>

<chapter>
<title>Referencia rápida de instalación</title>
<section>
<body>

<p>
Las imágenes ISO de los instaladores están en los <uri link=
"http://www.gentoo.org/main/en/mirrors.xml">servidores espejo Gentoo
</uri>. La descripción detallada de los diferentes CDs están
disponibles en  <uri link="http://store.gentoo.org">Gentoo
Store</uri>. Un CD universal contiene todo lo que necesita para
instalar Gentoo Linux rápidamente y sin necesidad de una conexión a
internet. El CD de Paquetes es opcional y contiene paquetes
precompilados de KDE, Gnome, OpenOffice, Mozilla, Evolution y más.
</p>

<p>
Arranque el sistema desde el CD universal. Presione &lt;F1&gt; and/or
&lt;F2&gt; para ver cuales son las opciones de arranque
disponibles. Press &lt;ENTER&gt; en la pantalla de inicio para
continuar con el kernel predetermindado. Eventualmente podrá recibir
un prompt.
</p>

<pre caption="Configuraciones iniciales">
# <i>date</i>  (Esté seguro que la fecha y la hora sean las correctas. Si están equivocadas, corríjalas con <i>date MMDDhhmmCCYY</i> )
# <i>modprobe module_name</i>  (Opcional - Cargue los módulos necesarios)
# <i>net-setup eth0</i> (Configure la red)
# <i>fdisk /dev/hda</i> (Particione su disco)
</pre>

<p>
La configuración recomendada es 64 megabytes para la partición boot
con ext2, una partición swap con el doble de la memoria RAM
disponible, y el resto de su partición raíz usando ReiserFS.
</p>

<p>
Inicie sus particiones usando <c>mke2fs</c> (ext2), <c>mke2fs
-j</c> (ext3), <c>mkreiserfs</c> (ReiserFS), <c>mkfs.xfs</c> (XFS),
<c>mkfs.jfs</c> (JFS) and <c>mkswap</c> (partición swap). Por ejemplo:
<c>mke2fs -j /dev/hda3</c>.
</p>

<p>
A continuación se montan las particiones y se extrae el archivo stage.
</p>

<pre caption="Preparando la Instalación">
(Active la partición de intercambio)                      		# <i>swapon /dev/hdax</i>
(Monte la partición raíz)                       		# <i>mount /dev/hdax /mnt/gentoo</i>
(Cree el punto de montaje del boot)                     	# <i>mkdir /mnt/gentoo/boot</i>
(Monte la partición boot)                     			# <i>mount /dev/hdax /mnt/gentoo/boot</i>
(Vaya al punto de montaje)                             		# <i>cd /mnt/gentoo</i>
(Extraiga el archivo tar del stage ...)                          # <i>tar -xvjpf /mnt/cdrom/stages/stage?-*.tar.bz2</i>
(<comment>o</comment> descargue el último archivo tar ...)       # <i>links http://www.gentoo.org/main/en/mirrors.xml</i>
(                  ... y extráigalo)       # <i>tar -xvjpf stage*</i>
(Opcional: desempaquete el árbol portage)    # <i>tar -xvjf /mnt/cdrom/snapshots/portage-*.tar.bz2 -C /mnt/gentoo/usr</i>
(Opcional: copie los distfiles)                  # <i>cp /mnt/cdrom/distfiles/* /mnt/gentoo/usr/portage/distfiles/</i>
(Seleccione un servidor espejo)                                # <i>mirrorselect -a -s4 -o | grep -ve '^Netselect' &gt;&gt; /mnt/gentoo/etc/make.conf</i>
(Copie la información del servidor dns)               # <i>cp /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
(Monte el sistema de archivos proc)                      # <i>mount -t proc none /mnt/gentoo/proc</i>
(Chroot dentro del nuevo entorno)                # <i>chroot /mnt/gentoo /bin/bash</i>
(Cargue las variables necesarias)                   # <i>env-update; source /etc/profile</i>
(Solamente -RED, no-GRP: actualice el Portage)          # <i>emerge sync</i>
</pre>

<p>
Ahora instalamos Gentoo:
</p>

<pre caption = "Instalando Gentoo">
(Cambie USE, CFLAGS y CXXFLAGS. Stage1 también puede cambiar CHOST)  # <i>nano -w /etc/make.conf</i>
(Stage1 solamente: hacer bootstrap del sistema)                                  # <i>cd /usr/portage; scripts/bootstrap.sh</i>
(Stage1, Stage2 solamente: instale el sistema base)                       # <i>emerge system</i>
</pre>

<p>
A continuación proporcionamos la información necesaria:
</p>

<pre caption = "Establecer los archivos de configuración">
(establecer información de zona horaria)                        # <i>ln -sf /usr/share/zoneinfo/<comment>&lt;ruta archivo de zona horaria&gt;</comment> /etc/localtime</i>
(Editamos el archivo fstab)                                 # <i>nano -w /etc/fstab</i>
</pre>

<p>
Use lo siguiente como un <e>plantilla</e> (No copie y pegue) para
<path>/etc/fstab</path>:
</p>

<pre caption="/etc/fstab">
# &lt;fs&gt;                  &lt;mountpoint&gt;    &lt;type&gt;          &lt;opts&gt;                  &lt;dump/pass&gt;
/dev/hdax               /boot           ext2            noauto,noatime          1 2
/dev/hdax               none            swap            sw                      0 0
/dev/hdax               /               reiserfs        noatime                 0 1
/dev/cdroms/cdrom0      /mnt/cdrom      auto            noauto,user             0 0
none                    /proc           proc            defaults                0 0
none                    /dev/shm        tmpfs           defaults                0 0
</pre>

<p>
Continuamos con la instalación del kernel:
</p>

<pre caption="Instalando el Kernel">
(Instale las fuentes del kernel)                          # <i>emerge <comment>&lt;paquete-del-kernel&gt;</comment></i>
(Configure su kernel usando genkernel ...)                 # <i>emerge genkernel; genkernel --menuconfig all</i>
(<comment>o</comment> (1) manualmente construya su kernel)                        # <i>cd /usr/src/linux; make menuconfig;</i>
(   (2) Incluya VM fs, /proc fs, /dev fs,  /dev fs auto mount at boot)
(   (3) Compile su kernel)                               # <i>make dep &amp;&amp; make clean bzImage modules modules_install</i>
(   (4) Copie el kernel)                              # <i>cp arch/i386/boot/bzImage /boot; cp System.map /boot</i>
</pre>

<p>
Ahora instale otras herramientas que pueda necesitar:
</p>

<pre caption = "Instale herramientas importantes del sistema">
(Instale el gestor de registro; escoja entre sysklogd, metalog, msyslog, syslog-ng) # <i>emerge syslog-ng </i>
(Iniciar el gestor de registro automáticamente al arrancar)                  # <i>rc-update add syslog-ng default</i>
(Instale el demonio cron; escoja entre vixie-cron, dcron, fcron)                # <i>emerge vixie-cron</i>
(Iniciar el demonio cron automáticamente al arrancar)                   # <i>rc-update add vixie-cron default</i>   
(Usuarios genkernel solamente: instale hotplug)                                # <i>emerge hotplug</i>
(Usuarios genkernel solamente: ejecutar hotplug automaticámente al iniciar)     # <i>rc-update add hotplug default</i>
(Usuarios diferentes a ext2,ext3; escoja: reiserfsprogs, xfsprogs, jfsutils)  # <i>emerge reiserfsprogs</i>
(Guión del nombre de dominio)                                              # <i>rc-update add domainname default</i>
</pre>

<p>
Si usted quiere instalar ebuilds del kernel especializados, es un buen momento para hacerlo:
</p>

<pre caption = "Instalar ebuilds especializados del kernel">
# <i>emerge pcmcia-cs</i> (or <i>nforce-net</i>, <i>nforce-audio</i>, <i>e100</i>, <i>e1000</i>, <i>ati-drivers</i>, <i>rp-pppoe</i>)
# <i>VIDEO_CARDS="su-tarjeta" emerge xfree-drm</i>   (para ATI Radeon hasta 9200, Rage128, Matrox, Voodoo y otras tarjetas)
</pre>

<p>
Finalizando las configuraciones para su sistema Gentoo:
</p>

<pre caption = "Finalice la configuración">
(Establecer la clave del usuario root)                                      # <i>passwd</i>
(Crear un usuario)                                          # <i>useradd your_user -m -G users,wheel,audio -s /bin/bash</i>
(Establecer clave del usuario)                             # <i>passwd your_user</i>
(Establecer el nombre de la máquina)                                # <i>echo mymachine &gt; /etc/hostname</i>
(Establecer el nombre de dominio del sistema)                              # <i>echo mydomain.com &gt; /etc/dnsdomainname</i>
(Establecer el archivo hosts, ex:"127.0.0.1 localhost mymachine")  # <i>nano -w /etc/hosts</i>
(Configure los aspectos básicos del sistema; siga los comentarios)       # <i>nano -w /etc/rc.conf</i>
</pre>

<pre caption = "Configuración de la red">
(Configurar red; usuarios dhcp deben poner iface_eth0="dhcp")      # <i>nano -w /etc/conf.d/net</i>
(Listar los modulos al iniciar el sistema)                           # <i>nano -w /etc/modules.autoload.d/kernel-<comment>&lt;version&gt;</comment></i>
(Solamente No-PCMCIA : iniciar la red al arranque)        # <i>rc-update add net.eth0 default</i>
(Solamente si tiene varias interfaces de red)
   (1) Crear los guiones de inicio para cada interfase)                    # <i>ln -s /etc/init.d/net.eth0 /etc/init.d/net.ethx</i>
   (2) Iniciar automáticamente al arrancar No PCMCIA)                 # <i>rc-update add net.ethx default</i>
(Solamente PCMCIA: verifique /etc/conf.d/pcmcia y cargue PCMCIA al inicio) # <i>rc-update add pcmcia boot</i>
</pre>

<p>
Ahora instalar el cargador de arranque.
</p>

<pre caption="Instalar y configurar Grub">
# <i>emerge grub</i>
# <i>grub</i>
grub&gt; <i>root (hd0,0)</i>
grub&gt; <i>setup (hd0)</i>
grub&gt; <i>quit</i>
# <i>nano -w /boot/grub/grub.conf</i>
default 0
timeout 15
splashimage=(hd0,0)/grub/splash.xpm.gz

title=Gentoo Linux
  root (hd0,0)
  <comment># genkernel users:</comment>
  kernel /kernel-<comment>&lt;kernel version&gt;</comment> root=/dev/ram0 init=/linuxrc verdadero_root=/dev/hda3
  initrd /initrd-<comment>&lt;kernel version&gt;</comment>
  <comment># non-genkernel users:</comment>
  kernel /kernel-<comment>&lt;kernel version&gt;</comment> root=/dev/hda3
</pre>

<pre caption="Instalar y configurar LILO">
# <i>emerge lilo</i>
# <i>nano -w /etc/lilo.conf</i>
boot=/dev/hda
prompt
timeout=50
default=gentoo

image=/boot/kernel-<comment>&lt;kernel version&gt;</comment> 
  label=gentoo
  read-only
  <comment># usuarios genkernel:</comment>
  append="init=/linuxrc real_root=/dev/hda3"
  root=/dev/ram0
  initrd=/boot/initrd-<comment>&lt;kernel version&gt;</comment>
  <comment># Usuarios que no usen genkernel:</comment>
  root=/dev/hda3

# <i>/sbin/lilo</i>
</pre>

<p>
Ahora desmonte todas las particiones y reinicie de su nuevo sistema:
</p>

<pre caption="Finalizando e instalando GUI">
(saliendo de chroot)                            # <i>exit; cd /</i>
(Desmontando particiones)                         # <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
(Reinicie; saque el CD universal de la unidad) # <i>reboot</i>
(Después de reiniciar:)
(Solamente usuarios ADSL)                               # <i>adsl-setup</i>
(Solamente usuarios GRP)
   (1) Monte el cd de paquetes                         # <i>mount /dev/cdrom /mnt/cdrom</i>  
   (2) Copie los paquetes                       # <i>mkdir /usr/portage/packages</i>
                                                # <i>cp -a /mnt/cdrom/* /usr/portage/packages/</i>
   (3) Instale el software extra                   # <i>USE="bindist" emerge -k xfree gnome kde mozilla openoffice-bin</i>
   (4) Configure el servidor X                   # <i>/usr/X11R6/bin/xf86config</i>
</pre>

<p>
Puede obtener mas información en <uri
link="http://www.gentoo.org/doc/es/index.xml">Gentoo
Documentación</uri>.
</p>
</body>
</section>
</chapter>	
</guide>
