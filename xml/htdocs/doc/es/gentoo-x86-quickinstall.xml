<?xml version = '1.0' encoding = 'UTF-8' ?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/gentoo-x86-quickinstall.xml,v 1.2 2005/04/10 02:22:37 chiguire Exp $ -->
<guide link="/doc/es/gentoo-x86-quickinstall.xml" lang="es" >

<title>Guía rápida de instalación Gentoo Linux x86</title>
<author title="Autor" >Steven Wagner</author>
<author title="Editor" >
  <mail link="swift@gentoo.org" >Sven Vermeulen</mail>
</author>
<author title="Editor Es" >
  <mail link="bass@gentoo.org" >José Alberto Suárez López</mail>
</author>
<author title="Editor Es Adjunto" >
  <mail link="chiguire@gentoo.org" >John Christian Stoddart</mail>
</author>
<author title="Traductor" >
  <mail link="jmboris@linuxmail.org" >Juan Manuel Jaramillo</mail>
</author>
<author title="Traductor" >
  <mail link="carles@carles.no-ip.info" >Carles Ferrer Peris</mail>
</author>

<abstract>
La guía rápida de instalación cubre los detalles del proceso de
instalación de una manera no detallada. Los usuarios deben tener
experiencia previa en la instalación de Gentoo Linux si desean seguir
esta guía.
</abstract>
  
<license/>
  
<version>1.26</version>
<date>2005-03-29</date>
  
<chapter>
<title>Guía rápida de instalación</title>
<section>
<body>
        
<p>
Las imágenes ISO de los instaladores están en los <uri link="/main/en/mirrors.xml" >servidores espejo Gentoo
</uri>. La descripción detallada de los diferentes CDs están
disponibles en  <uri link="http://store.gentoo.org" >Gentoo
Store</uri>. Un CD universal contiene todo lo que necesita para
instalar Gentoo Linux rápidamente y sin necesidad de una conexión a
internet. El CD de Paquetes es opcional y contiene paquetes
precompilados de KDE, Gnome, OpenOffice, Mozilla, Evolution y más.
</p>

<p>
Arranque el sistema desde el CD universal. Presione &lt;F1> y/o
&lt;F2> para ver cuales son las opciones de arranque
disponibles. Press &lt;ENTRAR> en la pantalla de inicio para
continuar con el núcleo (o kernel) predetermindado. Eventualmente podrá recibir
un &quot;prompt&quot;.
</p>

<pre caption="Configuraciones iniciales" >
# <i>date</i>  (Esté seguro que la fecha y la hora sean las correctas. Si están equivocadas, corríjalas con <i>date MMDDhhmmCCYY</i> )
# <i>modprobe module_name</i>
  <comment>(Opcional - Cargue los módulos necesarios)</comment>
# <i>net-setup eth0</i>
  <comment>(Configure la red)</comment>
# <i>fdisk /dev/hda</i>
  <comment>(Particione su disco)</comment>
</pre>

<p>
La configuración recomendada es 64 megabytes para la partición boot
con ext2, una partición swap con el doble de la memoria RAM
disponible, y el resto de su partición raíz usando ReiserFS.
</p>

<p>
Inicie sus particiones usando <c>mke2fs</c> (ext2), <c>mke2fs
-j</c> (ext3), <c>mkreiserfs</c> (ReiserFS), <c>mkfs.xfs</c> (XFS),
<c>mkfs.jfs</c> (JFS) and <c>mkswap</c> (partición swap). Por ejemplo:
<c>mke2fs -j /dev/hda3</c>.
</p>

<p>
A continuación se montan las particiones y se extrae el archivo stage.
</p>

<warn>
En las particiones ext3 se debe especificar explicitamente <c>mount -t ext3</c> debido a un error en el paquete e2fsprogs.
</warn>

<pre caption="Preparando la Instalación" >
(Active la partición de intercambio)		# <i>swapon /dev/hdax</i>
(Monte la partición raíz)			# <i>mount /dev/hdax /mnt/gentoo</i>
(Cree el punto de montaje del boot)		# <i>mkdir /mnt/gentoo/boot</i>
(Monte la partición boot)                     	# <i>mount /dev/hdax /mnt/gentoo/boot</i>
(Vaya al punto de montaje)                      # <i>cd /mnt/gentoo</i>
(Extraiga el archivo tar del stage ...)         # <i>tar -xvjpf /mnt/cdrom/stages/stage&lt;your stage>.tar.bz2</i>
(<comment>o</comment> descargue el último archivo tar ...)
						# <i>links http://www.gentoo.org/main/en/mirrors.xml</i>
(  ... y extráigalo)       			# <i>tar -xvjpf stage&lt;your stage>.tar.bz2</i>
(Opcional: desempaquete el árbol portage)    	# <i>tar -xvjf /mnt/cdrom/snapshots/portage-*.tar.bz2 \
							-C /mnt/gentoo/usr</i>
(Opcional: copie los distfiles)			# <i>cd /mnt/gentoo/usr/portage; mkdir distfiles;</i>
						# <i>cp /mnt/cdrom/distfiles/* distfiles/</i>
(Seleccione un servidor espejo)			# <i>mirrorselect -a -s4 -o | grep 'GENTOO_MIRRORS=' \
							>> /mnt/gentoo/etc/make.conf</i>
(Copie la información del servidor dns)		# <i>cp -L /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
(Monte el sistema de archivos proc)		# <i>mount -t proc none /mnt/gentoo/proc</i>
(Chroot dentro del nuevo entorno)		# <i>chroot /mnt/gentoo /bin/bash</i>
(Cargue las variables necesarias)		# <i>env-update; source /etc/profile</i>
(Solamente red, no GRP: actualice el Portage)	# <i>emerge --sync</i>
</pre>

<p>
Ahora pasamos a la configuración de nuestro perfil y a instalar Gentoo. Un perfil es un componente importante de un sistema Gentoo. No sólo especifica los valores por defecto para las opciones de compilación (las variables CHOST, CFLAGS) y otros parámetros importantes, también indica qué versiones de paquetes están disponibles. El perfil es mantenido por los desarrolladores de Gentoo.
</p>

<pre caption="Instalando Gentoo" >
(Verifique el perfil actual)			# <i>ls -l /etc/make.profile</i>
(Lo cambiaremos SÓLO SI ES NECESARIO o si se usa un núcleo 2.4)
						# <i>ln -snf /usr/portage/profiles/default-linux/x86/2005.0/2.4 /etc/make.profile</i>
(Cambie USE, CFLAGS y CXXFLAGS. Stage1 también puede cambiar CHOST)
						# <i>nano -w /etc/make.conf</i>
(Stage1 solamente: hacer bootstrap del sistema)	# <i>cd /usr/portage; scripts/bootstrap.sh</i>
(Stage1, Stage2 solamente: instale el sistema base. 
Utilizamos --emptytree si se ha modificado los parámetros USE. 
En caso contrario se utilizará --newuse. Es imprescindible una de las dos)
						# <i>emerge --emptytree system</i>
						<comment>ó</comment>
						# <i>emerge --newuse system</i>
</pre>

<p>
A continuación proporcionamos la información necesaria:
</p>

<pre caption="Establecer los archivos de configuración" >
(establecer información de zona horaria)	# <i>ln -sf /usr/share/zoneinfo/<comment>&lt;ruta archivo de zona horaria></comment> /etc/localtime</i>
(Editamos el archivo fstab)			# <i>nano -w /etc/fstab</i>
</pre>

<p>
Use lo siguiente como un <e>plantilla</e> (No copie y pegue) para
<path>/etc/fstab</path>:
</p>

<pre caption="/etc/fstab" >
# &lt;fs>                  &lt;mountpoint>    &lt;type>          &lt;opts>                  &lt;dump/pass>
/dev/hdax               /boot           ext2            defaults,noatime        1 2
/dev/hdax               none            swap            sw                      0 0
/dev/hdax               /               reiserfs        noatime                 0 1
/dev/cdroms/cdrom0      /mnt/cdrom      auto            noauto,user             0 0
none                    /proc           proc            defaults                0 0
none                    /dev/shm        tmpfs           nodev,nosuid,noexec     0 0
</pre>

<p>
Continuamos con la instalación del núcleo:
</p>

<pre caption="Instalando el kernel" >
(Instale las fuentes del núcleo)		# <i>emerge <comment>&lt;paquete-del-núcleo></comment>
  </i>
(Configure su núcleo usando genkernel ...)	# <i>emerge genkernel; genkernel --menuconfig all</i>
(<comment>o</comment> (1) manualmente construya su núcleo)
						# <i>cd /usr/src/linux; make menuconfig;</i>
(   (2) Incluya VM fs, /proc fs)
(   (3) Compile su núcleo)                               
	(en un núcleo 2.6)   			# <i>make &amp;&amp; make modules_install</i>
	(en un núcleo 2.4)			# <i>make dep &amp;&amp; make clean bzImage modules modules_install</i>
(   (4) Copie el núcleo)			# <i>cp arch/i386/boot/bzImage /boot; cp System.map /boot</i>
</pre>

<p>
Ahora instale otras herramientas que pueda necesitar:
</p>

<pre caption="Instale herramientas importantes del sistema" >
(Instale el gestor de registro; escoja entre sysklogd, metalog, msyslog, syslog-ng)
						# <i>emerge syslog-ng </i>
(Iniciémoslo automáticamente al arrancar)	# <i>rc-update add syslog-ng default</i>
(Instale el demonio cron; escoja entre vixie-cron, dcron, fcron)
						# <i>emerge vixie-cron</i>
(Iniciémoslo automáticamente al arrancar)	# <i>rc-update add vixie-cron default</i>   
(Usuarios genkernel solamente: instale hotplug)	# <i>emerge hotplug</i>
(Usuarios genkernel solamente: ejecutar hotplug automáticamente al iniciar)
						# <i>rc-update add hotplug default</i>
(Usuarios que no utilicen ext2,ext3; escoja: reiserfsprogs, xfsprogs, jfsutils)
						# <i>emerge reiserfsprogs</i>
(Opcional: instalación del cliente DHCP)	# <i>emerge dhcpcd</i>
(Guión del nombre de dominio)			# <i>rc-update add domainname default</i>
</pre>

<p>
Si usted quiere instalar ebuilds del núcleo especializados, es un buen momento para hacerlo:
</p>

<pre caption="Instalar ebuilds especializados del kernel" >
# <i>emerge pcmcia-cs</i> (or <i>nforce-net</i>, <i>nforce-audio</i>, <i>e100</i>, <i>e1000</i>, <i>ati-drivers</i>, <i>rp-pppoe</i>)
# <i>VIDEO_CARDS=&quot;su-tarjeta&quot; emerge x11-drm</i>   (para ATI Radeon hasta 9200, Rage128, Matrox, Voodoo y otras tarjetas)
</pre>

<p>
Finalizando las configuraciones para su sistema Gentoo:
</p>

<pre caption="Finalice la configuración" >
(Establecer la clave del usuario root)		# <i>passwd</i>
(Crear un usuario)				# <i>useradd miusuario -m -G users,wheel,audio -s /bin/bash</i>
(Establecer clave del usuario)			# <i>passwd miusuario</i>
(Establecer el nombre de la máquina)		# <i>echo mimaquina > /etc/hostname</i>
(Establecer el nombre de dominio del sistema)	# <i>echo midominio.com > /etc/dnsdomainname</i>

(Establecer el archivo hosts, ex:&quot;127.0.0.1 localhost mimaquina&quot;)
						# <i>nano -w /etc/hosts</i>
(Configure los aspectos básicos del sistema; siga los comentarios)
						# <i>nano -w /etc/rc.conf</i>
</pre>

<pre caption="Configuración de la red" >
(Configurar red; los usuarios de dhcp deben poner iface_eth0=&quot;dhcp&quot;)
						# <i>nano -w /etc/conf.d/net</i>
(Lista los módulos que deben cargarse al inicio del sistema)
						# <i>nano -w /etc/modules.autoload.d/kernel-<comment>&lt;versión></comment>
  </i>
(Solamente No-PCMCIA: iniciar la red al arranque)
						# <i>rc-update add net.eth0 default</i>
(Solamente si tiene varias interfaces de red)
   (1) Crear los guiones de inicio para cada interfaz)
   						# <i>ln -s /etc/init.d/net.eth0 /etc/init.d/net.ethx</i>
   (2) Iniciar automáticamente al arrancar, no PCMCIA)
   						# <i>rc-update add net.ethx default</i>
(Solamente PCMCIA: verifique /etc/conf.d/pcmcia y cargue PCMCIA al inicio)
						# <i>rc-update add pcmcia default</i>
</pre>

<p>
Ahora instalaremos el cargador de arranque.
</p>

<pre caption="Instalar y configurar Grub" >
# <i>emerge grub</i>
# <i>grub</i>
grub> <i>root (hd0,0)</i>
grub> <i>setup (hd0)</i>
grub> <i>quit</i>
# <i>nano -w /boot/grub/grub.conf</i>
default 0
timeout 15
splashimage=(hd0,0)/grub/splash.xpm.gz

title=Gentoo Linux
  root (hd0,0)
  <comment># genkernel users:</comment>
  kernel /kernel-<comment>&lt;kernel version></comment> root=/dev/ram0 init=/linuxrc real_root=/dev/hda3 ramdisk=8192
  initrd /initrd-<comment>&lt;kernel version></comment>
  <comment># non-genkernel users:</comment>
  kernel /kernel-<comment>&lt;kernel version></comment> root=/dev/hda3
</pre>

<pre caption="Instalar y configurar LILO" >
# <i>emerge lilo</i>
# <i>nano -w /etc/lilo.conf</i>
boot=/dev/hda
prompt
timeout=50
default=gentoo

image=/boot/kernel-<comment>&lt;kernel version></comment> 
  label=gentoo
  read-only
  <comment># usuarios genkernel:</comment>
  append=&quot;init=/linuxrc real_root=/dev/hda3 ramdisk=8192&quot;
  root=/dev/ram0
  initrd=/boot/initrd-<comment>&lt;kernel version></comment>
  <comment># Usuarios que no usen genkernel:</comment>
  root=/dev/hda3

# <i>/sbin/lilo</i>
</pre>

<p>
Ahora desmonte todas las particiones y reinicie de su nuevo sistema:
</p>

<pre caption="Finalizando e instalando GUI" >
(Saliendo de chroot)				# <i>exit; cd /</i>
(Desmontando particiones)			# <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
(Reinicie; saque el CD universal de la unidad)	# <i>reboot</i>
(Después de reiniciar:)
(Solamente usuarios ADSL)			# <i>adsl-setup</i>
(Solamente usuarios GRP)
   (1) Monte el cd de paquetes			# <i>mount /dev/cdrom /mnt/cdrom</i>  
   (2) Copie los paquetes			# <i>mkdir /usr/portage/packages</i>
						# <i>cp -a /mnt/cdrom/* /usr/portage/packages/</i>
   (3) Instale el software extra		# <i>USE=&quot;bindist&quot; emerge -k xorg-x11 gnome kde mozilla openoffice-bin</i>
   (4) Configure el servidor X			# <i>/usr/X11R6/bin/xorgconfig</i>
</pre>

<p>
Puede obtener mas información en <uri link="/doc/es/index.xml" >Documentación de Gentoo</uri>.
</p>
      
</body>
</section>
</chapter>
</guide>
