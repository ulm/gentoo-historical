<?xml version = '1.0' encoding = 'UTF-8' ?>

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/gentoo-x86-quickinstall.xml,v 1.12 2006/02/20 14:06:57 chiguire Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/es/gentoo-x86-quickinstall.xml" lang="es" >

<title>Guía rápida de instalación Gentoo Linux x86</title>
<author title="Autor" >
<mail link="swift@gentoo.org" >Sven Vermeulen</mail>
</author>
<author title="Autor" >Steven Wagner</author>
<author title="Traductor" >
<mail link="bass@gentoo.org" >José Alberto Suárez López</mail>
</author>
<author title="Traductor" >
<mail link="chiguire@gentoo.org" >John Christian Stoddart</mail>
</author>
<author title="Traductor" >
<mail link="yoswink@gentoo.org" >José Luis Rivero</mail>
</author>
<author title="Traductor" >
<mail link="jmboris@linuxmail.org" >Juan Manuel Jaramillo</mail>
</author>
<author title="Traductor" >
<mail link="carles@carles.no-ip.info" >Carles Ferrer Peris</mail>
</author>

<abstract>
La guía rápida de instalación cubre los detalles del proceso de
instalación de forma no detallada. Los usuarios deben tener
experiencia previa en la instalación de Gentoo Linux si desean seguir
esta guía.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>2.10</version>
<date>2006-02-18</date>

<chapter>
<title>Guía rápida de instalación</title>
<section>
<title>Medios de instalación</title>
<body>
	
<p>
Descargue un CD desde uno de nuestros <uri link="/main/en/mirrors.xml">
servidores espejo</uri>. Puede encontrar las ISOs en 
<path>releases/&lt;architecture&gt;/&lt;release&gt;/installcd</path>. El CD de
instalación <e>minimal</e> sólo es práctico para instalaciones a través de
Internet; con el CD de instalación <e>universal</e> se puede realizar
perfectamente una instalación sin red.
</p>

<p>
<uri link="/doc/en/faq.xml#isoburning" >Grabe</uri> el CD y arranque con él.
Pulse <c>F2</c> en la pantalla de inicio para ver qué opciones de arranque hay
disponibles. Una vez iniciado el sistema, necesitará ejecutar el guión de
inicio <c>pcmcia</c> si necesita soporte para PCMCIA.
</p>

<p>
Los CDs de instalación le permiten iniciar el servidor <c>sshd</c>, añadir
nuevos usuarios, ejecutar <c>irssi</c> (un cliente de chat para la línea de
comandos) y navegar por la web usando <c>lynx</c> o <c>links</c>.
</p>

</body>
</section>
<section>
<title>Configuración de red</title>
<body>
	
<p>
Si su red todavía no está todavía lista, puede utilizar <c>net-setup</c> para
configurarla. Puede que necesite cargar previamente el soporte para su tarjeta
de red utilizando <c>modprobe</c>. Si tiene ADSL, use <c>adsl-setup</c> y
<c>adsl-start</c>.  Para el soporte de PPTP, primero hay que editar
<path>/etc/ppp/chap-secrets</path> y <path>/etc/ppp/options.pptp</path> y
después utilizar <c>pptp &lt;serverip&gt;</c>.
</p>

<p>
Para el acceso inalámbrico, utilice <c>iwconfig</c> para configurar los
parámetros de la red sin hilos y después utilice tanto <c>net-setup</c>
nuevamente o <c>ifconfig</c>, <c>dhcpcd</c> y/o <c>route</c> manualmente.
</p>

<p>
Si está tras un proxy, no se olvide de inicializar su sistema utilizando
<c>export http_proxy</c>, <c>ftp_proxy</c> y <c>RSYNC_PROXY</c>.
</p>

</body>
</section>
<section>
<title>Preparación de los discos</title>
<body>

<p>
Use <c>fdisk</c> o <c>cfdisk</c> para crear el esquema de particionado. Necesita
por lo menos una partición de intercambio (tipo 82) y una partición Linux
(tipo 83).
</p>

<p>
Utilice <c>mke2fs</c>, <c>mke2fs -j</c>, <c>mkreiserfs</c>, <c>mkfs.xfs</c> y
<c>mkfs.jfs</c> para crear los sistemas de ficheros en sus particiones Linux.
Inicialice la partición de intercambio mediante <c>mkswap</c> y <c>swapon</c>.
</p>

<p>
Monte los recientemente creados sistemas de ficheros en
<path>/mnt/gentoo</path>. Cree los directorios para otros puntos de montaje
(como <path>/mnt/gentoo/boot</path>) si los necesita.
</p>

</body>
</section>
<section>
<title>Configurando el Stage</title>
<body>

<p>
En primer lugar, asegúrese que la fecha del sistema es correcta con <c>date
MMDDhhmmYYYY</c>. Luego descargue un stage desde uno de nuestros <uri
link="/main/en/mirrors.xml" >servidores espejo</uri> o utilice uno de los
disponibles en el CD de instalación (<path>/mnt/cdrom/stages</path>). Vaya a
<path>/mnt/gentoo</path> y descomprima el stage utilizando <c>tar -xvjpf
&lt;stage tarball&gt;</c>.
</p>

<p>
Instale una imagen de Portage si está utilizando una instalación sin
red: vaya a <path>/mnt/gentoo/usr</path> y ejecute <c>
tar -xvjf/ mnt/cdrom/snapshots/&lt;snapshot&gt;</c>. El resto de usuarios puede
descargar una imagen del Portage e instalarla igualmente.
</p>

<p>
Para una instalación sin conexión a la red, copie los archivos fuente de
<path>/mnt/cdrom/distfiles/</path> a
<path>/mnt/gentoo/usr/portage/distfiles/</path>.
</p>

<p>
Edite <path>/mnt/gentoo/etc/make.conf</path> de acuerdo con sus necesidades
(parámetros USE, CFLAGS y CXXFLAGS). Puede utilizar para esto el editor
<c>nano</c>.
</p>

</body>
</section>
<section>
<title>Instalación del sistema base Gentoo</title>
<body>
	
<p>
Monte primero el sistema de ficheros <path>/proc</path>, sobrescriba el fichero
<path>/etc/resolv.conf</path> y luego haga un chroot a su entorno Gentoo.
</p>

<pre caption="Preparación y chroot" >
# <i>mount -t proc none /mnt/gentoo/proc</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/etc/</i>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update</i> &amp;&amp; <i>source /etc/profile</i>
</pre>

<p>
Si no está realizando una instalación sin red, lance <c>emerge --sync</c> para
actualizar su árbol del Portage.
</p>

<p>
Luego, asegúrese que <path>/etc/make.profile</path> apunta al perfil correcto.
El establecido por defecto debería bastar a la mayoría de usuarios; los
sub-perfiles están disponibles para varios núcleos (como el <path>2.4/</path>
para perfiles basados en un núcleo 2.4). Cambie el perfil utilizando <c>ln
-sf</c>.
</p>

<ul>
  <li>
    La instalación de la base del sistema (<c>bootstrap</c>) (no disponible
    para instalaciones sin red) se realiza utilizando
    <c>scripts/bootstrap.sh</c> en el directorio <path>/usr/portage</path>.
  </li>
  <li>
    La instalación del sistema (no disponible para instalaciones sin red) se
    realiza utilizando <c>emerge -e system</c> (o <c>-N</c> si no ha modificado
    las  CFLAGS/CXXFLAGS por defecto).
  </li>
</ul>

</body>
</section>
<section>
<title>Configuración del núcleo</title>
<body>

<p>
Configure su zona horaria copiando el fichero correcto desde
<path>/usr/share/zoneinfo</path> sobre el fichero <path>/etc/localtime</path>.
</p>

<p>
Instale las fuentes del núcleo (para las instalaciones sin red están
disponibles <c>gentoo-sources</c> y <c>vanilla-sources</c>) y configúrelas con
<c>make menuconfig</c> seguido por <c>make &amp;&amp; make modules_install</c>
dentro de <path>/usr/src/linux</path>. Copie el fichero
<path>arch/i386/bzImage</path> en <path>/boot</path>. También puede instalar
genkernel (<c>emerge&nbsp;genkernel</c>) y usar <c>genkernel&nbsp;all</c>
</p>

<p>
Los usuarios de genkernel necesitarán hacer <c>emerge coldplug</c> y
<c>rc-update add coldplug default</c>.
</p>

</body>
</section>
<section>
<title>Configuración del sistema</title>
<body>

<p>
Edite su <path>/etc/fstab</path>; por ejemplo:
</p>

<pre caption="Ejemplo de fstab" >
/dev/hda1   /boot     ext2    defaults,noatime     1 2
/dev/hda2   none      swap    sw                   0 0
/dev/hda3   /         ext3    noatime              0 1
none        /proc     proc    defaults             0 0
none        /dev/shm  tmpfs   nodev,nosuid,noexec  0 0
/dev/cdroms/cdrom0    /mnt/cdrom    auto      noauto,user    0 0
</pre>

<p>
Edite <path>/etc/conf.d/hostname</path> y <path>/etc/conf.d/domainname</path>,
ejecute <c>rc-update add domainname default</c> y edite
<path>/etc/conf.d/net</path> para configurar la red. Añada el guión de inicio
<c>net.eth0</c> al <c>runlevel</c> <c>default</c>. Si tiene varias NICs, haga
enlaces simbólicos al guión y añádalos igualmente al <c>runlevel</c>
<c>default</c>.
</p>

<p>
Edite <path>/etc/hosts</path>; algunos ejemplos se muestran a continuación:
</p>

<pre caption="Ejemplo de /etc/hosts" >
<comment>(Para IPs estáticas)</comment>
127.0.0.1     localhost
192.168.0.5   jenny.homenetwork jenny
192.168.0.6   benny.homenetwork benny
192.168.0.7   tux.homenetwork tux

<comment>(Para IP dinámica)</comment>
127.0.0.1     localhost.homenetwork tux localhost
</pre>

<p>
Instale <c>pcmcia-cs</c> y añádalo al <c>runlevel</c>
<c>default</c> si lo necesita.
</p>

<p>
Establezca la contraseña de root con <c>passwd</c>.
</p>

<p>
Indique la configuración necesaria del sistema en <path>/etc/rc.conf</path>, 
<path>/etc/conf.d/rc</path>, <path>/etc/conf.d/keymaps</path>,
<path>/etc/conf.d/clock</path>.
</p>

</body>
</section>
<section>
<title>Instalación de las herramientas del sistema</title>
<body>

<p>
Los usuarios de un núcleo 2.4 necesitan un <c>emerge --unmerge udev</c> y un
<c>emerge devfsd</c>.
</p>

<p>
Instale una bitácora del sistema como <c>syslog-ng</c> y añádala al
<c>runlevel</c> <c>default</c>. Haga lo mismo con un demonio cron como
<c>vixie-cron</c> (opcional).
</p>

<p>
Instale las herramientas del sistema necesarias (<c>xfsprogs</c>,
<c>reiserfsprogs</c> o <c>jfsutils</c>) y las herramientas de red 
(<c>dhcpcd</c> o <c>rp-pppoe</c>).
</p>

</body>
</section>
<section>
<title>Configuración del gestor de arranque</title>
<body>

<p>
Haga emerge de <c>grub</c> o <c>lilo</c>. Edite
<path>/boot/grub/grub.conf</path> o <path>/etc/lilo.conf</path> con sus
necesidades. A continuación se muestra un ejemplo de cada:
</p>

<pre caption="Ejemplo de grub.conf" >
default 0
timeout 30
splashimage=(hd0,0)/grub/splash.xpm.gz

<comment># Usuarios de genkernel</comment>
title=Gentoo Linux 2.6.11-r3
root (hd0,0)
kernel /kernel-genkernel-x86-2.6.11-gentoo-r3 root=/dev/ram0 init=/linuxrc ramdisk=8192 real_root=/dev/hda3 udev
initrd /initramfs-genkernel-x86-2.6.11-gentoo-r3

<comment># No usuarios de genkernel (no initrd)</comment>
title=Gentoo Linux 2.6.11 r3
root (hd0,0)
kernel /kernel-2.6.11-gentoo-r3 root=/dev/hda3

<comment># Sólo en el caso de necesitar arranque dual</comment>
title=Windows XP
root (hd0,5)
makeactive
chainloader +1
</pre>

<pre caption="Ejemplo de lilo.conf" >
boot=/dev/hda
prompt
timeout=50
default=gentoo

<comment># No usuarios de genkernel</comment>
image=/boot/kernel-2.6.11-gentoo-r3
  label=gentoo
  read-only
  root=/dev/hda3

<comment># Usuarios de genkernel</comment>
image=/boot/kernel-genkernel-x86-2.6.11-gentoo-r3
  label=gentoo
  read-only
  root=/dev/ram0
  append="init=/linuxrc ramdisk=8192 real_root=/dev/hda3 udev"
  initrd=/boot/initramfs-genkernel-x86-2.6.11-gentoo-r3

<comment># Arranque dual</comment>
other=/dev/hda6
  label=windows
</pre>

<p>
Los usuarios de GRUB necesitan instalar GRUB en el MBR utilizando
<c>grub-install /dev/hda</c> después de copiar <path>/proc/mounts</path> en
<path>/etc/mtab</path>.
</p>

<p>
Salga del entorno de chroot, desmonte todos los sistemas de ficheros y reinicie.
</p>

</body>
</section>
<section>
<title>Finalizar la instalación</title>
<body>

<p>
Entre como <c>root</c>, luego añada uno o más usuarios para el día a día
utilizando <c>useradd -m- G&lt;grupos&gt; &lt;nombre_usuario&gt;</c>.
</p>

<p>
Si ha realizado una instalación sin red, monte el CD de paquetes en
<path>/mnt/cdrom</path> y haga <c>export PKGDIR="/mnt/cdrom"</c> después de lo
cual puede realizar un <c>emerge -k &lt;paquete&gt;</c> para instalar software
adicional como <c>kde</c>.
</p>

<p>
¡Gracias por instalar Gentoo!
</p>

</body>
</section>
</chapter>
</guide>
