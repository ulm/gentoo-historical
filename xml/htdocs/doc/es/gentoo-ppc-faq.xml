<?xml version = '1.0' encoding = 'UTF-8' ?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/gentoo-ppc-faq.xml,v 1.6 2005/09/13 22:27:14 yoswink Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/es/gentoo-ppc-faq.xml" lang="es">
	
<title>Preguntas de uso frecuente de Gentoo Linux/PowerPC</title>

<author title="Editor" >
  <mail link="rajiv@gentoo.org" >Rajiv Manglani</mail>
</author>
<author title="Editor" >
  <mail link="pylon@gentoo.org" >Lars Weiler</mail>
</author>
<author title="Editor" >
  <mail link="sejo@gentoo.org" >Jochen Maes </mail>
</author>
<author title="Editor" >
  <mail link="josejx@gentoo.org" >Joseph Jezak</mail>
</author>
<author title="Editor Es" >
  <mail link="bass@gentoo.org" >José Alberto Suárez López</mail>
</author>
<author title="Editor Es" >
  <mail link="chiguire@gentoo.org" >John Christian Stoddart</mail>
</author>
<author title="Editor Es" >
  <mail link="yoswink@gentoo.org" >José Luis Rivero</mail>
</author>
<author title="Traductor" >
  <mail link="carles@carles.no-ip.info" >Carles Ferrer Peris</mail>
</author>

<abstract>
Este PUF (Preguntas de uso frecuente) es una colección de preguntas y
respuestas recogidas de la lista de correo gentoo-ppc-dev y del canal IRC -- si
tiene alguna pregunta (¡o respuesta!) para agregar, por favor contacte algún
autor o miembro del equipo de documentación.
</abstract>

<license/>

<version>1.22</version>
<date>2005-08-22</date>

<chapter>
<title>Instalación</title>
<section>
<title>
¿Cómo puedo verificar en Mac OS X que la imagen ISO descargada no está corrupta?
</title>
<body>

<p>
Primero, nos aseguraremos de no montar el servidor ftp con <e>Finder</e> y
tampoco copiar el fichero arrastrandolo con el ratón. Esto corromperá la ISO.
En su lugar utilizaremos <c>curl</c> (con <c>curl -O http://path/to/iso</c>).
</p>

<p>
Puede verificar su suma MD5 usando la herramienta <c>md5sum</c> proporcionada
con OSX. En versiones de OSX sin md5sum puede utilizar la característica de
<c>openssl</c> que genera una suma de control md5. Por lo tanto, escribiremos
en una Terminal lo siguiente:
</p>

<pre caption="Creación de una md5sum con openssl" >
<comment>(Esto puede durar un poco de tiempo dependiendo del tamaño de la ISO
y de la CPU)</comment>
$ <i>openssl md5 /path/to/iso</i>
</pre>

<p>
Ahora compararemos las salida de ese comando con el fichero correspondiente del
servidor desde donde hemos descargado la ISO (el fichero termina con
<path>.md5</path>). Si son iguales, la ISO se ha descargado correctamente. ¡Nos
aseguraremos que <e>no</e> la hemos montado todavía (por ejemplo con Disk Copy)!
</p>

</body>
</section>
<section>
<title>¿Puedo tener un arranque dual Gentoo Linux y Mac OS X?</title>
<body>

<p>
¡Claro que se puede! De hecho, <e>yabootconfig</e> detectará automáticamente y
configurará <path>/etc/yaboot.conf</path> con Linux, Mac OS X e incluso el  Mac
OS clásico (ver en <uri link="/doc/es/handbook/handbook-ppc.xml?part=1&amp;chap=10"> Manual de Gentoo
</uri> los detalles acerca de yabootconfig). El truco está en particionar el
disco duro. Antes de instalar Gentoo, arrancaremos con el CD de Instalación de
Mac OS X. Usaremos la <c>Disk Utility</c> para particionar el disco en dos o tres
particiones. Alternativamente, se puede utilizar el <c>parted</c> de un CD de
Instalación de Gentoo reciente, porque ha sido preparado para manejar particiones 
HFS y HFS+. Parted también es capaz de reducir una partición por
lo que no necesitamos borrar la instalación existente. La primera partición
debe ser suficientemente grande para contener todas las particiones Linux
(root+swap+/home,etc.) No importa el formato de esta partición. La segunda
partición debe ser para OS X. La tercera (opcional) debe ser para el Mac OS
clásico. Sólo se necesita si quiere tener un triple arranque, puesto que OS9
debe estar en una partición separada de OSX para que esto funcione.
</p>

<p>
Después de particionar, instalaremos Mac OS X y Mac OS 9 en sus respectivas
particiones. Una vez acabado, iremos al <uri
link="/doc/es/handbook/handbook-ppc.xml" >Manual de Gentoo </uri>. Al llegar a la
sección de creación de particiones, usaremos <c>mac-fdisk</c> para
<e>borrar</e> la gran partición creada para Gentoo. En su lugar, crearemos la
partición de arranque, root, swap y aquéllas otras que queramos utilizar con
Gentoo.
</p>

<p>
Si disponemos de un Macintosh OldWorld (pre-iMac), seguiremos un procedimiento
similar al anterior. Sin embargo, usaremos el CD de instalación de Mac OS 9 y 
la utilidad <c>Drive Setup</c>. Las máquinas OldWord no necesitan una 
partición de arranque.
</p>

<note>
Si yabootconfig no detecta las particiones MacOS, podemos añadirlas manualmente
a yaboot.config. Hay un ejemplo al respecto en el <uri
link="/doc/es/handbook/handbook-ppc.xml?part=1&amp;chap=10#doc_chap_pre6" >
manual</uri>
</note>

</body>
</section>
<section>
<title>
Tengo uno de los primeros Mac NewWorld como el G3 Blue and White. Debería ser
compatible con el LiveCD, pero al arrancar devuelve un error de "Unknown or
corrupt filesystem" ("sistema de ficheros desconocido o corrompido")
</title>
<body>

<p>
Como solución, entraremos en Open Frimware pulsando las teclas Apple + Option 
+ O + F durante el arranque. Cuando aparezca el punto indicativo de órdenes,
escribiremos:
</p>

<pre caption="Solución mediante Open Firmware para los primeros Mac NewWorld" >
<i>boot cd:,\\yaboot</i>
</pre>

<p>
El CD debería arrancar correctamente ahora. Gracias a John Plesmid por esta
solución.
</p>

</body>
</section>
<section>
<title>
Tengo un Macintosh OldWorld y necesito utilizar BootX. Sin embargo tengo
problemas al abrir el instalador de BootX. ¿Qué puedo hacer?
</title>
<body>

<p>
Hace falta una versión más reciente de <e>StuffIt Expander</e> para abrir este
archivo. Podemos <uri link="http://www.stuffit.com/expander/download.html"
>bajarlo</uri> de forma gratuita.
</p>

</body>
</section>
<section>
<title>
Tengo una máquina G3 Beige. ¿Puedo instalar Gentoo Linux/PPC en un segundo
disco IDE?
</title>
<body>

<p>
Las primeras máquinas G3 Beige (con la tarjeta madre "Rev 1" con el chip ATI
RageII+) no soportan discos IDE esclavos. Para usar un segundo disco con esta
máquina, debemos conectarlo por medio del conector SCSI interno o externo o
instalar una tarjeta interfaz PCI IDE. Los G3 posteriores no tienen esta
limitación. En  <uri>http://www.xlr8yourmac.com/G3-ZONE/IDE/index.html</uri> se
puede encontrar más información.
</p>

</body>
</section>
<section>
<title>
Cuando intento instalar Gentoo en mi PowerBook, mi disco interno no aparece.
¿Qué debo hacer?
</title>
<body>

<p>
En un PowerBook pasaremos el parámetro <e>hda=1,1,1</e> al kernel durante el
arranque. Esto resolverá este problema. Podemos hacerlo en el prompt de
<e>yaboot</e> escribiendo <c>boot hda=1,1,1</c>. Algunos iBooks necesitan
<c>hda=16383,16,64</c>.
</p>

</body>
</section>
<section>
<title>
Tengo un iMac revisión A o B. He sustituido el disco duro con otro mayor y ahora
¡no puedo iniciar nada!
</title>
<body>

<p>
Hay una limitación de 8GB para la partición root en esos equipos. Nos
aseguraremos que la partición root sea menor de 8GB y debería funcionar
según lo esperado. Esto también se aplica a OS X y las últimas versiones de
OS 9.
</p>

</body>
</section>
<section>
<title>
Mi archivo /etc/fstab tiene un /dev/BOOT. ¿Necesito configurar esta línea para
mi partición de arranque?
</title>
<body>

<p>
No. Si no tenemos una partición de arranque separada (<path>/boot</path>) no
necesitaremos esta línea y puede ser borrada del <path>/etc/fstab</path>. La
partición de arranque <e>no</e> es la partición <path>/boot</path> y no está
relacionada de manera alguna. En general, las máquinas PowerPC no requieren
particiones <path>/boot</path> separadas y la partición de arranque no debe 
ser montada.
</p>

</body>
</section>
<section>
<title>
Cuando he reiniciado, ¡yaboot no quiere funcionar! Estoy atascado. ¿Cómo puedo
arreglarlo?
</title>
<body>

<p>
Probablemente yaboot.conf está desconfigurado. La manera más fácil para
corregirlo es arrancar con el LiveCD de nuevo, montar la partición gentoo y
verificar yaboot.conf en busca de errores. También deberemos ejecutar <c>ybin -v
-C /mnt/gentoo/etc/yaboot.conf</c> para actualizar el gestor de arranque una vez
finalizado. Todo esto puede hacerse sin hacer chroot en el entorno instalado.
</p>

<note>
Si <e>realmente</e> necesitamos entrar en OSX, podemos probar a pulsar la tecla
Option en el inicio. Lo que debería mostrarnos una selección gráfica de los
discos arrancables. Elegimos OSX y tomamos nota de acordarnos corregir los
problemas de arranque más tarde.
</note>

</body>
</section>
<section>
<title>
La instalación está lista. Sin embargo después de reiniciar, observo
caracteres diferentes que no corresponden a las teclas que pulso. ¿Qué debo
hacer?
</title>
<body>

<p>
Si este es un mapa de teclado para inglés, probablemente existe un problema de
configuración del núcleo. Hará falta recompilar el núcleo con las siguientes
opciones:
</p>

<pre caption="Input core support" >
<comment>(esta así por defecto, pero lo comprobaremos)</comment>
&lt;*> Input core support
&lt;*>   Keyboard support 
&lt;*>   Mouse support
(1024)   Horizontal screen resolution
(768)    Vertical screen resolution
&lt; >   Joystick support
&lt;*>   Event interface support
</pre>

<pre caption="Macintosh Device Drivers" >
[*] Apple Desktop Bus (ADB) support
[*]    Use input layer for ADB devices
[*]      Support for mouse button 2+3 emulation
</pre>

<p>
De esta manera, continuaremos pudiendo usar <path>/proc/sys/dev/mac_hid</path>
para emular los botones 2 y 3 (véase la próxima pregunta)
</p>

<p>
Si por cualquier motivo no podemos recompilar el núcleo, añadiremos
<c>keyboard_sends_linux_keycodes=1</c> a los parámetros del núcleo en
<path>yaboot.conf</path>. Lo que también corregirá el problema, pero puede 
que introduzca otros.
</p>

<p>
Agradecemos a Joe McMahon la ayuda prestada con esta respuesta.
</p>

</body>
</section>
<section>
<title>
Tengo un ratón de un sólo botón. ¿Cómo puedo usar el segundo y el tercero si
crtl+botón no funciona?
</title>
<body>

<p>
No hay una forma de usar ctrl+botón en Mac OS X, pero se puede "mapear"
cualquier combinación de teclas para emular el segundo y tercer botones.
Los valores pueden obtenerse con la utilidad de la línea de comandos
<c>showkey</c> en la consola. Pero hay que tener en cuenta que este programa no
funciona como se espera en las X y debe ser ejecutado únicamente en la consola.
Adicionalmente a la configuración del núcleo de la sección anterior,
necesitaremos también configurar los valores de los botones del ratón en
<path>/etc/sysctl.conf</path>. Este ejemplo usa F11 y F12:
</p>

<pre caption="Emulación con F11 y F12 de los botones del ratón" >
<comment># Habilita la emulación de botones del ratón</comment>
dev.mac_hid.mouse_button_emulation = 1
<comment># Set 2nd button to 87 - F11</comment>
dev.mac_hid.mouse_button2_keycode = 87
<comment># Set 3rd button to 88 - F12</comment>
dev.mac_hid.mouse_button3_keycode = 88
</pre>

<p>
Otros códigos de tecla comunes son el 125 (la tecla Apple) y 96 (la tecla Entrar
del teclado numérico)
</p>

<note>
La manera más rápida de activar esta configuración es reiniciar después de
hacer los cambios.
</note>

</body>
</section>
<section>
<title>
La instalación está lista. Sin embargo después de cargar Gentoo intento hacer
cualquier emerge y obtengo errores relativos a que no puede hacer 'stat' a un
archivo. ¿Cuál es el problema?
</title>
<body>

<p>
Hay que revisar que la hora esté fijada correctamente. Fijar la hora y hacer el
vínculo a <path>/etc/localtime</path> a la zona horaria correspondiente (en
<path>/usr/share/zoneinfo</path>) resolverá este problema. Además, nos
aseguraremos que <e>no</e> se haya activado la opción <e>Enhanced RTC</e> bajo
el título <e>Character devices</e> al configurar el núcleo (tal como ha sido
reseñado en la guía de instalación).
</p>

</body>
</section>
</chapter>

<chapter>
<title>Soporte de Laptops</title>
<section>
<title>
¿Cómo puedo habilitar la máxima velocidad del procesador en mi PowerBook
mientras utilizo Linux?
</title>
<body>

<note>
Muchos procesadores (si no todos) trabajarán a la velocidad correcta con los
núcleos modernos. Pero si continuamos teniendo este problema, podríamos
actualizar al último kernel y probar de nuevo, haciéndolo únicamente como 
una solución de reserva.
</note>

<p>
Algunos procesadores de los PowerBooks comienzan a la velocidad más baja para 
la que están diseñados. Trabajando en esta velocidad mínima alargan la
duración batería a costa de la disminución del rendimiento. El sistema
operativo en la máquina debe instruir al hardware para que trabaje a su máxima
velocidad. En Mac OS X esto se llama "Reduced processor performance" o "CPU
Scaling" en Linux. Para verificar la velocidad actual del procesador mientras 
se ejecuta Linux se puede teclear <c>cat /proc/cpuinfo</c>. En Mac OS X, primero
hay que parar "Reduce processor performance" en la pestaña "Options" del panel
de preferencias <e>Energy Saver</e>. Luego hay que ejecutar <e>Apple System
Profiler</e> (en Applications:Utilities).
</p>

<warn>
No utilice este método para hacer "overclock". Los resultados serán
impredecibles si utiliza valores inadecuados. ¡No nos hacemos responsables si
fríe su máquina!
</warn>

<p>
Si el <e>Apple System Profiler</e> indica una velocidad superior de la obtenida
al ejecutar Linux, se puede habilitar la máxima velocidad del procesador con un
simple comando. En primer lugar, su máquina necesita ejecutar un núcleo
<c>2.4.20-pre9-ben0</c> o posterior. Los núcleos más antiguos no tienen el
código necesario para cambiar la velocidad del procesador. Luego, necesitará
compilarlo con la opción <c>CPU Frequency scaling</c>
<e>deshabilitada</e>. Finalmente, ejecute el comando apropiado tal como se
muestra en los ejemplos que siguen.
</p>

<pre caption="CPU Frequency scaling" >
<comment>(Únicamente son ejemplos. Use los valores apropiados para su
equipo)</comment>

<comment>(Para un PowerBook G4 a 1GHz)</comment>
echo "0:667000:1000000:performance" > /proc/cpufreq   

<comment>(Para un PowerBook G4 800MHz)</comment>
echo "0:667000:800000:performance" > /proc/cpufreq    

<comment>(For 2.6.x kernels, use this path instead of /proc/cpufreq)</comment>
echo "0:667000:1000000:performance" > /sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed     
</pre>

<p>
Muchos usuarios querrán añadir este comando al final de
<path>/etc/conf.d/local.start</path>. Este fichero se ejecuta cada vez que su
máquina arranca.
</p>

</body>
</section>
<section>
<title>
Estoy corriendo Gentoo en un portátil PowerPC. ¿Qué paquetes debo instalar
para habilitar la funcionalidad inherente a los portátiles?
</title>
<body>

<p>
Hay cuatro paquetes principales que deberá instalar.
</p>

<ul>
  <li>
    <e>pbbuttonsd</e> es una herramienta que habilita el uso de las teclas para
    controlar el volumen y brillo en muchos portátiles ppc. Las versiones
    actuales también funcionan como gestor de alimentación
  </li>
  <li>
    <e>gtkpbbuttons</e> le da un "front end" usando gtk para pbbuttonsd
    (retroalimentación visual al pulsar los botones en X). <e>gtkpbbuttons</e>
    requiere gtk y para mejores resultados debería agregarse a su archivo de
    sesión X (<path>~/.Xsession</path>) (de forma que siempre se ejecute
    mientras se está en X)
  </li>
  <li>
    <e>powerprefs</e> enlaza con pbbuttonsd dándole la posibilidad de modificar
    configuraciones como la gestión de alimentación, opciones del trackpad y
    varias otras preferencias.
  </li>
  <li>
    <e>cpudyn</e> le permite escalar la velocidad de la cpu para alargar la
    velocidad de la batería. Otros paquetes le proporcionan la misma
    funcionalidad, como <e>powernowd</e>, <e>cpufreqd</e> y <e>speedfreq</e>.
    </li>
</ul>

<p>Estos paquetes se instalan escribiendo los comandos adecuados de la siguiente
	lista:
</p>

<pre caption="Instalación de paquetes específicos de portátiles" >
# <i>emerge pbbuttonsd; rc-update add pbbuttonsd default</i>
# <i>emerge gtkpbbuttons</i>
# <i>emerge powerprefs</i>
# <i>emerge cpudyn</i>
</pre>

<note>
Debe editar <path>/etc/pbbuttonsd.conf</path> para ajustarlo mejor a sus
necesidades. El comportamiento de las teclas Fx puede controlarse aquí igual 
de bien que muchas opciones de suspensión. Para que las teclas Fx tengan el
comportamiento habitual de OSX, configure KBDMode a fkeyslast. Puede 
deshabilitar el golpecito (tap) del touchpad estableciendo TPMode a notap. 
Están disponibles muchas más opciones, vea los detalles en man pbbuttonsd.conf.
</note>

<p>
Es habitual añadir pbbuttonsd y cpudyn al runlevel boot para que se carguen al
iniciarse el ordenador. Para hacerlo:
</p>

<pre caption="Añadir pbbuttonsd y cpudyn al runlevel boot" >
# <i>rc-update add pbbuttonsd boot</i>
# <i>rc-update add cpudyn boot</i>
</pre>

</body>
</section>
<section>
<title>¿Cómo puedo configurar mi tarjeta Airport u otra tarjeta Wi-Fi?</title>
<body>

<p>
Asegúrese que el soporte de la tarjeta airport esté compilado en el núcleo, 
o como compilado como módulo y que está cargado. El cambio de la 
configuración wireless se realiza mediante iwconfig que forma parte del paquete
<c>wireless-tools</c>
</p>

<p>
Ejemplo de uso de iwconfig para establecer el SSID a ssid_casero:
</p>

<pre caption="Configurando un SSID" >
# <i>iwconfig wlan0 essid ssid_casero</i>
</pre>

<p>
Donde wlan0 es el nombre de dispositivo de su tarjeta wifi. Para los usuarios de
Airport el dispositivo wifi es frecuentemente eth1. Para más detalles a cerca de
iwconfig, vaya a su página man.
</p>

<note>
Las tarjetas Airport Extreme todavía no están soportadas en Linux, pero existe
una solución temporal, por favor vea este mensaje de los foros para más
información: <uri>http://forums.gentoo.org/viewtopic-t-365647.html</uri>
</note>

</body>
</section>
<section>
<title>¿Podrá funcionar el módem interno de un iBook2 o un PowerBook?</title>
<body>

<note>
A no ser que haya comprado una clave desde Linuxant, el driver sólo funcionará
a 14.4 y no soportará FAX.
</note>

<p>
Instale <c>net-dialin/hcfusbmodem</c> que le proporcionará
<path>/dev/ttySHCF0</path>. Luego configure normalmente ppp. Puede encontrar 
más información al respecto de la instalación en
<uri>http://www.linuxant.com/drivers/hcf/install.html</uri>
</p>

</body>
</section>
<section>
<title>¿Funciona el sleep en mi iBook/PowerBook?</title>
<body>

<p>
"Sleep" (suspender en RAM) funciona muy bien en todos los iBooks G3 y TiBooks.
Recientemente, un parche del núcleo ha sido distribuido para dar soporte para
"sleep" en iBooks G4 y AlBooks basados en Radeon. Si dispone de uno de esos
portátiles, use las vanilla-sources-2.6.12 o las gentoo-sources 2.6.11 para
disponer de dicho soporte incluido.
</p>

<note>
Note que los PowerBook 12" no están todavía soportados debido a su chipset
nVidia.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Aplicaciones</title>
<section>
<title>
No puedo instalar (emerge) un paquete y obtengo un error acerca de que está
enmascarado. ¿Qué puedo hacer?
</title>
<body>

<p>
Habitualmente hay dos razones por las que un paquete no se puede instalar: o 
bien no ha sido aún probado en PPC o ha sido probado pero no ha sido marcado
todavía como estable.
</p>

<p>
Si el paquete no está todavía completamente probado en PPC, necesitará primero
marcar el ebuild con la keyword ppc. Lo que se consigue usando la herramienta
ekeyword que forma parte del paquete gentoolkit-dev. Para marcar el ebuild con
ppc:
</p>

<pre caption="Añadir la keyword ppc a app-foo/bar" >
$ <i>ekeyword ppc /usr/portage/app-foo/bar/bar-1.0.ebuild</i>
</pre>

<p>
Una vez que el ebuild ha sido "marcado" se puede instalar de la forma habitual.
Verifique la aplicación y si funciona, <b>por favor</b> repórtelo como un bug
para que uno de los desarrolladores pueda añadir la keyword.
</p>

<note>
Este cambio permanecerá sólo hasta la próxima sincronización. Si necesita un
ajuste más permanente puede crear un "portage overlay". Mire en la
documentación de portage para más información.
</note>

<p>
Si el paquete ya tiene la keyword ~ppc, dispone de dos alternativas. Siga las
instrucciones anteriores y sustituya ~ppc por ppc, o utilice /etc/portage/ para
desenmascarar el paquete concreto.
</p>

<pre caption="Uso de /etc/portage para desenmascarar app-foo/bar" >
$ <i>echo "=app-foo/bar-1.0 ~ppc" > /etc/portage/package.keywords</i>
</pre>

<note>
Si el directorio /etc/portage no existe, asegúrese de crearlo primero.
</note>

<p>
Ahora instale el paquete normalmente. Una vez que esté seguro que la aplicación
es estable, <b>por favor</b> informe de un bug para que los desarrolladores
puedan añadir la keyword.
</p>

</body>
</section>
<section>
<title>¿Tiene Gentoo/PPC soporte para Flash?</title>
<body>

<p>
Bueno, no realmente. Macromedia no ha proporcionado un binario linux/ppc y las
implementaciones de código abierto están incompletas y con errores en este
momento. Dos proyectos que están trabajando en este problema son <uri
link="http://gplflash.sf.net" >gplflash2</uri> y <uri link="http://swfdec.sf.net"
>swfdec</uri>, por lo que puede buscar en los mismos más información. Una
posible solución temporal es usar qemu (un emulador x86) para ejecutar
Macromedia Flash Player 6 como un simple reproductor. Este proceso se describe 
en los foros: <uri>http://forums.gentoo.org/viewtopic.php?t=117774</uri>
</p>

</body>
</section>
<section>
<title>¿Tiene Gentoo/PPC un plugin de Java?</title>
<body>

<p>
No, no en este momento. El antiguo plugin de java ya no es compatible con el
nuevo sistema de módulos de Mozilla, y el nuevo todavía no ha sido escrito.
</p>

</body>
</section>

<section>
<title>¿Existe una manera sencilla para configurar X?</title>
<body>

<p>
Simplemente haga un emerge de <c>Xorgautoconfig</c>. Una vez el paquete ha sido
instalado, ejecute <c>Xorgautoconfig</c> para generar la configuración de su
instalación. Si quiere indicar un mapa de teclado puede usar la opción
--keymap. Note que, sin embargo, <c>Xorgautoconfig</c> no configurará DRM en
muchos casos, puede que necesite cambiar la configuración del núcleo para
soportarlo.
</p>

</body>
</section>
<section>
<title>
¿Cómo puedo activar el Direct Rendering (DRM) en las tarjetas rage128 o radeon?
</title>
<body>

<p>
Asegúrese que ha configurado las siguientes opciones en su núcleo:
</p>

<pre caption="Configuración DRM del núcleo" >
Device Drivers - Character devices --->
  &lt;*> /dev/agpgart (AGP Support)
  [*] Apple UniNorth support
  [*] Direct Rendering Manager (DRI support)
  &lt;*>   ATI Rage 128
  &lt;*>   ATI Radeon
Device Drivers - Graphics Support --->
  &lt;*>   ATI Rage 128 display support
  &lt;*>   ATI Radeon display support 
</pre>

<p>
Recompílelo e instálelo si es necesario. Después, asegúrese de haber
arrancado con el framebuffer nativo (es decir radeonfb o atyfb y <e>not</e> con
offb o ofonly), y ejecute <c>Xorgautoconfig</c>.
</p>

<impo>
Dependiendo de la configuración de su tarjeta puede que necesite editar el
fichero <path>/etc/X11/xorg.conf</path>. Asegúrese que el controlador del
dispositivo seleccionado es, o bien, ati, o bien, su controlador específico
(r128 or radeon). Verifique también que la extensión DRI se cargue y que no
esté comentada.
</impo>

<note>
Actualmente no hay ningún soporte DRI para los chipsets R300/R400, pero se ha
iniciado el proyecto <uri>http://r300.sourceforge.net</uri>. Un soporte inicial
para este chipset está previsto ser incluido en la próxima versión mayor de
X.org, puesto que el proyecto r300 forma parte ahora del proyecto DRI. Los
chipsets nVidia también están bastante poco soportados en PPC, tienen una
aceleración 2D básica proporcionada por el nv, pero no aceleración 3D.
</note>

</body>
</section>
<section>
<title>
Recientemente he instalado Xorg, pero cuando lo utilizo, mi mapa de teclado
internacional no funciona correctamente. La teclas básicas funcionan bien, pero
no puedo componer caracteres especiales como el signo de la "arroba". La salida
de startx menciona algo como "could not load keymap, falling back to default
keymap". ¿Qué está mal?
</title>
<body>

<p>
Revise que los permisos en <path>/var/tmp</path> sean <path>drwxrwxrwx</path>. 
Si no, cámbielos escribiendo <c>chmod a+rwx /var/tmp</c>. Esto le permitirá 
a Xorg cargar los mapas de teclado normalmente de nuevo.
</p>

</body>
</section>
<section>
<title>
Cuando utilizo el DRI de OpenGL o reproduzco películas, el sistema se congela
ocasionalmente de forma inesperada. ¿Qué puedo hacer?
</title>
<body>

<p>
Su sistema puede que no trabaje correctamente con el soporte AGP. La solución
más fácil es añadir la siguiente línea a la sección "Device" de
<path>/etc/X11/xorg.conf</path>:
</p>

<pre caption="Forzar el modo PCI en tarjetas AGP" >
Option       "ForcePCIMode"
</pre>

<p>
También hay algunos problemas conocidos con las extensiones composite y damage
incluidas con las nuevas versiones de X.org. Por favor, deshabilítelas si está
teniendo problemas.
</p>

</body>
</section>
<section>
<title>¿Cómo pongo a funcionar el sonido?</title>
<body>

<p>
Hay dos posibles vías para activar el sonido en los núcleos modernos: OSS o
ALSA. OSS es la antigua de las dos opciones y ha sido descatalogada, pero
continua funcionando bien en muchos Macs antiguos. El método nuevo es ALSA y
continuará estando soportado en el futuro. Recomendamos que utilice ALSA a no
ser que tenga problemas.
</p>

<note>
Si ha incluido el controlador OSS en su núcleo, el controlador de ALSA no se
cargará.
</note>

<p>
Además de la configuración del núcleo, los usuarios que deban tener acceso a
los dispositivos de audio deben ser añadidos al grupo apropiado con el comando:
</p>

<pre caption="Añadir usuarios al grupo audio" >
# <i>gpasswd -a usuario audio</i>
</pre>

<p>
Si el núcleo está configurado correctamente, pero todavía no se puede oír
ningún sonido, nos aseguraremos de que el mezclador principal está encendido 
y que ¡el dispositivo no está enmudecido!
</p>

<note>
Si está utilizando un G5 o un mac-mini, debe seguir la Guía ALSA para Gentoo
Linux para instalar la última versión de los controladores ALSA en lugar de 
las versiones proporcionadas por el núcleo.
</note>

</body>
</section>
<section>
<title>Configuración del sonido con ALSA</title>
<body>

<p>
En ALSA, activaremos tanto los controladores normales de ALSA como la capa de
emulación OSS para utilizar programas que sólo funcionen con OSS. En <c>make
menuconfig</c> necesitará seleccionar:
</p>

<pre caption="Opciones del kernel para ALSA" >

Device Drivers - Sound --->
&lt;*> Sound card support
    Advanced Linux Sound Architecture --->
    &lt;>   PowerMac DMA sound support
      &lt;*> Advanced Linux Sound Architecture
      &lt;*> Sequencer support
      &lt;*> Sequencer dummy client
      &lt;*> OSS Mixer API
      &lt;*> OSS PCM (digital audio) API
      [*] OSS Sequencer API
          ALSA PowerMac devices --->
	   &lt;*> PowerMac (AWACS, DACA, Burgundy, Tumbler, Keywest)
</pre>

<p>
(o configúrelos como módulos y asegúrese que se cargan en el arranque)
</p>

<note>
Por favor, asegúrese que el <c>PowerMac DMA sound support</c> está desactivado,
porque en caso contrario el módulo ALSA no podrá cargarse.
</note>

</body>
</section>
<section>
<title>Configuración del sonido con OSS</title>
<body>

<note>Nuevamente, utilice esto sólo si no está usando ALSA</note>

<p>
En <c>make menuconfig</c> necesitará seleccionar:
</p>

<pre caption="Opciones del kernel para OSS" >
&lt;*> Sound card support
  &lt;*>   PowerMac DMA sound support
</pre>

<p>
(o configúrelos como módulos y asegúrese que se cargan en el arranque)
</p>

<p>
Si el módulo <c>dmasound_pmac</c> no se carga, probablemente deberá activar
<c>i2c-core</c> en el núcleo o como módulo.
</p>

</body>
</section>
<section>
<title>¿Cómo puedo reproducir CDs de audio?</title>
<body>

<p>
Las máquinas NewWorld no tienen conexión de audio entre su reproductor CD-ROM 
y su hardware de sonido. Sin embargo, la información de audio puede ser leída
como datos y reconducida al hardware de sonido. Esto se puede hacer con
<e>xmms</e> y el plugin <e>xmms-cdread</e>, que lee la información de audio del
CD a través del cable ATA, la decodifica en el software y la envía a la tarjeta
de sonido a través del bus PCI como datos digitales. Si quiere tener un
'verdadero' reproductor de CDs, deberá completar los pasos siguientes:
</p>

<p>
Primero, necesitará recompilar el núcleo con las opciones siguientes:
</p>

<pre caption="Kernel options for playing audio-CDs" >
<comment>(En "ATA/IDE/MFM/RLL Support")</comment>
<comment>(En "IDE, ATA, and ATAPI Block Devices")</comment>
&lt; > Include IDE/ATAPI CDROM support  <comment>(desactivar)</comment>
&lt;M> SCSI emulation support           <comment>(compilarlo como módulo)</comment>

<comment>(En "SCSI Support")</comment>
&lt;M> SCSI support                     <comment>(compilarlo como módulo)</comment>
&lt;M> SCSI CD-ROM support              <comment>(compilarlo como módulo)</comment>
</pre>

<p>
Luego agregue <c>hdX=ide-scsi</c> a la sección (o secciones) de la imagen del
núcleo en <path>/etc/yaboot.conf</path> donde <c>hdX</c> es el dispositivo IDE
que corresponda a su reproductor de CD. Generalmente es <c>hdc</c>. Escriba
<c>ybin -v</c> para instalar la nueva configuración en yaboot.conf. Modifique
<path>/etc/group</path> y agregue a los usuarios que deberán poder reproducir
CDs al grupo <c>cdrom</c>. Luego tendrá que reiniciar la máquina para que los
cambios al núcleo tengan efecto.
</p>

<p>
Al reiniciar, haga <c>su</c> a root y cambie los permisos del dispositivo cd e
instale xmms:
</p>

<pre caption="Cambio de los permisos del cdrom e instalación de xmms-read" >
# <i>chown root:cdrom /dev/scsi/host0/bus0/target0/lun0/cd</i>
# <i>chmod 660 /dev/scsi/host0/bus0/target0/lun0/cd</i>
# <i>emerge xmms xmms-cdread</i>
</pre>

<note>
Asegúrese de usar el path que corresponda al lector de CDs de su máquina.
</note>

<p>
Para reproducir un CD, inicie <c>xmms</c> e indique <c>/dev/cdrom</c> como el
archivo que se desea reproducir.
</p>

</body>
</section>
<section>
<title>¿Puedo ejecutar Mac OS o Mac OS X bajo Gentoo Linux?</title>
<body>

<p>
Sí, con tal que usted esté ejecutando Gentoo Linux en hardware PPC, puede usar
<uri link="http://www.maconlinux.org/" >Mac-on-Linux</uri> que le permite
ejecutar una instancia de OS 9, OS X o Linux como un proceso de Linux. Basta un
<c>emerge mol</c> para instalar el paquete. MOL soporta Mac OS de 7.5.2 a 9.2.2
al igual que cualquier versión de OS X excepto Tiger (el soporte está
actualmente en curso). Puede correrlo desde una consola con framebuffer o en una
ventana de X.
</p>

<note>
Para ejecutar MOL en pantalla completa necesitará compilar MOL con la opción
fbcon activada, y ejecutarlo desde una consola con framebuffer.

</note>

<p>
Para la red y el sonido debe instalar los controladores en el directorio
<path>MOL-Install</path> de su escritorio X del Mac OS. Si aparecen errores
relativos a la red, asegúrese de tener las siguientes opciones del núcleo
activadas:
</p>

<p>
Para el servidor dhcp:
</p>

<ul>
  <li>Socket Filtering (CONFIG_FILTER)</li>
  <li>Packet Socket (CONFIG_PACKET)</li>
</ul>

<p>
Para NAT:
</p>

<ul>
  <li>Network packet filtering (CONFIG_NETFILTER)</li>
  <li>Connection tracking (CONFIG_IP_NF_CONNTRACK)</li>
  <li>IP tables support (CONFIG_IP_NF_IPTABLES)</li>
  <li>Packet filtering (CONFIG_IP_NF_FILTER)</li>
  <li>Full NAT (CONFIG_IP_NF_NAT)</li>
  <li>MASQUERADE target support (CONFIG_IP_NF_TARGET_MASQUERADE)</li>
</ul>

</body>
</section>
<section>
<title>¿Puedo acceder a mis particiones ext2/ext3 desde OSX?</title>
<body>

<p>
OSX puede soportar la lectura y escritura de particiones ext2/ext3 usando las
extensiones del núcleo proporcionadas por el <uri
link="http://sourceforge.net/projects/ext2fsx" >ext2fsx project</uri>.
</p>

<note>
Cuando utilice MOL, no podrá acceder a la partición que está siendo utilizada
en ese momento por Linux.
</note>

</body>
</section>
<section>
<title>¿Qué opciones USE del sistema Portage no funcionan en las máquinas
PowerPC</title>
<body>

<p>
Si está usando un viejo perfil llano (descatalogado, anterior a 2005.0) mire la
lista en <path>/etc/make.profile/use.mask</path>.
</p>

<p>
Si está utilizando un perfil en cascada (2005.0 y siguientes) mire la lista en
<path>/usr/portage/profiles/default-linux/ppc/use.mask</path>.
</p>

</body>
</section>
<section>
<title>¿Cómo puedo configurar distcc en mi máquina x86?</title>
<body>

<p>
Si dispone de otro ordenador más rápido, puede utilizar distcc para compilar
los binarios para su procesador ppc más lento. Es mejor hacer lo más posible en
su computador más rápido, si es posible, e incluso no compilar en el ordenador
más lento. Dicho esto, aquí hay algunos enlaces para poder empezar:
<uri>http://dev.gentoo.org/~vapier/CROSS-COMPILE-HOWTO</uri> o 
<uri>http://www.sable.mcgill.ca/~dbelan2/crossdev/crossdev-powerpc-i686.html</uri>
</p>

</body>
</section>
<section>
<title>¿Por qué gcc muestra continuamente errores de segmentación durante la
compilación?</title>
<body>

<p>
Si obtiene errores de segmentación durante la compilación, es probable que no
provengan de un bug de gcc y tampoco de un error de su hardware. La mayor parte
del tiempo de debe a que la opción de núcleo preemtivo se ha habilitado.
Mientras que esta opción es segura en x86, en PPC puede provocar corrupciones de
memoria temporal (cache) y está es la razón por la cual obtiene las frecuentes
advertencias durante las compilaciones. Para prevenirlo, simplemente recompile el
núcleo con la preención desactivada. Para verificar si está activado:
</p>

<pre caption="Verificar si la preención está activada" >
$ <i>grep PREEMPT /usr/src/linux/.config</i>
</pre>

<p>
Si devuelve: "# CONFIG_PREEMPT is not set", entonces puede informar de los
errores de segmentación como un bug.
</p>

<p>
Si devuelve: "CONFIG_PREEMPT=y", entonces necesitará deshabilitarlo y recompilar
el núcleo.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Recursos</title>
<section>
<title>¿Puedo comprar un CD de Gentoo Linux/PPC?</title>
<body>

<p>
¡Sí! Vendemos Gentoo en CD-ROM en nuestra <uri link="http://store.gentoo.org/"
>Gentoo store</uri>. 
</p>

</body>
</section>
<section>
<title>Estas PUF no han contestado mi pregunta. ¿Qué puedo hacer ahora?</title>
<body>

<p>
Un buen primer paso es rebuscar entre la <uri link="/doc/es/index.xml"
>documentación relevante en www.gentoo.org</uri>. Existen actualmente dos <uri
link="/main/en/lists.xml" >listas de correo</uri> específicas de PPC,
gentoo-ppc-dev y gentoo-ppc-user. <uri
link="http://forums.gentoo.org/viewforum.php?f=24" >Gentoo on PPC</uri> (en
forums.gentoo.org) es un foro abierto para el tratamiento de todo lo relativo a
PowerPPC. También es habitual charlas en vivo en IRC. Se puede unir al canal
<c>#gentoo-ppc</c> en <c>irc.freenode.net</c>.
</p>

<p>
La información general acerca de Linux en PowerPC puede encontrarse en <uri
link="http://penguinppc.org/" >penguinppc.org</uri>. La información general
relativa a Linux está disponible en <uri link="http://www.linuxdoc.org/"
>www.linuxdoc.org</uri>.
</p>

</body>
</section>
</chapter>
</guide>
