<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/es/gentoo-freebsd.xml,v 1.5 2006/04/01 12:24:26 chiguire Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/es/gentoo-freebsd.xml" lang="es">
<title>Guía concisa de Gentoo/FreeBSD</title>

<author title="Autor">
  <mail link="ignacio.arquelatour@gmail.com">Ignacio Arque-Latour</mail>
</author>
<author title="Autor">
  <mail link="citizen428@gentoo.org">Michael Kohl</mail>
</author>
<author title="Autor">
  <mail link="angusyoung@gentoo.org">Otavio R. Piske</mail>
</author>
<author title="Autor">
  <mail link="ka0ttic@gentoo.org">Aaron Walker</mail>
</author>
<author title="Traductor">
  <mail link="anpereir@gentoo.org">Andrés Pereira</mail>
</author>


<abstract>
Este documento ofrece información de carácter general sobre FreeBSD y también
acerca de instrucciones de instalación para Gentoo/FreeBSD. Adicionalmente
incluye algunas referencias para aquellos interesados en ayudar con las
tareas de desarrollo.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>2.3</version>
<date>2006-03-24</date>

<chapter>
<title>Introducción a FreeBSD</title>
<section>
<title>¿Qué es FreeBSD?</title>
<body>

<p>
<uri link="http://www.freebsd.org/">FreeBSD</uri> es un Sistema Operativo
libre estilo Unix (vea la <uri
link="http://www.freebsd.org/copyright/freebsd-license.html">licencia</uri>).
De regreso a 1993 cuando el desarrollo de <uri link="http://www.386bsd.org/">
386BSD</uri> se detuvo, nacieron dos proyectos: <uri
link="http://www.netbsd.org/">NetBSD</uri>, normalmente conocido por poder
ser ejecutado en un gran número de arquitecturas y FreeBSD que soporta las
arquitecturas x86, amd64, ia64, sparc64 y alpha. FreeBSD tiene fama por su
estabilidad, rendimiento y seguridad, por lo tanto es usado en pequeñas y
hasta en las más grandes compañías de todo el mundo. La versión actual de
producción de FreeBSD es la 6.0, que también es usada como la base para el
proyecto Gentoo/FreeBSD. La rama 5.x anterior sigue siendo mantenida por el
proyecto FreeBSD como versión de servicio, pero no sigue siendo trabajada
por parte de los desarrolladores de Gentoo/FreeBSD.
</p>

</body>
</section>
<section>
<title>¿Qué es Gentoo/FreeBSD?</title>
<body>

<p>
<uri link="/proj/en/gentoo-alt/bsd/fbsd/">Gentoo/FreeBSD</uri> es un
subproyecto del <uri link="/proj/en/gentoo-alt/">Proyecto Gentoo/Alt</uri>
(Gentoo en plataformas alternativas), cuyo objetivo es proporcionar un completo
sistema operativo FreeBSD con las características propias del diseño de Gentoo
Linux, tales como el sistema de inicio (init) y el sistema de gestión de
paquetes Portage.
</p>

</body>
</section>
<section>
<title>FreeBSD y Linux</title>
<body>

<p>
Los usuarios que migran desde Linux a FreeBSD normalmente consideran a
los dos sistemas operativos "casi lo mismo". De hecho, FreeBSD realmente
comparte muchas similitudes con las distribuciones de Linux en general.
Sin embargo, tiene algunas diferencias claves que son dignas de señalar:
</p>

<ul>
  <li>
    A diferencia de Linux, que en realidad se refiere sólo al núcleo, FreeBSD
    por su parte es un sistema operativo completo, que consiste de una
    biblioteca C, herramientas del espacio del usuario (userland tools) y mucho
    más. Este enfoque de desarrollo hace muy consistente el sistema global.
  </li>
  <li>
    A diferencia de Linux, el desarrollo de FreeBSD no está liderado por una
    persona sino que es administrado por un pequeño grupo de personas llamados
    el <uri link="http://www.freebsd.org/doc/en_US.ISO8859-1/articles/contributors/staff-core.html">
    Equipo Central (Core Team)</uri>.
  </li>
</ul>

<p>
Además, FreeBSD también posee algunas diferencias técnicas que lo distinguen de
Linux. Algunas de ellas son muy importantes de conocer, incluso si no tiene
intenciones de unirse al esfuerzo de desarrollo de Gentoo/FreeBSD:
</p>

<ul>
  <li>
    Para obtener las funciones de enlazado dinámico en tiempo de ejecución como
    <c>dlopen()</c>, los programas no necesitan estar enlazados contra libidl
    como pasa en GNU/Linux. En cambio se enlazan contra libc.
  </li>
  <li>
    FreeBSD no tiene una herramienta oficial para la compilación del núcleo,
    por lo tanto tendrá que solucionar por si mismo las dependencias de
    características.
  </li>
  <li>
    FreeBSD usa UFS/UFS-2 como sus sistemas de archivos y no tiene soporte
    oficial para, por ejemplo, ReiserFS o XFS. No obstante, hay proyectos para
    añadir soporte de sólo lectura para esos sistemas de archivos. Ya es
    posible acceder a particiones ext2/ext3 pero no puede instalar su sistema
    en ellas.
  </li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Instalando Gentoo/FreeBSD</title>
<section>
<title>Instrucciones de instalación</title>
<body>

<p>
Luego de esta breve introducción, finalmente es hora de instalar
Gentoo/FreeBSD. Desafortunadamente carecemos de nuestro propio medio
de instalación, así que debe elegir entre dos métodos alternativos. El
primero sería usar una instalación existente de FreeBSD para particionar
su disco duro y usarla como base para instalar Gentoo/FreeBSD. Alternativamente
puede usar el excelente <uri link="http://www.freesbie.org/">CD de Instalación
FreeSBIE</uri> como medio de instalación para Gentoo/FreeBSD.
</p>

<note>
Si tiene la intención de usar FreeSBIE para instalar Gentoo/FreeBSD, ¡por favor
asegúrese de utilizar una versión basada en FreeBSD 6.0! Se puede descargar
versiones experimentales desde el <uri link="http://torrent.freesbie.org/">
tracker Bittorrent de FreeSBIE</uri> y la versión 20060118 ha sido probada con
éxito para los propósitos descritos en este documento.
</note>

<p>
Antes de que pueda empezar la instalación, tiene que configurar un disco duro
para su uso con Gentoo/FreeBSD. Esto puede hacerse vía <c>sysinstall</c>
(disponible en una instalación actual de FreeBSD así como en FreeSBIE)
o manualmente usando los comandos <c>fdisk</c>, <c>disklabel</c> y
<c>newfs</c>.
Si nunca ha configurado antes un sistema FreeBSD, <c>sysinstall</c> puede que
sea la mejor alternativa para Ud. En ese caso asegúrese de no utilizar el
sysinstall iniciado por los instaladores de FreeBSD o FreeSBIE, sino que use
en cambio el siguiente comando:
</p>

<pre caption="Particionar con sysinstall">
# <i>sysinstall diskPartitionEditor diskPartitionWrite diskLabelEditor diskLabelCommit</i>
</pre>

<p>
Si enfrenta dificultades mientras particiona o formatea sus discos duros, déle
una mirada al notable
<uri link="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/">Manual
de FreeBSD</uri> o diríjase al canal <c>#gentoo-bsd</c> en el servidor de irc
Freenode (irc.freenode.net)
</p>

<p>
Una vez que haya terminado de configurar sus discos, tiene que crear un punto
de montaje para su instalación Gentoo/FreeBSD y montar todas las particiones
necesarias.
</p>

<pre caption="Creando un punto de montaje y montando las particiones">
# <i>mkdir /mnt/gentoo</i>
<comment>(Reemplace X con los números correctos para su disco duro.)</comment>
# <i>mount /dev/adXsXa /mnt/gentoo</i>
</pre>

<p>
Si está usando el LiveCD FreeSBIE y ya tiene una partición UFS en su disco
duro, este ya ha sido montado en modo de lectura exclusiva en
<path>/mnt/ufs.1</path>. Si desea usar dicha ubicación para su instalación,
tendrá que remontarla en modo de escritura:
</p>

<pre caption="Remontar una partición en modo de escritura">
# <i>mount -u -o rw /mnt/ufs.1</i>
</pre>

<p>
Ahora que ha montado la partición objetivo, es hora de obtener y descomprimir
un tarball con stage3.
</p>

<pre caption="Obteniendo y descomprimiendo un tarball con stage3">
# <i>cd /mnt/gentoo/</i>
<comment>(Any other Gentoo mirror which includes the experimental/ directory will also work.)</comment>
<comment>(También funcionará cualquier otro servidor réplica de Gentoo que tenga el directorio "experimental")</comment>
# <i>wget http://gentoo.osuosl.org/experimental/x86/freebsd/stages/gentoo-freebsd-6.0-stage-20060221.tar.bz2</i>
# <i>tar -jxvpf gentoo-freebsd-6.0-stage-20060221</i>
<comment>(Puede borrar el tarball con el siguiente comando si lo desea)</comment>
# <i>rm gentoo-freebsd-6.0-stage-20060221</i>
</pre>

<p>
Antes de entrar al ambiente enjaulado con su nueva fase (stage), primero debe
obtener un copia actualizada del overlay de Gentoo/FreeBSD. La forma más fácil
de lograr esto es obteniendo nuestro último snapshot el cual debe extraer a
<path>/mnt/gentoo/usr/local/portage</path>
</p>

<pre caption="Obteniendo el overlay de Portage para Gentoo/FreeBSD">
# <i>cd /mnt/gentoo/usr/local/portage</i>
# <i>wget http://gentoo.osuosl.org/experimental/snapshots/portage-alt-overlay-latest.tar.bz2</i>
# <i>tar -xjf portage-alt-overlay-latest.tar.bz2</i>
<comment>(Ahora puede borrar con seguridad el snapshot con el siguiente comando.)</comment>
# <i>rm portage-alt-overlay-latest.tar.bz2</i>
</pre>

<p>
Alternativamente también puede usar Subversion para extraer la versión actual
del overlay. Si le interesa esta posibilidad, por favor diríjase a la
<uri
link="/proj/en/gentoo-alt/contribute/index.xml?part=1&amp;chap=3">documentación
del overlay de Gentoo/ALT</uri>.
</p>

<p>
Para que su instalación funcione, necesita montar el sistema
de archivos <path>/dev</path> desde el sistema en ejecución al
punto de montaje de Gentoo/FreeBSD antes de proceder con el enjaulado.
</p>

<pre caption="Montando el sistema de archivos /dev y realizando el enjaulado (chrooting)">
# <i>mount -t devfs none /mnt/gentoo/dev/</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/etc</i>
# <i>chroot /mnt/gentoo/ /bin/bash</i>
# <i>source /etc/profile</i>
</pre>

<p>
Luego de obtener el overlay de Gentoo/FreeBSD, es hora de enlazar
<path>/etc/make.profile</path> al perfil correcto y hacer que su
<path>/etc/make.conf</path> esté listo para Gentoo/FreeBSD.
</p>

<pre caption="Configurando el perfil y editando /etc/make.conf">
# <i>ln -sf /usr/local/portage/portage-alt-overlay/profiles/default-bsd/fbsd/6.0/x86/ /etc/make.profile</i>
<comment>(El editor estándar de FreeBSD es ee, el cual será usado para editar el archivo /etc/make.conf)</comment>
# <i>ee /etc/make.conf</i>
<comment>(Por favor, asegúrese de agregar al menos las siguientes líneas:)</comment>
CHOST="i686-gentoo-freebsd6.0"
ACCEPT_KEYWORDS="~x86-fbsd ~x86"
FEATURES="-sandbox collision-protect"
PORTDIR_OVERLAY="/usr/local/portage/portage-alt-overlay"
</pre>

<note>
Si está instalando usando una fase (stage) antigua 5.4, por favor reemplace el
"5.4" por "6.0" cuando haga el enlace simbólico del perfil (profile) y al
ajustar la variable CHOST.
</note>

<p>
Para poder arrancar correctamente, necesitará crear el directorio
<path>/proc</path>.
</p>

<pre caption="Creando el directorio /proc">
# <i>mkdir /proc</i>
</pre>

<p>
Ahora tiene que obtener una copia del árbol Portage de Gentoo, que dependiendo de su
conexión, puede tomar un buen tiempo.
</p>

<pre caption="Obteniendo el árbol Portage">
# <i>emerge --sync</i>
<comment>(También es posible recuperar el árbol Portage de otra forma:)</comment>
# <i>cd /</i>
# <i>wget http://gentoo.osuosl.org/snapshots/portage-latest.tar.bz2</i>
# <i>tar -xjf portage-latest.tar.bz2 -C /usr/</i>
# <i>emerge --metadata</i>
</pre>

<p>
Si lo desea, ahora puede recompilar los paquetes centrales del sistema.
</p>

<pre caption="Recompilando los paquetes centrales de FreeBSD (Opcional)">
# <i>emerge -e system</i>
</pre>

<p>
Cuando ejecutó <c>emerge -e system</c>, las fuentes del núcleo de FreeBSD se
instalaron en el directorio <path>/usr/src/sys</path>. Si saltó este paso puede
obtenerlas de la siguiente manera:
</p>

<pre caption="Obteniendo las fuentes del núcleo de FreeBSDsources">
# <i>emerge freebsd-sources</i>
</pre>

<p>
Configurar y compilar un núcleo personalizado es realmente distinto que
compilarlo en Linux, así que si no está familiarizado con el proceso, lo
animamos a que le dé una mirada al <uri
link="http://www.freebsd.org/doc/es_ES.ISO8859-1/books/handbook/kernelconfig.html">
capítulo 8</uri> del manual de FreeBSD.
</p>

<p>
Por favor, note que actualmente ¡sólo está soportada la forma "Tradicional" de
compilar el núcleo en Gentoo/FreeBSD! También observe que <c>make install</c>
probablemente le pida el archivo <path>/boot/device.hints</path>. Se puede
encontrar una versión por defecto en el subdirectorio
<path>conf</path> de la configuración <c>GENERIC</c> y se denomina
<path>GENERIC.hints</path>
</p>

<note>
Al compilar el núcleo, debería usar el comando "make WERROR=NO_WERROR"
porque los desarrolladores de Gentoo/FreeBSD todavían no han sido capaces
de parchar todas las ocurrencias de -Werror y el GCC actualmente en uso no
acepta las extensiones de FreeBSD a la función printf().
</note>

<p>
Ahora es tiempo de hacer algunas configuraciones básicas del sistema y otros
ajustes. Primero, vamos a configurar los puntos de montaje de los sistemas
de archivos en <path>/etc/fstab</path>.
</p>

<pre caption="Editando el sistema de archivos en /etc/fstab">
# <i>ee /etc/fstab</i>
<comment>(Esto es un ejemplo, reemplace X e Y con los números correctos para su disco duro.)</comment>
#Device         Mountpoint      Fstype          Options         Dump    Pass
/dev/adXsYb     none            swap            sw              0       0
/dev/adXsYa     /               ufs             rw              1       1
/dev/adXsYe     /usr/home       ufs             rw              2       2
/dev/adXsYd     /tmp            ufs             rw              2       2
/dev/acdX       /cdrom          cd9660          ro,noauto       0       0
</pre>

<p>
Ahora también sería bueno ajustar la conexión de red antes de reiniciar.
</p>

<pre caption="Configurando su red">
# <i>ee /etc/conf.d/net</i>
<comment>(Esto es tan solo un ejemplo que debe ajustar a sus opciones de red.)</comment>
ifconfig_rl0=("192.168.0.10 netmask 255.255.255.0 broadcast 192.168.0.255")
routes_rl0=("-net 0.0.0.0 -host 192.168.0.1")
</pre>

<p>
Para que su interfaz de red se active en el arranque tiene que agregarla al
nivel de ejecución default.
</p>

<pre caption="Agregando su tarjeta de red al nivel de ejecución default">
# <i>rc-update add net.rl0 default</i>
</pre>

<p>
El nombre de su computadora puede ser cambiado en <path>/etc/hostname</path>.
</p>

<pre caption="Ajustando el nombre de la computadora">
# <i>echo "SU_NOMBRE_DE_LA_COMPUTADORA" > /etc/hostname</i>
</pre>

<p>
En caso de que necesite usar otra disposición de teclado para su idioma, tiene que
configurar el valor correcto en <path>/etc/conf.d/syscons</path>. El siguiente ejemplo
usa la disposición para el idioma Castellano, así que tendrá que ajustarlo si quiere
usar otro.
</p>

<pre caption="Cambiando la disposición del teclado (Opcional)">
# <i>ee /etc/conf.d/syscons</i>
KEYMAP="spanish.iso.acc"
<comment>(Las disposiciones de teclado posibles pueden ser encontradas en /usr/share/syscons/keymaps).</comment>
</pre>

<impo>
Por favor, asegúrese por completo de agregar su nueva instalación de Gentoo/FreeBSD
a la configuración de su gestor de arranque, pues de otro modo ¡no podrá arrancar
su nuevo sistema recién instalado! Si no tiene otro gestor de arranque en su
sistema, debería usar <c>boot0</c>, pues es actualmente el único soportado por
FreeBSD. En este caso, no olvide colocar sus otros sistemas operativos en la
configuración de <c>boot0</c>.
</impo>

<pre caption="Instalando y configurando boot0">
# <i>emerge boot0</i>
<comment>(Salga del ambiente enjaulado)</comment>
# <i>exit</i>
<comment>(Lo siguiente se ejecuta fuera de la jaula)</comment>
# <i>fdisk -B -b /mnt/gentoo/boot/boot0 /dev/adX</i>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>disklabel -B adXsY</i>
</pre>

<p>
Si necesita información adicional sobre la configuración de <c>boot0</c>, por favor
consulte el <uri link="http://www.freebsd.org/doc/es_ES.ISO8859-1/books/handbook/boot.html">
capítulo 14</uri> del manual de FreeBSD.
</p>

<p>
Ahora ajuste la clave para el superusuario <c>root</c> y agregue otra cuenta de usuario
para su trabajo diario.
</p>

<pre caption="Cambiando la clave para el superusuario y agregando un nuevo usuario">
# <i>passwd</i>
<comment>(Si necesita ayudar para agregar un nuevo usuario, por favor consulte el manual de FreeBSD).</comment>
# <i>adduser</i>
</pre>

<p>
Felicitaciones, ha finalizado su instalación de Gentoo/FreeBSD y que puede empezar a
explorar luego de reiniciar. ¡Que se divierta!
</p>

<pre caption="Reiniciando el sistema">
# <i>exit</i>
# <i>reboot</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Desarrollando para Gentoo/FreeBSD</title>
<section>
<title>¿Cómo ayudar?</title>
<body>

<p>
Hay muchas cosas en las que podría ayudar dependiendo de sus habilidades y
tiempo libre:
</p>

<ul>
  <li>
    Trabajar en ebuilds vigentes: esto significa trabajar de cerca con los
    mantenedores de ebuilds para crear parches o modificar ebuilds de forma que
    puedan ser aceptados en el árbol principal.
  </li>
  <li>
    Seguridad: si está involucrado en seguridad, ¡lo necesitamos! Aunque
    seguimos y corregimos los anuncios de seguridad del proyecto FreeBSD,
    siempre podemos contar con ayuda en esta área.
  </li>
  <li>
    Contactos: necesitamos gente que pueda estar en contacto con
    desarrolladores de FreeBSD para poder intercambiar parches y discutir
    problemas varios y sus soluciones. Note que esto no debería involucrar
    cualquier tipo de correo no solicitado (spamming) en las listas de
    correo o canales de IRC.
  </li>
  <li>
    Testing: mientras más gente esté activamente usando Gentoo/FreeBSD, mayor
    será la cantidad de bugs descubiertos, lo que nos ayuda a mejorar la calidad
    del proceso de portar. Si es bueno describiendo bugs o problemas, entonces
    definitivamente nos gustaría saber de Ud.
  </li>
  <li>
    Otras áreas donde necesitamos ayuda: ebuilds de sistema, baselayout,
    creación de CDs de instalación, documentación, hacking del núcleo.
  </li>
</ul>

</body>
</section>
<section>
<title>Problemas conocidos</title>
<body>

<p>
En este instante todavía hay bastante problemas conocidos. Se nombran a
continuación los que valen la pena señalar:
</p>

<ul>
  <li>
    Algunos scripts de inicio dependen del servicio de reloj (clock) que
    no proveemos ahora. Puede eliminarlo de las dependencias del script
    y reportar aquello en <uri link="http://bugs.gentoo.org/">Bugzilla</uri>.
    Por favor, recuerde usar el producto "Gentoo BSD" al momento de enviar
    su reporte de fallo.
  </li>
  <li>
    glib y gnome en general necesitan de muchas correcciones para ser
    adaptados a versiones anteriores (backported).
  </li>
  <li>
    El sistema init actualmente proporcionado por el paquete baselayout de
    Gentoo/FreeBSD no tiene la misma versión del usado por Gentoo Linyx y
    carece de sus características. Se está trabajando para hacer versiones
    más nuevas del mismo.
  </li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Contacto</title>
<section>
<body>

<p>
Se puede encontrar una lista de los desarrolladores de Gentoo/FreeBSD en la
<uri link="/proj/en/gentoo-alt/bsd/fbsd/">página del proyecto</uri>. Hay otras
formas de contactar a los desarrolladores, entre ellas, el canal de IRC
<c>#gentoo-bsd</c> en Freenode (irc.freenode.net) y también en la <uri
link="/main/en/lists.xml">lista de correos gentoo-bsd</uri>.
</p>

</body>
</section>
</chapter>
</guide>
