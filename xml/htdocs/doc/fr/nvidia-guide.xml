<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/nvidia-guide.xml,v 1.1 2004/08/07 12:17:06 cam Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link="/doc/fr/nvidia-guide.xml" lang="fr">
<title>Guide nVidia pour Linux Gentoo</title>

<author title="Auteur">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Traducteur">
  <mail link="cam@gentoo.org">Camille Huot</mail>
</author>

<abstract>
De nombreux Gentooistes possèdent une carte nVidia dans leur système. nVidia
fournit des pilotes Linux spécifiques pour améliorer les performances de votre
carte. Ce guide vous explique comment installer et configurer ces pilotes.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://createivecommons.org/licenses/by-sa/1.0 -->
<license/>

<version>1.2</version>
<date>31 juillet 2004</date>

<chapter>
<title>Configuration de votre carte</title>
<section>
<title>Installation des pilotes appropriés</title>
<body>

<p>
Les pilotes nVidia contiennent des modules du noyau à intégrer dans votre noyau
actuel. Pour cela, votre noyau doit accepter le chargement de modules. Si vous
avez utilisé <c>genkernel</c> pour configurer votre noyau, alors tout est bon.
Sinon, allez vérifier dans la configuration de votre noyau que ce support soit
bien activé&nbsp;:
</p>

<pre caption="Activation du chargement des modules du noyau">
Loadable module support ---&gt;
  [*] Enable loadable module support
</pre>

<p>
Les bibliothèques et les modules de nVidia sont disponibles dans deux paquets
séparés&nbsp;: <c>nvidia-glx</c> et <c>nvidia-kernel</c>. Le premier contient
les bibliothèques GLX pour X11 tandis que le second contient les modules du
noyau. Puisque <c>nvidia-glx</c> dépend de <c>nvidia-kernel</c>, installer
<c>nvidia-glx</c> suffit&nbsp;:
</p>

<pre caption="Installation des modules nVidia">
# <i>emerge nvidia-glx</i>
</pre>

<p>
Lorsque l'installation est finie, lancez <c>modprobe nvidia</c> pour charger le
module du noyau en mémoire.
</p>

<pre caption="Chargement du module du noyau">
# <i>modprobe nvidia</i>
</pre>

<p>
Vous voudrez sûrement que cela se fasse automatiquement à chaque démarrage du
système, donc éditez <path>/etc/modules.autoload.d/kernel-2.6</path> (ou
<path>kernel-2.4</path>) et ajoutez-y <c>nvidia</c>. N'oubliez pas de lancer
<c>modules-update</c> ensuite&nbsp;!
</p>

<pre caption="Lancer modules-update">
# <i>modules-update</i>
</pre>

</body>
</section>
<section>
<title>Configuration du serveur X</title>
<body>

<p>
Une fois que les pilotes sont installés, vous devez configurer votre serveur X
(Xorg ou XFree86) pour qu'il utilise le pilote <c>nvidia</c> au lieu du pilote
<c>nv</c> par défaut.
</p>

<p>
Ouvrez <path>/etc/X11/XF86Config</path> (ou <path>/etc/X11/xorg.conf</path>)
avec votre éditeur favori (<c>nano</c> ou <c>vim</c> par exemple) et allez à la
section <c>Device</c>. Dans cette section, modifiez la ligne
<c>Driver</c>&nbsp;:
</p>

<pre caption="Remplacement de nv par nvidia dans la configuration du serveur X">
Section "Device"
  Identifier "nVidia Inc. GeForce2"
  <i>Driver     "nvidia"</i>
  VideoRam   65536
EndSection
</pre>

<p>
Ensuite, allez à la section <c>Module</c> et assurez vous que le module
<c>glx</c> se charge tandis que le module <c>dri</c> ne se charge pas&nbsp;:
</p>

<pre caption="Mise à jour de la section Module">
Section "Module"
  <comment>(...)</comment>
  <i># Load  "dri"
  Load  "glx"</i>
  <comment>(...)</comment>
EndSection
</pre>

<p>
Lancez <c>opengl-update</c> afin que le serveur X utilise les bibliothèques GLX
de nVidia&nbsp;:
</p>

<pre caption="Lancement de opengl-update">
# <i>opengl-update nvidia</i>
</pre>

</body>
</section>
<section>
<title>Test de la carte</title>
<body>

<p>
Pour tester votre carte nVidia, démarrer X et lancez la commande <c>glxinfo |
grep direct</c>. Cela devrait vous répondre que le rendu direct est
activé&nbsp;:
</p>

<pre caption="Vérification de l'état du rendu direct">
$ <i>glxinfo | grep direct</i>
direct rendering: Yes
</pre>

<p>
Pour obtenir votre taux de FPS (trames par seconde), lancez <c>glxgears</c>.
</p>

</body>
</section>
</chapter>
</guide>
