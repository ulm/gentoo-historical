<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/gentoo-amd64-faq.xml,v 1.5 2006/02/01 12:08:24 neysx Exp $ -->

<guide link="/doc/fr/gentoo-amd64-faq.xml" lang="fr">
<title>Foire Aux Questions Gentoo Linux/AMD64</title>

<author title="Auteur">
  <mail link="lmedinas@gmail.com">Luis Medinas</mail>
</author>
<author title="Auteur">
  <mail link="gerrynjr@gentoo.org">Gerald J. Normandin Jr.</mail>
</author>
<author title="Auteur">
  <mail link="blubb@gentoo.org">Simon Stelling</mail>
</author>
<author title="Correcteur, traducteur">
  <mail link="neysx@gentoo.org">Xavier Neys</mail>
</author>

<abstract>
Cette FAQ spécifique à Gentoo/AMD64 est un ensemble de questions et réponses
collectées à partir de la liste de diffusion gentoo-dev et à partir d'IRC.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.7</version>
<date>2006-02-01</date>

<chapter>
<title>Questions</title>
<section>
<title>Introduction</title>
<body>

<p>
Ce document contient les questions les plus fréquentes à propos de
Gentoo/AMD64. Ces questions proviennent des forums, d'irc ou de listes de
diffusion. Si vous avez de questions ou des remarques, veuillez-vous adresser
aux auteurs de ce document.
</p>

</body>
</section>
<section>
<title>Installation</title>
<body>

<ul>
  <li>
    <uri link="#cflags">Quels CFLAGS dois-je utiliser pour AMD64/EM64T&nbsp;?</uri>
  </li>
  <li><uri link="#kernel">Quel noyau devrais-je choisir&nbsp;?</uri></li>
  <li>
    <uri link="#perfup">Les performances d'un système 64 bits sont-elles
    supérieures à celles d'un système 32 bits&nbsp;?</uri>
  </li>
  <li>
    <uri link="#emul32">Comment installer l'émulation 32 bits&nbsp;?</uri>
  </li>
  <li><uri link="#multilib">Qu'est multilib et comment puis-je l'installer&nbsp;?</uri></li>
  <li><uri link="#chroot32">Comment créer un environnement chroot 32bits&nbsp;?</uri></li>
  <li>
    <uri link="#upgradex86">Puis-je faire évoluer mon système x86 vers amd64
    avec emerge -e world&nbsp;?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Matériel</title>
<body>

<ul>
  <li>
    <uri link="#videobindrivers">Les pilotes binaires pour NVIDIA/ATI fonctionnent-ils&nbsp;?</uri>
  </li>
  <li>
    <uri link="#coolnquiet">Comment utiliser Cool'n'Quiet/Powernow&nbsp;?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Applications</title>
<body>

<ul>
  <li><uri link="#flash">Comment faire fonctionner Macromedia Flash&nbsp;?</uri></li>
  <li><uri link="#OOo">Puis-je utiliser OpenOffice.org&nbsp;?</uri></li>
  <li><uri link="#java">Comment faire fonctionner java dans mon navigateur&nbsp;?</uri></li>
  <li>
    <uri link="#masked">J'essaie d'installer le paquet foo, mais emerge indique&nbsp;: (masked
    by: ~amd64 keyword)</uri>
  </li>
  <li>
    <uri link="#keyword">J'essaie d'installer le paquet foo, mais emerge indique&nbsp;:
    (masked by: missing keyword)</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Comment puis-je aider le projet Gentoo/AMD64&nbsp;?</title>
<body>

<ul>
  <li><uri link="#bugs">Comment puis-je signaler un bug&nbsp;?</uri></li>
  <li><uri link="#project">Comment puis-je apporter mon aide&nbsp;?</uri></li>
</ul>

</body>
</section>
<section>
<title>Autres ressources</title>
<body>

<ul>
  <li>
    <uri link="#other">Où puis-je trouver de l'aide ou des informations à
    propose de Gentoo/AMD64&nbsp;?</uri>
  </li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Installation</title>
<section id="cflags">
<title>Quels CFLAGS dois-je utiliser pour AMD64/EM64T&nbsp;?</title>
<body>

<p>
Vous devriez utiliser des <c>CFLAGS</c> simples pour éviter des problèmes
ultérieurs.  Par exemple, <c>CFLAGS="-march=k8 -O2 -pipe"</c> fonctionne très
bien sur un Athlon64 ou Opteron, et <c>CFLAGS="-march=nocona -O2 -pipe"</c>
marche tout aussi bien pour les processeurs EM64T.  Pour un environnement
chroot 32 bits, utilisez <c>CFLAGS="-march=athlon-xp -O2 -pipe -msse2"</c> sur
des processeurs AMD64 ou <c>CFLAGS="-march=pentium4 -O2 -pipe"</c> pour des
EM64T <e>à l'intérieur</e> du chroot.
</p>

<note>
<c>-march=k8</c>, <c>-march=athlon64</c> et <c>-march=opteron</c> sont
équivalents.
</note>

<warn>
N'utilisez <e>jamais</e> <c>-fPIC</c>, <c>-m32</c> ou <c>-m64</c> dans vos
<c>CFLAGS</c>.  Ils sont ajoutés automatiquement quand ils sont requis. De
plus, <c>-Os</c> n'est pas supporté.
</warn>

</body>
</section>
<section id="kernel">
<title>Quel noyau devrais-je choisir&nbsp;?</title>
<body>

<p>
Vous pouvez utiliser presque tous les noyaux disponibles via Portage. Nous
recommandons <c>gentoo-sources</c> parce que c'est un noyau adapté à Gentoo. Il
contient de nombreux correctifs spécifiques à l'architecture AMD64 et est par
conséquent le seul noyau supporté officiellement. Vous pouvez aussi essayer
<c>vanilla-sources</c>. Si vous vous sentez plus courageux ou si vous avez
besoin d'un support matériel plus étendu, essayez le noyau expérimental
d'Andrew Morton, <c>mm-sources</c>.
</p>

<warn>
Méfiez-vous de certains fonctionnalités qui sont moins bien testées telles que
<c>PREEMPT</c>.
</warn>

</body>
</section>
<section id="perfup">
<title>
  Les performances d'un système 64 bits sont-elles supérieures à celles d'un
  système 32 bits&nbsp;?
</title>
<body>

<p>
Il est difficile de répondre à cette question. Dans certains cas, vous
remarquerez de meilleures performances, dans d'autres cas, non.  Pour une
utilisation normale, il n'y a pratiquement aucune différence. Un système 64
bits est généralement plus véloce pour les opérations en virgule flottante
très utilisées par les applications multimédias et de rendu 3D. Cet <uri
link="http://enterprise.linux.com/enterprise/05/06/09/1413209.shtml?tid=121">article</uri>
et cette <uri
link="http://forums.gentoo.org/viewtopic-t-349691.html">discussion</uri> dans
nos <uri link="http://forums.gentoo.org">forums</uri> devraient vous
intéresser.
</p>

</body>
</section>
<section id="emul32">
<title>Comment installer l'émulation 32 bits&nbsp;?</title>
<body>

<p>
Les quelques paquets qui contiennent les bibliothèques 32 bits sont
automatiquement installés par Portage quand vous installez un paquet qui en a
besoin. Vous pouvez les installer manuellement si vous le désirez&nbsp;:
</p>

<pre caption="Installer les bibliothèques 32 bits">
# <i>emerge emul-linux-x86-baselibs</i>
# <i>emerge emul-linux-x86-compat</i>
# <i>emerge emul-linux-x86-glibc</i>
</pre>

<p>
De plus, il est nécessaire d'avoir activé l'option <c>IA32_EMULATION</c> dans
votre noyau.
</p>

<pre caption="Activer l'option IA32_EMULATION du noyau">
# <i>cd /usr/src/linux</i>
# <i>make menuconfig</i>

Executable file formats / Emulations  ---&gt;
  [*] IA32 Emulation
</pre>

</body>
</section>
<section id="multilib">
<title>Qu'est multilib et comment puis-je l'installer&nbsp;?</title>
<body>

<p>
Tous les processeurs AMD64 sont capables d'exécuter du code aussi bien 32 bits
que 64 bits.  Cependant, pour utiliser une application 32 bits, il est
nécessaire de disposer de toutes les bibliothèques partagées dont elle a besoin
en version 32 bits, car il n'est pas possible de mélanger du code 32 bits et 64
bits au sein d'une même application.  Vous pouvez choisir un environnement
multilib ou pas en sélectionnant le profil correspondant.  Le profil par défaut
utilise multilib.
</p>

</body>
</section>
<section id="chroot32">
<title>Comment créer un environnement chroot 32 bits&nbsp;?</title>
<body>

<p>
Veuillez consulter le <uri
link="/proj/en/base/amd64/howtos/index.xml?part=1&amp;chap=3">32-bit chroot
guide</uri>.
</p>

</body>
</section>
<section id="upgradex86">
<title>Puis-je faire évoluer mon système x86 vers amd64 avec emerge -e world&nbsp;?</title>
<body>

<p>
Des différences importantes entre des installations <c>x86</c> et <c>amd64</c>
rendent ce type de mise à jour impossible. Une nouvelle installation est
requise. Veuillez utiliser le <uri
link="/doc/fr/handbook/handbook-amd64.xml">Manuel AMD64</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Matériel</title>
<section id="videobindrivers">
<title>Les pilotes binaires pour NVIDIA/ATI fonctionnent-ils&nbsp;?</title>
<body>

<p>
NVIDIA et ATI fournissent des pilotes qui fonctionnent sur AMD64. Vous pouvez
les installer avec la commande <c>emerge nvidia-kernel</c> ou <c>emerge
ati-drivers</c>.  Si vous avez d'autres questions à ce sujet, veuillez
consulter notre <uri link="/doc/fr/nvidia-guide.xml">Guide Nvidia</uri> ou
notre <uri link="/doc/fr/ati-faq.xml">FAQ ATI</uri>.
</p>

</body>
</section>
<section id="coolnquiet">
<title>Comment utiliser Cool'n'Quiet/Powernow&nbsp;?</title>
<body>

<p>
Il vous suffit de sélectionner les options suivantes quand vous compilez votre
noyau&nbsp;:
</p>

<pre caption="Options du noyau pour Cool'n'Quiet/Powernow">
Power management options ---&gt;
  [*] Power Management support
CPU Frequency scaling ---&gt;
  [*] CPU Frequency scaling
  [*] CPU frequency table helpers
  [*] AMD Opteron/Athlon64 PowerNow!
</pre>

<p>
Ensuite, installez le paquet cpudyn (<c>emerge cpudyn</c>) et modifiez le
fichier <path>/etc/conf.d/cpudyn</path> avec votre éditeur préféré&nbsp;:
</p>

<pre caption="Exemple de /etc/conf.d/cpudyn">
INTERVAL=1
CPU_UP=0.5
CPU_DOWN=0.9
THROTTLING_LOW=7
CPUFREQ_25="/sys/devices/system/cpu/cpu0/cpufreq /sysfs/devices/system/cpu/cpu0/cpufreq"
CPUFREQ_ACPI="/proc/acpi/processor/CPU0/throttling"
</pre>

<p>
Finalement, exécutez <c>rc-update add cpudyn default</c> pour lancer cpudyn
automatiquement au démarrage de votre PC.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Applications</title>
<section id="flash">
<title>Comment faire fonctionner Macromedia Flash&nbsp;?</title>
<body>

<p>
Pour utiliser Flash, vous avez besoin d'un navigateur 32 bits tel que
<c>mozilla-bin</c>, <c>mozilla-firefox-bin</c> ou <c>opera</c>, car Macromedia
ne fournit pas de version 64 bits.  Après avoir installé le navigateur (version
-bin) de votre choix, exécutez <c>emerge netscape-flash</c> pour installer le
lecteur Flash.
</p>

</body>
</section>
<section id="OOo">
<title>Puis-je utiliser OpenOffice.org&nbsp;?</title>
<body>

<p>
Les versions 1.x et 2.0.x d'OpenOffice.org ne compilent pas sur des systèmes 64
bits.  Installez la version 32 bits avec <c>emerge openoffice-bin</c>.
</p>

</body>
</section>
<section id="java">
<title>Comment faire fonctionner java dans mon navigateur&nbsp;?</title>
<body>

<p>
Blackdown fournit un JRE 64 bits. Installez-le avec <c>emerge
blackdown-jre</c>.  Ensuite, effectuez l'opération suivante&nbsp;:
</p>

<pre caption="Exemple de lien vers java pour votre navigateur">
# <i>ln -s /opt/blackdown-jre-*/plugin/amd64/mozilla/libjavaplugin_oji.so /usr/lib64/nsbrowser/plugins/libjavaplugin_oji.so</i>
</pre>

</body>
</section>
<section id="masked">
<title>J'essaie d'installer le paquet foo, mais emerge indique&nbsp;: (masked by: ~amd64 keyword)</title>
<body>

<p>
Ce message signifie que le paquet est encore en test. Veuillez lire la page man
de Portage (<c>man portage</c>) ou le chapitre <uri
link="/doc/fr/handbook/handbook-amd64.xml?part=3&amp;chap=3">Faire cohabiter
des branches différentes</uri> du <uri
link="/doc/en/handbook/handbook-amd64.xml">Manuel AMD64</uri>.
</p>

</body>
</section>
<section id="keyword">
<title>J'essaie d'installer le paquet foo, mais emerge indique&nbsp;: (masked by: missing keyword)</title>
<body>

<p>
Ce message signifie que le paquet n'a pas été testé sur AMD64. Cela ne signifie
pas forcément que le paquet ne fonctionne pas.  Vous pouvez l'installer en
indiquant à Portage d'accepter le mot-clé d'une autre architecture (x86 par
exemple) pour le paquet qui vous intéresse.
</p>

<pre caption="Ajouter un mot-clé pour un paquet">
# <i>echo "catégorie/paquet ~x86" >> /etc/portage/package.keywords</i>
# <i>emerge paquet</i>
</pre>

<p>
Si le paquet fonctionne, veuillez nous le signaler via notre <uri
link="http://bugs.gentoo.org">Bugzilla</uri>. Les responsables de
l'architecture AMD64 pourront ajouter le mot-clé amd64 au paquet et d'autres
utilisateur en profiteront.
</p>

<warn>
N'essayez d'utiliser une commande du style <c>ACCEPT_KEYWORDS="~x86" emerge
paquet</c>, car cela cassera vraisemblablement votre arbre Portage.
</warn>

</body>
</section>
</chapter>

<chapter>
<title>Comment puis-je aider le projet Gentoo/AMD64&nbsp;?</title>
<section id="bugs">
<title>Comment puis-je signaler un bug&nbsp;?</title>
<body>

<p>
Si vous trouvez un bogue ou si vous voulez nous envoyer un correctif, veuillez
remplir un <uri link="http://bugs.gentoo.org">rapport de bogue</uri>. Cela ne
vous prend qu'une minute et votre aide sera appréciée.  Veuillez consulter la
<uri link="/proj/en/base/amd64/howtos/index.xml?part=1&amp;chap=2">marche à
suivre</uri>.
</p>

</body>
</section>
<section id="project">
<title>Comment puis-je apporter mon aide&nbsp;?</title>
<body>

<p>
Vu le succès croissant de l'architecture AMD64, nous avons de plus en plus
besoin d'aide.  Il reste beaucoup à faire pour améliorer la qualité de Gentoo
pour AMD64. Un utilisateur normal peut nous aider de plusieurs façons&nbsp;:
</p>

<ul>
  <li>Remplir des rapports de bogue&nbsp;;</li>
  <li>Tester des paquets qui n'ont pas le mot-clé <c>~amd64</c>&nbsp;;</li>
  <li>
    Participer au <uri
    link="/proj/en/base/amd64/tests/index.xml?part=1&amp;chap=1">projet Arch
    Testers</uri>&nbsp;;
  </li>
  <li>
    Répondre aux questions d'autres utilisateurs sur les listes de diffusion,
    dans les forums et sur les canaux IRC&nbsp;;
  </li>
  <li>Envoyer des correctifs.</li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Autres ressources</title>
<section id="other">
<title>Où puis-je trouver de l'aide ou des informations à propose de Gentoo/AMD64&nbsp;?</title>
<body>

<p>
Si vos questions n'ont pas trouvé de réponses ici, vous pouvez essayer d'autres
documents tels que le <uri link="/doc/fr/handbook/handbook-amd64.xml">Manuel
AMD64</uri>, les <uri link="/proj/en/base/amd64/howtos/index.xml">Howtos pour
AMD64</uri> ou <uri link="/proj/en/base/amd64/index.xml">la page d'accueil du
projet AMD64</uri> (en anglais). Vous pouvez aussi nous trouver sur le canal
<c>#gentoo-amd64</c> sur <c>irc.freenode.net</c>, dans le <uri
link="http://forums.gentoo.org/viewforum-f-46.html">Forum Gentoo/AMD64</uri> ou
sur la liste de diffusion <mail>gentoo-amd64@lists.gentoo.org</mail>.
</p>

</body>
</section>
</chapter>

</guide>
