<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/gentoo-ppc-faq.xml,v 1.26 2006/07/19 21:49:07 neysx Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fr/gentoo-ppc-faq.xml" lang="fr">

<title>Foire Aux Questions (FAQ) Gentoo Linux/PowerPC</title>

<author title="Auteur">
  <mail link="rajiv@gentoo.org">Rajiv Manglani</mail>
</author>
<author title="Auteur">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Correcteur">
   <mail link="sejo@gentoo.org">Jochen Maes</mail>
</author>
<author title="Correcteur">
    <mail link="josejx@gentoo.org">Joseph Jezak</mail>
</author>
<author title="Traducteur">
  <mail link="frederic.baujard@dev.gaeia.org">Frédéric Baujard</mail>
</author>
<author title="Traducteur">
  <mail link="clement@varaldi.org">Clément Varaldi</mail>
</author>
<author title="Traducteur">
  <mail link="guillp.ml@gmail.com">Guillaume Pujol</mail>
</author>

<abstract>
La FAQ Gentoo/PPC est un ensemble de questions/réponses collectées depuis la
liste de distribution gentoo-ppc-dev et depuis IRC.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.29</version>
<date>2006-07-07</date>

<chapter>
<title>Questions</title>
<section>
<title>Introduction à la FAQ Gentoo/PPC</title>
<body>

<p>
Cette FAQ est un ensemble de questions/réponses collectées depuis la liste de
distribution gentoo-ppc-dev et depuis IRC. Si vous avez des questions (ou des
réponses&nbsp;!) à ajouter, veuillez contacter soit un auteur, soit un membre
de l'équipe de documentation.
</p>

</body>
</section>
<section>
<title>Installation</title>
<body>

<ul>
  <li>
    <uri link="#powerpc">
      Comment savoir quel type de système PowerPC j'utilise&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#osxverify">
      Comment puis-je vérifier avec Mac OS X que l'ISO téléchargé n'est pas
      corrompu&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#dualboot">
      Puis-je faire un dual-boot entre Gentoo Linux et Mac OS X&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#bwof">
      J'ai un nouveau Mac NewWorld, un G3 bleu ou blanc. Il devrait être
      compatible avec le LiveCD, mais en démarrant dessus, j'obtiens l'erreur
      «&nbsp;Unknown or corrupt filesystem&nbsp;».
    </uri>
  </li>
  <li>
    <uri link="#bootxarchive">
      J'ai un Mac «&nbsp;OldWorld&nbsp;» et j'ai besoin d'utiliser BootX.
      Cependant, je ne peux pas ouvrir l'archive de l'installeur de BootX. Que
      puis-je faire&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#beigehd">
      J'ai une machine G3 beige. Puis-je installer Gentoo Linux/PPC sur un
      second disque IDE&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#gblimit">
      J'utilise une révision A ou B d'iMac. J'ai remplacé le disque dur par un
      nouveau plus grand, mais je ne peux plus démarrer sur rien&nbsp;!
    </uri>
  </li>
  <li>
    <uri link="#fstabboot">
      Mon fichier /etc/fstab contient /dev/BOOT. Ai-je besoin de rajouter
      cette ligne pour ma partition bootstrap&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#fixit">
      Quand j'ai redémarré, yaboot n'a pas fonctionné, et maintenant je suis
      coincé&nbsp;! Que faire&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#xfs">
      Lors du démarrage, yaboot m'affiche seulement le message "read error"!
      Pourquoi ne puis-je pas démarrer&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#applebrokeit">
      J'ai installé une mise à jour d'OSX et maintenant mon ordinateur démarre
      sous OSX&nbsp;! Comment puis-je réparer ce problème&nbsp;?
     </uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Support matériel</title>
<body>

<ul>
  <li>
    <uri link="#laptoppkgs">
      J'utilise Gentoo sur un portage PowerPC. Quels paquets dois-je installer
      pour profiter des fonctionnalités spécifiques du portable&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#onebutton">
      Ma souris n'a qu'un bouton. Comment puis-je définir les boutons 2 et 3
      puisque Ctrl-Bouton ne marche pas&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#airport">
      Comment puis-je configurer ma carte Airport&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#airportextreme">
      Comment puis-je configurer ma carte Airport Extreme&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#modem">Le modem interne va-t-il fonctionner&nbsp;?</uri>
  </li>
  <li>
    <uri link="#sleep">
      Est-ce que le mode Sleep fonctionne sur mon iBook/PowerBook&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#sound">Comment puis-je faire fonctionner le son&nbsp;?</uri>
    <ul>
      <li>
        <uri link="#alsa">Configuration du son avec ALSA</uri>
      </li>
      <li>
        <uri link="#oss">Configuration du son avec OSS</uri>
      </li>
    </ul>
  </li>
  <li>
    <uri link="#wakeon">
      Comment puis-je faire en sorte que mon Mac se rallume après une coupure
      de courant&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#infrombadport">
      Il y a beaucoup de messages "IN from bad port" dans le dmesg, que puis-je
      faire&nbsp;?
    </uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Applications</title>
<body>

<ul>
  <li>
    <uri link="#masked">
      Je ne peux pas installer de paquet ou j'obtiens une erreur indiquant
      qu'il est masqué. Que puis-je faire&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#flash">
      Est-ce que Gentoo/PPC fournit un support pour Flash&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#java">
      Est-ce que Gentoo/PPC dispose d'un plugin java&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#xorg">
      Y a-t-il une façon simple de configurer X&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#drm">
      Que me faut-il pour activer le DRM&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#xorgerror">
      J'ai une erreur VBIOS ou "Invalid I/O allocation" dans mon xorg.log. Cela
      pose-t-il problème&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#glfreeze">
      Lors de l'utilisation de OpenGL DRI ou en visionnant des films, le système
      se bloque à l'improviste. Que puis-je y faire&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#keymap">
      J'ai récemment installé Xorg, mais quand je l'utilise, mon clavier
      international ne marche pas correctement. Les touches principales
      fonctionnent bien, mais je ne peux pas entrer de symboles spéciaux comme
      l'arobase. La sortie de la commande startx dit quelque chose comme
      «&nbsp;could not load keymap, falling back to default keymap&nbsp;». Que
      puis-je faire&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#audiocd">Comment puis-je écouter un CD audio&nbsp;?</uri>
  </li>
  <li>
    <uri link="#mol">
      Puis-je lancer Mac OS ou Mac OS X depuis Gentoo Linux&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#ext">
      Puis-je accéder à mes partitions ext2/ext3 depuis OSX&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#useflags">
      Quelles sont les options de USE pour Portage qui ne fonctionnent pas avec
      une machine PowerPC&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#distcc">
      Comment puis-je utiliser distcc avec une machine x86&nbsp;?
    </uri>
  </li>
  <li>
    <uri link="#gccsegfaults">
      Pourquoi est-ce que gcc n'arrête pas de faire des erreurs de segmentation
      lors de mes compilations&nbsp;?
    </uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Ressources</title>
<body>

<ul>
  <li>
    <uri link="#cd">Puis-je acheter un CD de Gentoo Linux/PPC&nbsp;?</uri>
  </li>
  <li>
    <uri link="#notanswered">
      Cette FAQ n'a pas repondu à ma question. Que puis-je faire
      maintenant&nbsp;?
    </uri>
  </li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Installation</title>
<section id="powerpc">
<title>
Comment savoir quel type de système PowerPC j'utilise&nbsp;?
</title>
<body>

<p>
Bienvenue sur Gentoo PPC&nbsp;! Le processeur PowerPC a été utilisé dans un
grand nombre de systèmes informatiques répandus. Voici quelques liens pour vous
aider à déterminer à quel type de matériel appartient la machine posée sur
votre bureau.
</p>

<ul>
  <li>
    <uri link="http://support.apple.com/specs/">
      Pages des produits Apple (en anglais)
    </uri>
  </li>
  <li>
    <uri link="http://lowendmac.com/profiles.htm">
      Historique détaillé des produits Apple
    </uri>
  </li>
  <li>
    <uri link="http://www.pegasosppc.com/products.php">
      Informations sur le modèle Genesi
    </uri>
  </li>
  <li>
    <uri link="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.pseries.doc/hardware_docs/selectbysystem.htm">
      Documentation IBM par modèle
    </uri>
  </li>
  <li>
    <uri link="http://kurobox.com/">KuroBox</uri>
  </li>
  <li>
    <uri link="http://penguinppc.org/">
      PenguinPPC - Informations sur Linux on PowerPC
    </uri>
  </li>
</ul>

</body>
</section>
<section id="osxverify">
<title>
Comment puis-je vérifier avec Mac OS X que l'ISO téléchargé n'est pas
corrompu&nbsp;?
</title>
<body>

<p>
D'abord, vérifiez que vous n'avez pas monté le serveur ftp avec <e>Finder</e>
puis copié le fichier par glisser/déposer. Cela peut corrompre l'ISO. Utilisez
plutôt <c>curl</c> (avec <c>curl -O http://chemin/vers/iso</c>).
</p>

<p>
Vous pouvez vérifier votre MD5 avec l'utilitaire <c>md5sum</c> proposé sous
OSX. Pour les versions de OSX sans md5sum, vous pouvez utiliser les
possibilités offertes par <c>openssl</c> pour construire une somme md5.
</p>

<pre caption="md5sum avec openssl">
<comment>(Cela peut prendre un moment en fonction de la taille de l'ISO et de votre CPU.)</comment>
$ <i>openssl md5 /chemin/vers/iso</i>
</pre>

<p>
Maintenant, comparez l'affichage avec le contenu du fichier correspondant avec
l'extension <path>.md5</path> sur le serveur. Si c'est le même, votre
téléchargement est correct. Vérifiez que vous ne l'avez pas déjà monté (par
ex.&nbsp;: avec Disk Copy)&nbsp;!
</p>

</body>
</section>
<section id="dualboot">
<title>Puis-je faire un dual-boot entre Gentoo Linux et Mac OS X&nbsp;?</title>
<body>

<p>
Oui, vous pouvez&nbsp;! En fait, <e>yabootconfig</e> détectera automatiquement
et installera <path>/etc/yaboot.conf</path> avec Linux, Mac OS X et même les
Mac OS classiques (voir le <uri
link="/doc/fr/handbook/handbook-ppc.xml?part=1&amp;chap=10#yaboot">Manuel
Gentoo</uri> pour les détails de yabootconfig). L'astuce est dans la façon de
partitionner votre disque dur. Avant l'installation de Gentoo, démarrez avec le
CD de Mac OS X. Utilisez le <c>Disk Utility</c> pour partitionner le disque de
votre machine en deux ou trois partitions. Vous pouvez aussi utiliser
<c>parted</c> depuis un CD-ROM d'installation récent pour pouvoir manipuler les
partitions HFS et HFS+. En outre, il est capable de réduire une partition, vous
pouvez donc ne pas avoir à effacer tout le disque. La première partition doit
être suffisamment grande pour contenir les différentes partitions Linux
(root+swap+/home etc.) Le format de cette partition importe peu. La seconde
partition sera pour Mac OS X. La troisième partition (optionnelle) sera pour le
Mac OS classique. Cela n'est recommandé que si vous souhaitez avoir Mac OS 9 en
plus des autres systèmes d'exploitation. En effet, OS9 doit être installé sur
une partition séparée par rapport à OSX pour pouvoir fonctionner.
</p>

<p>
Après avoir partitionné, installez Mac OS X et Mac OS 9 dans leurs partitions
respectives. Une fois l'installation terminée, démarrez en suivant les
indications du <uri link="/doc/fr/handbook/handbook-ppc.xml">Manuel
Gentoo</uri>. Au moment de partitionner, utilisez <c>mac-fdisk</c> pour
<e>supprimer</e> la grande partition que vous avez créée pour Gentoo. Dans cet
espace, créez une partition bootstrap, root, swap et toute autre partition que
vous souhaitez utiliser avec Gentoo.
</p>

<p>
Si vous avez un Mac «&nbsp;OldWorld&nbsp;» (pre-iMac), suivez une procédure
similaire à celle décrite ci-dessus. Cependant, utilisez le CD d'installation
de Mac OS 9 et l'utilitaire <c>Drive Setup</c>. Les machines
«&nbsp;OldWorld&nbsp;» n'ont pas besoin de partition bootstrap.
</p>

<note>
Si yabootconfig ne détecte pas vos partitions MacOS, vous pouvez toujours les
ajouter manuellement dans votre configuration de yaboot. Voyez l'exemple de
yaboot.conf dans le <uri
link="/doc/fr/handbook/handbook-ppc.xml?part=1&amp;chap=10#doc_chap_pre6">manuel</uri>
pour plus de détails.
</note>

</body>
</section>
<section id="bwof">
<title>
J'ai un nouveau Mac NewWorld, un G3 bleu ou blanc. Il devrait être compatible
avec le CD d'installation, mais en démarrant dessus j'obtiens l'erreur
«&nbsp;Unknown or corrupt filesystem&nbsp;».
</title>
<body>

<p>
Pour contourner ce problème, démarrez sur l'Open Firmware en maintenant
appuyées les touches Pomme + Option + O + F au démarrage. À l'invite de
commande, tapez&nbsp;:
</p>

<pre caption="Démarrage sur le CD pour les machines Mac NewWorld récentes">
<i>boot cd:,\\yaboot</i>
</pre>

<p>
Le CD-ROM devrait alors démarrer comme nous le souhaitons. Merci à John Plesmid
pour cette astuce.
</p>

</body>
</section>
<section id="bootxarchive">
<title>
J'ai un Mac «&nbsp;OldWorld&nbsp;» et j'ai besoin d'utiliser BootX. Cependant,
je ne peux pas ouvrir l'archive de l'installeur de BootX. Que puis-je
faire&nbsp;?
</title>
<body>

<p>
Vous avez besoin d'une nouvelle version de StuffIt Expander pour ouvrir cette
archive. Vous pouvez la <uri
link="http://www.stuffit.com/expander/download.html">télécharger</uri>
gratuitement.
</p>

</body>
</section>
<section id="beigehd">
<title>
J'ai une machine G3 beige. Puis-je installer Gentoo Linux/PPC sur un second
disque IDE&nbsp;?
</title>
<body>

<p>
Les premières machines G3 beiges (celles avec une carte mère «&nbsp;Rev
1&nbsp;» avec un chipset ATI RageII+) ne supportent pas les disques esclaves en
IDE. Pour utiliser un second disque dur avec cette machine, vous devrez le
brancher sur un connecteur SCSI interne ou externe ou installer une carte PCI
IDE. Les machines G3 plus récentes n'ont plus cette limitation. Consultez
<uri>http://www.xlr8yourmac.com/G3-ZONE/IDE/index.html</uri> pour plus
d'information.
</p>

</body>
</section>
<section id="gblimit">
<title>
J'utilise une révision A ou B d'iMac. J'ai remplacé le disque dur par un
nouveau plus grand, mais je ne peux plus démarrer sur rien&nbsp;!
</title>
<body>

<p>
Sur ces machines, il existe une limitation de la taille de la partition racine
qui est de 8Go. Assurez-vous que votre partition racine fait bien moins de 8Go
et tout devrait fonctionner comme vous le souhaitez. Cela s'applique aussi à OS
X et aux versions de OS 9.
</p>

</body>
</section>
<section id="fstabboot">
<title>
Mon fichier /etc/fstab contient /dev/BOOT. Ai-je besoin de rajouter cette ligne
pour ma partition bootstrap Apple&nbsp;?
</title>
<body>

<p>
Non. Si vous n'utilisez pas de partition de démarrage séparée
(<path>/boot</path>), alors vous n'avez pas besoin de cette ligne et pouvez
l'effacer de votre <path>/etc/fstab</path>. La partition bootstrap Apple
<e>n'est pas</e> <path>/boot</path> et il n'y a pas de relation entre les
deux. En général, les machines PowerPC Apple n'ont pas besoin d'une partition
<path>/boot</path> séparée et la partition bootstrap ne devrait jamais être
montée ni déclarée dans votre fstab.
</p>

</body>
</section>
<section id="fixit">
<title>
Quand j'ai redémarré, yaboot n'a pas fonctionné, et maintenant je suis
coincé&nbsp;! Que faire&nbsp;?
</title>
<body>

<p>
C'est probablement dû à une mauvaise configuration de yaboot.conf. La meilleure
façon de le corriger est de démarrer de nouveau sur le CD-ROM d'installation,
de monter vos partitions Gentoo et de chercher les erreurs dans le fichier
yaboot.conf. Vous devrez également lancer la commande <c>ybin -v -C
/mnt/gentoo/etc/yaboot.conf</c> pour mettre à jour votre chargeur de démarrage
une fois les corrections effectuées. Cela peut être réalisé sans avoir besoin
de revenir en environnement chroot dans vos partitions Gentoo.
</p>

<note>
Si vous avez <e>vraiment</e> envie de retourner à OSX, essayez de maintenir la
touche Option de votre clavier appuyée lors du démarrage. Cela devrait vous
donner accès à une interface graphique de sélection des disques sur lesquels
vous pouvez démarrer. Choisissez OSX et souvenez-vous que vous devrez corriger
le problème plus tard.
</note>

</body>
</section>
<section id="xfs">
<title>
Lors du démarrage, yaboot m'affiche seulement le message "read error"! Pourquoi
ne puis-je pas démarrer&nbsp;?
</title>
<body>

<p>
Vous utilisez probablement le système de fichiers XFS sur votre partition
racine. Bien que cela soit possible, yaboot a quelques problèmes pour accéder
aux fichiers fragmentés. Pour être certain que votre noyau va démarrer
correctement, au lieu de copier le fichier vmlinux sur /boot, utilisez la
commande <c>cat</c> comme indiqué ci-dessous&nbsp;:
</p>

<pre caption="Éviter les erreurs de lecture de yaboot sur XFS avec cat">
# <i>cat /usr/src/linux/vmlinux &gt; /boot/vmlinux</i>
</pre>

</body>
</section>
<section id="applebrokeit">
<title>
J'ai installé une mise à jour d'OSX et maintenant mon ordinateur démarre sous
OSX&nbsp;! Comment puis-je réparer ce problème&nbsp;?
</title>
<body>

<p>
Maintenez la touche option enfoncée au démarrage. Un sélecteur graphique de
disque de démarrage devrait apparaître. Attendez qu'un disque dur avec un
manchot s'affiche et cliquez sur l'icône. Cela devrait lancer votre système
Linux normalement. Une fois le démarrage terminé, relancer <c>ybin -v</c> pour
réparer le chargeur de démarrage.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Support matériel</title>
<section id="laptoppkgs">
<title>
J'utilise Gentoo sur un portage PowerPC. Quels paquets dois-je installer pour
profiter des fonctionnalités spécifiques du portable&nbsp;?
</title>
<body>

<p>
Il y a quatres paquets que vous devrez installer.
</p>

<ul>
  <li>
    <e>pbbuttonsd</e> est un utilitaire qui active les touches luminosité et
    volume sur la plupart des portables ppc ainsi que la plupart des
    fonctionnalités spécifiques aux portables Apple. La version actuelle sert
    également de gestionnaire d'économie d'énergie et remplace <e>pmud</e>.
  </li>
  <li>
    <e>gtkpbbuttons</e> est une interface GTK pour pbbuttonsd (retour visuel
    des appuis de touches dans X). <e>gtkpbbuttons</e> nécessite GTK et devrait
    être démarré une foix X lancé.
  </li>
  <li>
    <e>powerprefs</e> fournit une interface graphique de configuration pour
    pbbuttonsd, y compris l'édition de paramètres tels que l'économie
    d'énergie, les options du trackpad, ainsi que d'autres préférences.
  </li>
  <li>
    <e>powernowd</e> permet l'ajustement de la fréquence du CPU pour gagner en
    autonomie. D'autres paquets fournissent la même fonctionnalité, par exemple
    <e>cpudyn</e>, <e>cpufreqd</e> et <e>speedfreq</e>. Vous pouvez choisir
    n'importe lequel tant que vous activez l'option noyau d'ajustement de la
    fréquence du processeur en espace utilisateur.
  </li>
</ul>

<p>
Ces paquets peuvent être installés en lançant les commandes appropriés dans la
liste suivante&nbsp;:
</p>

<pre caption="Installation des paquets spécifiques aux ordinateurs portables">
# <i>emerge pbbuttonsd; rc-update add pbbuttonsd default</i>
# <i>emerge gtkpbbuttons</i>
# <i>emerge powerprefs</i>
# <i>emerge powernowd</i>
</pre>

<note>
Vous devriez éditez votre fichier <path>/etc/pbbuttonsd.conf</path> ou utiliser
<e>powerprefs</e> pour ajuster vos préférences. Le comportement des touches Fx
et de mise en veille peut être modifié. Pour utiliser le même comportement que
OSX, définissez KBDMode à fkeyslast. Vous pouvez désactiver le «&nbsp;clic sur
touchpad&nbsp;» en définissant TPMode à notap. De nombreuses autres options
sont disponibles&nbsp;; voyez <c>man pbbuttonsd.conf</c> pour plus d'infos.
</note>

<p>
Il est utile d'ajouter pbbuttonsd et powernowd à votre runlevel "boot", afin
qu'ils soient lancés au démarrage de l'ordinateur. Pour le faire&nbsp;:
</p>

<pre caption="Ajout de pbbuttonsd et cpudyn au runlevel 'boot'">
# <i>rc-update add pbbuttonsd boot</i>
# <i>rc-update add powernowd boot</i>
</pre>

</body>
</section>
<section id="onebutton">
<title>
Ma souris n'a qu'un bouton. Comment puis-je définir les boutons 2 et 3 puisque
Ctrl-Bouton ne marche pas&nbsp;?
</title>
<body>

<p>
Il n'est pas possible d'utiliser Ctrl-Bouton comme avec Mac OS X, mais vous
pouvez définir n'importe quelle touche ou combinaison de touches pour émuler
les boutons 2 et 3. Utilisez la commande <c>showkey</c> pour connaître les
codes des touches. Notez que cette commande ne fonctionne pas correctement
depuis un serveur X et doit donc être lancée depuis la console. Pour utiliser
cette fonctionnalité, activez les options suivantes dans votre noyau&nbsp;:
</p>

<pre caption="Pilotes pour périphériques Macintosh">
[*] Apple Desktop Bus (ADB) support
[*]    Use input layer for ADB devices
[*]      Support for mouse button 2+3 emulation
</pre>

<p>
Vous aurez aussi besoin d'associer les touches du clavier à celles de la souris
dans <path>/etc/sysctl.conf</path>. Voici un exemple en utilisant les touches
F11 et F12&nbsp;:
</p>

<pre caption="Émuler les boutons 2 et 3 avec F11 et F12">
<comment># Enable mouse button emulation</comment>
dev.mac_hid.mouse_button_emulation = 1
<comment># Set 2nd button to 87 - F11</comment>
dev.mac_hid.mouse_button2_keycode = 87
<comment># Set 3rd button to 88 - F12</comment>
dev.mac_hid.mouse_button3_keycode = 88
</pre>

<note>
D'autres codes utilisés fréquemment sont le 125 (la touche Pomme) et 96 (la
touche entrée du pavé numérique).
</note>

<p>
Pour activer les nouveaux paramètres&nbsp;:
</p>

<pre caption="Application des changements dans sysctl">
# <i>sysctl -p /etc/sysctl.conf</i>
</pre>

</body>
</section>

<section id="airport">
<title>Comment puis-je configurer ma carte Airport&nbsp;?</title>
<body>

<p>
La carte Airport est un périphérique 802.11b basé sur le chipset Lucent
Orinoco. Pour utiliser cette carte dans Linux, activez ces options dans le
noyau&nbsp;:
</p>

<pre caption="Réseau sans fil">
[*] Wirless LAN Drivers &amp; Wireless Extensions
&lt;*&gt; Hermes chipset 802.11b support (Orinoco/Prism2/Symbol)
&lt;*&gt;   Apple Airport support (build-in)
</pre>

<p>
Une fois le noyau configuré, il vous faudra également quelques outils en espace
utilisateur pour configurer les paramètres du réseau sans fil. Installez
<c>wireless-tools</c> pour obtenir iwconfig et d'autres utilitaires liés aux
réseaux sans fil.
</p>

<p>
Exemple d'utilisation de iwconfig, pour indiquer que votre ESSID est
"essid_maison"&nbsp;:
</p>

<pre caption="Paramétrer l'ESSID">
# <i>iwconfig eth1 essid essid_maison</i>
</pre>

<p>
Pour un guide plus générique sur la configuration du sans-fil dans Gentoo,
reportez-vous au <uri
link="/doc/fr/handbook/handbook-ppc.xml?part=4&amp;chap=4">Guide Gentoo sans
fil</uri>.
</p>

</body>
</section>
<section id="airportextreme">
<title>Comment puis-je configurer ma carte Airport Extreme&nbsp;?</title>
<body>

<p>
La carte Airport Extreme est une carte 802.11b/g embarquée dans les portables
Apple modernes. Elle est basée sur le chipset Broadcom 43xx qui est supporté
nativement par le projet <uri link="http://bcm43xx.berlios.de">pilote
bcm43xx</uri>. Ce pilote a été inclus dans le noyau Linux à partir de la
version 2.6.17_rc2. Pour l'activer, sélectionnez les options suivantes (vous
devez d'abord activer SoftMAC&nbsp;!)&nbsp;:
</p>

<pre caption="Ajout du support bcm43xx dans le noyau">
Networking --&gt;
     &lt;M&gt;   Generic IEEE 802.11 Networking Stack
     [*]     Enable full debugging output
     &lt;M&gt;     IEEE 802.11 WEP encryption (802.1x)
     &lt;M&gt;     IEEE 802.11i CCMP support
     &lt;M&gt;     IEEE 802.11i TKIP encryption
     &lt;M&gt;     Software MAC add-on to the IEEE 802.11 networking stack
     [*]       Enable full debugging output

Device Drivers --&gt; Network device support --&gt; Wireless LAN drivers (non-hamradio) &amp; Wireless Extensions
     &lt;M&gt;   Broadcom BCM43xx wireless support
     [*]     Broadcom BCM43xx debugging (RECOMMANDÉ)
</pre>

<p>
Après avoir compilé le noyau, vous devrez installer le paquet
<c>bcm43xx-fwcutter</c> qui contient le firmware indispensable au
fonctionnement du périphérique. Pour plus d'informations, consultez <uri
link="http://forums.gentoo.org/viewtopic-t-409194.html">ce post sur le
forum.</uri>
</p>

<p>
Pour un guide plus générique sur la configuration du sans fil dans Gentoo,
reportez-vous au <uri
link="/doc/fr/handbook/handbook-ppc.xml?part=4&amp;chap=4">Guide Gentoo sans
fil</uri>.
</p>

</body>
</section>
<section id="modem">
<title>Le modem interne va-t-il fonctionner&nbsp;?</title>
<body>

<p>
Sur les Macs les plus anciens, le modem interne est un périphérique série
standard. En plus du support ppp et i2c, activez ces options noyaux pour le
faire fonctionner&nbsp;:
</p>

<pre caption="Pilotes du modem série">
&lt;*&gt; PowerMac z85c30 ESCC support (CONFIG_SERIAL_PMACZILOG)
</pre>

<p>
Les Macs récents utilisent un périphérique USB dont le seul pilote disponible
vient de Linuxant. À moins que vous n'ayez acheté une clé à Linuxant, ce pilote
ne fonctionnera qu'à 14.4&nbsp;bauds et ne supportera pas le fax. Pour utiliser
ce pilote, installez <c>net-dialin/hcfusbmodem</c> qui donnera accès à
<path>/dev/ttySHCF0</path>. Ensuite, configurez ppp comme d'habitude. Plus
d'informations sur l'installation de ce modem sont disponibles sur
<uri>http://www.linuxant.com/drivers/hcf/install.html</uri>.
</p>

</body>
</section>
<section id="sleep">
<title>
Est-ce que le mode Sleep fonctionne sur mon iBook/PowerBook&nbsp;?
</title>
<body>

<p>
Le mode Sleep (mise en veille avec conservation de la RAM) fonctionne très bien
sur tous les iBooks G3 et les TiBooks. Un récent correctif du noyau propose le
support de sleep sur les iBooks G4 et les *Books utilisant des cartes vidéo
Radeon. Si vous disposez d'un portable de ce type, utilisez le noyau
vanilla-sources-2.6.12 ou gentoo-sources-2.6.11 pour en avoir le support.
</p>

<note>
Vous remarquerez que les PowerBook 12" ne sont toujours pas supportés, parce
qu'ils utilisent un chipset nVidia.
</note>

</body>
</section>
<section id="sound">
<title>Comment puis-je faire fonctionner le son&nbsp;?</title>
<body>

<p>
Il y a deux moyens de faire fonctionner le son sur les noyaux récents&nbsp;:
OSS ou ALSA. OSS est le plus ancien et est maintenant obsolète, mais fonctionne
encore bien sur les anciens Macs. ALSA est le plus récent est sera toujours
supporté dans l'avenir. Nous vous recommandons d'utiliser ALSA à moins que
vous ne rencontriez des problèmes.
</p>

<note>
Si vous activez le pilote OSS dans votre noyau, le pilote ALSA ne se chargera
pas.
</note>

<p>
En plus de configurer correctement le noyau, les utilisateurs qui pourront
utiliser le son doivent être ajoutés au groupe approprié avec la
commande suivante&nbsp;:
</p>

<pre caption="Ajout des utilisateurs au groupe audio">
# <i>gpasswd -a nom_utilisateur audio</i>
</pre>

<p>
Si le noyau est configuré correctement, mais qu'aucun son ne sort des
hauts-parleurs, assurez-vous que le volume général est monté et que le
périphérique audio n'est pas mis en sourdine (MUTE).
</p>

<note>
La carte son sur Macs est connectée par le bus i2c Keywest/PowerMac, pas par le
bus PCI. Vous ne verrez pas la carte son dans la liste des périphériques PCI ou
en utilisant alsaconf. Ceci est moins problématique que vous ne pouvez
l'imaginer, puisque tous les Macs utilisent ainsi le même pilote pour le son,
mais vous devrez vous assurer que vous avez le support i2c Keywest/PowerMac
dans votre noyau.
</note>

<impo>
Si vous activez le support ALSA, vous devrez également compiler le support i2c
Keywest/PowerMac. Dans le cas contraire, vous obtiendrez des kernel panics au
démarrage&nbsp;!
</impo>

</body>
</section>
<section id="alsa">
<title>Configuration du son avec ALSA</title>
<body>

<p>
Pour ALSA, nous allons activer à la fois les pilotes ALSA habituels et la
couche d'émulation OSS afin de toujours pouvoir utiliser les programmes ne
fonctionnant qu'avec OSS. Dans votre <c>make menuconfig</c> vous devez
sélectionner&nbsp;:
</p>

<pre caption="Options du noyau pour le son avec ALSA">
Device Drivers - Sound ---&gt;
&lt;*&gt; Sound card support
    Advanced Linux Sound Architecture ---&gt;
    &lt;*&gt;   PowerMac DMA sound support
      &lt;*&gt; Advanced Linux Sound Architecture
      &lt;*&gt; Sequencer support
      &lt;*&gt; Sequencer dummy client
      &lt;*&gt; OSS Mixer API
      &lt;*&gt; OSS PCM (digital audio) API
      [*] OSS Sequencer API
          ALSA PowerMac devices ---&gt;
           &lt;*&gt; PowerMac (AWACS, DACA, Burgundy, Tumbler, Keywest)
</pre>

<p>
Vous pouvez également configurer l'ensemble en module et vous assurer qu'ils
sont chargés au démarrage. Si vous possédez un Powerbook récent, vous devriez
plutôt vous intérresser à snd-aoa. Si vous utilisez snd-aoa, assurez-vous de
désactiver le pilote PowerMac (AWACS, DACA, Burgundy, Tumbler, Keywest)
mentionné ci-dessus, mais laissez les autres options dans la même
configuration. Une fois le noyau compilé, installez le paquet snd-aoa.
</p>

<note>
Assurez-vous que l'option <c>PowerMac DMA sound support</c> est désactivée,
sinon le module ALSA ne pourra pas se charger.
</note>

<p>
Pour plus d'informations sur ALSA, reportez-vous au <uri
link="/doc/fr/alsa-guide.xml">Guide Gentoo ALSA</uri>.
</p>

<note>
Si vous utilisez le paquet alsa-driver au lieu d'utiliser les modules fournis
dans le noyau, la variable ALSA_CARDS doit être égale à <c>powermac</c>
</note>

</body>
</section>
<section id="oss">
<title>Configuration du son avec OSS</title>
<body>

<note>
Encore une fois, ne l'utilisez que si vous n'utilisez pas ALSA.
</note>

<p>
Dans votre <c>make menuconfig</c> vous devrez sélectionner&nbsp;:
</p>

<pre caption="Options du noyau pour le son avec OSS">
Device Drivers - I2c support ---&gt;
  I2C Hardware Bus Support ---&gt;
    &lt;*&gt; Powermac I2C interface (Keywest on 2.6.15 and older)

Device Drivers - Sound ---&gt;
&lt;*&gt; Sound card support
  &lt;*&gt;   PowerMac DMA sound support
</pre>

<p>
Vous pouvez également configurer l'ensemble en module et vous assurer qu'ils
sont chargés au démarrage.
</p>

<p>
Si le module <c>dmasound_pmac</c> n'est pas chargé, vous devrez probablement
activer l'option <c>i2c-core</c> dans le noyau en dur ou comme module.
</p>

<note>
Si vous utilisez encore OSS pour le son, veuillez tester les pilotes ALSA à la
place et rapportez les éventuelles régressions sur le bugzilla ALSA.
Merci&nbsp;!
</note>

</body>
</section>
<section id="wakeon">
<title>
Comment puis-je faire en sorte que mon Mac se rallume après une coupure de
courant&nbsp;?
</title>
<body>

<p>
L'Unité de Gestion de l'Energie (PMU) dans la plupart des Macs possède la
fonctionnalité de rallumer le Mac après une coupure de courant. Cette
fonctionnalité est controllé par les options PMU accessibles dans
<path>/proc</path>. Pour activer ces fonctionnalités, mettez la valeur 1 dans
<c>server_mode</c>&nbsp;; pour le désactiver, mettez 0.
</p>

<pre caption="Activation du redémarrage après coupure de courant">
# <i>echo "server_mode=1" > /proc/pmu/options</i>
</pre>

<p>
Malheureusement, ce paramètre est réinitialisé à chaque redémarrage. Pour faire
en sorte de conserver ce paramètre, ajoutez la ligne mentionnée ci-dessus dans
<path>/etc/conf.d/local.start</path>.
</p>

</body>
</section>
<section id="infrombadport">
<title>
Il y a beaucoup de messages "IN from bad port" dans le dmesg, que puis-je
faire&nbsp;?
</title>
<body>

<p>
Ce comportement provient de pilotes écrits pour des périphériques dont votre
système n'est pas équipé. Ces messages sont généralement sans conséquences,
mais il est toujours bon de désactiver ces pilotes quand même. Les
correspondances numéro de port/option de configuration du noyau sont exposées
ci-dessous. Même si les numéros ne correspondent pas, vous devriez tout de même
essayer de désactiver ces options, la plupart des machines PPC ne les utilisant
pas de toute manière.
</p>

<pre caption="IN from bad port 61 - Désactivez le support du beeper">
Device Drivers - Input device support ---&gt;
[*] Miscellanous devices ---&gt;
      &lt; &gt; PC Speaker Support
</pre>

<pre caption="IN from bad port 64 - Désactivez le support clavier i8042">
Device Drivers - Input device support ---&gt;
Hardware I/O Ports ---&gt;
      &lt; &gt; Serial I/O support
        &lt; &gt; i8042 PC Keyboard controller
</pre>

<pre caption="IN from bad port 2E9,2F9,3E9,3F9 - Désactivez le support 8250/16550">
Device Drivers - Character devices ---&gt;
Serial drivers ---&gt;
      &lt; &gt; 8250/16550 and compatible serial support
</pre>

<p>
Si vous avez d'autres messages IN from bad port dont vous ne connaissez pas
l'origine, veuillez nous le faire savoir&nbsp;!
</p>

</body>
</section>
</chapter>

<chapter>
<title>Applications</title>
<section id="masked">
<title>
Je ne peux pas installer de paquet ou j'obtiens une erreur indiquant qu'il est
masqué. Que puis-je faire&nbsp;?
</title>
<body>

<p>
Deux raisons principales peuvent être à l'origine de ce problème. Soit il n'a
pas été testé sur une architecture PPC, soit il a été testé, mais n'a pas
encore été marqué comme stable.
</p>

<pre caption="Le paquet n'a pas encore été testé sur PPC">
!!! All ebuilds that could satisfy "bar" have been masked.
!!! One of the following masked packages is required to complete your request:
- app-foo/bar-1.0 (masked by: missing keyword)
</pre>

<p>
Si votre paquet n'a pas encore été testé sur PPC, vous devez tout d'abord
marquer l'ebuild du mot-clef ppc. Vous pouvez le faire en utilisant l'outil
ekeyword qui est dans le paquet gentoolkit-dev. Pour marquer l'ebuild et
recréer recalculer les digests correspondants&nbsp;:
</p>

<pre caption="Ajouter le mot-clef ppc à app-foo/bar">
# <i>ekeyword ppc /usr/portage/app-foo/bar/bar-1.0.ebuild</i>
# <i>ebuild /usr/portage/app-foo/bar/bar-1.0.ebuild digest</i>
</pre>

<p>
Une fois que l'ebuild aura été marqué, vous pourrez alors l'installer
normalement. Testez l'application et, si elle fonctionne, <b>s'il vous
plaît</b> faites un rapport de bogue pour indiquer aux développeurs qu'ils
peuvent ajouter le mot-clef.
</p>

<note>
Cette modification ne restera que jusqu'à la prochaine synchronisation de
Portage. Si vous voulez une modification plus permanente, vous devrez utiliser
l'<e>overlay</e> de Portage. Lisez la documentation de Portage pour plus
d'information sur la gestion d'un overlay.
</note>

<pre caption="Le paquet n'a pas été marqué stable sur PPC">
!!! All ebuilds that could satisfy "bar" have been masked.
!!! One of the following masked packages is required to complete your request:
- app-foo/bar-1.0 (masked by: ~ppc keyword)
</pre>

<p>
Si votre paquet a déjà le mot-clef ~ppc, vous avez deux options. Soit vous
suivez les instructions ci-dessus et remplacez ~ppc par ppc, soit vous utilisez
le répertoire <path>/etc/portage</path> pour démasquer le paquet en question.
La seconde option est la meilleure, car il ne sera pas nécessaire de la
réappliquer à chaque mise à jour de l'arbre Portage.
</p>

<pre caption="Utiliser /etc/portage pour démasquer app-foo/bar">
# <i>echo "=app-foo/bar-1.0 ~ppc" &gt; /etc/portage/package.keywords</i>
</pre>

<note>
Si le répertoire <path>/etc/portage</path> n'existe pas, vous devrez d'abord le
créer.
</note>

<p>
Maintenant, installez normalement le paquet. Une fois que vous êtes sûr que le
paquet est stable, <b>merci</b> de nous faire un rapport de bogue pour demander
aux développeurs d'ajouter le mot-clef.
</p>

</body>
</section>
<section id="flash">
<title>Est-ce que Gentoo/PPC fournit un support pour Flash&nbsp;?</title>
<body>

<p>
En fait, pas vraiment. Macromedia n'a jamais mis à disposition de binaire pour
Linux/ppc et les implémentations libres actuellement disponibles sont encore
incomplètes et boguées. Trois projets travaillent sur le problème&nbsp;:
</p>

<ul>
  <li>
    <uri link="http://www.gnu.org/software/gnash/">gnash</uri>
  </li>
  <li>
    <uri link="http://gplflash.sf.net">gplflash2</uri>
  </li>
  <li>
    <uri link="http://swfdec.sf.net">swfdec</uri>
  </li>
</ul>

<p>
Une astuce actuellement disponible est d'utiliser qemu (un émulateur x86) pour
lancer le lecteur autonome Flash Player 6 de Macromedia. Le procédé est décrit
dans les forums&nbsp;:
<uri>http://forums.gentoo.org/viewtopic.php?t=117774</uri>
</p>

</body>
</section>
<section id="java">
<title>Est-ce que Gentoo/PPC dispose d'un plugin java&nbsp;?</title>
<body>

<p>
Oui, un plugin Java est désormais disponible grâce au Java 1.5 d'IBM. Toutes
les applications Java ne fonctionnent cependant pas encore avec Java 1.5.
</p>

</body>
</section>
<section id="xorg">
<title>Y a-t-il une façon simple de configurer X&nbsp;?</title>
<body>

<p>
Vous pouvez faire <c>emerge Xorgautoconfig</c>, tout simplement. Une fois que
le paquet est installé, exécutez <c>Xorgautoconfig</c> pour générer la
configuration pour votre installation. Si vous voulez utiliser un paramétrage
clavier particulier vous pouvez utiliser l'option --keymap. Notez que
<c>Xorgautoconfig</c> ne supporte pas le DRM pour la plupart des utilisateurs,
vous devrez donc probablement changer votre configuration noyau pour en avoir
le support. Assurez-vous d'avoir configuré le noyau comme indiqué plus bas pour
obtenir des performances optimales.
</p>

</body>
</section>
<section id="drm">
<title>
Que me faut-il pour activer le DRM&nbsp;?
</title>
<body>

<p>
Au moment d'installer xorg-server, assurez-vous que le use flag dri est activé.
Vous devriez également configurer la variable VIDEO_CARDS dans le fichier
make.conf pour correspondre à votre carte vidéo&nbsp; VIDEO_CARDS="radeon" pour
le support radeon, VIDEO_CARDS="nv" pour le support nvidia, etc. Comme option
de secours, ajoutez fbdev à la liste de VIDEO_CARDS, ce pilote devant
théoriquement fonctionner systématiquement.
</p>

<p>
Vérifiez que la configuration de votre noyau contient les options
suivantes&nbsp;:
</p>

<pre caption="Configuration noyau pour le support DRM des cartes Rage128">
Device Drivers - Character devices ---&gt;
&lt;*&gt; /dev/agpgart (AGP Support)
[*] Apple UniNorth support
[*] Direct Rendering Manager (DRI support)
&lt; &gt; ATI Rage 128
Device Drivers - Graphics Support ---&gt;
 &lt;*&gt;   ATI Rage 128 display support
</pre>

<pre caption="Configuration noyau pour le support DRM des cartes Radeon">
Device Drivers - Character devices ---&gt;
&lt;*&gt; /dev/agpgart (AGP Support)
[*] Apple UniNorth support
[*] Direct Rendering Manager (DRI support)
&lt; &gt; ATI Radeon
Device Drivers - Graphics Support ---&gt;
 &lt;*&gt;   ATI Radeon display support
</pre>

<pre caption="Configuration noyau pour les cartes nVidia">
Device Drivers - Graphics Support ---&gt;
  &lt;*&gt; nVidia Framebuffer Support
</pre>

<note>
Le DRM n'est actuellement pas supporté sur les cartes nVidia puisque nVidia n'a
pas mis à disposition de drivers PPC et qu'aucun driver libre ne supporte
l'accéleration 3D.
</note>

<p>
Recompilez et installez le noyau si nécessaire. Après cela, vérifiez que vous
démarrez sur le «&nbsp;framebuffer&nbsp;» natif (comme radeonfb ou atyfb128 et
<e>non</e> depuis offb ou ofonly) et lancez <c>Xorgautoconfig</c>.
</p>

<impo>
Vous devrez éditer votre fichier <path>/etc/X11/xorg.conf</path> en fonction de
votre carte vidéo. Assurez-vous que le pilote choisi est soit ati, soit un
pilote spécifique à votre carte (r128 ou radeon). Vérifiez également que
l'extension DRI est chargée et non commentée.
</impo>

</body>
</section>
<section id="xorgerror">
<title>
J'ai une erreur VBIOS ou "Invalid I/O allocation" dans mon xorg.log. Celà
pose-t-il problème&nbsp;?
</title>
<body>

<p>
Non, il s'agit seulement de X.org qui détecte votre carte. Il essaie d'ouvrir
le BIOS video qui est uniquement x86, et échoue en laissant un de ces messages.
Cela n'a aucun effet, ne vous en inquiétez pas&nbsp;!
</p>

</body>
</section>
<section id="glfreeze">
<title>
Lors de l'utilisation de OpenGL DRI ou en visionnant des films, le système se
bloque à l'improviste. Que puis-je y faire&nbsp;?
</title>
<body>

<p>
Votre système ne gère pas proprement le support AGP. La solution la plus simple
consiste à ajouter la ligne suivante à la section «&nbsp;Device&nbsp;» de
<path>/etc/X11/xorg.conf</path>&nbsp;:
</p>

<pre caption="Forcer le mode PCI pour carte AGP">
Option       "ForcePCIMode"
</pre>

<p>
Il y a quelques problèmes connus avec l'extension composite incluse dans les
dernières versions de X.org. Il vous faudra les désactiver si vous rencontrez
des problèmes.
</p>

<p>
En dernier recours, si vous rencontrez toujours des problèmes, essayez de
désactiver le support dri dans votre xorg.conf et vérifiez si le problème
disparaît.
</p>

</body>
</section>
<section id="keymap">
<title>
J'ai récemment installé Xorg, mais quand je l'utilise, mon clavier
international ne marche pas correctement. Les touches principales fonctionnent
bien, mais je ne peux pas entrer de symboles spéciaux comme l'arobase. La
sortie de la commande startx dit quelque chose comme «&nbsp;could not load
keymap, falling back to default keymap&nbsp;». Que puis-je faire&nbsp;?
</title>
<body>

<p>
Vérifiez que les permissions sur <path>/var/tmp</path> sont mises à
<path>drwxrwxrwx</path>. Si ce n'est pas le cas, changez-les en tapant <c>chmod
a+rwx /var/tmp</c>. Cela permettra à Xorg de charger les keymaps correctement.
</p>

</body>
</section>
<section id="audiocd">
<title>Comment puis-je écouter un CD audio&nbsp;?</title>
<body>

<p>
Les machines «&nbsp;New World&nbsp;» n'ont pas de connexion audio entre le
lecteur de CD-ROM et le périphérique audio. Les informations audio doivent donc
être lues comme des données et puis envoyées vers la carte son. C'est possible
en utilisant <e>xmms</e> et le plugin <e>xmms-cdread</e> qui lit l'audio du CD
sur le câble ATA, le décode de façon logicielle et l'envoie vers la carte son
par le bus PCI comme des données numériques.
</p>

<pre caption="Installation de xmms avec le support de la lecture de CD">
# <i>emerge xmms xmms-cdread</i>
</pre>

<note>
Vérifier que vous utilisez le chemin correpondant au lecteur CD de votre
machine.
</note>

<p>
Pour écouter un CD, lancez <c>xmms</c> et entrez <c>/dev/cdrom</c> comme
fichier à écouter.
</p>

</body>
</section>

<section id="mol">
<title>Puis-je lancer Mac OS ou Mac OS X depuis Gentoo Linux&nbsp;?</title>
<body>

<p>
Oui, à condition d'utiliser Gentoo Linux/PPC sur du matériel PPC Apple. Vous
devez utiliser <uri link="http://www.maconlinux.org/">Mac-on-Linux</uri> qui
permet de lancer une instance de OS9, OSX ou Linux en tant que processus Linux.
Faites seulement <c>emerge mol</c>. Mac On Linux supporte Mac OS de 7.5.2 à
9.2.2 et toutes les versions de Mac OS X. Il peut être lancé en plein écran
dans une console avec framebuffer ou dans une fenêtre sur un serveur X.
</p>

<note>
A l'heure actuelle, il n'est pas possible d'utiliser MOL sur des processeurs
PowerPC 64 bits.
</note>

<note>
Pour exécuter MOL en plein écran, vous devrez compiler MOL avec le paramètre
USE fbcon et lancer l'application depuis une console en framebuffer.
</note>

<p>
Pour ce qui est du réseau et du son, vous devrez installer les pilotes dans le
répertoire <path>MOL-Install</path> sur votre bureau Mac OS X. Si des erreurs
avec le réseau surviennent, vérifiez que vous avez activé les options
suivantes dans le noyau&nbsp;:
</p>

<p>
Pour la mise en réseau d'OSX&nbsp;:
</p>

<ul>
  <li>Universal TUN/TAP device driver support (CONFIG_TUN)</li>
</ul>

<p>
Pour le serveur DHCP&nbsp;:
</p>

<ul>
  <li>Socket Filtering (CONFIG_FILTER)</li>
  <li>Packet Socket (CONFIG_PACKET)</li>
</ul>

<p>Pour le NAT&nbsp;:</p>

<ul>
  <li>Network packet filtering (CONFIG_NETFILTER)</li>
  <li>Connection tracking (CONFIG_IP_NF_CONNTRACK)</li>
  <li>IP tables support (CONFIG_IP_NF_IPTABLES)</li>
  <li>Packet filtering (CONFIG_IP_NF_FILTER)</li>
  <li>Full NAT (CONFIG_IP_NF_NAT)</li>
  <li>MASQUERADE target support (CONFIG_IP_NF_TARGET_MASQUERADE)</li>
</ul>

</body>
</section>
<section id="ext">
<title>Puis-je accéder à mes partitions ext2/ext3 depuis OSX&nbsp;?</title>
<body>

<p>
OSX supporte la lecture et l'écriture sur des partitions ext2/ext3 si vous
utilisez l'extension noyau proposée par le projet <uri
link="http://sourceforge.net/projects/ext2fsx">ext2fsx</uri>.
</p>

<note>
Si vous utilisez MOL, vous ne pourrez pas accéder à une partition déjà utilisée
par Linux.
</note>

</body>
</section>
<section id="useflags">
<title>
Quelles sont les options de USE pour Portage qui ne fonctionnent pas avec une
machine PowerPC&nbsp;?
</title>
<body>

<p>
Si vous utilisez un profil ancien (désuet, ne concerne que les versions
antérieures à 2005.0), alors consultez la liste dans
<path>/etc/make.profile/make.mask</path>.
</p>

<p>
Si vous utilisez les profils avec cascade (version 2005.0 et supérieures),
jetez un œil à la liste dans
<path>/usr/portage/profiles/default-linux/ppc/use.mask</path>.
</p>

</body>
</section>
<section id="distcc">
<title>Comment puis-je utiliser distcc avec une machine x86&nbsp;?</title>
<body>

<p>
Si vous disposez d'une seconde machine relativement rapide, vous pouvez
l'utiliser avec distcc pour compiler des binaires pour votre processeur ppc. Il
est préférable de compiler le plus de binaires possibles sur la machine la plus
rapide. Vous pouvez même ne pas compiler sur l'ordinateur le plus lent. Suivez
le lien suivant pour plus d'informations&nbsp;:
<uri>http://dev.gentoo.org/~vapier/CROSS-COMPILE-HOWTO</uri> et
</p>

</body>
</section>
<section id="gccsegfaults">
<title>
Pourquoi est-ce que gcc n'arrête pas de faire des erreurs de segmentation lors
de mes compilations&nbsp;?
</title>
<body>

<p>
Si gcc fait des erreurs de segmentation lors de la compilation des ebuilds,
cela ne provient probablement pas d'un bogue de gcc et n'est pas un problème de
matériel. La plupart du temps, ce problème est dû à l'activation du mode
préemptif dans le noyau. En effet, si cette option est utilisable sur
architectures x86, elle peut corrompre le cache sur PPC et c'est la raison pour
laquelle vous obtenez des avertissements fréquents lors des compilations. Pour
éviter cela, vous devrez simplement recompiler votre noyau en désactivant le
mode préemptif. Pour vérifier s'il est actif&nbsp;:
</p>

<pre caption="Vérifier si le mode préemptif est activé">
$ <i>grep PREEMPT /usr/src/linux/.config</i>
</pre>

<p>
Si vous obtenez&nbsp;: «&nbsp;# CONFIG_PREEMPT is not set&nbsp;», alors vous
devez faire un rapport de bogue pour l'erreur de segmentation.
</p>

<p>
Si vous obtenez&nbsp;: «&nbsp;CONFIG_PREEMPT=y&nbsp;», alors vous devez le
désactiver puis reconstruire votre noyau.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Ressources</title>
<section id="cd">
<title>Puis-je acheter un CD de Gentoo Linux/PPC&nbsp;?</title>
<body>

<p>
Oui&nbsp;! nous vendons Gentoo sur CD-ROM dans notre <uri
link="http://store.gentoo.org/">boutique Gentoo</uri>.
</p>

</body>
</section>
<section id="notanswered">
<title>
Cette FAQ n'a pas repondu à ma question. Que puis-je faire maintenant&nbsp;?
</title>
<body>

<p>
La première chose à faire est de naviguer parmi <uri link="/doc/fr/">la
documentation sur www.gentoo.org</uri>. Deux <uri
link="/main/en/lists.xml">listes de diffusion</uri> spécifiques au PPC existent
déjà, gentooppc-dev et gentooppc-user. <uri
link="http://forums.gentoo.org/viewforum.php?f=24">Gentoo sur PPC</uri> (sur
forums.gentoo.org) est un forum ouvert pour les discussions sur tous les types
de PowerPC. Il y a aussi une discussion en direct sur IRC. Rejoignez-nous sur
<c>#gentoo-ppc</c> de <c>irc.freenode.net</c>.
</p>

<p>
Des informations générales à propos de Linux sur PowerPC se trouvent sur <uri
link="http://penguinppc.org/">penguinppc.org</uri>. Des informations générales
sur Linux sont disponibles sur <uri
link="http://www.linuxdoc.org/">www.linuxdoc.org</uri>.
</p>

</body>
</section>
</chapter>
</guide>
