<?xml version='1.0' encoding="UTF-8"?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fr/gentoo-ppc-install.xml">
<title>Instruction d'installation de Gentoo Linux/PPC 1.4_rc6</title>
<author title="développeur Gentoo PPC"><mail link="pvdabeel@gentoo.org">Pieter Van den Abeele</mail></author>
<author title="Collaborateur, Mainteneur"><mail link="rajiv@gentoo.org">Rajiv Manglani</mail></author>
<author title="Collaborateur"><mail link="zhen@gentoo.org">John P. Davis</mail></author>
<author title="Architecte en chef"><mail link="drobbins@gentoo.org">Daniel Robbins</mail></author>
<author title="Traducteur"><mail link="nissen.lutin@libertysurf.fr">Frederic Baujard</mail></author>

<abstract>Ces instructions vous guident à travers le processus d'installation de Gentoo Linux/PPC 1.4. Le processus d'installation
de Gentoo Linux permet différentes approches selon la partie du système que vous désirez construire à partir de zéro.</abstract>

<version>1.6.2</version>
<date>12 May 2003 (traduction du 15 mai 2003)</date>

<chapter>
<title>Obtention du CD</title>
<section>
<body>

<p>Le CD de Gentoo/PPC 1.4 CD peut être trouvé dans le répertoire <path>releases</path> des différents miroirs de Gentoo. Des
versions expérimentales sont aussi disponible depuis le répertoire <path>expérimental</path>. Jetez un coup d'oeil sur la liste
des miroirs (<uri>http://www.gentoo.org/main/en/mirrors.xml</uri>) et sélectionnez le miroir qui se situe le plus près de chez
vous. Pour les impatients, cliquez sur de ces liens:</p>

<p>
<table>
<tr><th>Type</th><th>Liens</th></tr>
<tr><ti>Expérimentale</ti><ti><uri>http://www.ibiblio.org/gentoo/releases/ppc/</uri></ti></tr>
<tr><ti>Stable</ti><ti>http://www.ibiblio.org/gentoo/releases/ppc/</ti></tr>
</table>
</p>
<note>Au moment de la traduction, divers bugs sont apparus dans les différents stages de la rc6 empêchant l'installation, il est
donc conseillé d'utiliser les stages de la 1.4_rc5. Vous êtes invités à vérifier au moment de votre installation l'état des bugs.
</note>

<p>Il y a plusieurs choix de CD disponibles:</p>

</body>
</section>
<section>
<title>* allstages</title>
<body>
<p>Ce type de CD contient tous les stages ppc. Un stage est une archive unix qui contient un système linux minimaliste qui a besoin
d'être décompressé dans une partition vide du disque dur que vous voulez pour l'installation de Gentoo. Les stages ont des tailles
différentes: l'archive stage1 contient un système très minimaliste (seulement la structure des répertoires et un compilateur
généraliste, l'archive stage2 est un peu plus grande (le compilateur est optimisé, ce qui vous permet de gagner du temps durant
l'installation.) et l'archive stage3 contient un système linux basique (compilateur optimisé et à jour ainsi que les différents
outils de base). Vous avez besoin de choisir un de ces stages un peu plus loin dans ce document. Les stages sont disponibles
séparément depuis tous les miroirs Gentoo, mais le CD allstages contient déjà toutes les archives de stages.</p>
</body>
</section>

<section>
<title>* nostages</title>
<body>
<p>La seule différence avec le CD allstages est qu'il ne contient pas les archives des stages.</p>
</body>
</section>

<section>
<title>* developer</title>
<body>
<p>La seule différence avec le CD nostages est que le débuggage est activé ainsi que quelques caractéristiques expérimentales. Ce
CD contient les pages man, la documentation, les données i18n et un compilateur toutes options. Ce type de CD a été créé pour
que les développeurs puissent travailler sur les algorithmes de hfs (le système de fichier Apple), mais il est possible d'utiliser
l'utilitaire distcc pour créer un livecd, pour améliorer la vitesse d'installation de Gentoo sur les différentes machines de votre
réseau (comme x86, PPC et Sparc).</p>
</body>
</section>

<section>
<title>* smallestcd</title>
<body>
<p>Ce CD est seulement là pour des raisons historiques. Il a une taille de 15M seulement. (pas de support airport ou ppc)</p>
</body>
</section>

<section>
<body>
<p>
Tous les CDs de Gentoo Linux/PPC 1.4 démarre sur touts les Macs "New World". N'importe quel CD 1.4 peuvent être facilement lancés
sur des Macs "oldworld" en téléchargeant BootX et en le lançant (depuis une partition hfs) avec les bons arguments. (Sélectionnez
<path>/boot/initrd.img.gz</path> pour initrd, <path>/boot/vmlinux</path> pour le noyau, mettez initrd-size à 11000, mettez la
partition racine à <path>/dev/ram</path> et mettez init à <path>/linuxrc</path>). Plusieurs personnes ont installées Gentoo/PPC sur
leurs machines "oldworld" (maintenant quelques premières machines ANS peuvent faire fonctionner Gentoo/PPC
<uri>http://support.apple.com</uri>). Venez partager votre expérience avec les développeurs PPC en visitant le canal #gentoo-ppc
sur irc.freenode.net. Irssi et bitchX sont tous les deux disponible sur le cdrom d'installation.</p>

<p>
Pour installer à partir du CD, il faut un processeur PowerPC 603 au minimum basé sur un système PowerPC PCI ou plus récents. Moins
de 128M de Ram est possible mais le processus de construction peut être très long et peut se bloquer. Au moment de l'écriture de
ce document les machines Nubus ne sont pas officiellement supportées, mais il est à noter que les développeurs ont réussi à
installer Gentoo sur des machines Nubus (en utilisant la cross compilation et distcc).
</p>

<p>Maintenant, passons rapidement en revue le processus d'installation. Nous allons créer les partitions, créer notre système de
fichier, et extraire soit une archive de stage1, stage2 ou stage3. Si nous utilisons une archive de stage1 ou stage2, nous
franchirons les étapes appropriées pour amener notre système au stage3. Une fois notre système en stage3, nous pourrons le
configurer (paramétrage des fichiers de configuration, installation d'un gestionnaire de démarrage, etc...), le démarrez et avoir
un système Gentoo Linux complètement fonctionnel. En fonction du stage à partir duquel vous commencez l'installation, voici ce
qui est requis pour l'installation:</p>

<p>
<table>
<tr><th>stage</th><th>étapes requises pour l'installation</th></tr>
<tr><ti>1</ti><ti>création des partitions/du système de fichiers, emerge sync, bootstrap, emerge system, emerge ppc-sources,
configuration finale</ti></tr>
<tr><ti>2</ti><ti>création des partitions/du système de fichiers, emerge sync, emerge system, emerge linux sources,
configuration finale</ti></tr>
<tr><ti>3</ti><ti>création des partitions/du système de fichiers, emerge sync (facultatif), configuration finale</ti></tr>
</table>
</p>
</body>
</section>
</chapter>

<chapter>
<title>Démarrage</title>
<section>
<body>

<p>Une fois que vous avez choisi le CD que vous voulez utiliser, continuez et démarrez sur le CD en maintenant la touche 'C'
enfoncée durant le démarrage du Mac ou en lançant le chargeur de démarrage (BootX, quik) sur une machine "oldworld". Vous serez
accueillis par un petit texte et un prompt <c>boot:</c> au bas de l'écran. A ce prompt, appuyez sur Entrée, et un environnement
complet de Gentoo Linux environment se chargera à partir du CD.</p>

<p>Utilisez root comme nom d'utilisateur et laissez le mot de passe vide pour vous logguer sur le livecd (un système Gentoo/PPC
en "live"). Le login n'est pas nécessaire sur le CD smallestcd.</p>

<p>Si vous installez sur un système avec un clavier non-US, utilisez la commande loadkeys pour mettre votre keymap. Les Keymaps
peuvent être trouver dans <path>/usr/share/keymaps</path>. Le smallestcd utilise un menu (configuration du système) pour mettre
le keymaps durant le démarrage.</p>

<p>Un certain nombre de modules noyau sont disponible et automatiquement chargés si besoin. Les livecds (pas le smallestcd)
contiennent des parties multimédia (ALSA, mplayer, ...) et peuvent être utilisées pour jouer de la musique durant l'installation.
(Notez que jouer un gros morceau va probablement ralentir un peu l'installation.)</p>

<p>La plupart des programmes sont disponibles sur le livecd (comme les clients irc, navigateurs web, ssh, telnet, samba, talk ...)
et peuvent être utilisés simultanément durant l'installation en utilisant les consoles Linux. Vous devez avoir un prompt root sur
la console courante, mais vous pouvez aussi en avoir de nouvelles en tapant ctrl+alt+f2, ctrl+alt+f3 (sur les powerbooks/ibooks
c'est fn+ctrl+alt+f2), pour activer les autres consoles.</p>
</body>
</section>
</chapter>

<chapter>
<title>charger des modules du noyau</title>
<section>
<body>

<p>Nous sommes presque prêt à commencer l'installation de Gentoo Linux, et la plupart des drivers pour les périphériques standards
sont inclus dans le noyau du CD Gentoo PPC (Airport, ethernet 10/100/1000mbit), mais vous aurez peut être besoin d'autres drivers
que nous avons inclus autant que possible. Pour voir la liste de tous les modules inclus regardez dans
<path>/lib/modules/*/kernel/drivers/*</path>. Pour charger un module en particulier, tapez:</p>

<pre>
# <i>modprobe modulename</i>
	<comment>(remplacez modulename par le nom du module désiré)</comment>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Configuration et Installation du réseau</title>
<section>
<body>

<p>Le nouveau CD de démarrage vous permet de configurer le réseau, ainsi que d'utiliser les commandes <c>ssh</c>, <c>scp</c> ou
<c>wget</c> au besoin avant le processus d'installation. Même si vous n'avez pas besoin de tout ça, vous pouvez continuer et
installer le réseau maintenant. Une fois installé, Portage (le manager des packages Gentoo) sera capable d'utiliser votre réseau
configuré. Il y a plusieurs moyens de configurer le réseau. Peut-être le plus utilisé et aussi le plus simple est DHCP:</p>
</body>
</section>

<section>
<title>DHCP</title>
<body>
<p>
La configuration du réseau est simple avec DHCP. Si votre Fournisseur d'Accès Internet (FAI) n'utilise pas DHCP, passez directement
à la section configuration statique plus bas.
</p>
<pre caption="Configuration du réseau avec DHCP">
# <i>dhcpcd eth0</i>
</pre>
<note>
Pour certains FAI, il est requis de fournir un hostname. Pour cela, ajoutez le paramètre <c>-h monhostname</c> à la ligne de
commande dhcpcd plus haut.
</note>
<p>Si vous recevez des alertes <i>dhcpConfig</i>, ne paniquez pas; ces erreurs sont surement là pour faire jolies. Passez au test
du réseau.</p>
<p>Notez que eth0 est par défaut le périphérique de réseau interne sur la plupart des livecds ppc. Si vous voulez installer Gentoo
en utilisant Airport faîtes:</p>

<pre caption="Configuration réseau (Airport) avec DHCP">
# <i>dhcpcd eth1</i>
</pre>
<p>Si votre station de base Airport est configurée pour des connections cryptées en utilisant WEP, utilisez la commande iwconfig
pour mettre les bons paramètres.</p>
</body>
</section>
<section>
<title>Configuration Statique</title>
<body>
<p>
Nous avons besoin de configurer le réseau pour pouvoir télécharger les sources et ainsi construire le système, et aussi l'interface
localhost. Tapez les commandes suivantes, en remplaçant $IFACE par votre interface réseau (normalement <c>eth0</c>), $IPNUM par
votre adresse IP, $BCAST par votre adresse de broadcast, et $NMASK par votre masque réseau. Pour la commande <c>route</c>,
remplacez $GTWAY par votre passerelle par défaut.
</p>
<pre>
# <i>/sbin/ifconfig $IFACE $IPNUM broadcast $BCAST netmask $NMASK</i>
# <i>/sbin/route add -net default gw $GTWAY netmask 0.0.0.0 metric 1</i>
</pre>
<p>Maintenant, il est temps de créer le fichier <path>/etc/resolv.conf</path> afin que la résolution de noms (trouver un site
Web/FTP par son nom plutôt que par son adresse IP) puisse fonctionner.</p>

<note>
Pour des raisons historiques, Gentoo utilise un petit éditeur de texte nommé <c>nano</c> (un clone de <c>pico</c>) durant
l'installation. Tous les CDs Gentoo/PPC ont inclus aussi les célèbres vim et emacs. D'autres éditeurs peuvent être ajoutés en
faisant une simple requête au mainteneur du livecd (<mail link="pvdabeel@gentoo.org">Pieter Van den abeele</mail>)
</note>

<p>Voici un exemple à suivre pour créer votre fichier <path>/etc/resolv.conf</path>:
</p>
<pre caption="/etc/resolv.conf exemple">
domain mondomain.com
nameserver 10.0.0.1
nameserver 10.0.0.2
</pre>
<p>Remplacez <c>10.0.0.1</c> et <c>10.0.0.2</c> par les adresses IP respectives de vos serveurs DNS primaire et secondaire.</p>
</body>
</section>
<section>
<title>Test du réseau</title>
<body>
<p>Maintenant que votre réseau est configuré, la commande <c>/sbin/ifconfig -a</c> devrez vous montrer (avec de la chance!) que
votre carte réseau est fonctionnelle (regardez dans l'affichage <e>UP</e> et <e>RUNNING</e>).
</p>
<pre caption="/sbin/ifconfig pour une carte réseau fonctionnelle">
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11
</pre>
<!--
<todo>
If you have a static ppp link, ...
If you have an ADSL pppoe link, ...
</todo>
-->
<note>
Utilisez <c>export http_proxy=http://monFAIproxy:port</c> ou <c>export http_proxy=monFAIproxy:port</c> si votre FAI vous demande
d'utiliser un proxy http.
</note>

<note>
Gentoo/PPC supporte aussi d'autres types de connections (ADSL, ppp,...). Regardez la doc sur l'installation Gentoo/x86 si vous avez
besoin d'installer une connection sur votre machine Gentoo/PPC.
</note>
</body>
</section>
<section>
<title>Le réseau fonctionne!</title>
<body>
<p>Le réseau doit être maintenant fonctionnel et utilisable. Vous devriez être capable d'utiliser les commandes <c>ssh</c>,
<c>scp</c>, <c>wget</c>, ... pour vous connecter à d'autres machines de votre réseau ou à Internet.</p>
</body>
</section>
</chapter>

<chapter>
<title>Installation des partitions</title>
<section>
<body>

<p>Maintenant que le noyau peut voir notre carte réseau et les contrôleurs de disques, il est temps de mettre en place les
partitions du disque pour Gentoo Linux.</p>

<p>Voici un rapide aperçu de l'organisation standard des partitions sous Gentoo Linux. Nous allons créerau moins trois partitions:
une partition de swap, une partition racine (qui contiendra la plus grande partie de Gentoo Linux), et une partition spécial de
bootstrap. La partition de bootstrap est prévue pour contenir les informations sur le chargeur de démarrage YABOOT. Pour les
utilisateurs de Mac "OldWorld", il n'est pas requis de créer cette partition de démarrage bootstrap puisque les machines seront
initialisées sous MacOS, et BootX servira à initialiser le noyau Linux et les différents scripts de démarrage.
</p>

<p>Maintenant, pour ce qui est des différents types de systèmes de fichiers. Pour l'instant, vous avez quatre options de systèmes
de fichiers: XFS, ext2, ext3 (journalisé) et ReiserFS. ext2 est le système de fichiers le plus testé et le vrai système de fichiers
de Linux mais il ne fait pas de journalisation de méta-données. ext3 est la nouvelle version de ext2 avec une journalisation des
méta-données et une écriture des données ordonnées ce qui permet également la journalisation des données de manières efficaces.
L'un ou l'autre est recommandé pour l'utilisation de GentooPPC. ReiserFS et XFS sont tous les deux des systèmes de fichiers très
performants, mais ils sont encore au stade expérimentales sous PPC et ne sont pas recommandés. Vous pouvez expérimenter ces
systèmes de fichiers si votre machine n'est pas d'une utilisation critique.
</p>

<note>A ce point, créez vos partitions en utilisant mac-fdisk, <c>mac-fdisk /dev/hdx</c> (où x est la lettre de votre disque, a, b,
c - <path>/dev/sdx</path> pour les disques scsi). Vous avez besoin de créer au minimum une partition de bootstrap (l'option
<c>b</c> dans mac-fdisk pour les utilisateurs de Mac "NewWorld" seulement), une partition de swap (généralement une fois et demi
votre ram est bon, cependant je vous recommande au moins 512MB de partition swap si vous prévoyez de compiler de grands packages),
 et une partition racine. Utilisez <c>?</c> au prompt de mac-fdisk pour obtenir la liste des options.
</note>

<p>Une fois que vous avez créé vos partitions en utilisant <c>mac-fdisk</c>, il est temps d'initialiser le(s) système(s) de
fichiers qui seront utilisés pour stocker nos données. Initialisez la partition swap comme suivant:</p>
<pre>
# <i>mkswap /dev/hda3</i>
</pre>
<p>Vous pouvez utiliser la commande <c>mke2fs</c> pour créer le système de fichiers ext2:</p>
<pre>
# <i>mke2fs /dev/hda4</i>
</pre>
<p>Si vous préférez utiliser ext3, vous pouvez créer le système de fichiers ext3 en utilisant <c>mke2fs -j</c>:</p>
<pre>
# <i>mke2fs -j /dev/hda4</i>
</pre>

<note>Vous pouvez trouver d'autres détails sur ext3 sous Linux 2.4 à
<uri>http://www.zip.com.au/~akpm/linux/ext3/ext3-usage.html</uri>.</note>
</body>
</section>
</chapter>

<chapter>
<title>Monter les partitions</title>
<section>
<body>
<p>
Maintenant, nous allons activer notre nouvelle partition de swap, car nous aurons peut-être besoin de cette mémoire virtuelle
supplémentaire:
</p>
<pre>
# <i>swapon /dev/hda3</i>
</pre>
<p>Ensuite, nous allons créer le point de montage <path>/mnt/gentoo</path>, et nous allons monter notre systèmes de fichiers à ce
dernier.</p>
<pre>
# <i>mkdir /mnt/gentoo</i>
# <i>mount /dev/hda4 /mnt/gentoo</i>
</pre>
<p>Si vous êtes en train d'installer Gentoo Linux avec une partition pour <path>/usr</path> ou <path>/var</path>, il faudra monter
ces partitions respectivement à <path>/mnt/gentoo/usr</path> et <path>/mnt/gentoo/var</path>.</p>
</body>
</section>
</chapter>

<chapter>
<title>Monter le CD-ROM</title>
<section>
<body>
<p>
Sur les livecds, le cdrom est automatiquement détecté et monté dans /mnt/cdrom.
</p>
<p>
Si vous êtes en train de démarrer le smallestcd (notez que ce CD n'est pas activement maintenu et est la pour des raisons
historiques (pas de support pour wireless, ppp...)) le cdrom n'est pas monté sous l'environnement minimaliste du smallestcd Linux.
Nous avons besoin de le monter pour que nous puissons avoir accès à l'image de l'archive compressée que contient le CD-ROM. Pour
monter le CD-ROM, il faut taper habituellement:
</p>

<pre>
# <i>mount /dev/cdroms/cdrom0 /mnt/cdrom -o ro -t iso9660</i>
</pre>
<p>Avec le CD-ROM de monté, vous devriez être capable de voir le(s) fichier(s) <c>stage???.tbz2</c> en tapant
<c>ls /mnt/cdrom/build</c>.</p>

<note>Si vous êtes incapable de monter votre cdrom, il est toujours possible de récupérer les stage1/2/3 depuis le site ibiblio
en utilisant <c>wget http://www.ibiblio.org/pub/Linux/distributions/gentoo/releases/build/1.2/stage1-ppc-1.2.tbz2</c></note>
</body>
</section>
</chapter>

<chapter>
    <title>Décompresser le stage que vous voulez utiliser</title>
<section>
<body>
<p>
Avec le CD-ROM allstages de monté, vous devez être capable de voir les archives stage???.tbz2 dans le répertoire
/mnt/cdrom/ppc-stages, ou /mnt/cdrom/g3-stages ou encore /mnt/cdrom/g4-stages.
</p>
<p>
Si votre livecd ne contient pas les stages ou que vous voulez utiliser la dernière version, pointez lynx ou wget sur votre miroir
Gentoo et téléchargez l'une des dernières versions officielles des stages ppc depuis le répertoire <c>releases/1.4_*</c> ou la
dernière version expérimentale des stages ppc depuis le répertoire <c>experimental/1.4_*</c>. Pour des raisons historiques, les
stages 1.2 sont toujours disponibles dans le répertoire releases/build, mais ils sont dépassés et certains ne sont plus activement
maintenus.
</p>

<impo>Ne pas oublier d'utiliser l'option <c>p</c> avec <c>tar</c>. Le fait de l'oublier risque de provoquer d'incorrectes
permissions sur certains fichiers.</impo>


<impo>Si vous voulez construire entièrement le système depuis rien, optimiser pour votre processeur, vous devez utiliser une image
du stage1, cependant vous avez aussi le choix d'une image de stage2 ou de stage3. Ces images vous permettent de gagner du temps au
détriment des possibilités de configuration (nous avons choisi pour vous les optimisations du compilateur et les variables USE par
défaut.)</impo>

<pre>
# <i>cd /mnt/gentoo</i>
# <i>tar -xvjpf /mnt/cdrom/build/stage?-*.tbz2</i>
# <i>mount -o bind /proc /mnt/gentoo/proc</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
</pre>

<pre>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update</i>
&gt;&gt;&gt; Regenerating /etc/ld.so.cache...
# <i>source /etc/profile</i>
#
</pre>

<p>Après avoir exécuté ces commandes, vous serez "dans" votre nouveau environnement Gentoo Linux.</p>
<note>Ignorez les alertes que env-update marque à propos de l'absence de l'arbre de portage (répertoire des Packages Gentoo), ce
répertoire sera créé dans l'étape suivante.</note>

</body>
</section>
</chapter>

<chapter>
<title>Rsync</title>
<section>
<body>
<p>Maintenant, vous avez besoin de lancer <c>emerge sync</c> ce qui vous connectera à rsync.gentoo.org et téléchargera la dernière
version de notre arbre de ports Portage:</p>

<pre>
# <i>emerge sync</i>
</pre>
<p>L'arbre de Portage sera téléchargé; il a une taille d'environ 10Mb.</p>
<impo>L'adresse pour le serveur rsync est en général rsync://rsync.gentoo.org/gentoo-portage. Si vous avez des problèmes pour
accéder à Gentoo rsync, vérifiez que vous utilisez cette adresse en le mettant comme variable SYNC dans votre
<path>/etc/make.conf</path>.
</impo>
<note>La commande rsync peut être configuré pour utiliser un proxy HTTP si vous êtes derrière un firewall. Pour configurer cette
option mettez <i>RSYNC_PROXY="hostname:port"</i> dans <path>/etc/make.conf</path> ou mettez le comme variable d'environnement.
</note>

<note>
Regardez un peu les autres paramètres dans <path>/etc/make.conf</path> et configurez les suivant vos besoins. Il y a plusieurs
outils disponibles pour sélectionner le meilleur miroir (<c>emerge mirrorselect &amp;&amp; mirrorselect -a</c>) ou de mettre
l'option use (<c>emerge ufed &amp;&amp; ufed</c>). Vérifiez que votre paramètre CFLAGS correspond au processeur de la machine
sur laquelle cous installez Gentoo.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Progression depuis le stage1 vers le stage2</title>
<section>
<body>

<impo>Si vous installez à partir de l'archive stage2 ou stage3, nous avons déjà fait l'opération de bootstrap pour vous. Il n'y a
pas de raison pour vous de recommencer, à moins que vous décidez de faire un <c>emerge sync</c> pour être sur d'avoir la toute
dernière version  à la minute près du système Gentoo Linux. La plupart des gens utilisant une archive de stage2 ou de stage3 ne
veulent <i>pas</i> recommencer l'opération de bootstrap puisque cette dernière peut prendre jusqu'à une heure sur des machines très
rapides.</impo>

<p>Maintenant que vous avez une copie fonctionnelle de l'arbre de Portage, les personnes utilisant l'archive de stage1 pour
l'installation auront besoin d'effectuer un bootstrap de leur système Gentoo Linux comme suivant. D'abord éditez le fichier
<path>/etc/make.conf</path>. Dans ce fichier, vous devrez mettre vos options à <c>USE</c>, ce qui spécifie des fonctionnalitées
optionelles que vous voudriez avoir pour construire certains packages; généralement, les valeurs par défauts (une variable USE
<e>vide</e> ou non mise) sont bonnes. Vous devez aussi mettre les paramètres appropriés pour <c>CHOST</c>, <c>CFLAGS</c> et
<c>CXXFLAGS</c> pour l'ensemble du système que vous êtes en train de créer (des exemples commentés peuvent être trouvés plus bas
dans le fichier). Si nécessaire, vous pouvez aussi mettre les informations sur les proxy ici si vous êtes derrière un firewall.</p>

<pre>
# <i>nano -w /etc/make.conf</i> <comment>(Ajustez suivant vos besoins)</comment>
</pre>
<note>
Les personnes qui ont besoin de plus de détails substantiels sur le processus de construction devraient jeter un oeil sur le fichier
<path>/etc/make.globals</path>. Ce fichier comprend les paramètres par défaut de Gentoo et ne devraient jamais être modifiés. Si
les paramètres par défaut ne suffisent pas, alors les nouveaux paramètres devront être mis dans <path>/etc/make.conf</path>, comme
les variables de <path>make.conf</path> sont <comment>prioritaires</comment> par rapport aux variables de
<path>make.globals</path>. Si vous êtes intéressés dans la configurations des paramètres USE, lisez
<path>/etc/make.profile/make.defaults</path>.
Si vous voulez désactiver les paramètres de la variable USE, ajoutez l'option appropriée <c>USE="-foo"</c> dans
<path>/etc/make.conf</path> (pour désactiver le paramètre USE <c>foo</c>).
</note>
<p>Maintenant, il est temps de commencer le processus "bootstrap". C dernier devrait durer 1 à 4 heures suivant la puissance et la
rapidité de votre machine. Durant ce temps, l'image de l'archive décompressée sera préparée pour la compilation du reste du
système. Le compilateur GNU sera construit ainsi que la librairie GNU C. Ce la prend du temps de construire et d'installer le reste
du processus de bootstrap:</p>
<pre>
# <i>cd /usr/portage</i>
# <i>scripts/bootstrap.sh</i>
</pre>
<p>Le processus de "bootstrap" va maintenant commencer.</p>
<note>
Portage utilise par défaut <path>/var/tmp</path> durant le processus de construction des packages, le plus souvent utilisant
plusieurs centaines de mega-octets pour le stockage temporaire. Si vous voulez changer le chemin de stockages temporaires de
Portage, mettez un nouveau paramètre PORTAGE_TMPDIR <e>avant</e> de commencer le processus de bootstrap, comme suivant:
</note>
<pre>
# <i>export PORTAGE_TMPDIR="/otherdir/tmp"</i>
</pre>
<p>
Le <c>bootstrap.sh</c> va construire <c>binutils</c>, <c>gcc</c>, <c>gettext</c>, et <c>glibc</c>, reconstruire <c>binutils</c>,
<c>gcc</c>, et <c>gettext</c> après <c>glibc</c> est construite. Pas la peine de le dire, ce processus prend un moment. Prenez un
peu de repos. Une fois le processus terminé, votre système sera dans un état "stage2".
</p>
</body>
</section>
</chapter>

<chapter>
<title>Progression depuis le stage2 vers le stage3</title>
<section>
<body>

<note>
Si ce n'est pas déjà fait, éditez <path>/etc/make.conf</path> pour l'adapter à vos besoins.
</note>

<p>Une fois votre image construite par bootstrap et que vous êtes en stage2 (encore une fois, si vous utilisez une archive de stage3
alors ces étapes ne sont pas requises), il est temps de construire le reste de la base du système comme suivant:</p>

<pre>
# <i>export CONFIG_PROTECT=""</i>
# <i>emerge --pretend system</i>
	<comment>[liste des packages qui vont être installés]</comment>
# <i>emerge system</i>
</pre>

<note>La ligne <c>export CONFIG_PROTECT=""</c> assure que les nouveaux scripts installés dans <path>/etc</path> écraseront les
anciens scripts (stockés dans <path>sys-apps/baselayout</path>), contournant la gestion des nouveaux fichiers de configuration
de Portage. Tapez <c>emerge --help config</c> pour plus de détails.</note>

<p>Cela va prendre un moment avant que la construction complète du système de base soit finie. Votre récompense est l'optimisation
complète de votre système. L'inconvénient est que vous devrez trouver un moyen de vous occuper tout ce temps. L'auteur suggère
"Star Wars - Super Bombad Racing" pour PS2. Quand <c>emerge system</c> est terminé, vous aurez un système Gentoo Linux en
stage3.</p>

</body>
</section>
</chapter>

<chapter>
<title>Etapes Finales: la zone horaire</title>
<section>
<body>

<note>
Si ce n'est pas déjà fait, éditez <path>/etc/make.conf</path> pour l'adapter à vos besoins.
</note>

<p>A ce niveau, vous devriez avoir un système en stage3 qui est prêt pour la fin de la configuration. nous allons démarrer ce
processus  en configurant la zone horaire. En la configurant avant de construire le noyau, nous nous assurons que les utilisateurs
auront une sortie <c>uname -a</c> cohérente.</p>
<p>Cherchez votre zone horaire (ou GMT si vous utilisez Greenwich Mean Time) dans <path>/usr/share/zoneinfo</path>. Puis, faîtes
un lien symbolique:
</p><pre>
# <i>ln -sf /usr/share/zoneinfo/path/to/timezonefile /etc/localtime</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Noyau, système de logueur, et cron</title>
<section>
<body>
<p>
Vous avez maintenant besoin de récupérer les sources du noyau ppc, cela peut se faire avec <c>emerge sys-kernel/ppc-sources</c>.
</p>
<p>Une fois que vous avez une arborescence des sources du noyau disponible, il est temps de compiler votre propre noyau optimisé:
</p>
<pre>
# <i>cd /usr/src/linux</i>
# <i>make menuconfig</i>
# <i>make dep &amp;&amp; make clean vmlinux modules modules_install</i>
# <i>cp vmlinux System.map /boot</i>
</pre>
<note>Vous devez <e>seulement</e> utiliser les noyaux Gentoo (<c>sys-kernel/ppc-sources</c>) pour des machines basées sur
PowerPC.</note>

<warn>Pour que votre noyau fonctionne proprement, il y a plusieurs options que vous devez être sûr d'avoir en direct dans le noyau
-- c'est à dire, les options doivent <i>être activées et non compilées comme des modules</i>. Vous aurez besoin d'activer l'option
<i>"Code maturity level options --> Prompt for development and/or incomplete code/drivers"</i> pour voir plusieurs de ces
sélections. Dans la section "File systems", activez <i>Device File System</i> (notez que vous n'avez <e>pas</e> besoin d'activer
l'option "/dev/pts file system support"). Vous aurez aussi besoin d'activer le <i>Virtual Memory File system</i>. Dans la section
<i>Macintosh Device Drivers</i> vérifiez que vous avez désactivé l'option par défaut de <i>Support for ADB raw keycodes</i>.
Vérifiez aussi d'avoir <e>désactivé</e> l'option <i>Enhanced RTC</i> (dans "Character devices") car ce n'est pas un ami de PPC.
Mais <e>activez</e> <i>Support for /dev/rtc</i> dans "General setup". C'est toujours une bonne idée de laisser le support pour ext2
que vous l'utilisez ou pas. Les utilisateurs avec des machines "OldWorld" devront activer le support HFS pour qu'il puisse copier
le noyau compilé sur leur partition MacOS.
</warn>
<impo>
Si vous avez un graveur CD IDE et/ou DVD, alors vous aurez besoin d'activer l'émulation SCSI dans le noyau. Activez la dans
"ATA/IDE/MFM/RLL support" ---> "IDE, ATA and ATAPI Block devices" ---> "SCSI emulation support" (je la compile généralement en
module), puis dans "SCSI support" activez "SCSI support", "SCSI CD-ROM support" et "SCSI generic support" (encore une fois, je les
compilent généralement en modules). Si vous avez choisi de les utiliser en modules, alors <c>echo -e "ide-scsi\nsg\nsr_mod" >>
/etc/modules.autoload</c> les ajoutera automatiquement au moment du démarrage. Vous devriez aussi ajouter cette ligne à votre
fichier <path>/etc/yaboot.conf</path> <c>append="hdc=ide-scsi"</c>.
</impo>
<impo>Si vous avez une machine "OldWorld" vous aurez besoin de monter votre partition HFS (MacOS), ensuite copiez votre noyau
dessus pour que BootX puisse le charger au démarrage. BootX trouvera automatiquement les noyaux dans le répertoire <path>Linux
Kernels</path> dans le répertoire Système.</impo>
<p>
Votre nouveau noyau personnalisé (et ses modules) sont maintenant installés. Maintenant vous avez besoin de choisir un système
de log que vous voulez installer. Il y a sysklogd, qui est le démon du système de log traditionnel. Il y a aussi metalog. Les
utilisateurs expérimentés semblent se détacher de sysklogd (pas de très bonnes performances) et se tournent vers metalog. En cas
de doute, vous pouvez essayer metalog, depuis il semble être plus populaire. Pour installer le logger de votre choix, tapez
<e>un</e> de deux groupes de lignes suivants:
</p>

<pre>
# <i>emerge app-admin/sysklogd</i>
# <i>rc-update add sysklogd default</i>
<comment>ou</comment>
# <i>emerge app-admin/metalog</i>
# <i>rc-update add metalog default</i>
</pre>

<warn>Si vous utilisez la version 1.2 de l'archive de stage3, vous n'avez pas besoin d'installer un système de log.
stage3-ppc-1.2.tbz2 inclus sysklogd (bien que l'ancienne et la nouvelle version ne le font pas). Si vous voulez utiliser metalog
à la place, vous devrez d'abord désinstaller sysklogd: Après l'installation du stage3 terminée, empêchez sysklogd de se lancer au
démarrage avec <c>rc-update del sysklogd default</c>. Puis <c>emerge unmerge sysklogd</c> pour le désinstaller. Vous aurez aussi
peut-être à effacer manuellement les fichiers de configuration de sysklogd dans <path>/etc</path> (regardez pour <c>cfgpro</c> dans
la liste des fichiers durant la désinstallation). Pour installer metalog, lancez <c>emerge metalog</c>, puis
<c>rc-update add metalog default</c>.
</warn>
<impo>
Metalog écrit sa sortie sur le disque par blocs, donc les messages ne sont pas immédiatement enregistrés dans les journaux
systèmes. Si vous essayez de debugguer un démon, ce comportement ne va pas vous faciliter la tâche. Quand votre système Gentoo
Linux est en cours de fonctionnement, vous pouvez envoyer à metalog un signal USR1 pour désactiver temporairement ce comportement
(ce qui veut dire que <i>tail -f <path>/var/log/everything/current</path></i> va alors fonctionner en temps réel, comme voulu),
et un signal USR2 pour revenir au comportement originel.
</impo>
<p>Maintenant, vous pouvez choisir optionellement un package cron que vous voulez utiliser. Pour l'instant, vous avez le choix
entre dcron, fcron et vcron. Si vous ne savez pas lequel choisir, vous pouvez installer vcron. Ils peuvent être installer comme
suivant:</p>
<pre>
# <i>emerge sys-apps/dcron</i>
# <i>crontab /etc/crontab</i>
<comment>ou</comment>
# <i>emerge sys-apps/fcron</i>
# <i>crontab /etc/crontab</i>
<comment>ou</comment>
# <i>emerge sys-apps/vcron</i>
</pre>
<p>Pour plus d'information sur le fonctionnement de cron sous Gentoo Linux, regardez <uri link="http://lists.gentoo.org/pipermail/gentoo-announce/2002-April/000151.html">cette annonce</uri>.</p>
</body>
</section>
</chapter>

<chapter>
<title>Installation de packages additionnels</title>
<section>
<body>
<p>
Si vous utilisez une machine portable et que vous voulez utiliser vos emplacements pcmcia dès le premier redémarrage, vous
devriez vous assurer d'avoir installer le package pcmcia-cs.
</p>
<pre>
# <i>emerge sys-apps/pcmcia-cs</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Etapes Finales: configuration du système</title>
<section>
<title>Etapes Finales: /etc/fstab</title>
<body>
<p>Votre système Gentoo Linux est presque prêt à l'utilisation. Tout ce dont nous avons besoin de faire, est de configurer des
fichiers systèmes important et d'installer le chargeur de démarrage YABOOT. Le premier fichier que nous avons besoin de
configurer est <path>/etc/fstab</path>. Souvenez vous de spécifier les types de système de fichiers appropriés <c>ext2</c> ou
<c>ext3</c>.</p>
<p>Utilisez quelquechose comme l'exemple <path>/etc/fstab</path> indiqué plus bas, mais bien sûr remplacez "ROOT" et "SWAP" par
leurs valeurs actuelles de vos périphériques que vous utilisez (comme par exemple <c>hda2</c>, etc...). Notez que les utilisateurs
de machines "NewWorld" <e>ne doivent pas</e> ajouter dans ce fichier leur partition bootstrap.</p>
<pre caption="/etc/fstab">
<comment>
# /etc/fstab: static file system information.
#
# noatime turns of atimes for increased performance (atimes normally aren't
# needed; notail increases performance of ReiserFS (at the expense of storage
# efficiency).  It's safe to drop the noatime options if you want and to
# switch between notail and tail freely.
# &lt;fs&gt;           &lt;mountpoint&gt;   &lt;type&gt;   &lt;opts&gt;          &lt;dump/pass&gt;
</comment>
/dev/ROOT           /           ext3	 noatime         0 1
/dev/SWAP           none        swap	 sw              0 0
/dev/cdroms/cdrom0  /mnt/cdrom  iso9660	 noauto,ro       0 0
proc                /proc       proc	 defaults        0 0
</pre>
</body>
</section>


<section>
<title>Etapes Finales: mettre le mot de passe root</title>
<body>
<p>Avant d'oublier, mettez le mot de passe root en tapant:</p>
<pre>
# <i>passwd</i>
</pre>
</body>
</section>
<section>
<title>Etapes Finales: /etc/hostname</title>
<body>
<p>Editez ce fichier pour qu'il contienne votre nom de machine avec son damaine en entier sur une seule ligne, comme <c>mamachine.mondomain.com</c>.
</p>
</body>
</section>

<section>
<title>Etapes Finales: /etc/hosts</title>
<body>
<p>Ce fichier contient une liste d'adresses IP avec leurs hostnames associés. C'est utilisé par le système pour résoudre des
adresses IP en hostnames qui ne peuvent l'être par votre serveurs de noms. Voici un exemple pour ce fichier:
</p><pre caption="/etc/hosts">
127.0.0.1      localhost
<comment># la ligne suivante contient votre adresse IP pour votre réseau local, et son nom de machine associé.</comment>
192.168.1.1    mamachine.mondomain.com	mamachine
</pre>
</body>
</section>

<section>
<title>Configuration Finale du réseau</title>
<body>
<p>
Ajoutez les noms de tous les modules qui peuvent être nécessaire au bon fonctionnement de votre système dans le fichier
<path>/etc/modules.autoload</path> (vous pouvez ajouter aussi les différentes options dont vous auriez besoin sur la même ligne).
Quand Gentoo Linux démarrera, ces modules seront chargés automatiquement. En particulier pour le module de votre carte réseau, si
vous l'avez compilé en tant que module:
</p>
<pre caption="/etc/modules.autoload">
sungem
</pre>
<p>Editez le script <path>/etc/conf.d/net</path> pour avoir un réseau configuré au premier démarrage:
</p>
<pre>
# <i>nano -w /etc/conf.d/net</i>
# <i>rc-update add net.eth0 default</i>
</pre>
<p>
Si vous avez plusieurs cartes réseaux, vous avez besoin de créer d'autres scripts pour chacune d'entre elles <path>net.eth<comment>x</comment></path> (<comment>x</comment> = 1, 2, ...):
</p>
<pre caption="Plusieurs interfaces réseaux">
# <i>cd /etc/init.d</i>
# <i>cp net.eth0 net.eth<comment>x</comment></i>
# <i>rc-update add net.eth<comment>x</comment> default</i>
</pre>
<p>
Si vous avez une carte PCMCIA d'installée, vérifiez dans <path>/etc/init.d/pcmcia</path> que les paramètres semblent tous bons pour
votre installation,puis ajoutez
<pre>
depend() {
	need pcmcia
}
</pre>
au début de votre fichier <path>/etc/init.d/net.eth<comment>x</comment></path>, pour que les drivers pcmcia soit chargés
automatiquement avant le chargement des drivers de votre réseau.
</p>
</body>
</section>


<section>
<title>Etapes Finales: configuration des paramètres de base (incluant les paramètres du clavier)</title>
<body>
<pre caption="configuration de base">
# <i>nano -w /etc/rc.conf</i>
</pre>
<p>
Suivez les instructions du fichier pour la configuration de base. Tous les utilisateurs devront vérifier que <c>CLOCK</c> est à
leur convenance. Les utilisateurs de claviers internationales devront définir la variable <c>KEYMAP</c> (parcourez
<path>/usr/share/keymaps</path> pour avoir la liste des possibilités).
</p>
</body>
</section>
</chapter>

<chapter>
<title>Configuration du chargeur de démarrage</title>
<section>
<body>
<p>La principal différence que vous remarquerez par rapport au Linux x86 est le chargeur de démarrage. Les machines "NewWorld"
utilisent YABOOT. Les machines "OldWorld" utilisent BootX.</p>
</body>
</section>

<section>
<title>YABOOT pour les machines "NewWorld" (installation automatique en utilisant yabootconfig)</title>
<body>
<p>vous pouvez utiliser le nouveau et amélioré <c>yabootconfig</c>, inclus dans yaboot-1.3.8-r1 et suivant, pour automatiser
l'installation de YABOOT. <c>yabootconfig</c> détectera automatiquement les partitions de votre machine et installera un chargeur
de démarrage avec une combinaison de Linux, Mac OS, et Mac OS X.</p>

<p>Pour utiliser <c>yabootconfig</c>, votre disque doit avoir une partition bootstrap, et <path>/etc/fstab</path> doit être
configuré avec vos partitions Linux. Ces deux points ont été effectués dans les étapes précédentes. Pour commencer, vérifiez que
vous avez la dernière version de YABOOT d'installé en lançant <c>emerge -u yaboot</c>. Il est nécessaire la dernière version de
YABOOT soit installé via Portage, mais il est possible qu'il ne soit pas dans las archives de stages.</p>

<p>A l'invite du prompt lancez <c>yabootconfig</c>. Le programme va se lancer et confirmera la localisation de la partition
bootstrap. Tapez <c>Y</c> si c'est correct. Sinon, revérifiez <path>/etc/fstab</path>. <c>yabootconfig</c> scannera ensuite votre
système en entier, créez <path>/etc/yaboot.conf</path> et lancez <c>mkofboot</c> pour vous. (mkofboot est utilisé pour formater
la partition bootstrap, et installé le fichier de configuration de YABOOT dans cette dernière.)</p>

<p>vous voulez peut-être vérifier le contenu de <path>/etc/yaboot.conf</path>. Si vous faîtes des changements dans
<path>/etc/yaboot.conf</path> (comme mettre un OS par défaut au démarrage), n'oubliez pas de relancer <c>ybin -v</c> pour appliquer
les changements à la partition bootstrap.</p>
</body>
</section>

<section>
<title>YABOOT pour les machines "NewWorld" (installation manuelle de yaboot.conf)</title>
<body>

<p>Si pour certaines raisons vous ne voulez pas lancer <c>yabootconfig</c> pour une installation automatique du fichier
<path>/etc/yaboot.conf</path>, vous pouvez juste éditez le fichier d'exemple déjà installé sur votre système. Voici un exemple de
fichier complet de yaboot.conf:</p>

<pre caption="/etc/yaboot.conf">
## /etc/yaboot.conf
##
## run: "man yaboot.conf" for details. Do not make changes until you have!!
## see also: /usr/share/doc/yaboot/examples for example configurations.
##
## For a dual-boot menu, add one or more of:
## bsd=/dev/hdaX, macos=/dev/hdaY, macosx=/dev/hdaZ

## our bootstrap partition:
boot=/dev/hda9

##hd: is open firmware speak for hda
device=hd:
partition=11

root=/dev/hda11
delay=5
defaultos=macosx
timeout=30
install=/usr/lib/yaboot/yaboot
magicboot=/usr/lib/yaboot/ofboot

#################
## This section can be duplicated if you have more than one kernel or set of
## boot options
#################
image=/boot/vmlinux
	label=Linux
	sysmap=/boot/System.map
	read-only
##################

macos=/dev/hda13
macosx=/dev/hda12
enablecdboot
enableofboot
</pre>

<p>Une fois <path>yaboot.conf</path> est paramétré selon vos besoins, vous lancez <c>mkofboot -v</c> pour installer les paramètres
dans la partition bootstrap. n'oubliez pas cela! Si tout va bien, et que vous avez les mêmes options que sur l'exemple précédent,
votre prochain redémarrage vous donnera un simple menu avec cinq choix. Si plutard vous mettez à jour votre configuration YABOOT,
vous n'aurez qu'à relancer <c>ybin -v</c> pour mettre à jour la partition bootstrap - mkofboot est seulement pour l'installation initiale.
</p>

<note>
Yaboot a plusieurs fonctionnalités pour les paramètres de configuration au démarrage, donc regardez
<uri>http://penguinppc.org/projects/yaboot</uri> pour plus d'informations.
</note>
</body>
</section>

<section>
<title>BootX pour les machines "OldWorld"</title>
<body>
<impo>Suivez ces étapes et vous redémarrerez votre machine pour l'étape suivante.</impo>
<p>Démarrez votre machine sous MacOS et ouvrez le panneau de contrôle de BootX. Sélectionnez <c>Options</c>, et désactivez
<c>Used specified RAM disk</c>. Quand vous retournerez sur l'écran principal de BootX, vous trouverez maintenant une option pour
spécifier le disque et la partition racine de votre machine. Remplissez les champs par les valeurs appropriées.</p>
<p>BootX peut être configuré pour démarrer Linux au démarrage. Si vous faîtes cela, vous verrez d'abord le démarrage de MacOS, puis
durant le démarrage, BootX chargera et lançera Linux. Regardez la <uri link="http://penguinppc.org/projects/bootx/">page principal
de BootX</uri> pour plus d'informations.</p>
</body>
</section>

</chapter>

<chapter>
<title>Installation terminée!</title>
<section>
<body>
<p>Maintenant, Gentoo Linux est installé. La dernière étape est de quitter l'environnement chroot, de démonter proprement vos
partitions et de redémarrer le système:</p>
<pre>
# <i>exit</i>  <codenote>Cela quitte l'environnement chrooté; vous pouvez aussi tapez <c>^D</c></codenote>
# <i>cd / </i>
# <i>umount /mnt/gentoo/proc</i>
# <i>umount /mnt/gentoo</i>
# <i>reboot</i>
</pre>
<note>
Après le redémarrage, c'est une bonne idée de lancer la commande <c>update-modules</c> pour créer le fichier
<path>/etc/modules.conf</path>. Plutôt que de modifier directement ce fichier, vous devriez effectuer vos modifications dans les
fichiers du répertoire <path>/etc/modules.d</path>.
</note>
</body>
</section>
</chapter>

<chapter>
<title>Extras</title>
<section>
<title>Emulation de plusieurs boutons de souris</title>
<body>
<p>Vous voulez peut-être ajouter ces lignes à <path>/etc/sysctl.conf</path> pour activer émulation de plusieurs boutons de souris
à chaque démarrage. La valeur des touches peut être obtenue par l'utilitaire en ligne de commande <c>showkey</c>. Voici un exemple
utilisant les touches F11 et F12.
<pre>
# Activation de l'émulation des boutons de la souris
dev.mac_hid.mouse_button_emulation = 1
# Correspondance du 2eme bouton avec 87 - F11
dev.mac_hid.mouse_button2_keycode = 87
# Correspondance du 3eme bouton avec 88 - F12
dev.mac_hid.mouse_button3_keycode = 88
</pre>
</p>
</body>
</section>

<section>
<title>Gentoo-Stats</title>
<body>
<p>L'usage du programme de statistique de Gentoo Linux a commencé comme une tentative pour donner aux développeurs un aperçu de
l'usage externe. Le programme collecte des informations sur l'usage de Gentoo Linux pour les aider à mettre des priorités dans leurs
développements. L'installation est complètement optionnelle, et ce serait très apprécié si vous décidiez de l'utiliser. Les
statistiques récupérées peuvent être vues à <uri>http://stats.gentoo.org/</uri>.</p>

<p>Le serveur gentoo-stats vous assignera un ID unique à votre système. Cet ID est utilisé pour être sûr que chaque système soit
compté une seul fois. L'ID ne sera pas utilisé pour une identification individuelle de votre système, aucunes adresses IP ou
informations personnelles ne sera récupéré. Toutes les précautions ont été prises pour assurer votre vie privée dans le
développement de ce système. Les informations collectées par notre programme "gentoo-stats", qui nous sont envoyées, sont:</p>
<ul>
<li>packages installés et leurs versions respectives</li>
<li>information sur le CPU: vitesse (MHz), nom du vendeur, modèle, paramètres du CPU (comme "altivec")</li>
<li>information sur la mémoire (total de la RAM physique disponible, total de l'espace swap disponible)</li>
<li>chipset des cartes PCI et des contrôleurs réseaux</li>
<li>le profil utilisé de la Gentoo Linux (c'est à dire, où pointe le lien de <path>/etc/make.profile</path>).</li>
</ul>

<p>Nous sommes conscient que la divulgation de ces informations sensibles est un danger pour la plupart des utilisateurs de Gentoo
Linux (c'est seulement pour les développeurs).</p>

<ul>
<li>A moins que vous modifiez le programme gentoo-stats, il ne transféra jamais d'informations sensibles tel que vos mots de
passes, vos données de configuration, vos films favoris...</li>
<li>La transmission de votre adresse e-mail est optionelle et est désactivée par défaut.</li>
<li>L'adresse IP utilisée lors des envois de données n'est jamais stckée dans le sens  dans le sens où nous pouvons vous
identifier. Il n'y a pas de paire "adresse IP/ID système".</li>
</ul>

<p>L'installation est facile - il suffit de lancer les commandes suivantes:</p>

<pre caption="Installation de gentoo-stats">
# <c>emerge gentoo-stats</c>   <codenote>Installation gentoo-stats</codenote>
# <c>gentoo-stats --new</c>    <codenote>Obtention d'un nouveau IDsystème</codenote>
</pre>

<p>La seconde commande au dessus va demander un nouveau ID système et va le mettre automatiquement dans le fichier
<path>/etc/gentoo-stats/gentoo-stats.conf</path>. Vous pouvez visualiser ce fichier pour voir des options additionnelles.</p>

<p>Après ça, le programme sera lancé à heure régulière (gentoo-stats n'a pas besoin d'être lancé en tant que root). Ajoutez cette
ligne à votre <path>crontab</path>:</p>

<pre caption="Mise à jour de gentoo-stats avec cron">
<c>0 0 * * 0,4 /usr/sbin/gentoo-stats --update > /dev/null</c>
</pre>

<p>Le programme <c>gentoo-stats</c> est un simple script perl qui peut être visualisé avec votre éditeur préféré:
<path>/usr/sbin/gentoo-stats</path>.</p>

</body>

</section>

<section>
<title>Que faire à partir de maintenant</title>
<body>

<p>
Certaines docs toutes architectures sont disponibles dans la section docs du site principal de Gentoo. La préparation de votre
système est conseillée (pas nécessaire) si vous voulez profiter de toutes les performances(le temps de démarrage de KDE peut être
amélioré d'au moins 50%). Alsa (advanced linux sound architecture) est très bien pour certaines machines ppc (particulièrement
jamais sur les powerbooks). Si vous voulez un système audio hautement configurable regardez dans la doc prévue à cet effet.
Les applications que vous avez réellement besoin d'installer sur une machine mac sont pmud (advanced power management) ou pbbuttons
(si vous êtes le propriétaire d'un powerbook). L'installation de Xfree sur des machines PPC est très facile; <c>emerge Xeasyconf
&amp;&amp; Xeasyconf</c> peut le faire.
</p>

<p>Si vous avez des questions ou que vous voulez participer au développement de Gentoo Linux, pensez à rejoindre nos deux mailing
lists gentooppc-user et gentooppc-dev (il y a un lien à cliquer sur <uri link="http://www.gentoo.org/">la page principale</uri>).
Nous avons aussi de la documentation sur <uri link="/doc/fr/desktop.xml">le guide de configuration du bureau</uri> qui vous aidera
à continuer de configurer votre nouveau système Gentoo Linux, et aussi <uri link="/doc/fr/portage-user.xml">le guide de
Portage</uri> pour vous aider à vous familiariser avec les bases de Portage. Bienvenue à Gentoo Linux!</p>

<p>La <uri link="/doc/fr/gentoo-ppc-faq.xml">FAQ Gentoo Linux/PowerPC</uri> couvre la plupart des questions usuelles à propos
de Gentoo Linux/PPC. La <uri link="/doc/en/faq.xml">FAQ Gentoo Linux</uri> peut aussi vous aider pour les débuts, bien qu'elle
soit plus tourner vers les installations x86. <uri link="http://forums.gentoo.org/viewforum.php?f=24">Gentoo sur PPC</uri> (sur
forums.gentoo.org) est un forum de discussion en anglais pour tous les types de PowerPC. Il y a aussi une discussion en direct de
possible sur IRC. Rejoignez nous <i>#gentoo-ppc</i> sur <i>irc.freenode.net</i>.</p>

<p>Merci et bonne continuation avec Gentoo!</p>

</body>
</section>

</chapter>

</guide>
