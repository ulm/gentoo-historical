<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/java.xml,v 1.8 2005/03/07 11:07:36 neysx Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fr/java.xml" lang="fr">
<title>Guide Java avec Gentoo</title>

<author title="Auteur, correcteur">
 <mail link="karltk@gentoo.org">Karl Trygve Kalleberg</mail>
</author>
<author title="Correcteur">
 <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Correcteur">
 <mail link="marcelogoes@gmail.com">Marcelo Góes</mail>
</author>
<author title="Traducteur">
 <mail link="marc@pangos.com">Marc Krauth</mail>
</author>
<author title="Traducteur, relecteur">
 <mail link="cam@cameuh.net">Camille Huot</mail>
</author>
<author title="Traducteur">
 <mail link="clement@varaldi.org">Clément Varaldi</mail>
</author>


<abstract>
Ce guide présente aux utilisateurs et développeurs la technologie Java et
explique comment utiliser Java sous Gentoo Linux.
</abstract>

<license/>

<version>0.1.6</version>
<date>2005-03-06</date>

<chapter>
<title>Qu'est-ce que Java</title>
<section>
<title>Vue d'ensemble</title>
<body>

<p>
Java est un langage de programmation qui a été développé par les ingénieurs de
Sun Microsystems. C'est un langage orienté objet conçu pour pouvoir
s'exécuter sur différentes plate-formes sans avoir besoin de recompiler le code
sur chacune des plate-formes. Même si Java peut être compilé comme un programme
natif, la grande popularité de Java vient probablement du fait qu'il permet de
produire des programmes portables. De plus, il dispose de nombreuses
fonctionnalités intéressantes comme le «&nbsp;garbage collection&nbsp;».
La possibilité de compiler une seule fois et de permettre l'exécution sur
différentes plate-formes est accomplie à l'aide de l'utilisation de compilateurs
JIT (just-in-time, ou à la volée), qui compile le code Java en code natif propre
à la plate-forme lors de l'exécution du programme en question.
</p>

<p>
Afin d'exécuter le code Java, il faut disposer d'un JRE (Java Runtime
Environment, ou environnement d'exécution Java). Le JRE met à disposition du
programme les bibliothèques principales, une machine virtuelle Java (ou JVM,
pour Java Virtual machine) dépendante de la plate-forme, des plugins pour les
navigateurs (mozilla par exemple), etc. Un JDK (Java Development Kit, ou kit de
développement pour Java) ajoute à cela des outils de programmation comme par
exemple un compilateur et un débogueur.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Installer un JRE/JDK</title>
<section>
<title>Les possibilités</title>
<body>

<p>
Gentoo propose de nombreux JRE et JDK. Les choix actuel sont les
suivants&nbsp;:
</p>

<ul>
<li>blackdown-jre et blackdown-jdk, le kit Java de Blackdown.</li>
<li>sun-jre-bin et sun-jdk, le kit Java de Sun.</li>
<li>ibm-jre-bin et ibm-jdk-bin, le kit Java de IBM.</li>
<li>compaq-jre et compaq-jdk, le kit Java de Compaq pour architectures
  Alpha/Linux/GNU.</li>
<li>jrockit-jdk-bin, le kit de développement J2SE de BEA WebLogic.</li>
</ul>

<p>
Par défaut, c'est la paire JRE/JDK de Blackdown qui sera installée, dans la
mesure où elle est librement disponible, sans avoir besoin d'enregistrement
auprès du fournisseur.
</p>

<p>
En général, les JRE/JDK de Sun et d'IBM sont plus rapides, mais ils sont plus
compliqués à installer puisque, pour chacun d'entre eux, on vous demandera de
lire et d'accepter leur licence avant de les télécharger. (IBM vous demandera
par ailleurs de remplir un formulaire d'enregistrement.)
</p>

<p>
Nos ebuilds pour les JRE/JDK de Sun et d'IBM vous indiqueront exactement où
aller pour les télécharger.
</p>

</body>
</section>

<section>
<title>Installer les JRE/JDK de Sun ou d'IBM</title>
<body>

<p>
Si vous faites <c>emerge =sun-jdk-1.4.2.06</c> ou <c>emerge ibm-jdk-1.4.2</c>,
un message vous demandera d'aller télécharger les archives vous-même à cause des
restrictions de licence des JRE/JDK de Sun et de la procédure d'enregistrement
demandée pour les JRE/JDK d'IBM.
</p>

<note>
ibm-jdk-bin est actuellement masqué, si vous souhaitez l'utiliser, il vous
faudra le démasquer.
</note>

<p>
Vous devez télécharger et placer les fichiers indiqués dans
<path>/usr/portage/distfiles</path>. Ceci fait, vous pouvez relancer
la commande emerge et JRE/JDK sera alors correctement installé dans
<path>/opt</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Configurer votre JRE/JDK</title>
<section>
<title>Vue d'ensemble</title>
<body>

<p>
Gentoo donne la possibilité d'avoir plusieurs JDK et JRE installés
sans provoquer de conflit.
</p>

<p>
En utilisant l'outil <c>java-config</c>, vous pouvez déterminer
la configuration par défaut de tout le système si vous avez les droits de
l'utilisateur root sur votre machine. Les utilisateurs peuvent aussi se
servir de <c>java-config</c> pour définir leur propre configuration par
défaut, mais elle ne sera en vigueur que pour cet utilisateur.
</p>

</body>
</section>

<section>
<title>Mettre en place un JRE/JDK par défaut</title>
<body>

<p>
En lançant la commande <c>java-config --list-available-vms</c> (N.D.T.&nbsp;:
VM&nbsp;= Machine Virtuelle), vous avez la liste de tous les JRE et JDK à
votre disposition sur votre système. Voici un exemple de retour de la
commande&nbsp;:
</p>

<pre caption="Liste des VM disponibles">
# <i>java-config --list-available-vms</i>
[blackdown-jdk-1.3.1] Blackdown JDK 1.3.1 (/etc/env.d/java/20blackdown-jdk-1.3.1)
[blackdown-jre-1.3.1] Blackdown JRE 1.3.1 (/etc/env.d/java/20blackdown-jre-1.3.1)
[ibm-jdk-1.3.0] IBM JDK 1.3.0 (/etc/env.d/java/20ibm-jdk-1.3.0)
[ibm-jdk-1.3.1] IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
[ibm-jre-1.3.1] IBM JRE 1.3.1 (/etc/env.d/java/20ibm-jre-1.3.1)
[sun-jdk-1.4.0] Sun JDK 1.4.0 (/etc/env.d/java/20sun-jdk-1.4.0)
</pre>

<p>
Le nom entre crochets <path>[]</path> est le «&nbsp;label&nbsp;» ou l'ID d'une
machine virtuelle spécifique. Vous devez donner cet ID en argument à
<c>java-config --set-system-vm</c>. Par exemple&nbsp;:
</p>

<pre caption="Réglage de la VM du système">
# <i>java-config --set-system-vm=ibm-jdk-1.3.1</i>
Now using IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
</pre>

<note>
Vous devez avoir les droits de l'utilisateur root pour lancer --set-system-vm.
</note>

<p>
Une fois que vous avez défini votre machine virtuelle avec <c>java-config
--set-system-vm</c> , vous devrez regénérer votre /etc/profile.env&nbsp;:
</p>

<pre caption="Regénération de /etc/profile.env">
# <i>env-update</i>
</pre>

<p>
Pour finir, vous devez actualiser votre environnement en rechargeant le fichier
<path>/etc/profile</path> ou en vous déconnectant/reconnectant.
</p>

<p>
En tant que simple utilisateur, vous pouvez utiliser <c>java-config
--set-user-vm</c>, ce qui va créer le fichier
<path>~/.gentoo/java-env</path> avec toutes les variables d'environnement
requises. Vous devrez normalement exécuter source sur ce fichier depuis le
script de démarrage de votre shell (en général, <path>~/.bashrc</path>).
</p>

</body>
</section>

<section>
<title>Définir un CLASSPATH par défaut</title>
<body>

<p>
<c>java-config</c> peut aussi être utilisé pour définir votre
CLASSPATH par défaut, et bien entendu le CLASSPATH spécifique d'un utilisateur.
</p>

<p>
En premier lieu, vous voulez lister les bibliothèques java qui peuvent être
intéressantes à ajouter à votre CLASSPATH. Vous pouvez procéder ainsi&nbsp;:
</p>

<pre caption="Lister les classes">
# <i>java-config --list-available-packages</i>
[bsh] BeanShell is a small, free, embeddable, Java
source interpreter with object scripting language
features. (/usr/share/bsh/package.env)
[oro] A set of text-processing Java classes that
provide Perl5 compatible regular expressions, AWK-like
regular expressions, glob expressions, and utility
classes for performing substitutions, splits, filtering
filenames, etc. (/usr/share/oro/package.env)
[bcel] The Byte Code Engineering Library: analyze, create,
manipulate Java class files (/usr/share/bcel/package.env)
[jsch] JSch is a pure Java implementation of SSH2.
(/usr/share/jsch/package.env)
...
</pre>

<p>
Encore une fois, les noms entre crochets <path>"[]"</path> définissent
les ID que vous devez passer en argument à
<c>java-config --set-system-classpath</c>, comme par exemple&nbsp;:
</p>

<pre caption="Réglage du CLASSPATH">
# <i>java-config --set-system-classpath=log4j,java-gtk,java-gnome</i>
</pre>

<note>
Le répertoire courant (.) ne fera pas partie du CLASSPATH du système et il
devrait être ajouté au profil de connexion de l'utilisateur root.
</note>

<p>
Encore une fois, vous devrez lancer <c>env-update</c> pour mettre à
jour l'environnement du système, puis vous reconnecter ou recharger le fichier
<path>/etc/profile</path>.
</p>

<p>
Pour les utilisateurs, <c>java-config --set-user-classpath</c> créera
<path>~/.gentoo/java-env-classpath</path> qui sera automatiquement
inclus dans <path>~/.gentoo/java-env</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Paramètres USE pour l'utilisation de Java</title>
<section>
<title>Configurer les paramètres USE</title>
<body>

<p>
Pour plus d'informations concernant les paramètres USE, référez-vous au chapitre
portant sur les
<uri link="/doc/fr/handbook/handbook-x86.xml?part=2&amp;chap=2">paramètres
USE</uri> du manuel Gentoo.
</p>

</body>
</section>
<section>
<title>Les paramètres</title>
<body>

<ul>
<li>Le paramètre <b>java</b> ajoute le support de Java dans un bon nombre de
  programmes.</li>
<li>Le paramètre <b>mozilla</b> ajoute le support pour des navigateurs de type
  Mozilla (notamment Firefox) si vous utilisez le kit Java de Blackdown. Vous
  aurez besoin de ce paramètre pour visualiser des applets Java dans votre
  navigateur.</li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Documentation supplémentaire</title>
<section>
<title>Documentation hors-ligne</title>
<body>

<ul>
<li>Les pages man de java-config.</li>
<li><c>java-config --help</c>.</li>
<li>Le script <path>/usr/bin/java-config</path> lui-même.</li>
</ul>

</body>
</section>

<section>
<title>Documentation en ligne</title>
<body>
<ul>
<li>Les archives des listes de diffusion <uri
link="http://news.gmane.org/gmane.linux.gentoo.devel">gentoo-dev</uri> et <uri
link="http://news.gmane.org/gmane.linux.gentoo.user">gentoo-user</uri>.</li>
<li>#gentoofr et #gentoo-java sur irc.freenode.net.</li>
<li><uri link="http://en.wikipedia.org/wiki/Java_programming_language">Entrée
Wikipedia pour le Java</uri>.</li>

</ul>

</body>
</section>
</chapter>
</guide>
