<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fr/gentoo-hppa-install.xml">
<title>Guide d'installation de Gentoo sur l'architecture HPPA </title>
<author title="Développeur Gentoo HPPA"><mail link="gmsoft@gentoo.org">Guy Martin</mail></author>
<author title="Traducteur"><mail link="nissen.lutin@libertysurf.fr">Frederic Baujard</mail></author>

<abstract>Gentoo Linux est installable sur des machines HP PA-RISC. Le port est pour l'instant en développement, et les notes à propos
de ce document ou de l'installation en général, peuvent être adressées à <uri link="http://bugs.gentoo.org"> le Bugzilla de Gentoo.</uri>
</abstract>
<version>0.1</version>
<date>15 Apr 2003 (Traduit 26 avril)</date>
<chapter>
<title>Matériels supportés</title>
<section>
<title>Note sur l'état de ce port</title>
<body>
<p>
Les noyaux SMP et 64-bit n'ont pas été testés. Des testeurs et des commentaires sont les bienvenues.
</p>
<p>Le matériel supporté dépend seulement du noyau. Vous pouvez trouver une liste de plateformes supportées sur <uri link="http://pateam.esiee.fr/list.html"> le site web de ESIEE</uri>.</p>
</body>
</section>
</chapter>

<chapter>
<title>Démarrage</title>
<body>
<note>La procédure de démarrage est décrite brièvement ici. Si vous avez besoin de plus d'aide ou d'une autre alternative au démarrage
pour votre HPPA (ex: via câble série), lisez s'il vous plait le HOWTO sur
<uri>http://tldp.org/HOWTO/PA-RISC-Linux-Boot-HOWTO/index.html</uri>.
</note>
<p>
Durant le processus de démarrage, vous verrez un message similaire à ce qui suit:
</p>
<pre>
Searching for Potential Boot Devices.
To terminate search, press and hold the ESCAPE key.
</pre>
<p>
Quand ce message apparaît, appuyez en permanence sur la touche Echap ("Esc") jusqu'à ce que le menu d'options apparaisse. Cela peut
pendre un moment, soyez patient. Par défaut, vous devriez entrer dans la console BOOT_ADMIN.
<note>
Sur quelques 715s et 725s, un menu d'option devrait apparaître. Vous pouvez entrer dans la console BOOT_ADMIN en choisissant
<c>a)    Enter Boot Administration mode</c> et tapez <c>a&lt;enter&gt;</c>.
</note>
Une fois que vous avez le prompt '<c>&gt;</c>', vous êtes en mode BOOT_ADMIN.
</p>

</body>
<section>
<title>Démarrer en utilisant le LiveCD</title>
<body>
<p>Si vous ne connaissez pas le SCSI ID de votre lecteur CD-ROM, votre station PA-RISC le recherchera pour vous quand vous utiliserez
la commande <c>search</c>.</p>
<pre>
> <i>search</i>

Searching for Devices with Bootable Media.
To terminate search, please press and hold the ESCAPE key.
</pre>
<p>Votre station PA-RISC devrait maintenant afficher les différents moyens de démarrage disponibles. Voici un exemple de résultat de
cette commande:</p>
<pre>
Device Selection      Device Path             Device Type and Utilities
---------------------------------------------------------------------------

P0                    scsi.5.0                TOSHIBA CD-ROM XM-3301TA
                                                  IPL
P1                    scsi.2.0                COMPAQ ST32550N
                                                  IPL
P2                    lan.0010a7-06d1b6.3.6   server
                                                  IPL


&gt;
</pre>
<p>
Bien sûr, cet exemple variera suivant la configuration de votre matériels.<br/>
Maintenant que vous savez quel périphérique doit être utiliser, nous allons pouvoir démarrer.<br/>
</p>
<pre>
&gt; <i>boot scsi.5.0 ipl</i>

Trying scsi.5.0
</pre>
<p>
Le mot clé <e>ipl</e> (Programme de chargement initiale) appele <i>palo</i> (Le système de chargement de PA-RISC) pour entrer en mode
interactif. Cela vous permettra de changer, par exemple, les paramètres de chargement du noyau.
</p>
</body>
</section>
<section>
<title>Démarrer en utilisant lifimage (Démarrage à partir du Net)</title>
<body>
<p>
Lifimage n'est pas pour l'instant disponible. Vous pouvez utiliser le lifimage de Debian pour créer un shell mais cet lifimage n'est pas
fournis avec l'utilitaire bunzip2, ce qui signifie que vous aurez à décompresser les stages avant de les utiliser. Vous aurez aussi
 à les mettre sur un serveur FTP ou HTTP pour les récupérer avec <i>wget</i> au moment de leur installation.
<warn>La version du noyau de lifimage doit être supérieur ou égal à 2.4.20 autrement votre système <e>ne marchera pas du tout</e></warn>
</p>
</body>
</section>
<section>
<title>Après le démarrage : Interaction avec PALO, le chargeur linux de PA-RISC</title>
<body>
<p>Quand le processus de démarrage est terminé, <i>palo</i> démarrera en mode interactif.</p>
<pre>
Boot path initialized.
Attempting to load IPL.


Hard booted.
palo ipl 1.2 root@b180l.da-kot Tue Apr  8 12:43:07 CEST 2003

Boot image contains:
    0/vmlinux32 4028015 bytes @ 0x1520000
    0/ramdisk 834748 bytes @ 0xf800
Current command line:
0/vmlinux initrd=initrd.gz TERM=linux console=tty root=/dev/ram0 init=/linuxrc
  0: 0/vmlinux
  1: initrd=initrd.gz
  2: TERM=linux
  3: console=tty
  4: root=/dev/ram0
  5: init=/linuxrc

Edit which field?
(or 'b' to boot with this command line)? 0
</pre>
<p>
Ces paramètres sont appropriés pour plusieurs situations.<br/> Si vous avez besoin d'autres caractéristiques, vous devrez rajouter
les expressions appropriées à la fin de la ligne de commande. Pour ajouter un paramètre, éditez le dernier champs, ajoutez un espace
et tapez votre paramètre. Le seul paramètre à implanter maintenant est <c>cdcache</c> qui dira au LiveCD de se charger dans la RAM,
vous autorisant à démonter le CD.
</p>
<pre>
(or 'b' to boot with this command line)? <i>5</i>
init=/linuxrc <i>cdcache</i>
</pre>
<p>
Maintenant que le noyau est paramétré, lançons le.
</p>
<pre>
(or 'b' to boot with this command line)? <i>b</i>
</pre>
</body>
</section>


</chapter>
<chapter>
<title>Installation de Gentoo</title>
<section>
<body>
<p>Une petite révision du processus d'installation: Vous devrez créer vos partitions, les initialisez avec un système de fichiers, et
les extraire suivant l'archive de stage 1, de stage 2 ou de stage 3.  Si vous utilisez une archive de stage 1 ou de stage 2, vous devrez
faire les étapes nécessaires pour amener votre système en stage 3. Une fois votre système en stage 3, vous pouvez le configurer (en
modifiant les fichiers de configurations, installation du chargeur de démarrage, etc...). Quand vous aurez redémarré, vous aurez un
système Gentoo Linux complètement fonctionnel. Dépendant du stage à partir du quel vous avez commencé le processus de construction,
voici ce qui est requis pour l'installation:</p>

<table>
<tr><th>archive stage</th><th>requis pour l'installation</th></tr>
<tr><ti>1</ti><ti>création des partition/du système de fichiers, emerge rsync, bootstrap, emerge system, emerge linux sources, configuration finale</ti></tr>
<tr><ti>2</ti><ti>création des partition/du système de fichiers, emerge rsync, emerge system, emerge linux sources, configuration finale </ti></tr>
<tr><ti>3</ti><ti>création des partition/du système de fichiers, emerge rsync (optionnel), configuration finale</ti></tr>
</table>
<p>La première étape est d'insérer tous les modules dont vous avez besoin. Vous ne devriez pas avoir besoin de le faire puisque la
plupart des pilotes pour le matériel standard PA-RISC sont inclus dans le noyau. Pour voir une liste de tous les modules de cartes
réseaux, tapez <c>ls /lib/modules/*/kernel/drivers/net/*</c>. Pour charger un module en particulier, tapez:</p>

<pre>
# <i>modprobe pcnet32</i>
	<comment>(remplacez pcnet32 par le nom de votre module)</comment>
</pre>

<p>Maintenant, si vous avez besoin d'un matériel SCSI qui n'a pas été détecté durant le processus d'auto-détection PCI, vous aurez besoin de charger le module approprié depuis /lib/modules, une fois encore en utilisant <c>modprobe</c>:</p>

<pre>
# <i>modprobe aic7xxx</i>
# <i>modprobe sr_mod</i>
# <i>modprobe sd_mod</i>
</pre>

<p>Dans l'exemple au-dessus le pilote SCSI <c>aic7xxx</c> est chargé, ou "<i>modprobed</i>" ainsi que le support du CD-ROM SCSI
(<c>sr_mod</c>) et des disques (<c>sd_mod</c>).</p>

<note><c>hdparm</c> est inclus dans l'image ISO de la Gentoo. Si n'importe lequel de vos disques requièrent un paramétrage, maintenant
c'est le bon moment pour le faire. Sur du matériel raisonnablement récent <c>hdparm -d 1 /dev/hdx</c> devrait être sans problème. Vous
pouvez vérifier le paramétrage de votre disque en utilisant <c>hdparm -v /dev/hdx</c>, et <c>hdparm -t /dev/hdx</c> pour vérifier les performance de votre disque.</note>
</body>
</section>

<section>
<title>Configuration de l'installation du réseau</title>
<body>
/
<p>L'installation de Gentoo vous permet de configurer un réseau fonctionnel, vous autorisant l'utilisation <c>ssh</c>, <c>scp</c> ou
<c>wget</c> au besoin avant le commencement du processus d'installation. Même si vous n'avez pas besoin de faire cela immédiatement,
vous devriez continuer à l'installation du réseau. Une fois installé, Portage sera capable d'utiliser votre réseau configuré depuis
l'intérieur de l'environnement chrooté (requis pour l'installation de Gentoo Linux). </p>
</body>
</section>

<section>
<title>Configuration manuelle de DHCP</title>
<body>
<p>
La configuration réseau est simple avec DHCP. Si votre Fournisseur d'Accès Internet n'utilise pas DHCP, passez à la section de
configuration statique plus bas.
</p>
<pre caption="Configuration du réseau avec DHCP">
# <i>dhcpcd eth0</i>
</pre>
<note>
Certains Fournisseurs d'Accès Internet vous demandent de fournir un hostname. Pour faire cela, ajoutez un paramètre <c>-h myhostname</c>
à la commande dhcpcd au-dessus.
</note>
<p>Si vous recevez des warnings <i>dhcpConfig</i>, ne paniquez pas; les erreurs  sont la pour faire jolie. Descendez plus bas pour
tester le réseau.</p>
</body>
</section>
<section>
<title>Configuration statique manuelle</title>
<body>
<p>
Vous avez besoin de configurer suffisamment votre réseau (pour vous autoriser à télécharger les sources pour la construction du système
) ainsi que l'interface localhost requis. Tapez les commandes suivantes, en remplaçant $IFACE par votre interface réseau (typiquement
<c>eth0</c>), $IPNUM par votre adresse IP, $BCAST par votre adresse de broadcast, and $NMASK par votre masque de réseau. Pour la
commande <c>route</c>, remplacez $GTWAY par votre passerelle par défaut.
</p>
<pre>
# <i>/sbin/ifconfig $IFACE $IPNUM broadcast $BCAST netmask $NMASK</i>
# <i>/sbin/route add -net default gw $GTWAY netmask 0.0.0.0 metric 1</i>
</pre>
<p>Maintenant, il est temps de créer le fichier <path>/etc/resolv.conf</path> pour que la résolution de noms (trouver un site Wed/FTP
par son nom, au lieu de son adresse IP uniquement) fonctionne.</p>

<note>Ace moment le seul éditeur installé par défaut est <c>nano</c>, un éditeur visuel petit et très facile à utiliser. Utilisez
<c>nano</c> avec l'option <c>-w</c> pour désactiver le retour à la ligne automatique.
</note>

<p>Voici un exemple à suivre pour créer votre fichier /etc/resolv.conf:
</p>
<pre caption="exemple /etc/resolv.conf">
domain mondomaine.com
nameserver 10.0.0.1
nameserver 10.0.0.2
</pre>
<p>Remplacez <c>10.0.0.1</c> et <c>10.0.0.2</c> respectivement par les adresses IP de vos serveurs DNS primaire et secondaire.</p>
</body>
</section>

<section>
<title>Configuration du proxy</title>
<body>
<p>Si vous êtes derrière un proxy, il est nécessaire de le configurer avant de continuer. Vous avez besoin d'exporter quelques variables
pour configurer votre proxy en conséquence. </p>
<pre>
# <i>export http_proxy="machine.company.com:1234" </i>
# <i>export ftp_proxy="$http_proxy" </i>
# <i>export RSYNC_PROXY="$http_proxy" </i>
</pre>
</body>
</section>

<section>
<title>Testez le réseau</title>
<body>
<p>Maintenant que votre réseau a été configuré, la commande <c>/sbin/ifconfig -a</c> devrait montrer que votre carte réseau fonctionne
(regardez le <e>UP</e> et <e>RUNNING</e> à l'affichage).
</p>
<pre caption="/sbin/ifconfig pour une carte réseau fonctionnant">
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11
</pre>
</body>
</section>

<section>
<title>Le réseau est bon!</title>
<body>
<p>Le réseau étant configuré et utilisable, vous devriez être capable d'utiliser les commandes <c>ssh</c>, <c>scp</c> et <c>wget</c>
pour vous connecter aux autres machines de votre LAN ou d'internet.</p>
</body>
</section>
</chapter>

<chapter>
<title>Installation des partitions et construction du système</title>
<body>
<note>A cet instant, si vous avez besoin de plus d'une console, n'oubliez pas de mettre le mot de passe de root. En plus, plusieurs
programmes sont disponibles sur le LiveCD, comme <i>screen</i>, <i>lynx</i>, et <i>irssi</i></note>
</body>
<section>
<title>Installer les partitions</title>
<body>
<p>Lancez <i>fdisk</i> pour créer les partitions que vous voulez.</p>
<pre>
# <i>fdisk /dev/sdX</i>
<codenote>remplacez sdX par le disque sur lequel vous voulez créer une partition.(i.e. sda, hda, ...)</codenote>
</pre>
<warn>PALO a besoin d'une partition spécial pour fonctionner. Vous avez à créer une partition d'au moins 16 Mo au début de votre disque.
Cette partition doit être de type <e>FO (Linux/PA-RISC boot)</e></warn>
<impo>Si votre disque est plus grand que 2 Go, vous avez besoin de créer une partition de boot dans les 2 premiers Go de votre disque.
PALO est incapable de lire un noyau après la limite des 2 Go.</impo>
<p>Après avoir créer vos partitions et les avoir initialisées avec un système de fichiers, vous êtes prêt à commencer les choses
intéressantes. Dans l'exemple suivant, la partition root est la /dev/sda3, la partition de swap la /dev/sda4 pour une installation de
stage 1 (L'archive de stage 1 est récupérée depuis les miroirs de Gentoo).</p>
<pre>
# <i>swapon /dev/sda4</i>
# <i>mount -n /dev/sda3 /mnt/gentoo</i>
</pre>
<note>Après avoir monté votre nouvelle partition root à /mnt/gentoo, il est temps de monter toutes les autres partitions (e.g. /boot,
/usr, /var).</note>
<pre>
# <i>cd /mnt/gentoo</i>
# <i>wget http://www.ibiblio.org/pub/Linux/distributions/gentoo/experimental/hppa/stages/stage1-hppa1.1-1.4_pre20040403.tar.bz2</i>
# <i>tar xpjvf stage1-hppa1.1-1.4_pre20030403.tar.bz2</i>
# <i>cp /etc/resolv.conf etc/resolv.conf</i>
# <i>mount -o bind /proc proc</i>
# <i>chroot .</i> <codenote>Maintenant vous êtes dans votre nouveau système</codenote>
# <i>env-update</i> <codenote>Cela mettra corectement vos variables d'environnement</codenote>
# <i>source /etc/profile</i>
# <i>nano -w /etc/make.conf</i> <codenote>Configurer vos optimisations et les miroirs ici</codenote>
# <i>emerge sync</i> <codenote>Cela va récupérer l'arbre de portage qui fait dans les 10 Mo</codenote>
</pre>
<p>Si vous démarrez depuis le stage 1, lancez le processus de bootstrap.</p>
<pre>
cd /usr/portage
./scripts/bootstrap.sh
</pre>
<p>Cela amène votre système en stage 2, où vous devez maintenant compiler et installer les fichiers de base du système.</p>
<pre>
export CONFIG_PROTECT="-*"
emerge system
</pre>
<p>L'installation de votre Gentoo est maintenant en stage 3. Si vous avez démarrerdepuis le stage 3, il est possible qu'il y est des
nouveaux paquetages ou des mises à jour. Pour faire la mise à jour:</p>
<pre>
unset CONFIG_PROTECT
emerge -uD world
</pre>
<p>
La base du système est maintenant mise à jour.
</p>
</body>
</section>
</chapter>


<chapter>
<title>Construction du noyau</title>
<section>
<title>Obtenir les sources du noyau pour HPPA</title>
<body>
<p>Il y a un noyau spécialement patché pour les machines HPPA disponible dans Gentoo Linux. Pour l'installer, il suffit de faire
emerge hppa-sources</p>
<pre>
# <i>emerge hppa-sources</i>
</pre>
<p>Maintenant, vous pouvez au besoin patcher votre noyau pour ajouter certains support comme les SGI du système de fichiers XFS, Usagi
IPv6 ( site du projet usagi: http://www.linux-ipv6.org), etc.
<note>Pour l'instant, aucun de ces patches n'ont été testés. Vous faîtes cela à vos propres risques.</note>
Une fois les sources ont été récupérées et dépaquetées, vous avez besoin de configurer votre noyau.
</p>
</body>
</section>
<section>
<title>Configuration et compilation de votre noyau</title>
<body>
Voici comment configurer et compiler votre noyau.
<pre>
# <i>cd /usr/src/linux</i>
# <i>make menuconfig</i>
# <i>make vmlinux modules modules_install</i>
# <i>cp vmlinux System.map /boot</i>
</pre>
<warn>Pour avoir un noyau fonctionnel, vous devez choisir les bonnes options dans votre configuration. Certaines de ces options doivent
<c>être activées statiquement et non compilées comme un module</c>. Vous aurez besoin d'activer l'option <c>"Code maturity level options --> Prompt for development and/or incomplete code/drivers"</c> pour voir plusieurs de ces sélections. Sous la section <c>"File systems"
</c>, être sur d'activer <c>Device File System</c> (notez que vous <e>ne devriez pas</e> avoir besoin d'activer l'option <c>"/dev/pts file system support"</c>). Vous aurez aussi besoin d'activer <c>Virtual Memory File system</c>.</warn>
<impo>Si vous avez une souris ou un clavier HIL, n'oubliez pas de compiler le support pour les deux. Pour cela, vous devez activer le
<c>"Keyboard support"</c>, le <c>"Mouse support"</c> et le <c>"Event interface support"</c> dans la section <c>"Input core support"</c>.
<br/> Dans la section <c>"HIL support"</c>, Si vous n'avez pas de souris sur votre port HIL, il est recommandé d'utiliser uniquement le
<c>"HIL Keyboard (basic) support"</c>.
<br/>
Le support complet est disponible quand vous choisissez l'option <c>"HP System Device Controller i8042 Support"</c> et
puis <c>"HIL MLC Support"</c>, <c>"HIL Keyboard (full) support"</c> et <c>"HIL Mouse &amp; Pointer support"</c>. Mais dans ce cas
<e>NE PAS</e> sélectionner <c>"HIL Keyboard (basic) support"</c>.
</impo>
</body>
</section>
<section>
<title>Installation de PALO : le chargeur de démarrage</title>
<body>
<p>Sur les plateformes PA-RISC, le chargeur de démarrage est appelé <i>palo</i>. Vous pouvez trouver le fichiers de configuration dans
<e>/etc/palo.conf</e>. Voici un exemple de configuration :</p>
<pre>
--commandline=2/vmlinux root=/dev/sdb2 HOME=/
--recoverykernel=/vmlinux.old
--init-partitioned=/dev/sdb
</pre>
<p>La première ligne dit à palo la localisation du noyau et les paramètres de démarrage qu'il doit utiliser.
<c>2/vmlinux</c> signifie le noyau nommé <i>/vmlinux</i> réside sur la seconde partition.
<impo>Le chemin d'accès du noyau est relatif par rapport à la racine <e>de la partition</e>, et non à la racine de votre arborescence
de fichiers.</impo>
La seconde ligne indique quel noyau de récupération à utiliser. Si c'est votre première installation et que vous n'avez pas de noyau de secours, commentez cette ligne.
<br/>
La troisième ligne indique sur quel disque <i>palo</i> se trouve. Quand la configuration est terminée, lancez seulement <i>palo</i>.</p>
<pre>
# <i>palo</i>
</pre>

</body>
</section>
</chapter>
<chapter>
<title>Configuration finale</title>
<section>
<title>Zone horaire</title>
<body>
<note>Il est extrêmement important que cet étape soit effectuée. Votre horloge système pourrais avoir un grand décalage si vous n'effectuez pas cette étape.
</note>

<p>A ce point, vous devriez avoir un système en stage 3 qui est prêt pour la configuration finale. Vous allez commencer ce processus en
commençant par le paramétrage de la zone horaire. En paramétrant la zone horaire avant de construire le noyau vous assurez que vos
utilisateurs auront un affichage raisonnable de <c>uname -a</c>.</p>
<p>Regardez pour votre zone horaire (ou UTC si vous préférez utiliser la Constante de Temps Universelle UTC) dans
<path>/usr/share/zoneinfo</path>. Puis faire un lien symbolique en tapant:
</p><pre>
# <i>ln -sf /usr/share/zoneinfo/path/to/timezonefile /etc/localtime</i>
</pre>
<p>Vous devriez aussi vérifier <path>/etc/rc.conf</path> pour être sûr que les paramètres de votre zone horaire sont corrects. </p>
</body>
</section>
<section>
<title>Le système de log et le démon Cron</title>
<body>
<p>Maintenant vous avez besoin de choisir un système de log à installer. Gentoo Linux met à votre disposition <i>sysklogd</i>, qui est
le démon traditionnel de système de log. Mais sont aussi disponible: <i>msyslog</i>, <i>syslog-ng</i>, et <i>metalog</i>. Les
utilisateurs avancés semblent se détourner de <i>sysklogd</i> (qui n'a pas de bonnes performances), vers les nouvelles alternatives.
En particulier, <i>metalog</i> semble devenir populaire. Pour installer le système de log de votre choix, tapez <e>une</e> des quatre
commandes suivantes:
</p>

<pre>
# <i>emerge app-admin/sysklogd</i>
# <i>rc-update add sysklogd default</i>
<comment>ou</comment>
# <i>emerge app-admin/syslog-ng</i>
# <i>rc-update add syslog-ng default</i>
<comment>ou</comment>
# <i>emerge app-admin/metalog</i>
# <i>rc-update add metalog default</i>
<comment>ou</comment>
# <i>emerge app-admin/msyslog</i>
# <i>rc-update add msyslog default</i>
</pre>
<warn>
Dans le cas de syslog-ng, vous avez besoin de créer <path>/etc/syslog-ng/syslog-ng.conf</path>. Regardez <path>/etc/syslog-ng</path>
pour avoir un exemple de fichier de configuration.
</warn>
<impo>
Metalog écrit sa sortie sur les disques par blocs, donc les messages ne sont pas immédiatement enregistrés dans les logs systèmes. Si
vous êtes en train de débugguer un démon, ce comportement risque de ne pas vous faciliter la tâche. Quand votre système Gentoo Linux
est lancé, vous pouvez lancer un signal USR1 à metalog pour désactiver temporairement ce comportement (ce qui veut dire que <i>tail -f
<path>/var/log/everything/current</path></i> va alors fonctionner en temps réel comme attendu) et un signal USR2 pour revenir au comportement de base.
</impo>
<p>Maintenant, vous pouvez choisir de manière optionnel un paquetage cron à utiliser. Les choix disponibles dans la Gentoo Linux sont:
<i>dcron</i>, <i>fcron</i>, et <i>vcron</i>. Si vous ne savez pas lequel choisir, vous pouvez installer <i>vcron</i>. Attention,
choisissez <em>une</em> seul des commandes suivantes:</p>
<pre>
# <i>emerge sys-apps/dcron</i>
# <i>crontab /etc/crontab</i>
<comment>ou</comment>
# <i>emerge sys-apps/fcron</i>
# <i>crontab /etc/crontab</i>
<comment>ou</comment>
# <i>emerge sys-apps/vcron</i>
<comment>Ne pas oubliez d'ajouter votre cron dans les bons niveaux de démarrage. </comment>
# <i>rc-update add *cron default </i>
</pre>
<p>Pour plus d'informations sur le fonctionnement de cron sous Gentoo Linux, voyez <uri link="http://lists.gentoo.org/pipermail/gentoo-announce/2002-April/000151.html">ce message</uri>.</p>
<p>Pour plus d'informations sur le lancement au démarrage des programmes et des démons, voyez <uri link="/doc/rc-scripts.html">le guide des rc-script</uri>. </p>
</body>
</section>
<section>
<title>/etc/fstab</title>
<body>
<p>Votre système Gentoo Linux est presque prêt à l'utilisation. Tout ce dont nous avons besoin maintenant est de configurer quelques
fichiers systèmes importants et d'installer le chargeur de démarrage PALO.
Le premier fichier que vous avez besoin de configurer est <path>/etc/fstab</path>. Souvenez vous que vous devez utiliser l'option
<c>notail</c> pour votre partition de démarrage si vous avez choisi de créer un système de fichiers ReiserFS dessus. Souvenez vous de
spécifier les types de systèmes de fichiers appropriés <c>ext2</c>, <c>ext3</c> ou <c>reiserfs</c>.</p>
<p>Votre <path>/etc/fstab</path> devrait ressembler à quelques choses près à ce qui suit, mais biensûr remplacez "BOOT", "ROOT" et
"SWAP" avec vos périphériques actuels (comme <c>hda1</c>, etc...)</p>
<pre>
<comment>
# /etc/fstab: static file system information.
#
# noatime turns off atimes for increased performance (atimes normally aren't
# needed; notail increases performance of ReiserFS (at the expense of storage
# efficiency).  it is safe to drop the noatime options if you want and to
# switch between notail and tail freely.

# &lt;fs&gt;           &lt;mountpoint&gt;   &lt;type&gt;   &lt;opts&gt;          &lt;dump/pass&gt;

# NOTE: If your BOOT partition is ReiserFS, add the notail option to opts.
</comment>
/dev/BOOT           /boot       ext2	 noauto,noatime	 1 2
/dev/ROOT           /           ext3	 noatime         0 1
/dev/SWAP           none        swap	 sw              0 0
/dev/cdroms/cdrom0  /mnt/cdrom  iso9660	 noauto,ro       0 0
proc                /proc       proc	 defaults        0 0
</pre>

<warn>Notez que la partition <i>/boot</i> n'est PAS montée au moment du démarrage. C'est pour protéger les données de <i>/boot</i> de la
corruption. Si vous avez besoin d'avoir accès à <i>/boot</i>, il suffit de la montée!
</warn>

</body>
</section>
<section>
<title>Mettre le mot de passe de root</title>
<body>
<p>Avant d'oublier, mettez le mot de passe de root en tapant:</p>
<pre>
# <i>passwd</i>
</pre>
</body>
</section>
<section>
<title>/etc/hostname</title>
<body>
<p>Editez ce fichiers pour qu'il contienne le nom complet de votre domaine sur une seule ligne, i.e. <c>mamachine.mondomaine.com</c>.
<pre>
# <i>echo mamachine.mondomaine.com > /etc/hostname</i>
</pre>
</p>
</body>
</section>

<section>
<title>/etc/hosts</title>
<body>
<p>Ce fichier contient une liste d'adresse IP et les hostnames associés. il est utilisé par le système pour résoudre des adresses IP en
hostnames que votre DNS ne peut faire. Voici un exemple pour ce fichier:
</p><pre>
127.0.0.1      localhost
<comment># la prochaine ligne contient votre adresse IP de votre LAN, et votre nom de machine associé</comment>
192.168.1.1    mamachine.mondomaine.com	 mamachine
</pre>

<note>Si vous êtes en réseau avec DHCP, il serait bien de mettre <i>localhost</i> à votre actuelle hostname. Cela aidera GNOME et
plusieurs autres programmes dans la résolution des noms.
</note>

</body>
</section>

<section>
<title>Configuration finale du réseau</title>
<body>
<p>
Ajoutez les noms des différents modules qui sont nécessaire au bon fonctionnement de votre système dans le fichier
<path>/etc/modules.autoload</path> (vous pouvez aussi ajouter les options que vous avez besoin sur la même ligne.) Quand Gentoo
Linux démarre, ces modules seront automatiquement chargés. Le module de votre carte réseau est d'une importance particulière, si
vous l'avez compilé comme un module:
</p>
<pre caption="/etc/modules.autoload">
3c59x
</pre>
<p>Editez le script <path>/etc/conf.d/net</path> pour avoir un réseau configuré au moment du démarrage:
</p>
<pre>
# <i>nano -w /etc/conf.d/net</i>
# <i>rc-update add net.eth0 default</i>
</pre>
<p>
Si vous avez plusieurs cartes réseaux vous avez besoin de créer un script additionnel <path>net.eth<comment>x</comment></path> pour
chacune d'entre elles (<comment>x</comment> = 1, 2, ...):
</p>
<pre caption="Multiples interfaces réseaux">
# <i>cd /etc/init.d</i>
# <i>cp net.eth0 net.eth<comment>x</comment></i>
# <i>rc-update add net.eth<comment>x</comment> default</i>
</pre>

</body>
</section>

<section>
<title>Configuration des paramètres basiques (incluant le paramétrage du clavier)</title>
<body>
<pre caption="configuration basique">
# <i>nano -w /etc/rc.conf</i>
</pre>
<p>
Suivez les indications dans le fichier pour les configurations de base. Vérifiez que <c>CLOCK</c> est mise à votre situation. Les
utilisateurs de clavier internationales voudront paramètrer la variable <c>KEYMAP</c> (regardez <path>/usr/share/keymaps</path>
pour voir les différents claviers disponibles).
</p>
</body>
</section>

</chapter>
<chapter>
<title>Grande Finale!</title>
<section>
<body>
<p>Félicitation! Vous avez terminé votre installation de Gentoo Linux sur votre station HPPA. Nous accueillerons tous commentaires
ou suggestions qui pourrait nous aider à améliorer le port HPPA. Merci d'avoir pris le temps pour l'installation.</p>

<p>Vous êtes maintenant au point de faire ce que voulez. Soit vous démontez toutes vos partitions et redémarrer pour commencer
l'installation des ebuilds ou vous pouvez commencer à les installer maintenant.</p>
<note>Une grand partie de ce document d'installation est basée sur le Guide d'installation Gentoo sur SPARC et sur le
PA-RISC-Linux-Boot-HOWTO.</note>
</body>
</section>
</chapter>

</guide>
