<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header $ -->

<guide link="/doc/fr/xfce-config.xml" lang="fr">

<title>Guide de configuration de Xfce</title>

<author title="Auteur">
  <mail link="nightmorph@gentoo.org">Joshua Saddler</mail>
</author>
<author title="Traducteur">
  <mail link="makoto.kaworu@gmail.com">Alexandre Perrin</mail>
</author>

<abstract>
Ce guide fournit une introduction à Xfce qui est un environnement de bureau
rapide, léger et complet.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.0</version>
<date>2007-01-12</date>

<chapter>
<title>Introduction</title>
<section>
<title>L'environnement de bureau Xfce</title>
<body>

<p>
<uri link="http://www.xfce.org">Xfce</uri> est un environnement de bureau
rapide et léger pour les systèmes d'exploitations basés sur Unix. Il a été
conçu avec comme but la productivité et est très configurable tout en
respectant les spécifications <uri
link="http://www.freedesktop.org">Freedesktop</uri>.
</p>

<p>
Contrairement aux environnements de bureaux plus lourds, comme Gnome et KDE,
Xfce utilise moins de ressources systèmes. De plus, Xfce offre une plus grande
modularité et moins de dépendances&nbsp;; il demande donc moins de place sur le
disque dur et est plus rapide à installer.
</p>

<p>
Ce guide ne se contentera pas seulement d'expliquer comment installer et
configurer un environnement minimal Xfce, nous allons aussi explorer les
options pour créer un environnement de bureau complet tout en gardant la
philosophie de Xfce&nbsp;: léger, rapide et modulaire.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Installer Xfce</title>
<section>
<title>Les bases</title>
<body>

<p>
Avant d'installer notre environnement de bureau minimal, prenons un moment pour
prévoir les paquets de base que nous allons «&nbsp;émerger&nbsp;».
</p>

<table>
<tr>
  <th>Nom</th>
  <th>Description</th>
</tr>
<tr>
  <ti>xfce4</ti>
  <ti>La base de l'environnement de bureau Xfce</ti>
</tr>
<tr>
  <ti>xscreensaver</ti>
  <ti>
    Un économiseur d'écran avec des options d'économie d'énergie et la
    possibilité de bloquer l'écran pour la sécurité.
  </ti>
</tr>
<tr>
  <ti>hal</ti>
  <ti>
    Une couche d'abstraction du matériel (Hardware Abstraction Layer). HAL
    permet aux applications de bureau de détecter et d'utiliser les
    périphériques matériels.  Cela facilite le travail avec des périphériques
    amovibles comme les clés USB ou les lecteurs de CD/DVD. Installer
    <c>hal</c> entrainera l'installation du paquet <c>dbus</c> qui permet aux
    applications de communiquer entre elles.
  </ti>
</tr>
<tr>
  <ti>gamin</ti>
  <ti>
    Ce moniteur d'altération de fichiers enregistre les changements opérés sur
    les fichiers. C'est très utile lorsqu'utilisé avec un navigateur graphique
    de fichiers.
  </ti>
</tr>
</table>

<p>
Vous êtes libre d'installer des paquets supplémentaires, mais pour l'instant
nous allons nous limiter à ceux-ci pour un environnement minimal rapidement
exploitable. Vérifiez vos options de la variable USE dans le fichier
<path>/etc/make.conf</path>&nbsp;; vous voudrez peut-être utiliser
<c>USE="-gnome"</c> pour éviter d'ajouter des dépendances inutiles à un
fonctionnement minimal.
</p>

<pre caption="Installer Xfce">
# <i>emerge -avt xfce4 xscreensaver hal gamin</i>
</pre>

<p>
Ajoutez vos utilisateurs réguliers aux groupes suivants pour qu'ils puissent
utiliser les fonctionnalités de <c>hal</c> et puissent monter et utiliser des
périphériques comme les CD-ROM, appareils photos, clés USB, etc.&nbsp;:
</p>

<pre caption="Ajouter des utilisateurs aux groupes liés au matériel">
<comment>(N'oubliez pas de remplacer username par votre nom d'utilisateur.)</comment>
# <i>gpasswd -a username plugdev,cdrom,cdrw,usb</i>
</pre>

<p>
Puis, mettez à jour les variables d'environnement&nbsp;:
</p>

<pre caption="Mettre à jour les variables d'environnement">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Maintenant, démarrez <c>hald</c> et ajoutez-le au niveau d'initialisation
«&nbsp;default&nbsp;»&nbsp;:
</p>

<pre caption="Démarrer hald">
# <i>/etc/init.d/hald start</i>
# <i>rc-update add hald default</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Configurer Xfce</title>
<section>
<title>Démarrer Xfce</title>
<body>

<p>
Maintenant que Xfce est installé, nous allons le configurer pour qu'il soit
l'environnement de bureau par défaut lorsque la commande <c>startx</c> est
exécutée. Quittez votre terminal root et ouvrez une session shell avec votre
utilisateur.
</p>

<pre caption="Configurer Xfce en tant qu'environnement par défaut">
$ <i>echo "exec startxfce4" > ~/.xinitrc</i>
</pre>

<p>
Vous pouvez alors démarrer votre environnement graphique en lançant la commande
<c>startx</c>&nbsp;:
</p>

<pre caption="Démarrer Xfce">
$ <i>startx</i>
</pre>

<p>
Félicitations et bienvenue dans votre nouvel environnement de bureau
Xfce&nbsp;!  Explorez un peu l'environnement. La suite de ce guide porte sur la
configuration de Xfce pour qu'il réponde à vos besoins.
</p>

</body>
</section>
<section>
<title>Accès aux logiciels</title>
<body>

<p>
Vous aurez peut-être remarqué qu'un clic droit sur le bureau ouvre un menu qui
contient toutes les applications installées. Cette fonctionnalité est utile,
mais votre bureau peut facilement être complètement masqué par des fenêtres
ouvertes, ce qui rend difficile le lancement d'une nouvelle application. Donc
une des premières choses que vous voudrez peut-être avoir serait un menu dans
votre barre de lancement. Faites un clic droit sur la barre de lancement et
choisissez «&nbsp;Add New Item&nbsp;» (Ajouter un nouvel élément).  Faites
défiler la liste des choix et sélectionnez «&nbsp;Xfce Menu&nbsp;». Vous pouvez
choisir son emplacement dans la barre de lancement. Lorsque l'on clique dessus,
il affiche le menu des applications/préférences avec une liste de vos logiciels
triée par catégories.
</p>

</body>
</section>
<section>
<title>Sessions et démarrage</title>
<body>

<p>
Si vous avez installé (ou planifiez d'installer) des applications Gnome ou KDE,
comme <c>k3b</c>, <c>nautilus</c>, <c>kmail</c>, <c>evolution</c>, etc., il
faudra s'assurer que Xfce lance les services appropriés au démarrage de votre
session. Naviguez dans Menu --> Settings --> Sessions &amp; Startup. Dans
l'onglet «&nbsp;Advanced&nbsp;» cochez l'option qui convient. Cette option va
légèrement ralentir le démarrage de Xfce mais va réduire le temps de chargement
des applications KDE et Gnome. 
</p>

<p>
Xfce est capable de sauvegarder votre configuration de session et de démarrer
automatiquement des logiciels. Ces paramètres se configurent dans Menu -->
Settings --> Sessions &amp; Startup, puis sélectionnez l'onglet
«&nbsp;General&nbsp;».  Vos paramètres peuvent être sauvegardés de manière
automatique lorsque vous fermez votre session ou Xfce peut vous demander à
chaque fois si vous désirez sauver la configuration.  Cette fonctionnalité est
particulièrement utile pour annuler les erreurs de configuration.  Vous avez
accidentellement fermé la barre de lancement ou la barre des tâches&nbsp;?
Cliquez sur «&nbsp;No&nbsp;» lorsque Xfce vous demande si vous désirez
sauvegarder les paramètres de votre session actuelle et au prochain démarrage
votre ancien environnement de bureau sera restauré. Vous voulez lancer
automatiquement au début de votre session un navigateur web, un terminal et un
client e-mail&nbsp;? Il vous suffit de sauvegarder votre session avant de
quitter Xfce.
</p>

<p>
Vous avez maintenant un environnement de base fonctionnel installé et
configuré.  Si vous voulez aller encore plus loin dans la configuration de
Xfce, continuez la lecture de ce guide&nbsp;!
</p>

</body>
</section>
</chapter>

<chapter>
<title>Applications supplémentaires</title>
<section>
<title>Greffons des panneaux</title>
<body>

<p>
Dans ce chapitre, nous allons étudier les greffons et applications utiles lors
d'utilisation quotidienne de Xfce.
</p>

<p>
De nombreux greffons pour la barre de menu sont disponibles dans Portage&nbsp;;
vous pouvez le voir facilement avec <c>emerge --search xfce</c>. Bien que
souvent leurs descriptions soient explicites, certains méritent une attention
particulière car ils sont très utiles. Pour les utiliser, il suffit de les
installer via <c>emerge</c>. Les greffons ainsi installés seront
automatiquement ajoutés à la liste des outils disponibles dans le menu
«&nbsp;Add New Item&nbsp;».
</p>

<ul>
  <li>
    <c>xfce4-mount</c> vous procure une méthode simple pour monter les
    périphériques matériels inscrits dans le fichier <path>/etc/fstab</path> à
    l'aide d'un simple clic de souris.
  </li>
<!-- xfce4-taskbar is integrated into the panel in 4.4; remove when stable -->
  <li>
    <c>xfce4-taskbar</c> peut remplacer complètement le panneau de la barre des
    tâches.  Ceci est très utile pour les petits écrans, pour gagner un peu
    d'espace sur l'écran ou simplement si vous préférez avoir un panneau
    unique. Ajouter «&nbsp;xfce4-taskbar&nbsp;» à votre panneau principal, puis
    fermez le panneau de la barre des tâches avec la commande <c>killall -9
    xftaskbar4</c> depuis une session shell. Vous avez maintenant un panneau
    unique qui contient la barre des tâches, l'horloge, le menu Xfce, etc.
  </li>
  <li>
    <c>xfce4-battery</c> est parfait pour les utilisateurs de portable.  Ce
    greffon affiche l'état de la batterie en pourcent, une estimation du temps
    restant, la source d'énergie (batterie ou secteur), l'état des capteurs,
    les avertissements et peut même être configuré pour exécuter des commandes
    une fois un certain niveau d'énergie atteint. Cette fonction peut être
    utilisée pour mettre en veille l'ordinateur portable si la batterie est
    presque vide.
  </li>
  <li>
<!-- xfce4-minicmd has been superceded by verve in 4.4; remove when stable -->
    <c>xfce4-minicmd</c> est une ligne de commande embarquée dans le panneau.
    C'est plus rapide que d'ouvrir un autre terminal si l'on veut juste
    exécuter une commande.
  </li>
</ul>

</body>
</section>
<section>
<title>Programmes utiles</title>
<body>

<p>
Maintenant, nous allons ajouter quelques logiciels légers et utiles tout en
gardant la philosophie Xfce.
</p>

<p>
Tout d'abord, remplaçons le vénérable <c>xterm</c> par
<c>xfce-extra/terminal</c>.  <c>Terminal</c> est bien plus configurable et
utilisable que xterm, il supporte le texte Unicode, la pseudo-transparence et
la transparence accélérée à l'aide du support composite intégré dans Xfce, tout
ça nativement.
</p>
<!-- Remove the warning about ~arch once 4.4 and terminal go stable -->
<note>
Au moment où ce guide est écrit, <c>Terminal</c> n'est peut-être pas encore
considéré comme stable pour votre architecture et vous devrez donc l'ajouter au
fichier <path>/etc/portage/package.keywords</path> avant de l'installer.
</note>

<pre caption="Installer Terminal">
<comment>(Exécutez cette commande uniquement si Portage vous avertit que Terminal est masqué.)</comment>
# <i>echo "xfce-extra/terminal" >> /etc/portage/package.keywords</i>

<comment>(Autrement, vous pouvez installer Terminal sans autre étape préalable.)</comment>
# <i>emerge -av xfce-extra/terminal</i>
</pre>

<p>
Une fois que Terminal est installé, vous voudrez peut-être changer l'action par
défaut du raccourci du panneau pour qu'il exécute
<path>/usr/bin/Terminal</path>.  Faites un clic droit sur le raccourci et
choisissez «&nbsp;Properties&nbsp;» pour changer la commande.
</p>

<p>
Vous voudrez peut-être remplacer le gestionnaire de fichiers par défaut,
<c>xffm</c>, par un autre plus intuitif et utile. <c>rox</c> est un
gestionnaire de fichiers qui utilise des icônes et se comporte comme un
gestionnaire de fichiers traditionnel.  Si vous cherchez quelque chose d'encore
plus minimal, mais tout en étant très souple, alors essayez le gestionnaire de
fichiers <c>gentoo</c> (le gestionnaire de fichiers <c>gentoo</c> n'a pas de
rapport avec la distribution Gentoo Linux). Ces deux gestionnaires de fichiers
sont légers, totalement configurables et s'installent en peu de temps.
</p>

<!-- Remove the note about masked thunar once 4.4 is stable -->
<p>
Dans le futur, <c>thunar</c> remplacera <c>xffm</c> en tant que gestionnaire de
fichiers par défaut de Xfce. Au moment où ce guide est écrit, <c>thunar</c>
n'est pas encore considéré comme stable. Néanmoins, la version la plus récente
s'est montrée utile lors d'une utilisation quotidienne et promet d'être
intéressante.  Si vous vous en sentez le courage, vous pouvez essayer les
versions en développement.  Veuillez lire la section <uri
link="doc/fr/handbook/handbook-x86.xml?part=3&amp;chap=3#doc_chap3">Utiliser
des paquets masqués</uri> pour apprendre comment démasquer <c>thunar</c> et ses
dépendances. Notez que ce logiciel n'est pas considéré comme fini, vous voilà
prévenu&nbsp;!
</p>
<!-- remove mousepad once 4.4 is stable; right now it's included by default -->
<p>
Installons un éditeur de texte graphique simple. Il est plus simple
d'utilisation que <c>gvim</c> ou <c>xemacs</c> et demande moins de dépendances.
</p>

<pre caption="Ajouter un éditeur de texte">
# <i>emerge mousepad</i>
</pre>

<p>
Si vous cherchez un logiciel de traitement de texte complet mais ne voulez pas
du lourd <c>OpenOffice.org</c>, essayez d'installer <c>abiword</c>.  <uri
link="http://www.abisource.com">AbiWord</uri> est léger, rapide et complètement
compatible avec les types de documents standards.
</p>

<pre caption="Ajouter un logiciel de traitement de texte">
# <i>emerge -avt abiword</i>
</pre>

<p>
Besoin d'un client de messagerie moins exigeant que <c>mozilla-thunderbird</c>
ou <c>evolution</c>&nbsp;? Essayez <c>sylpheed-claws</c>&nbsp;:
</p>
<!-- replacement seems to be called claws-mail, but still in ~arch -->
<pre caption="Ajouter un client de messagerie">
# <i>emerge -avt sylpheed-claws</i>
</pre>

<p>
Pour les discussions sur Internet, <c>irssi</c> est un excellent client IRC
minimal et incroyablement configurable qui s'exécute dans votre terminal.  Si
vous préférez un client «&nbsp;tout-en-un&nbsp;» qui peut prendre en charge la
quasi totalité des protocoles de discussion par Internet, <c>gaim</c> vous
conviendra parfaitement.
</p>

<p>
Si vous avez besoin d'un lecteur de musique, ne cherchez pas plus loin que
<c>mplayer</c> et <c>audacious</c>. Ils peuvent jouer presque tous les formats
médias disponibles et ont une foule de greffons disponibles.
</p>

<p>
Finalement, installons un navigateur Internet. Quasiment tous les navigateurs
graphiques demandent plus de ressources que la plupart des autres applications.
<c>mozilla-firefox</c> (ou <c>mozilla-firefox-bin</c>) est toujours un choix
judicieux.  Il y a également <c>opera</c> qui est rapide, mais qui n'est pas
disponible pour autant d'architectures que <c>mozilla-firefox</c> et qui
demande d'installer plus de dépendances à moins de définir la variable USE
<c>qt-static</c> lors de l'installation.
</p>

<pre caption="Installer un navigateur Internet">
<comment>(Installer Mozilla Firefox.)</comment>
# <i>emerge mozilla-firefox</i>
<comment>(Installer Opera.)</comment>
# <i>echo "www-client/opera qt-static" >> /etc/portage/package.use</i>
# <i>emerge opera</i>
</pre>

<p>
Après avoir exploré quelques applications de bureau, voyons ce que l'on peut
faire pour améliorer votre environnement Xfce.
</p>

</body>
</section>
<section>
<title>Connexion graphique</title>
<body>

<p>
Vous souvenez-vous que l'on a ajouté <c>startxfce4</c> dans notre fichier
<path>~/.xinitrc</path>&nbsp;? Tout ce que vous avez à faire pour démarrer
votre session graphique est de vous identifier puis de taper <c>startx</c>.
C'est une bonne solution si vous préférez un démarrage et une connexion en mode
texte, mais nous allons utiliser un gestionnaire de session graphique qui
lancera Xfce automatiquement après le démarrage (de cette façon vous pourrez
vous identifier graphiquement).
</p>

<p>
Tout d'abord, on va s'assurer que Xfce soit lancé au démarrage&nbsp;:
</p>

<pre caption="Ajouter xdm au niveau d'exécution par défaut">
# <i>rc-update add xdm default</i>
</pre>

<p>
Nous n'avons pas encore fini. Il nous faut encore choisir un gestionnaire de
session graphique et ajuster certaines variables. Comme le choix est large dans
Portage, nous allons nous contenter de deux gestionnaire pour ce guide&nbsp;:
<c>xdm</c> et <c>gdm</c>.
</p>

<p>
<c>xdm</c> est rapide et léger, mais il n'est ni très beau ni vraiment
personnalisable.  Si vous désirez l'utiliser, commencez par l'installer&nbsp;:
</p>

<pre caption="Installer XDM">
# <i>emerge -avt xdm</i>
</pre>

<p>
Puis éditez la variable DISPLAYMANAGER dans le fichier
<path>/etc/conf.d/xdm</path>&nbsp;:
</p>

<pre caption="Éditer /etc/conf.d/xdm">
DISPLAYMANAGER="xdm"
</pre>

<p>
Vous pouvez choisir d'utiliser <c>xdm</c>, mais pourquoi ne pas essayer
<c>gdm</c> à la place&nbsp;? Il est bien plus configurable et surtout plus
esthétique. Commençons par l'installer. Notez qu'installer <c>gdm</c> demandera
d'installer quelques petites dépendances.
</p>

<pre caption="Installer GDM">
# <i>emerge -avt gdm</i>
</pre>

<p>
Puis changez la variable DISPLAYMANAGER pour utiliser <c>gdm</c> à la place de
<c>xdm</c>&nbsp;:
</p>

<pre caption="Éditer /etc/conf.d/xdm">
DISPLAYMANAGER="gdm"
</pre>

</body>
</section>
<section>
<title>Rendre votre environnement de bureau plus beau</title>
<body>

<p>
Une petite personnalisation de votre environnement peut parfois prendre
beaucoup de temps. Xfce contient toutes les options que vous pourriez attendre
d'un environnement de bureau complet&nbsp;: lissage des polices de caractères,
modèles de couleurs, différentes décorations des fenêtres, thèmes et plus
encore. Si ce n'est pas suffisant pour vous, il est simple d'installer des
thèmes supplémentaires, des icônes, des thèmes de curseurs et des fonds
d'écrans.
</p>

<p>
Une sélection de fonds d'écrans Gentoo disponibles dans plusieurs résolutions
sont hébergés sur le <uri
link="http://www.gentoo.org/main/en/graphics.xml">site officiel de
Gentoo</uri>. Si vous êtes à la recherche de thèmes d'icônes et de thèmes Xfce,
<uri link="http://www.xfce-look.org/">Xfce-Look</uri> en héberge une grande
quantité. Pour installer des thèmes ou icônes supplémentaires téléchargés, il
vous faudra d'abord les placer dans le bon dossier.  Les paquets d'icônes vont
dans <path>/usr/share/icons/</path> et les thèmes vont dans
<path>/usr/share/themes/</path>.
</p>

<p>
Si vous utilisez <c>gdm</c> comme gestionnaire de connexion graphique, le site
<uri link="http://www.gnome-look.org">Gnome-Look</uri> propose de nombreux
thèmes pour personnaliser <c>gdm</c>. Pour les installer, vous pouvez soit les
décompresser dans le dossier <path>/usr/share/gdm/themes/</path>, soit lancer
la commande <c>gdmsetup</c> avec les privilèges <b>root</b> et
«&nbsp;glisser-déposer&nbsp;» l'archive dans la fenêtre <c>gdm</c>.  Il existe
quelques <uri link="http://gnome-look.org/content/show.php?content=45575">très
beaux</uri> thèmes <uri
link="http://gnome-look.org/content/show.php?content=20071">Gentoo</uri>
disponibles.
</p>

<p>
Enfin, Xfce a son propre système de gestion de la transparence. Cette option se
trouve dans Menu --> Settings --> Window Manager. Pour de meilleures
performances, il faudra utiliser un pilote de carte graphique qui supporte
l'accélération graphique et activer l'option «&nbsp;Composite&nbsp;» dans le
fichier <path>/etc/X11/xorg.conf</path> en ajoutant cette section&nbsp;:
</p>

<pre caption="Éditer le fichier xorg.conf">
Section "Extensions"
    Option  "Composite"  "Enable"
EndSection
</pre>

<p>
Ceci est le strict minimum pour la configuration de Xorg-X11 requise par Xfce.
Néanmoins, activer l'accélération graphique dépend de votre carte graphique et
cela sort du champ de ce guide. Référez-vous aux autres guides de la liste <uri
link="/doc/fr/index.xml?catid=desktop">La station de travail Gentoo</uri> pour
apprendre comment configurer l'accélération graphique pour votre carte.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Résumé</title>
<section>
<body>

<p>
Félicitations d'être arrivé aussi loin&nbsp;! Vous venez d'installer et de
configurer un environnement rapide avec une suite solide d'applications pour
vos besoins informatiques.
</p>

</body>
</section>
<section>
<title>Références</title>
<body>

<p>
Besoin d'aide supplémentaire pour configurer et utiliser Xfce&nbsp;? Besoin de
conseils pour des applications plus légères&nbsp;? Essayez de poser vos
questions sur&nbsp;:
</p>

<ul>
  <li><uri link="http://forums.gentoo.org">les forums Gentoo</uri>&nbsp;;</li>
  <li>le canal IRC #xfce sur irc.freenode.net.</li>
</ul>

<p>
Enfin, c'est grâce à l'équipe Xfce du projet Gentoo que Xfce est disponible
dans Portage. Envoyez vos commentaires, remerciements et idées à
<mail>xfce@gentoo.org</mail>.
</p>

</body>
</section>
</chapter>
</guide>
