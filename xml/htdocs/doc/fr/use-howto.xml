<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/Attic/use-howto.xml,v 1.5 2004/02/24 22:15:46 neysx Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fr/use-howto.xml">
<title>Guide Gentoo des options de la variable USE</title>
<author title="Auteur">
  <mail link="seemant@gentoo.org">Seemant Kulleen</mail>
</author>
<author title="Correcteur">
  <mail link="felix@fbreuer.de">Felix Breuer</mail>
</author>
<author title="Correcteur">
  <mail link="meekrob@gentoo.org">Sherman Boyd</mail>
</author>
<author title="Correcteur">
  <!--zhen@gentoo.org-->John Davis
</author>
<author title="Correcteur">
  <mail link="stocke2@gentoo.org">Eric Stockbridge</mail>
</author>
<author title="Traducteur">
  <mail link="neysx@gentoo.org">Xavier Neys</mail>
</author>

<abstract>
Ce guide présente la façon la plus efficace de personnaliser la Gentoo&nbsp;:
les options de la variable USE. Il contient non seulement une description de
chacune des options USE en usage actuellement, mais aussi des indications qui
vous aideront à déterminer lesquelles vous seront utiles.
</abstract>

<license/>

<version>1.2.2</version>
<date>25 janvier 2004</date>

<chapter>
<title>Introduction</title>
<section>
<title>A quoi les options de la variable <c>USE</c> servent-elles&nbsp;?</title>
<body>
<p>
En tant qu'utilisateur, l'un des arguments qui m'a fait choisir Gentoo est
qu'elle est la distribution la plus configurable. Le fait qu'elle repose sur le
code source des applications donne à l'utilisateur le contrôle le plus abouti
sur les fonctionnalités présentes dans les différents logiciels. De plus, la
réduction du nombre d'applications présentes sur le système me paraît
importante&nbsp;; je n'aime pas devoir installer des logiciels dont je n'ai
<e>vraiment</e> aucun besoin.
</p>  

<p>
Comment fait-on cela sous Gentoo ? En définissant des options de la variable
<c>USE</c>.  Les options <c>USE</c> sont en fait des mots-clefs qui définissent
globalement les options de configuration qui seront passées aux applications
lors de leur compilation (les options sont applicables à l'ensemble du
système).
</p>
</body>
</section>

<section>
<title>Les options <c>USE</c> par défaut</title>
<body>
<p>
Comme de bien entendu, Gentoo définit un ensemble d'options <c>USE</c>
considérées comme sûres. On peut trouver ces options dans le fichier
<path>/etc/make.profile/make.defaults</path>.
</p>


<p>
Depuis la Gentoo-1.4_rc2, les options <c>USE</c> par défaut sont les
suivantes&nbsp;:
</p>

<pre>USE="xv slang readline gpm berkdb mmx 3dnow gdbm tcpd pam libwww ssl nls
     arts perl python esd gif imlib sdl oggvorbis gnome gtk X qt
     kde motif opengl avi png tiff gif"
</pre>

<warn>
Ne modifiez pas ce fichier, et j'en vois déjà quelques uns qui essaient.
Lisez d'abord la section suivante.
</warn>
</body>
</section>

<section>
<title>Définir vos propres options USE</title>
<body>

<p>
Pour sélectionner vos propres options USE, modifiez le fichier
<path>/etc/make.conf</path>.
Dans ce fichier, vous trouverez&nbsp;:
</p>

<pre caption="Variable USE mise en commentaire">
#USE=""
</pre>

<p>
Enlevez le '#' et ajoutez les options <c>USE</c> que vous voulez utiliser entre
les guillemets. Si vous voulez désactiver une option sélectionnée par défaut,
ne modifiez pas le fichier <path>make.defaults</path>, mais placez-la dans
votre <path>/etc/make.conf</path> en la préfixant avec un &quot;-&quot;
(tiret).
</p>

<impo>
Notez bien que <c>-option</c> désactive l'option et que <c>variable</c>
l'active.  Si une option n'est mentionnée ni dans
<path>/etc/make.profile/make.defaults</path> ni dans
<path>/etc/make.conf</path>, l'option est désactivée.
</impo>

<pre caption="Exemple d'une variable USE dans /etc/make.conf">
USE="-gnome -kde qt -arts -nls python perl oggvorbis opengl sdl
     -postgres jpeg png truetype xml xml2 dvd avi aalib mpeg encode fbcon
     mmx"
</pre>

<p>
Il n'est pas nécessaire de modifier le fichier <path>/etc/make.conf</path> pour
installer un paquet avec des options différentes. Vous pouvez simplement définir
la variable d'environnement USE. Ses options s'ajoutent à celles spécifiées dans
les fichiers <path>make.defaults</path> et <path>make.conf</path>. Cependant, 
des options passées via la variable d'environnement ne seront pas utilisées
par défaut quand vous mettrez le paquet à jour.
</p>

<pre caption="La variable d'environnement USE">
# <i>USE="-guile libgda" emerge -pv gnumeric</i>

These are the packages that I would merge, in order:
 
Calculating dependencies ...done!
[ebuild     U ] app-office/gnumeric-1.0.13-r1 [1.0.8] +libgda -gb -evo +python +bonobo -guile -perl

# <i>emerge -pv gnumeric</i>
 
These are the packages that I would merge, in order:
 
Calculating dependencies ...done!
[ebuild     U ] app-office/gnumeric-1.0.13-r1 [1.0.8] -libgda -gb -evo +python +bonobo +guile -perl
</pre>

<note>
Remarquez que la commande <c>emerge -pv paquet </c> affiche la liste des
options utilisées par le paquet et lequelles sont activées.
</note>


<p>
Maintenant que vous savez activer, désactiver et ajouter des options à la
variable <c>USE</c>, examinons les effets de ces options.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Les différentes options <c>USE</c> disponibles</title>

<section>
<title>Où les trouver ?</title>
<body>

<note>
Si vous souhaitez définir une nouvelle option <c>USE</c>, ajoutez-la dans le
fichier <path>use.desc</path> et téléchargez-le sur le serveur CVS.
<path>use.desc</path> est le fichier utilisé pour générer liste mentionnée
ci-dessous.
</note>

<p>
Une <uri link="/dyn/use-index.xml">liste</uri> à jour des options de la
variable <c>USE</c> est disponible sur notre site.
</p>

<p>
La commande <c>etcat</c> du paquet <c>gentoolkit</c> vous permet de visualiser
les options utilisées par un paquet, celles qui sont actuellement activées et
celles qui ont été utilisées lors de la compilation du paquet. Elle affiche
aussi une courte description de ces options.
</p>

<pre caption="Utiliser etcat">
# <i>etcat -u gnumeric</i>
[ Colour Code : set unset ]
[ Legend      : (U) Col 1 - Current USE flags        ]
[             : (I) Col 2 - Installed With USE flags ]
 
 U I [ Found these USE variables in : app-office/gnumeric-1.0.13-r1 ]
 - - libgda : Adds GNU Data Access (CORBA wrapper) support for gnumeric
 - - gb     : Adds support for Gnome Basic to gnumeric
 - + evo    : Adds support for evolution in gnumeric
 + + python : Adds support/bindings for the Python language
 + + bonobo : Adds support for gnome-base/bonobo (Gnome CORBA interfaces)
 + + guile  : Adds support for dev-util/guile (interpreter for Scheme)
 - + perl   : Adds support/bindings for the Perl language.
</pre>

</body>
</section>

<section>
<title>Problèmes et commentaires</title>
<body>
<p>
Si vous souhaitez faire un commentaire sur les options <c>USE</c>
ou si elles vous posent un problème, veuillez remplir un
rapport de bug sur le site <uri>http://bugs.gentoo.org</uri> et
l'attribuer à seemant@gentoo.org</p>

</body>
</section>
</chapter>
</guide>
