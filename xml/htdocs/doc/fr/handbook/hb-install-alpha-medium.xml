<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/handbook/hb-install-alpha-medium.xml,v 1.33 2007/03/30 20:38:26 cam Exp $ -->

<sections>

<version>7.1</version>
<date>2006-09-04</date>

<section>
<title>Matériel requis</title>
<subsection>
<title>Introduction</title>
<body>

<!-- ELM:1 -->
<p>
Avant de débuter, nous allons présenter le matériel requis pour installer
Gentoo avec succès sur votre système.
</p>

</body>
</subsection>
<subsection>
<title>Matériel requis</title>
<body>

<table>
<tr>
  <th>Processeur</th>
  <ti>
    Veuillez consulter la <uri
    link="http://www.alphalinux.org/faq/FAQ-5.html">FAQ Alpha/Linux</uri>
  </ti>
</tr>
<tr>
  <th>Mémoire</th>
  <ti>64 MB</ti>
</tr>
<tr>
  <th>Espace disque</th>
  <ti>1.5 Go (mémoire virtuelle non comprise)</ti>
</tr>
<tr>
  <th>Mémoire virtuelle</th>
  <ti>Au moins 256 Mo</ti>
</tr>
</table>

</body>
</subsection>
</section>

<!-- Cette partie est identique sur tous les fichiers. Le master est x86/amd64
START -->
<section>
<title>Les CD d'installation Gentoo</title>
<subsection>
<title>Introduction</title>
<body>

<p>
Les <e>CD d'installation Gentoo</e> sont des CD-ROM amorçables qui contiennent
un environnement Gentoo autonome. Cela vous permet de démarrer Linux à partir
du CD-ROM. Pendant le chargement, votre matériel est détecté et les pilotes
appropriés sont chargés. Ces CD sont maintenus par les développeurs Gentoo.
</p>

<p>
Chaque CD d'installation vous permet d'amorcer l'ordinateur, de paramétrer le
réseau, d'initialiser les partitions de vos disques et d'installer Gentoo à
partir d'Internet. Deux CD d'installation sont disponibles. Ils permettent
chacun d'installer les versions les plus récentes de tous les paquets à
condition que vous soyez connecté à Internet.
</p>

<impo>
Pour une installation sans connexion réseau ou si vous souhaitez utiliser un
des installateurs fournis, veuillez suivre les instructions figurant dans <uri
link="/doc/en/2006.1/index.xml">les manuels Gentoo de la version 2006.1</uri>.
</impo>

<p>
Les CD d'installation disponibles sont&nbsp;:
</p>

<ul>
  <li>
    Le CD d'installation <e>Minimal</e> est un petit CD dont la seule utilité
    est d'amorcer le système, de préparer le réseau et d'installer Gentoo.
  </li>
  <li>
    Le CD d'installation <e>Universal</e> est amorçable et contient la même
    chose que le <e>Minimal</e> avec en plus différentes archives stage3
    optimisées pour plusieurs sous-architectures.
  </li>
</ul>

<p>
Pour vous aider à choisir un CD d'installation, leurs avantages et
inconvénients sont repris ci-dessous.
</p>

</body>
</subsection>
<subsection>
<title>Le CD d'installation Gentoo Minimal</title>
<body>

<p>
L'image du CD d'installation Minimal s'appelle <c><keyval
id="min-cd-name"/></c> et ne pèse que <keyval id="min-cd-size"/>&nbsp;Mo. Une
connexion à Internet est nécessaire.
</p>

<table>
<tr>
  <th>CD d'installation Minimal</th>
  <th>Le pour et le contre</th>
</tr>
<tr>
  <th>+</th>
  <ti>Temps de téléchargement relativement court</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Ne contient pas de stage3, pas d'instantané de Portage, pas de paquets
    binaires et n'est donc pas utilisable pour une installation sans réseau.
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Le CD d'installation Gentoo Universal</title>
<body>

<p>
L'image du CD d'installation Universal s'appelle <c><keyval
id="univ-cd-name"/></c> et pèse <keyval id="univ-cd-size"/>&nbsp;Mo. Vous
pouvez même l'utiliser pour installer Gentoo sans connexion Internet.
</p>

<table>
<tr>
  <th>LiveCD</th>
  <th>Le pour et le contre</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Contient tout ce dont vous avez besoin. Vous pouvez même procéder à
    l'installation sans connexion réseau.
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Très long téléchargement</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>L'archive stage3</title>
<body>

<!-- ELM:11 -->
<p>
Une archive stage3 contient un environnement minimal d'utilisation à partir
duquel vous pouvez installer Gentoo sur votre système en suivant les
instructions de ce manuel.  Des archives stage1 et stage2 ont été disponibles
et documentées, mais ne sont plus documentées dans ce manuel bien que ces
archives soient encore disponibles.  Si vous tenez absolument à réaliser une
installation à partir d'une de ces archives, veuillez consulter notre <uri
link="/doc/fr/faq.xml#stage12">FAQ</uri> à ce sujet.
</p>

</body>
</subsection>
</section>

<section>
<title>Télécharger, graver et amorcer un CD d'installation Gentoo</title>
<subsection>
<title>Télécharger et graver les CD d'installation</title>
<body>

<!-- ELM:4 -->
<p>
Vous avez choisi d'utiliser un CD d'installation Gentoo. Nous débuterons par le
téléchargement puis la gravure du (des) CD d'installation que vous avez
choisi(s). Nous avons déjà détaillé les différents CD disponibles, mais où
pouvez-vous les trouver&nbsp;?
</p>

<!-- ELM:5 -->
<p>
Vous pouvez télécharger un de nos CD d'installation à partir d'un de nos <uri
link="/main/en/mirrors.xml">miroirs</uri>.  Les CD d'installation se trouvent
dans le sous-répertoire <path><keyval id="release-dir"/>installcd/</path>.
</p>

<!-- ELM:2 -->
<p>
Dans ce répertoire, vous trouverez plusieurs fichiers ISO. Ce sont des images
de CD que vous pouvez utiliser pour graver un CD-R.
</p>

<!-- ELM:3 -->
<p>
Pour vérifier que le fichier téléchargé n'a pas été corrompu pendant le
transfert, vous devriez vérifier son intégrité en calculant sa somme de
vérification MD5 et en comparant le résultat avec la somme que nous publions
sur notre site, par exemple dans le fichier
<path><keyval id="min-cd-name"/>.DIGESTS</path>. Vous pouvez utiliser l'outil
<c>md5sum</c> sous Linux ou <uri
link="http://www.etree.org/md5com.html">md5sum</uri> sous Windows.
</p>

<!-- ELM:6 -->
<p>
Un autre moyen de vérifier la validité du fichier téléchargé est d'utiliser
GnuPG pour tester la signature électronique que nous fournissons (le fichier
qui se termine en <path>.asc</path>). Téléchargez le fichier avec la signature
et procurez-vous la clé publique&nbsp;:
</p>

<pre caption="Obtenir la clé publique">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Ensuite, vérifiez la signature&nbsp;:
</p>

<pre caption="Vérifier la signature">
$ <i>gpg --verify &lt;fichier_signature&gt; &lt;fichier_iso_téléchargé&gt;</i>
</pre>
<!-- fin ELM:6 -->

<!-- ELM:7 -->
<p>
Afin de graver le(s) ISO, vous devez utiliser la gravure brute (raw-burning).
La manière de procéder dépend de votre programme. Nous décrivons comment faire
avec <c>cdrecord</c> et <c>k3b</c> ci-dessous. Vous trouverez d'autres méthodes
dans notre <uri link="/doc/fr/faq.xml#isoburning">FAQ</uri>.
</p>

<ul>
  <li>
    Avec cdrecord, tapez simplement <c>cdrecord dev=/dev/hdc &lt;fichier
    .iso&gt;</c> (remplacez <path>/dev/hdc</path> par le fichier de
    périphérique matériel de votre graveur).
  </li>
  <li>
    Avec K3B, sélectionnez <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn Image</c>.
    Dans la zone «&nbsp;Image to Burn&nbsp;», sélectionnez le fichier ISO et
    cliquez sur <c>Start</c>.
  </li>
</ul>
<!-- fin ELM:7 -->

</body>
</subsection>
<subsection>
<title>Démarrer le CD d'installation</title>
<body>

<p>
Lorsqu'un ordinateur Alpha est mis sous tension, le premier évènement qui se
produit est le chargement du microcode («&nbsp;firmware&nbsp;»). Il s'agit plus
ou moins de l'équivalent du BIOS des systèmes PC. Il y a deux types de
microcode&nbsp;: SRM (<e>Systems Reference Manual</e>) et ARC (<e>Advanced Risc
Console</e>).
</p>

<p>
SRM est basé sur les spécifications de Alpha Console Subsystem qui définissent
un environnement de travail pour les systèmes d'exploitation OpenVMS, Tru64
UNIX et Linux. ARC est basé sur les spécifications Advanced RISC Computing
(ARC) qui définissent un environnement d'opération pour Windows NT. Vous
trouverez un <uri link="http://www.alphalinux.org/faq/SRM-HOWTO/">guide
détaillé</uri> sur l'utilisation de SRM sur le site dédié à Linux pour Alpha.
</p>

<p>
Si votre système Alpha supporte SRM et ARC (ARC, AlphaBios ou ARCSBIOS), vous
devriez suivre <uri link="http://www.alphalinux.org/faq/x31.html">ces
instructions</uri> pour passer à SRM. Si votre système utilise déjà SRM, aucun
changement n'est nécessaire. Si votre système ne peut utiliser qu'ARC
(Ruffian, nautilus, x1, etc.), vous devrez choisir <c>MILO</c> comme chargeur
de démarrage lorsque nous aborderons cette question.
</p>

<p>
Pour amorcer à partir d'un CD d'installation Alpha, insérez le CD dans le
lecteur puis redémarrez. Vous pouvez utiliser SRM pour amorcer le CD
d'installation. Si cela n'est pas possible, vous devrez utiliser <c>MILO</c>.
Si <c>MILO</c> n'est pas installé, utilisez une des images précompilées de
<c>MILO</c> disponibles sur <uri link="http://dev.gentoo.org/~taviso/milo/">la
page Web de taviso</uri>.
</p>

<p>
Cette version inclut également deux entrées pour les personnes désireuses
d'utiliser une console série durant l'installation, par exemple pour des
machines sans écran ni clavier.  La première vous permet de démarrer un noyau
2.6 utilisant une console série et la seconde permet la même chose avec un
noyau 2.4.
</p>

<pre caption="Démarrer un CD avec SRM">
<comment>(Listez les unités disponibles.)</comment>
&gt;&gt;&gt; <i>show device</i>
dkb0.0.1.4.0        DKB0       TOSHIBA CDROM
<comment>(...)</comment>
<comment>(Remplacez dqa0 par le fichier matériel de votre lecteur de CD-ROM.)</comment>
&gt;&gt;&gt; <i>boot dqa0 -flags 0</i>
<comment>(Pour démarrer avec un noyau 2.4 au lieu du 2.6 :)</comment>
&gt;&gt;&gt; <i>boot dkb -flags 1</i>
<comment>(Pour utiliser une console série)</comment>
<comment>(Pour démarrer le noyau 2.6 avec support d'une console série.)</comment>
&gt;&gt;&gt; <i>boot dkb0 -flags 2</i>
<comment>(Pour démarrer le noyau 2.4 avec support d'une console série.)</comment>
&gt;&gt;&gt; <i>boot dkb0 -flags 3</i>
</pre>

<pre caption="Démarrer un CD avec MILO">
<comment>(Remplacez hdb par le fichier matériel de votre lecteur de CD-ROM.)</comment>
MILO&gt; <i>boot hdb:/boot/gentoo_2.6 initrd=/boot/gentoo_2_6.igz root=/dev/ram0 init=/linuxrc looptype=zisofs loop=/zisofs cdroot</i>
<comment>(Pour démarrer avec un noyau 2.4 au lieu du 2.6 :)</comment>
MILO&gt; <i>boot hdb:/boot/gentoo_2.4 initrd=/boot/gentoo_2_4.igz root=/dev/ram0 init=/linuxrc looptype=zisofs loop=/zisofs cdroot</i>
<comment>(Pour utiliser une console série)</comment>
<comment>(Pour démarrer le noyau 2.6 avec support d'une console série)</comment>
MILO&gt; <i>boot hdb:/boot/gentoo_2.6 initrd=/boot/gentoo_2_6.igz root=/dev/ram0 init=/linuxrc looptype=zisofs loop=/zisofs console=ttyS0 cdroot</i>
<comment>(Pour démarrer le noyau 2.4 avec support d'une console série)</comment>
MILO&gt; <i>boot hdb:/boot/gentoo_2.4 initrd=/boot/gentoo_2_4.igz root=/dev/ram0 init=/linuxrc looptype=zisofs loop=/zisofs console=ttyS0 cdroot</i>
</pre>

<p>
Vous devriez avoir une invite de commande root («&nbsp;#&nbsp;») sur la console
active. Vous pouvez aussi passer aux autres consoles en tapant Alt+F2, Alt+F3
et Alt+F4. Retournez à la première console en tapant Alt+F1.
</p>

<p>
Continuez votre lecture avec la section
<uri link="#hardware">Configuration du matériel supplémentaire</uri>.
</p>

</body>
</subsection>
<subsection id="#hardware">
<title>Configuration du matériel supplémentaire</title>
<body>

<!-- ELM:8 -->
<p>
Lorsque le CD d'installation démarre, il tente de détecter votre matériel et
charge les modules du noyau appropriés pour supporter ce matériel. Dans la
plupart des cas cette autodétection donne d'excellents résultats. Toutefois,
il se peut que les modules du noyau dont vous avez besoin ne soient pas tous
chargés. Si l'autodétection PCI a ignoré une partie de votre matériel, vous
devrez charger les modules appropriés manuellement.
</p>

<p>
Dans l'exemple suivant, nous tentons de charger le module <c>8139too</c>
(support de certaines interfaces réseau)&nbsp;:
</p>

<pre caption="Charger des modules du noyau">
# <i>modprobe 8139too</i>
</pre>

</body>
</subsection>
<subsection>
<title>Facultatif&nbsp;: régler les performances des disques durs</title>
<body>

<!-- ELM:9 -->
<p>
Si vous êtes un utilisateur expérimenté, vous souhaitez peut-être régler les
performances des disques durs IDE en utilisant <c>hdparm</c>. Avec les
arguments <c>-tT</c>, vous pouvez tester les performances de vos disques
(exécutez ce test plusieurs fois pour juger plus précisément des résultats).
</p>

<pre caption="Tester les performances des disques">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Pour régler les performances, vous pouvez copier les exemples suivants (ou
expérimenter) qui utilisent <c>/dev/hda</c> comme disque dur
(substituez par le chemin d'accès à votre disque)&nbsp;:
</p>

<pre caption="Régler les performances du disque dur">
<comment>Activer DMA :</comment>
# <i>hdparm -d 1 /dev/hda</i>
<comment>Ou bien activer DMA avec des options sures pour améliorer les performances :</comment>
# <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>
<!-- fin ELM:9 -->

</body>
</subsection>
<subsection id="useraccounts">
<title>Facultatif&nbsp;: comptes utilisateurs</title>
<body>

<!-- ELM:10 -->
<p>
Si vous souhaitez permettre à d'autres personnes d'accéder à votre
environnement d'installation ou si vous voulez dialoguer en ligne avec
<c>irssi</c> sans être root pour des raisons de sécurité, vous devez créer les
comptes utilisateurs nécessaires et changer le mot de passe de root.
</p>

<p>
Pour changer le mot de passe de root, utilisez l'utilitaire <c>passwd</c>&nbsp;:
</p>

<pre caption="Changer le mot de passe de root">
# <i>passwd</i>
New password: <comment>(Entrez votre nouveau mot de passe.)</comment>
Re-enter password: <comment>(Confirmez votre mot de passe.)</comment>
</pre>

<p>
Pour créer un compte utilisateur, on saisit d'abord son nom, puis son mot de
passe. Les programmes <c>useradd</c> et <c>passwd</c> sont utilisés pour ces
tâches. Dans l'exemple suivant, nous créons un utilisateur nommé
«&nbsp;john&nbsp;».
</p>

<pre caption="Création d'un compte utilisateur">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Entrez le mot de passe de john.)</comment>
Re-enter password: <comment>(Confirmez le mot de passe de john.)</comment>
</pre>

<p>
Vous pouvez passer de l'utilisateur root à l'utilisateur que vous venez de
créer avec la commande <c>su</c>&nbsp;:
</p>

<pre caption="Devenir john">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Facultatif&nbsp;: consulter la documentation pendant l'installation</title>
<body>

<p>
Si vous désirez consulter le Manuel Gentoo, sur le CD ou en ligne, vous devez
avoir configuré un <uri link="#useraccounts">compte utilisateur</uri>. Ensuite,
tapez <c>Alt+F2</c> pour basculer sur un autre terminal et connectez-vous avec
le compte utilisateur que vous avez créé.
</p>

<p>
Pour lire la documentation qui accompagne le CD, il vous suffit de lancer
<c>links</c>&nbsp;:
</p>

<pre caption="Consulter la documentation sur le CD">
# <i>links /mnt/cdrom/docs/handbook/html/index.html</i>
</pre>

<p>
Cependant, quand cela est possible, il est préférable de lire le Manuel Gentoo
en ligne, car il est plus à jour. Vous pouvez également utiliser <c>links</c>,
mais uniquement si vous avez configuré votre accès au réseau.
</p>

<pre caption="Consulter la documentation en ligne">
# <i>links http://www.gentoo.org/doc/fr/handbook/<keyval id="online-book"/></i>
</pre>

<p>
Vous pouvez revenir à votre terminal initial en tapant <c>Alt+F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Facultatif&nbsp;: démarrage du démon SSH</title>
<body>

<p>
Si vous voulez permettre à d'autres utilisateurs d'accéder à votre ordinateur
pendant le processus d'installation (peut-être que ces utilisateurs vous
aideront à installer Gentoo ou même le feront pour vous), vous devez leur
fournir un compte utilisateur ou le mot de passe de root. (Cette dernière option
n'est envisageable que <e>si</e> vous <b>faites entièrement confiance</b> à cet
utilisateur.)
</p>

<p>
Pour démarrer le démon SSH, exécutez la commande suivante&nbsp;:
</p>

<pre caption="Démarrer le démon SSH">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Avant de pouvoir utiliser sshd, vous devez <uri
link="?part=1&amp;chap=3">Configurer votre connexion réseau</uri>.
</p>
<!-- fin ELM:10 -->

</body>
</subsection>
</section>
</sections>
