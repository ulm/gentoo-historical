<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/handbook/hb-install-ppc-medium.xml,v 1.38 2006/03/01 14:40:26 neysx Exp $ -->

<sections>

<version>2.9</version>
<date>2006-02-27</date>

<section>
<title>Matériel requis</title>
<subsection>
<title>Introduction</title>
<body>

<p>
Avant de débuter, nous allons présenter le matériel requis pour installer
Gentoo avec succès sur votre système.
</p>

</body>
</subsection>
<subsection>
<title>Matériel requis</title>
<body>

<table>
<tr>
  <th>Machines Apple « NewWorld »</th>
  <ti>
    Power/PowerPC basé sur (G3, G4, G5) comme les iMac, eMac, iBook
    PowerBook, Xserver, PowerMac
  </ti>
</tr>
<tr>
  <th>Machines Apple « OldWorld »</th>
  <ti>
    Machines Apple avec un version d'OpenFirmware antérieure à 3 telles que les
    G3 beiges, les PCI PowerMacs et PCI PowerBooks. Les clones d'Apple basés
    sur le bus PCI devraient aussi être supportés
  </ti>
</tr>
<tr>
  <th>Pegasos de Genesi</th>
  <ti>
    Pegasos I/II, Open Desktop Workstation
  </ti>
</tr>
<tr>
  <th>IBM</th>
  <ti>
    RS/6000, iSeries, pSeries
  </ti>
</tr>
<tr>
  <th>Mémoire</th>
  <ti>64 Mo</ti>
</tr>
<tr>
  <th>Espace dique</th>
  <ti>1.5 Go (mémoire virtuelle non comprise)</ti>
</tr>
<tr>
  <th>Mémoire virtuelle</th>
  <ti>Au moins 256 Mo</ti>
</tr>
</table>

<p>
Vous devriez consulter la <uri link="/doc/fr/gentoo-ppc-faq.xml">Foire Aux
Questions PPC</uri> pour toute question sur l'installation ou si vous vous
demandez qu'est ce qu'il y a exactement dans la machine PowerPC qui repose sur
votre bureau.
</p>

</body>
</subsection>
</section>

<section>
<title>Les CD d'installation de Gentoo</title>
<subsection>
<title>Introduction</title>
<body>

<p>
Les <e>CD d'installation Gentoo</e> sont des CD-ROM amorçables qui contiennent un
environnement Gentoo autonome. Cela vous permet de démarrer Linux à partir du
CD-ROM. Pendant le chargement, votre matériel est détecté et les pilotes
appropriés sont chargés. Ces CD sont maintenus par les développeurs Gentoo.
</p>

<p>
Chaque CD d'installation vous permet d'amorcer l'ordinateur, de paramétrer le
réseau, d'initialiser les partitions de vos disques et d'installer Gentoo à
partir d'Internet. Deux CD d'installation sont disponibles. Ils permettent
chacun d'installer les versions les plus récentes de tous les paquets à
condition que vous soyez connecté à Internet.
</p>

<p>
Pour une installation sans connexion réseau, veuillez utiliser <uri
link="2006.0/">les guides de la version 2006.0</uri>.
</p>

<p>
Les CD d'installation disponibles sont&nbsp;:
</p>

<ul>
  <li>
    Le CD d'installation <e>Minimal</e> est un petit CD dont la seule utilité est
    d'amorcer le système, de préparer le réseau et d'installer Gentoo.
  </li>
  <li>
    Le CD d'installation <e>Universal</e> est amorçable et contient la même
    chose que le <e>Minimal</e> avec différentes archives stage3 optimisées
    pour plusieurs sous-architectures.
  </li>
</ul>

<p>
Pour vous aider à choisir un CD d'installation, leurs avantages et inconvénients sont
repris ci-dessous.
</p>

</body>
</subsection>
<subsection>
<title>CD d'installation minimal</title>
<body>

<p>
L'image du CD d'installation minimal s'appelle
<c>install-ppc-minimal-2006.0.iso</c> et ne pèse que 52&nbsp;Mo. Une
connexion à Internet est nécessaire.
</p>

<table>
<tr>
  <th>CD d'installation minimal</th>
  <th>Le pour et le contre</th>
</tr>
<tr>
  <th>+</th>
  <ti>Temps de téléchargement relativement court</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Ne contient pas de stage3, pas d'instantané de Portage ni de paquets GRP et
    n'est donc pas utilisable pour une installation sans réseau.
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>CD d'installation universel</title>
<body>

<p>
L'image du CD d'installation universel s'appelle
<c>install-ppc-universal-2006.0.iso</c> et pèse 578&nbsp;Mo. Vous pouvez
même l'utiliser pour installer Gentoo sans connexion Internet.
</p>

<table>
<tr>
  <th>CD universel</th>
  <th>Le pour et le contre</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Contient tout ce dont vous avez besoin. Vous pouvez même procéder à
    l'installation sans connexion réseau.
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Très long téléchargement</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Autres CD</title>
<body>

<p>
Vous avez peut-être vu des CD nommés «&nbsp;Package CD&nbsp;» sur nos miroirs.
Ces CD ne sont pas amorçables et contiennent des paquets pré-compilés qui
peuvent être utilisés pour des installations sans connexion à Internet. Ces
paquets sont, entre autres, OpenOffice.org, KDE, GNOME, etc.
</p>

<p>
Si vous avez l'intention d'utiliser un tel «&nbsp;Package CD&nbsp;» pour
installer rapidement quelques applications précompilées, vous <e>devez</e>
utiliser la même architecture et éventuellement la même sous-architecture que
pour l'archive Stage3.
</p>

</body>
</subsection>
<subsection>
<title>L'archive stage3</title>
<body>

<p>
Une archive stage3 contient un environnement minimal d'utilisation à partir
duquel vous pouvez installer Gentoo sur votre système en suivant les
instructions de ce manuel.  Des archives stage1 et stage2 ont été disponibles
et documentées, mais ne sont plus documentées dans ce manuel bien que ces
archives soient encore disponibles.  Si vous tenez absolument à réaliser une
installation à partir d'une de ces archives, veuillez consulter notre <uri
link="/doc/fr/faq.xml#stage12">FAQ</uri> à ce sujet.
</p>

</body>
</subsection>
</section>

<section>
<title>Télécharger, graver et amorcer un CD d'installation Gentoo</title>
<subsection>
<title>Télécharger et graver les CD d'installation</title>
<body>

<p>
Vous avez choisi d'utiliser un CD d'installation Gentoo. Nous débuterons par le
téléchargement puis la gravure du CD d'installation que vous avez choisi. Nous avons déjà
détaillé les différents CD disponibles, mais où pouvez-vous les trouver&nbsp;?
</p>

<p>
Visitez l'un de nos <uri link="/main/en/mirrors.xml">miroirs</uri> et allez
dans le répertoire <path>releases/ppc/2006.0/ppc32/installcd/</path>.
</p>

<p>
Vous y trouverez plusieurs fichiers ISO. Ce sont des images de CD que vous
pouvez utiliser pour graver un CD-R.
</p>

<p>
Pour vérifier que le fichier téléchargé n'a pas été corrumpu pendant le
transfert, vous devriez vérifier son intégrité en calculant sa somme de
vérification MD5 et en comparant le résultat avec la somme que nous publions
sur notre site, par exemple dans le fichier
<path>install-ppc-minimal-2006.0.iso.DIGESTS</path>. Vous pouvez utiliser
l'outil <c>md5sum</c> sous Linux ou <uri
link="http://www.etree.org/md5com.html">md5sum</uri> for Windows.  La
vérification de la somme MD5 avec Mac OS x est décrite dans notre <uri
link="/doc/fr/gentoo-ppc-faq.xml#doc_chap1">FAQ pour PPC</uri>.
</p>

<p>
Un autre moyen est d'utiliser la signature (le fichier avec l'extension
<path>.asc</path>) avec GnuPG. Téléchargez la signature et la clé
publique&nbsp;:
</p>

<pre caption="Télécharger le clé publique">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Ensuite, vérifiez la signature&nbsp;::
</p>

<pre caption="Vérifier la signature">
$ <i>gpg --verify &lt;fichier .asc&gt; &lt;fichier .iso&gt;</i>
</pre>

<p>
Plus d'information est disponible dans notre <uri
link="/doc/fr/gentoo-ppc-faq.xml">FAQ pour PPC</uri>.
</p>

<p>
Afin de graver le(s) ISO, vous devez utiliser la gravure brute (raw-burning).
La manière de procéder dépend de votre programme. La manière de procéder avec
<c>cdrecord</c>, <c>k3b</c> ou les outils MacOS est décrite ci-dessous. Vous
trouverez d'autres méthodes dans notre <uri
link="/doc/fr/faq.xml#isoburning">FAQ</uri>.
</p>

<ul>
  <li>
    Avec cdrecord, tapez simplement <c>cdrecord dev=/dev/hdc &lt;fichier
    .iso&gt;</c> (remplacez <path>/dev/hdc</path> par le chemin d'accès du
    fichier matériel de votre graveur).
  </li>
  <li>
    Avec k3b, sélectionnez <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn Image</c>.
    Dans la zone «&nbsp;Image to Burn&nbsp;», sélectionnez le fichier ISO et
    cliquez sur <c>Start</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Par défaut : démarrer le CD d'installation avec Yaboot</title>
<body>

<p>
Sur les machines NewWorld, mettez le CD d'installation dans le lecteur CD-ROM
et redémarrez le système. Lorsque le bip système retentit, enfoncez simplement
la touche «&nbsp;C&nbsp;» jusqu'à ce que le CD soit chargé.
</p>

<p>
Une fois que le CD d'installation s'est chargé, un chaleureux message de
bienvenue vous accueillera et une invite de commande <e>boot:</e> apparaîtra au
bas de l'écran.
</p>

<p>
Nous fournissons un noyau générique, <e>ppc32</e>. Ce noyaux inclut le support
pour plusieurs processeurs, mais il fonctionne également très bien avec un seul
processeur.
</p>

<p>
Vous pouvez aussi passer certains paramètres au noyau. Les
options disponibles sont dans la liste ci-dessous&nbsp;:
</p>

<table>
<tr>
 <th>Option de démarrage</th>
 <th>Description</th>
</tr>
<tr>
 <ti><c>video</c></ti>
 <ti>
   Ajoutez-y une des valeurs suivantes&nbsp;: <c>nvidiafb</c>, <c>radeonfb</c>,
   <c>rivafb</c>, <c>atyfb</c>, <c>aty128</c> ou <c>ofonly</c>. Vous pouvez
   encore y ajouter la résolution, le taux de rafraîchissement et la profondeur
   de couleur que vous voulez avoir. Par exemple, utilisez
   <c>video=radeonfb:1280x1024@75-32</c> pour avoir le framebuffer Ati Radeon
   en 1280*1024, avec un rafraîchissement de 75Hz et une profondeur de couleur
   de 32bits. Si vous ne savez pas quoi utiliser et que le défaut ne marche
   pas, <c>ofonly</c> devrait fonctionner.
 </ti>
</tr>
<tr>
 <ti><c>nol3</c></ti>
 <ti>
   Désactive le cache de niveau 3 sur certains PowerBooks (requis au moins pour
   le 17 pouces).
 </ti>
</tr>
<tr>
 <ti><c>dofirewire</c></ti>
 <ti>
   Active le support IEEE1394 (firewire) utilisé par exemple pour des disques
   externes.
 </ti>
</tr>
<tr>
  <ti><c>dopcmcia</c></ti>
  <ti>
    Active le support des cartes PCMCIA, par exemple pour une carte réseau que
    vous voulez utiliser pendant l'installation.
  </ti>
</tr>
</table>

<p>
À cette invite, tapez Entrée et un environnement Gentoo Linux complet sera
chargé à partir du CD. Poursuivez avec <uri link="#booted">Après avoir
démarré</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Alternative&nbsp;: Pegasos</title>
<body>

<p>
Sur une machine Pegasos, insérez le CD et tapez <c>boot cd /boot/menu</c> à
l'invite du SmartFirmware.  Cela ouvrira un menu avec des configuations video
prédéfinies. Si vous avez besoin d'une option de démarrage spéciale, vous
pouvez l'ajouter à la fin de la ligne comme avec Yaboot ci-dessus. Par exemple,
<c>boot cd /boot/pegasos video=radeonfb:1280x1024@75 mem=256M</c>. Au cas où
vous en auriez besoin, les options préconfigurées dans le noyau sont
<c>console=ttyS0,115200 console=tty0 init=/linuxrc looptype=squashfs
loop=/image.squashfs udev nodevfs cdroot root=/dev/ram0</c>.
</p>

</body>
</subsection>

<subsection>
<title>Alternative&nbsp;: Démarrer le CD d'installation avec BootX</title>
<body>

<p>
Si vous disposez d'un Mac OldWorld, alors la partie auto-démarrable du LiveCD ne
pourra pas être utilisée. La solution la plus simple est d'utiliser MacOS pour
démarrer sur un environnement Linux à l'aide d'un outil nommé BootX.
</p>

<p>
Tout d'abord télechargez
<uri link="http://penguinppc.org/projects/bootx/">BootX</uri> et décompressez
l'archive. Copiez le <c>BootX Extension</c> depuis les fichiers décompressés
dans le <c>répertoire d'extensions</c> et le panneau de contrôle de
l'application BootX dans <c>Panneau de Contrôle</c>. Les deux sont situés
dans le répertoire Système de MacOS. Ensuite, créez un répertoire nommé 
«&nbsp;Linux Kernels&nbsp;» dans votre répertoire système et copiez le noyau
<c>ppc32/</c> depuis le CD-ROM vers votre répertoire. Enfin, copiez le fichier
<c>ppc32.igz</c> issu du fichier d'installation dans le répertoire <c>boot</c>
dans le répertoire Système de MacOS.
</p>

<p>
Pour préparer BootX vous devez lancer l'application de panneau de configuration
BootX. Tout d'abord allez dans la boîte de dialogue des options et validez
<c>Use Specified RAM Disk</c>, puis sélectionnez <c>ppc32.igz</c> dans votre
répertoire système. Retournez à l'écran de départ et assurez-vous que la taille
du «&nbsp;ramdisk&nbsp;» est d'au moins <c>32000</c>. Enfin, indiquez les
arguments passés au noyau comme suit&nbsp;:
</p>

<pre caption="Arguments du noyau de BootX">
cdroot root=/dev/ram0 init=linuxrc loop=image.squashfs looptype=squashfs console=tty0 nodevfs udev
</pre>

<note>
Les paramètres de noyau dans le chapitre sur yaboot sont également applicables
ici. Vous pouvez ajouter n'importe laquelle de ces options aux arguments du
noyau ci-dessus.
</note>

<p>
Vérifiez de nouveau que la configuration est correcte et sauvegardez la
configuration. Cette sauvegarde est pour le cas où la machine ne démarre pas ou
que quelque chose manque. Cliquez sur le bouton Linux en haut de la fenêtre. Si
tout se passe bien, cela devrait démarrer sur le CD d'installation. Continuez
avec le chapitre <uri link="#booted">Après avoir démarré</uri>.
</p>

</body>
</subsection>
<subsection id="booted">
<title>Après avoir démarré</title>
<body>

<p>
Vous recevrez une invite de commande root («&nbsp;#&nbsp;») sur la console
active.  Vous pouvez aussi passer aux autres consoles en tapant Alt-F2, Alt-F3
et Alt-F4. Retournez à la première console en tapant Alt-F1. À cause de la
disposition du clavier sur les machines Apple, vous devrez sans doute utiliser
des combinaisons Alt-fn-Fx.
</p>

<p>
Si vous utilisez un clavier différent du clavier qwerty américain, utilisez la
commande <c>loadkeys</c> pour définir la disposition des touches à utiliser.
Une liste des claviers supportés se trouve dans le répertoire
<path>/usr/share/keymaps/i386</path>. N'utilisez pas les dispositions de
touches des répertoires <path>ppc</path> ou <path>mac</path> avec des machines
NewWorld ou Pegasos, car elles sont spécifiques aux machines OldWorld basées
sur ADB.
</p>

<pre caption="Afficher la liste des claviers disponibles">
<comment>Les machines PPC utilisent généralement les claviers de type x86.</comment>
<comment>Les configurations de claviers du CD d'installation sont des configurations ADB</comment>
<comment>et ne fonctionnent pas avec le noyau du CD d'installation.</comment>
# <i>ls /usr/share/keymaps/i386</i>
</pre>

<p>
Pour définir le type de clavier que vous utilisez, faites&nbsp;:
</p>

<pre caption="Définir le type de clavier">
# <i>loadkeys be-latin1</i>
</pre>

<p>
Poursuivez votre lecture avec la section
<uri link="#hardware">Configuration du matériel supplémentaire</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Configuration du matériel supplémentaire</title>
<body>

<p>
Lorsque le CD d'installation démarre, il tente de détecter votre matériel et charge les
modules du noyau appropriés pour supporter ce matériel. Dans la plupart des cas
cette auto-détection donne d'excellents résultats. Toutefois, il se peut que,
dans certains cas, les modules du noyau dont vous avez besoin ne soient pas tous
chargés. Si l'auto-détection PCI a ignoré une partie de votre matériel, vous
devrez charger les modules appropriés manuellement.
</p>

<p>
Dans l'exemple suivant, nous tentons de charger le module <c>airport</c>.  Ce
module est utilisé avec des interfaces réseau Airport de l'ancienne génération
(802.11b). Les cartes AirportExtreme (802.11b) ne sont pas supportées par le CD
d'installation à cause des restrictions sur la distribution du firmware.
</p>

<pre caption="Charger des modules du noyau">
# <i>modprobe airport</i>
</pre>

<p>
Sur les anciens iMacs, il arrive que la carte réseau ne soit pas détectée
correctement. Il faut alors utiliser le pilote BMAC&nbsp;:
</p>

<pre caption="Charger le module bmac">
# <i>modprobe bmac</i>
</pre>

</body>
</subsection>
<subsection>
<title>Facultatif&nbsp;: régler les performances des disques durs</title>
<body>

<p>
Si vous êtes un utilisateur expérimenté, vous souhaitez peut-être régler les
performances des disques durs IDE en utilisant <c>hdparm</c>. Avec les
arguments <c>-tT</c>, vous pouvez tester les performances de vos disques
(exécutez ce test plusieurs fois pour juger plus précisément des résultats).
</p>

<pre caption="Tester les performances des disques">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Pour régler les performances, vous pouvez copier les exemples suivants (ou
expérimenter) qui utilisent <c>/dev/hda</c> comme disque dur
(substituez par le chemin d'accès à votre disque)&nbsp;:
</p>

<pre caption="Régler les performances du disque dur">
<comment>Activer DMA&nbsp;:</comment>                                                     # <i>hdparm -d 1 /dev/hda</i>
<comment>Activer DMA + des options sûres pour améliorer les performances&nbsp;:</comment> # <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Facultatif&nbsp;: comptes utilisateurs</title>
<body>

<p>
Si vous souhaitez permettre à d'autres personnes d'accéder à votre
environnement d'installation ou si vous voulez dialoguer en ligne avec
<c>irssi</c> sans être root pour des raisons de sécurité, vous devez créer les
comptes utilisateurs nécessaires et changer le mot de passe de root.
</p>

<p>
Pour changer le mot de passe de root, utilisez l'utilitaire <c>passwd</c>&nbsp;:
</p>

<pre caption="Changer le mot de passe de root">
# <i>passwd</i>
New password: <comment>(Entrez votre nouveau mot de passe.)</comment>
Re-enter password: <comment>(Confirmez votre mot de passe.)</comment>
</pre>

<p>
Pour créer un compte utilisateur, on saisit d'abord son nom, puis son mot de
passe. Les programmes <c>useradd</c> et <c>passwd</c> sont utilisés pour ces
tâches. Dans l'exemple suivant, nous créons un utilisateur nommé «&nbsp;john&nbsp;».
</p>

<pre caption="Création d'un compte utilisateur">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Entrez le mot de passe de john.)</comment>
Re-enter password: <comment>(Confirmez le mot de passe de john.)</comment>
</pre>

<p>
Vous pouvez passer de l'utilisateur root à l'utilisateur que vous venez de
créer avec la commande <c>su</c>&nbsp;:
</p>

<pre caption="Devenir john">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Facultatif : consulter la documentation pendant l'installation</title>
<body>

<p>
Si vous désirez consulter le Manuel Gentoo, sur le CD ou en ligne, vous devez
avoir configuré un <uri link="#useraccounts">compte utilisateur</uri>. Ensuite,
tapez <c>Alt-F2</c> pour basculer sur un autre terminal et connectez-vous avec
le compte utilisateur que vous avez créé.
</p>

<p>
Pour lire la documentation qui accompagne le CD, il vous suffit de lancer
<c>links</c>&nbsp;:
</p>

<pre caption="Consulter la documentation sur le CD">
# <i>links /mnt/cdrom/docs/handbook/html/index.html</i>
</pre>

<p>
Cependant, quand cela est possible, il est préférable de lire le Manuel en
ligne, car il est plus à jour. Vous pouvez utiliser <c>links</c>, mais
uniquement si vous avez configuré votre accès au réseau.
</p>

<pre caption="Consulter la documentation en ligne">
# <i>links http://www.gentoo.org/doc/fr/handbook/handbook-ppc.xml</i>
</pre>

<p>
Vous pouvez revenir à votre terminal initial en tapant <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Facultatif&nbsp;: démarrage du démon SSH</title>
<body>

<p>
Si vous voulez permettre à d'autres utilisateurs d'accéder à votre ordinateur
pendant le processus d'installation (peut-être que ces utilisateurs vous
aideront à installer Gentoo ou même le feront pour vous), vous devez leur
fournir un compte utilisateur ou le mot de passe de root. (Cette dernière option
n'est envisageable que <e>si</e> vous <b>faites entièrement confiance</b> à cet
utilisateur.)
</p>

<p>
Pour démarrer le démon SSH, exécutez la commande suivante&nbsp;:
</p>

<pre caption="Démarrer le démon SSH">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Avant de pouvoir utiliser sshd, vous devez <uri
link="?part=1&amp;chap=3">Configurer votre connexion réseau</uri>.
</p>

</body>
</subsection>
</section>
</sections>
