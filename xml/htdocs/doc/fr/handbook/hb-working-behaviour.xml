<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/handbook/Attic/hb-working-behaviour.xml,v 1.6 2004/10/06 11:04:42 neysx Exp $ -->

<sections>
<section>
<title>Protection des fichiers de configuration</title>
<subsection>
<title>Protection&nbsp;?</title>
<body>

<p>
Portage comprend le concept des «&nbsp;fichiers protégés&nbsp;». Cela 
signifie que, lorsque vous mettez à jour des logiciels, Portage n'écrasera pas
immédiatement certains fichiers avec les versions les plus à jour, mais vous
informera plutôt de l'existence des versions plus récentes. Cela est
particulièrement utile pour les fichiers de configuration (ces fichiers résident
dans le dossier <path>/etc</path>).
</p>

<p>
Plutôt que d'écraser un tel fichier, Portage crée un nouveau fichier nommé 
<path>._cfg0000_&lt;nom&gt;</path> où <path>&lt;nom&gt;</path> est le nom du
fichier original. L'utilisateur est alors responsable d'intégrer les
différences entre les fichiers à son fichier existant. L'utilisateur peut
utiliser la commande <c>etc-update</c> afin de faciliter cette opération. Nous
discuterons de la commande <c>etc-update</c> plus loin.
</p>

</body>
</subsection>
<subsection>
<title>Déclarer CONFIG_PROTECT</title>
<body>

<p>
Portage ne protège pas la configuration fichier par fichier. Il protège plutôt
des répertoires entiers. La variable <c>CONFIG_PROTECT</c> contient la liste
des répertoires protégés. Tous leurs sous-répertoires sont également protégés.
La variable <c>CONFIG_PROTECT</c> est définie dans
<path>/etc/make.globals</path>, mais si vous souhaitez la changer, vous devriez
la déclarer dans <path>/etc/make.conf</path>. Afin d'être cohérent,
<path>/etc/make.conf</path> est utilisé pour tout ce qui a trait à la
configuration de Portage.
</p>

<pre caption="Un exemple du paramètre CONFIG_PROTECT">
CONFIG_PROTECT="/etc /usr/share/config /usr/kde/3.1/share/config"
</pre>

<p>
Si vous souhaitez qu'un répertoire donné soit protégé, mais pas tous ses
sous-répertoires, vous pouvez «&nbsp;déprotéger&nbsp;» ces sous-répertoires en
les ajoutant à la liste contenue dans la variable <c>CONFIG_PROTECT_MASK</c>
dont la valeur par défaut est définie dans <path>/etc/make.globals</path>.
Cette valeur devrait être altérée dans <path>/etc/make.conf</path>&nbsp;:
</p>

<pre caption="Un exemple du paramètre CONFIG_PROTECT_MASK">
CONFIG_PROTECT_MASK="/etc/init.d"
</pre>

<p>
De l'information supplémentaire sur la protection des fichiers de configuration 
peut être trouvée dans l'aide en ligne de <c>emerge</c>&nbsp;:
</p>

<pre caption="Obtenir de l'information à propos de la protection des fichiers 
de configuration">
# <i>emerge --help config</i>
</pre>

</body>
</subsection>
<subsection>
<title>etc-update</title>
<body>

<p>
<c>etc-update</c> est un outil qui permet de faciliter l'intégration des
fichiers <path>._cfg0000_&lt;nom&gt;</path>. Il offre une procédure interactive
pour l'intégration des fichiers et peut aussi intégrer automatiquement les
différences triviales.
</p>

<p>
Exécuter <c>etc-update</c> est très simple&nbsp;:
</p>

<pre caption="Exécuter etc-update">
# <i>etc-update</i>
</pre>

<p>
Après l'intégration des différences triviales, la liste des fichiers protégés 
pour lesquels des mises à jour sont disponibles est affichée. Dans le bas de la
liste sont affichées les options disponibles&nbsp;:
</p>

<pre caption="Options de etc-update">
Please select a file to edit by entering the corresponding number.
              (-1 to exit) (-3 to auto merge all remaining files)
                           (-5 to auto-merge AND not use 'mv -i'): 
</pre>

<p>
Si vous tapez <c>-1</c>, vous quitterez <c>etc-update</c> sans procéder à la 
mise à jour des fichiers. Si vous tapez <c>-3</c> ou <c>-5</c>, <e>tous</e> les
fichiers de configuration seront écrasés par les versions plus récentes. Il est
donc très important de sélectionner d'abord les fichiers de configuration qui ne
devraient pas être mis à jour automatiquement. Pour ce faire, il suffit de taper
le nombre affiché à la gauche du fichier de configuration.
</p>

<p>
Par exemple, sélectionnons le fichier de configuration 
<path>/etc/pear.conf</path>&nbsp;:
</p>

<pre caption="Mise à jour d'un fichier de configuration spécifique">
Beginning of differences between /etc/pear.conf and /etc/._cfg0000_pear.conf
<comment>[...]</comment>
End of differences between /etc/pear.conf and /etc/._cfg0000_pear.conf
1) Replace original with update
2) Delete update, keeping original as is
3) Interactively merge original with update
4) Show differences again
</pre>

<p>
Vous voyez maintenant les différences entre les deux fichiers. Si vous croyez
que le fichier mis à jour peut être utilisé sans problème, tapez <c>1</c>. Si
vous croyez que la mise à jour n'est pas nécessaire ou ne procure aucune
information pertinente, tapez <c>2</c>. Si vous souhaitez mettre à jour le
fichier de configuration sélectionné de façon interactive, tapez <c>3</c>.
</p>

<p>
Ce manuel n'est pas la place pour élaborer sur le mode d'intégration
interactif. Voici tout de même, à titre de référence, la liste des commandes
que vous pouvez utiliser lorsque vous intégrez des fichiers de façon
interactive. Deux lignes sont affichées (l'originale et celle proposée comme
mise à jour), ainsi qu'une invite de commande où vous pouvez taper l'une des
commandes suivantes&nbsp;:
</p>

<pre caption="Commandes disponibles pour l'intégration interactive">
ed:     Éditer puis utiliser les deux versions.
eb:     Utiliser les deux versions.
el:     Éditer puis utiliser la version de gauche.
er:     Éditer puis utiliser la version de droite.
e:      Éditer une nouvelle version.
l:      Utiliser la version de gauche.
r:      Utiliser la version de droite.
s:      Inclure les lignes communes de façon silencieuse.
v:      Unclure les lignes communes de façon verbeuse.
q:      Quitter.
</pre>

<p>
Lorsque vous avez fini la mise à jour des fichiers de configuration importants,
vous pouvez mettre à jour automatiquement les autres fichiers.
<c>etc-update</c> se termine aussitôt qu'il ne trouve plus de fichier candidat
à la mise à jour.
</p>

</body>
</subsection>
</section>
<section>
<title>Options réseau</title>
<subsection>
<title>Miroirs globaux</title>
<body>

<p>
À mesure que Gentoo gagne en popularité, l'utilisation de miroirs devient de
plus en plus appréciée. Portage utilise trois variables pour les
miroirs&nbsp;: une pour le miroir rsync (utilisé pour synchroniser votre
arbre de Portage), une pour le miroir pour les distfiles (utilisé pour
télécharger le code source) et une pour le miroir pour les paquets précompilés. 
</p>

<p>
Tous les miroirs disponibles pour les distfiles sont affichées sur la <uri 
link="/main/en/mirrors.xml">Page des miroirs Gentoo</uri>. Vous pouvez
également utiliser <c>mirrorselect</c> qui facilitera le paramétrage des
miroirs utilisés par votre système. Explorons d'abord les variables une par une.
</p>

<p>
La variable <c>SYNC</c> contient le miroir que vous souhaitez utiliser pour
rsync. Par exemple, pour utiliser <uri>ftp.solnet.ch::gentoo-portage</uri>,
vous devriez définir <c>SYNC</c> dans <path>/etc/make.conf</path> comme
suit&nbsp;:
</p>

<pre caption="Définir SYNC dans /etc/make.conf">
SYNC="rsync://ftp.solnet.ch/gentoo-portage"
</pre>

<p>
La variable <c>GENTOO_MIRRORS</c> contient une liste des miroirs que vous
souhaitez utiliser pour les distfiles. Par exemple, pour utiliser
<uri>ftp://ibiblio.org/pub/Linux/distributions/gentoo</uri> comme premier choix 
et <uri>http://www.gtlib.cc.gatech.edu/pub/gentoo</uri> comme second, vous
devriez définir <c>GENTOO_MIRRORS</c> dans <path>/etc/make.conf</path> comme
suit&nbsp;:
</p>

<pre caption="Définir GENTOO_MIRRORS dans /etc/make.conf">
GENTOO_MIRRORS="ftp://ibiblio.org/pub/Linux/distributions/gentoo
                http://www.gtlib.cc.gatech.edu/pub/gentoo"
</pre>


<p>
La variable <c>PORTAGE_BINHOST</c> contient une liste des miroirs que vous
souhaitez utiliser pour les paquets précompilés. Par exemple, pour utiliser
<uri>ftp://login:pass@grp.mirror.site/pub/grp/i686/athlon-xp</uri>, vous
devriez définir <c>PORTAGE_BINHOST</c> dans <path>/etc/make.conf</path> comme
suit&nbsp;:
</p>

<pre caption="Définir PORTAGE_BINHOST dans /etc/make.conf">
PORTAGE_BINHOST="ftp://login:pass@grp.mirror.site/pub/grp/i686/athlon-xp"
</pre>

</body>
</subsection>
<subsection>
<title>Miroirs pour paquets</title>
<body>

<p>
Beaucoup de paquets ont une variable SRC qui contient «&nbsp;mirror://&nbsp;».
Ces paquets ont leur code source disponible sur plusieurs serveurs (pensez à
Sourceforge, GNU...). Lorsque Portage tombe sur une de ces variables SRC, il va
chercher le nom du serveur actuel dans <path>/etc/portage/mirrors</path> et, si
aucun serveur n'est trouvé dans ce fichier, il le cherchera dans
<path>/usr/portage/profiles/thirdpartymirrors</path>.
</p>

<p>
Vous pouvez déclarer vos miroirs favoris dans le fichier
<path>/etc/portage/mirrors</path>. Par exemple, si vous voulez utiliser
<uri>http://keihanna.dl.sourceforge.net/</uri> pour les paquets hébergés par
Sourceforge, vous pouvez entrer ceci&nbsp;:
</p>

<pre caption="Exemple de /etc/portage/mirrors">
sourceforge http://keihanna.dl.sourceforge.net
</pre>

<p>
Vous pouvez aussi déclarer les miroirs spéciaux <c>local</c>. Ces miroirs seront
<e>toujours</e> utilisés en premier, même si le paquet lui-même ne contient pas
«&nbsp;mirror://&nbsp;» dans sa variable SRC et si le fichier à télécharger n'a
pas la permission de se trouver dans un miroir.
</p>

</body>
</subsection>
<subsection>
<title>Mirrorselect</title>
<body>

<p>
Si vous voulez utiliser <c>mirrorselect</c>, procédez d'abord à son
installation (si ce n'est déjà fait).
</p>

<pre caption="Installer mirrorselect">
# <i>emerge mirrorselect</i>
</pre>

<p>
Vous pouvez maintenant laisser <c>mirrorselect</c> choisir
automatiquement les meilleurs miroirs pour vous ou les choisir manuellement
à partir d'une liste. Pour obtenir plus d'information sur l'utilisation de
<c>mirrorselect</c>, exécutez simplement <c>mirrorselect</c> à partir de la
ligne de commande - cela vous donnera un aperçu rapide de <c>mirrorselect</c>.
</p>

<pre caption="Exécuter mirrorselect">
# <i>mirrorselect</i>
</pre>

</body>
</subsection>
<subsection>
<title>Téléchargement</title>
<body>

<p>
Le programme utilisé par Portage pour télécharger les archives contenant les
fichiers peut être spécifié par les paramètres <c>FETCHCOMMAND</c> et
<c>RESUMECOMMAND</c>. Plusieurs exemples sont montrés dans
<path>/etc/make.conf.example</path> et dans <path>/etc/make.globals</path>.
Portage utilise <c>wget</c> par défaut&nbsp;:
</p>

<pre caption="FETCHCOMMAND et RESUMECOMMAND par défaut">
FETCHCOMMAND="/usr/bin/wget -t 5 --passive-ftp -P \${DISTDIR} \${URI}"
RESUMECOMMAND="/usr/bin/wget -c -t 5 --passive-ftp -P \${DISTDIR} \${URI}"
</pre>

<p>
La variable <c>${DISTDIR}</c> est remplacée par l'endroit où les fichiers
téléchargés sont sauvegardés (<path>/usr/portage/distfiles</path>) alors que
la variable <c>${URI}</c> est remplacée par le fichier que Portage doit
télécharger.
</p>

<p>
Puisque Portage utilise <c>wget</c> par défaut, vous pouvez le configurer afin
d'utiliser des serveurs de proximité en définissant <c>http_proxy</c> et
<c>ftp_proxy</c> (notez bien les minuscules). Bien que vous puissiez faire cela
dans <path>/etc/make.conf</path>, nous suggérons plutôt une approche générale,
sachant que les variables <c>http_proxy</c> et <c>ftp_proxy</c> sont également
utilisées par d'autres utilitaires (<path>/etc/make.conf</path> est utilisé
exclusivement par Portage.) Référez-vous au chapitre <uri
link="?part=2&amp;chap=6">Variables d'environnement</uri> pour savoir
comment déclarer des variables qui s'appliquent à l'ensemble du système.
</p>

</body>
</subsection>
<subsection>
<title>Configurer rsync</title>
<body>

<p>
<c>emerge --sync</c> utilise <c>rsync</c> pour mettre à jour votre arbre de
Portage. <c>RSYNC_EXCLUDEFROM</c>, <c>RSYNC_RETRIES</c> et <c>RSYNC_TIMEOUT</c>
sont trois variables utilisées par Portage pour contrôler le comportement de
<c>rsync</c>.
</p>

<p>
Les ebuilds peuvent être protégés contre la mise à jour ou le retrait causés par
<c>emerge --sync</c> en utilisant la variable <c>RSYNC_EXCLUDEFROM</c>. Sa valeur
est le chemin d'accès d'un fichier utilisé par <c>rsync</c> pour exclure
certains fichiers. Sa valeur par défaut est
<path>/etc/portage/rsync_excludes</path>. L'utilisation de cette méthode n'est
<e>pas</e> recommandée, car elle peut rompre la chaîne des dépendances si vous
n'êtes pas prudent. Nous discuterons plus loin de <c>PORTDIR_OVERLAY</c>, qui
est la méthode recommandée. Pour plus d'information, lisez la page du manuel en
ligne («&nbsp;manpage&nbsp;») de <c>rsync</c>.
</p>

<pre caption="La variable RSYNC_EXCLUDEFROM">
RSYNC_EXCLUDEFROM="/etc/portage/rsync_excludes"
</pre>

<p>
Lorsque <c>rsync</c> échoue, de nouvelles tentatives seront faites avant de
passer au serveur rsync disponible suivant. Le nombre de nouvelles tentatives
est défini dans <c>RSYNC_RETRIES</c> dont la valeur par défaut est
<c>3</c>&nbsp;:
</p>

<pre caption="La variable RSYNC_RETRIES">
RSYNC_RETRIES="3"
</pre>

<p>
Si vous utilisez un serveur rsync (très) lent, <c>rsync</c> peut rompre la
connexion après une certaine période d'inactivité. Le nombre de secondes
d'attente avant la rupture de connexion est défini par la variable
<c>RSYNC_TIMEOUT</c> dont la valeur par défaut est <c>180</c>&nbsp;:
</p>

<pre caption="La variable RSYNC_TIMEOUT">
RSYNC_TIMEOUT="180"
</pre>

</body>
</subsection>
</section>
<section>
<title>Les répertoires de Portage</title>
<subsection>
<title>Introduction</title>
<body>

<p>
Tous les aspects de Portage sont configurables, y compris les répertoires
utilisés pour les diverses tâches et pour les fichiers requis par Portage. Pour
changer les emplacements par défaut (tels que définis dans
<path>/etc/make.globals</path>), vous devez définir les variables appropriées
dans <path>/etc/make.conf</path>. (Comme toujours :)
</p>

<warn>
Si vous modifiez une variable afin qu'elle pointe vers un emplacement
différent, ne terminez <e>jamais</e> le chemin d'accès par un
<path>/</path>&nbsp;!
</warn>

</body>
</subsection>
<subsection>
<title>Arbre de Portage</title>
<body>

<p>
L'emplacement par défaut de l'arbre de Portage est défini par la variable
<c>PORTDIR</c>. Sa valeur par défaut est <path>/usr/portage</path>&nbsp;:
</p>

<pre caption="La variable PORTDIR">
PORTDIR="/usr/portage"
</pre>

<p>
Si vous souhaitez conserver un arbre de Portage local en parallèle avec
l'arbre «&nbsp;officiel&nbsp;», vous devez définir la variable
<c>PORTDIR_OVERLAY</c>. Les dossiers désignés par cette variable ne sont pas
affectés par <c>emerge --sync</c>&nbsp;: les ebuilds présents à ces
emplacements ne sont ni mis à jour ni retirés, mais font tout de même partie de
votre arbre de Portage.
</p>

<pre caption="La variable PORTDIR_OVERLAY">
PORTDIR_OVERLAY="/usr/local/portage"
</pre>

</body>
</subsection>
<subsection>
<title>Distfiles</title>
<body>

<p>
L'emplacement du code source téléchargé (aussi appelé distfiles) est défini par
la variable <c>DISTDIR</c>. Sa valeur par défaut est
<path>${PORTDIR}/distfiles</path>&nbsp;:
</p>

<pre caption="La variable DISTDIR">
DISTDIR="${PORTDIR}/distfiles"
</pre>

</body>
</subsection>
<subsection>
<title>Paquets et RPM</title>
<body>

<p>
L'emplacement des paquets précompilés est défini par la variable <c>PKGDIR</c>.
Sa valeur par défaut est <path>${PORTDIR}/packages</path>&nbsp;:
</p>

<pre caption="La variable PKGDIR">
PKGDIR="${PORTDIR}/packages"
</pre>

<p>
L'emplacement des RPM (oui, certains paquets sont disponibles au format RPM)
est défini par la variable <c>RPMDIR</c>. Sa valeur par défaut est
<path>${PORTDIR}/rpm</path>&nbsp;:
</p>

<pre caption="La variable RPMDIR">
RPMDIR="${PORTDIR}/rpm"
</pre>

</body>
</subsection>
<subsection>
<title>Fichiers temporaires de Portage</title>
<body>

<p>
Portage utilise un emplacement temporaire afin de compiler les ebuilds. Cet
emplacement est défini par la variable <c>PORTAGE_TMPDIR</c>. Sa valeur par
défaut est <path>/var/tmp</path>&nbsp;:
</p>

<pre caption="La variable PORTAGE_TMPDIR">
PORTAGE_TMPDIR="/var/tmp"
</pre>

<p>
Par défaut, Portage crée un dossier nommé <path>portage</path> à l'intérieur de
celui désigné par <c>PORTAGE_TMPDIR</c>. Cela est déclaré dans la variable
<c>BUILD_PREFIX</c>&nbsp;:
</p>

<pre caption="La variable BUILD_PREFIX">
BUILD_PREFIX="${PORTAGE_TMPDIR}/portage"
</pre>

<p>
Si vous souhaitez changer cet emplacement, soyez certains que le dossier
temporaire désigné réside dans une partition disposant d'assez d'espace disque
libre&nbsp;; lors de la compilation de paquets volumineux, ce répertoire peut
enfler jusqu'à 2 Go et davantage&nbsp;!
</p>

</body>
</subsection>
<subsection>
<title>Journaux</title>
<body>

<p>
<c>PORT_LOGDIR</c> est une variable spéciale qui n'a pas de valeur par défaut.
Lorsque vous la définissez, Portage consigne l'information relative à chaque
ebuild dans des journaux et les place dans le répertoire spécifié&nbsp;:
</p>

<pre caption="La variable PORT_LOGDIR">
PORT_LOGDIR="/var/log/portage"
</pre>

</body>
</subsection>
</section>
<section>
<title>Autres options de Portage</title>
<subsection>
<title>Valeur d'«&nbsp;amabilité&nbsp;»</title>
<body>

<p>
Portage supporte l'installation associée à une valeur d'amabilité paramétrable
(cette valeur est analogue à la priorité). Si vous souhaitez que Portage
installe les paquets avec une valeur d'amabilité plus élevée (ce qui procure un
système répondant mieux pendant le processus de compilation, mais qui augmente
aussi le temps de compilation), vous pouvez définir la variable
<c>PORTAGE_NICENESS</c> en y assignant un nombre positif&nbsp;:
</p>

<pre caption="La variable PORTAGE_NICENESS">
PORTAGE_NICENESS="3"
</pre>

</body>
</subsection>
<subsection>
<title>Les paquets SLOT et le nettoyage automatique</title>
<body>

<p>
Dans de nombreuses situations, un utilisateur souhaite avoir plusieurs versions
d'un même paquet (incluant les bibliothèques) disponibles sur son système.
Portage supporte cette fonctionnalité en définissant la variable <c>SLOT</c>
dans les ebuilds. En tant qu'utilisateur, vous n'avez pas besoin de savoir
comment fonctionne le mécanisme de <c>SLOT</c>, mais il est important de savoir
qu'il est supporté.
</p>

<p>
Lorsque vous installez une nouvelle version d'un paquet, Portage vérifie si la
variable <c>SLOT</c> est déclarée pour ce paquet. Si c'est le cas et que la
valeur de <c>SLOT</c> diffère entre les paquets (l'ancien et le nouveau),
Portage ne touchera pas au paquet moins récent.
</p>

<p>
Toutefois, si les valeurs de la variable <c>SLOT</c> sont 
identiques (comme c'est habituellement le cas), le paquet moins récent est 
désinstallé par défaut. Afin de permettre à l'utilisateur d'interrompre la 
désinstallation, Portage affiche un décompte de quelques secondes avant de 
procéder. Le temps exact, en secondes, est défini par la variable 
<c>CLEAN_DELAY</c> dont la valeur par défaut est <c>5</c>.
</p>

<pre caption="La variable CLEAN_DELAY">
CLEAN_DELAY="5"
</pre>

<p>
Si vous ne voulez pas que Portage enlève automatiquement les vieilles versions 
des paquets (cette procédure est appellée «&nbsp;nettoyage&nbsp;»), vous 
pouvez assigner la valeur <c>no</c> à la variable <c>AUTOCLEAN</c>&nbsp;:
</p>

<pre caption="La variable AUTOCLEAN">
AUTOCLEAN="no"
</pre>

</body>
</subsection>
<subsection>
<title>Variables liées à la compilation</title>
<body>

<p>
Nous avons déjà décrit un grand nombre de variables, mais cela n'est pas tout. 
Les utilisateurs qui ont installé Gentoo connaissent déjà les variables 
<c>CHOST</c>, <c>CFLAGS</c> et <c>CXXFLAGS</c> utilisées par le compilateur 
pour compiler et optimiser les paquets.
</p>

<p>
De l'information supplémentaire au sujet de ces variables peut être trouvée
dans les pages d'information de <c>gcc</c> ou dans le <uri
link="http://gcc.gnu.org/onlinedocs/">Manuel en ligne de GCC</uri>.
</p>

<pre caption="Obtenir de l'information sur CHOST, CFLAGS et CXXFLAGS">
# <i>info gcc</i>
<comment>(Sélectionnez "Invoking gcc")</comment>
<comment>(Sélectionnez "Optimize options")</comment>
</pre>

<p>
Si la variable <c>DEBUGBUILD</c> est définie, Portage ne retirera pas les 
symboles des exécutables afin de rendre le débogage plus aisé. Cela ralentit 
votre système et augmente la taille des fichiers.
</p>

<pre caption="La variable DEBUGBUILD">
<comment># N'attribuez pas la valeur «&nbsp;false&nbsp;» à la variable&nbsp;; supprimez plutôt la ligne.</comment>
<comment># Portage ne vérifie pas la valeur, il se contente de vérifier si la variable est définie.</comment>
DEBUGBUILD="true"
</pre>

<p>
La variable <c>MAKEOPTS</c> est utilisée par <c>make</c>, un outil qui simplifie 
la compilation des paquets. Elle est habituellement définie de façon à 
indiquer à <c>make</c> d'exécuter plusieurs compilations simultanées 
(particulièrement si vous avez un système à plusieurs CPU ou si vous 
utilisez <c>distcc</c>, tel que décrit précédemment).
</p>

<p>
Pour que <c>make</c> exécute trois compilations simultanément, assignez la 
valeur <c>-j3</c> à la variable <c>MAKEOPTS</c>.
</p>

<pre caption="La variable MAKEOPTS">
MAKEOPTS="-j3"
</pre>

<p>
La variable <c>ROOT</c> ne devrait pas être définie dans 
<path>/etc/make.conf</path>, mais plutôt en tant que variable 
d'environnement. Portage vérifiera cette valeur afin de déterminer où 
les paquets doivent être installés. Bien sûr, la valeur par défaut est 
<path>/</path>. À titre d'exemple, voici comment installer 
<c>gnumeric</c> dans <path>/mnt/gentoo</path> plutôt que dans votre 
système actuel.
</p>

<pre caption="The ROOT variable">
# <i>ROOT="/mnt/gentoo" emerge gnumeric</i>
</pre>

</body>
</subsection>
<subsection>
<title>Formatage de l'affichage</title>
<body>

<p>
Par défaut, Portage améliore la lisibilité à l'écran en utilisant des couleurs.
Si vous ne voulez pas de cette fonctionnalité, attribuez la valeur <c>true</c> à la
variable <c>NOCOLOR</c>&nbsp;:
</p>

<pre caption="La variable NOCOLOR">
NOCOLOR="true"
</pre>

</body>
</subsection>
</section>
<section>
<title>Resources</title>
<subsection>
<title>Pages du manuel en ligne</title>
<body>

<p>
Si vous avez besoin d'une référence rapide au sujet des différentes variables 
présentées, consultez la page du manuel en ligne de 
<path>make.conf</path>&nbsp;:
</p>

<pre caption="Consulter la page du manuel en ligne de make.conf">
# <i>man make.conf</i>
</pre>

</body>
</subsection>
<subsection>
<title>Exemples commentés</title>
<body>

<p>
Le fichier <path>/etc/make.conf</path> est généreusement commenté, incluant des 
exemples qui pourraient vous intéresser.
</p>

</body></subsection>
</section>
</sections>
