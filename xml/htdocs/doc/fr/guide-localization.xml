<?xml version='1.0' encoding='UTF-8'?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/guide-localization.xml,v 1.15 2004/12/23 11:22:21 neysx Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
     
<guide link="/doc/fr/guide-localization.xml" lang="fr">
<title>Guide de localisation de Gentoo Linux</title>
<author title="Auteur">
        Alexander Holler
</author>
<author title="Correcteur">
 <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Traducteur, correcteur">
  <mail link="slucy@uchicago.edu">Steven Lucy</mail>
</author>
<author title="Correcteur">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Correcteur">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Traducteur, correcteur">
  <mail link="arachne@frgentoo.net">Guillaume Morin</mail>
</author>
<author title="Traducteur">
  <mail link="neysx@gentoo.org">Xavier Neys</mail>
</author>

<abstract>
Ce guide devrait vous aider à adapter votre distribution Gentoo Linux
à n'importe quel pays européen. Bien que le guide originel soit allemand,
il m'a semblé judicieux d'utiliser à titre d'exemple un système français.
Ce guide comprend aussi la documentation permettant d'utiliser le symbole euro.
</abstract>

<license/>

<version>1.12</version>
<date>2004-11-01</date>

<chapter>
<title>Fuseau horaire</title>
<section>
<body>

<p>
Dans le but de conserver votre système à l'heure, <path>/etc/localtime</path>
doit pointer vers le fichier de fuseau horaire («&nbsp;Timezone&nbsp;»)
correct. Regardez dans <path>/usr/share/zoneinfo/</path> et sélectionnez celui
correspondant à votre emplacement géographique ou à une grande ville proche.
</p>
   
<pre caption="Sélectionner le fuseau horaire">
# <i>ln -sf /usr/share/zoneinfo/Europe/Paris /etc/localtime</i>
# <i>date</i>
Sun Feb 16 08:26:44 CET 2003
</pre>

<note>
Assurez-vous que les 3 lettres de l'indicateur de zone de temps (dans notre cas
"CET") correspondent à votre zone.
</note>

<note>
Vous pouvez définir <c>TZ</c> à une autre valeur que localtime (correspondant à
un fichier existant dans <path>/usr/share/zoneinfo</path>) dans le fichier de
démarrage de votre shell (<path>.bash_profile</path> pour bash) pour paramétrer
le fuseau horaire au niveau utilisateur. Dans notre cas ce sera
<c>TZ="Europe/Paris"</c>.
</note>

</body>
</section>
</chapter>

<chapter>
<title>L'horloge du système</title>
<section>
<body>

<p>
Dans la plupart des installations de Gentoo Linux, l'horloge du système est
réglée sur UTC (ou GMT, «&nbsp;Greenwich Mean Time&nbsp;») et ensuite votre
fuseau horaire est pris en compte pour déterminer l'heure locale.  Si, pour
quelque raison que ce soit, vous avez besoin que l'horloge de votre système ne
soit pas réglée sur UTC, vous devez éditer <path>/etc/rc.conf</path> et changer
la valeur de <c>CLOCK</c>.
</p>

<pre caption="local contre GMT">
<codenote>recommandé :</codenote>
CLOCK="UTC"
<codenote>ou bien :</codenote>
CLOCK="local"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Variable locale POSIX</title>
<section>
<title>Utiliser une définition de zone existante</title>
<body>

<p>
La prochaine étape consiste à régler la variable d'environnement <c>LANG</c>
qui est utilisée par votre shell et votre gestionnaire de fenêtres (ainsi que
d'autres applications).  Les variables valides peuvent être trouvées dans
<path>/usr/share/locale</path> et prennent généralement la forme <c>ab_CD</c>
où <c>ab</c> correspond aux deux lettres du code du langage et <c>CD</c> aux
deux lettres du code du pays. On peut omettre <c>_CD</c> si notre pays est le
seul (ou le principal) à l'utiliser.  <c>LANG</c> peut être défini dans
<path>/etc/profile</path> si vous désirez qu'il prenne effet au niveau de tout
le système ou dans <path>~/.bashrc</path> pour des paramètres spécifiques à
l'utilisateur.
</p>

<pre caption="Définir la locale POSIX">
export LANG="fr_FR@euro"
</pre>

<note>
Ajoutez <c>@euro</c> à votre locale si vous désirez utiliser le nouveau symbole
de la monnaie Euro. (&#8364;)
</note>

<note>
Le traducteur tient à signaler sa propre méthode concernant la définition de la
locale LANG&nbsp;: au lieu de modifier le fichier <path>/etc/profile</path>, on
peut créer un fichier <path>/etc/env.d/02local</path> contenant
<path>LANG="fr_FR@euro"</path> qui aura les mêmes effets, mais qui a le mérite
d'utiliser les outils fournis par Gentoo.
</note>

</body>
</section>
<section>
<title>Générer une nouvelle définition de zone</title>
<body>

<p>
Si votre «&nbsp;locale&nbsp;» n'est pas disponible, vous pouvez créer une
nouvelle définition avec la commande <c>localedef</c>. Par exemple&nbsp;:
</p>

<pre caption="Générer une nouvelle « locale »">
# <i>localedef -c -i en_US -f ISO-8859-15 en_US.ISO-8859-15</i>
</pre>

<p>
Une fois générée, vous pouvez utiliser votre nouvelle définition de zone comme
valeur de la variable d'environnement LANG.
fit.
</p>

<pre caption="Définir la variable d'environnement LANG">
# <i>export LANG="en_US.ISO-8859-15"</i>
</pre>

</body>
</section>
<section>

<title>L'option de la variable USE «&nbsp;userlocales&nbsp;»</title>
<body>

<p>
Vous n'utiliserez probablement qu'une ou deux «&nbsp;locales&nbsp;» sur votre
système.  Après avoir compilé <c>glibc</c>, toutes les définitions de zone sont
créées. Vous pouvez éviter cela et ne créer que les définitions de zone qui
vous intéressent. Ajoutez l'option <c>userlocales</c> à votre variable USE et
définissez la liste des «&nbsp;locales&nbsp;» à créer dans le fichier
<path>/etc/locales.build</path>.
</p>
 
<pre caption="Utiliser l'option userlocales uniquement pour glibc">
echo "sys-libs/glibc userlocales" >> /etc/portage/package.use
</pre>
 
<p>
Ensuite, définissez les «&nbsp;locales&nbsp;» qui vous intéressent&nbsp;:
</p>
 
<pre caption="Exemple de /etc/locales.build">
en_US/ISO-8859-1
en_US.UTF-8/UTF-8
de_DE/ISO-8859-1
de_DE@euro/ISO-8859-15
</pre>
 
<p>
Finalement, recompilez <c>glibc</c>. Vous pouvez évidemment attendre qu'une
nouvelle version soit disponible.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Configuration du clavier pour la console</title>
<section>
<body>

<p>
La disposition du clavier utilisée par la console est définie dans
<path>/etc/rc.conf</path> par la variable <c>KEYMAP</c>. Les valeurs valides
peuvent être trouvées dans <path>/usr/share/keymaps/<c>{arch}</c>/</path>.
<path>i386</path> a plusieurs subdivisions dans les dispositions
(<path>qwerty/</path>, <path>azerty/</path>, etc.) Quelques langages ont de
multiples options, donc vous pouvez expérimenter afin de décider lequel vous
correspond le mieux.
</p>

<pre caption="Configuration du clavier pour la console">
KEYMAP="fr"
KEYMAP="fr-latin0"
KEYMAP="fr-latin1"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Disposition du clavier pour le serveur X</title>
<section>
<body>

<p>
La disposition du clavier à utiliser avec le serveur X est spécifiée dans
<path>/etc/X11/XF86Config</path> par l'option <c>XkbLayout</c>.
</p>

<pre caption="Configuration du clavier sous X">
Section "InputDevice"
    Identifier  "Keyboard1"
    ...
    Option "XkbLayout"    "fr"
    # Option "XkbVariant"  "nodeadkeys"
    ...
</pre>

</body>
</section>
</chapter>

<chapter>
<title>KDE</title>
<section>
<body>

<p>
Pour KDE, vous devez installer le paquet kde-i18n avec la variable
d'environnement LINGUAS définie correctement&nbsp;:
</p>

<pre caption="Adapter KDE à votre langue">
# <i>LINGUAS="fr" emerge kde-i18n</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Le symbole Euro pour la console</title>
<section>
<body>

<p>
Pour afficher le symbole Euro dans la console, vous devez associer
<c>CONSOLEFONT</c> dans <path>/etc/rc.conf</path> à un fichier correspondant
dans <path>/usr/share/consolefonts/</path> (en omettant le <c>.psfu.gz</c>).
<c>lat9w-16</c> inclut le symbole Euro.
</p>

<pre caption="Configurer la police de la console">
CONSOLEFONT="lat9w-16"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Le symbole Euro sous X</title>
<section>
<title>Pour la plupart des applications</title>
<body>

<p>
Obtenir l'affichage correct du symbole Euro sous X est un petit peu plus
compliqué. La première chose à faire est de changer les définitions
<c>fixed</c> et <c>variable</c>  dans
<path>/usr/X11R6/lib/X11/fonts/misc/fonts.alias</path> afin qu'elles se
terminent par <c>iso8859-15</c> et non <c>iso8859-1</c>.
</p>

<pre caption="Configuration des polices par défaut sous X">
fixed        -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-15
variable     -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Quelques applications utilisent leurs propres polices et vous devrez les
configurer séparément pour utiliser ces polices avec le symbole Euro. Vous
pouvez le faire au niveau utilisateur dans <path>.Xdefaults</path> (vous pouvez
copier ce fichier dans <path>/etc/skel/</path> afin qu'il soit utilisé par les
nouveaux utilisateurs), ou bien au niveau global pour toutes les applications
avec un fichier de ressources dans
<path>/usr/X11R6/lib/X11/app-defaults/</path> (comme xterm).  Dans ces
fichiers, vous pouvez généralement changer une ligne existante, au lieu d'en
ajouter une.  Pour changer la police de xterm, par exemple&nbsp;:
</p>

<pre caption="Configurer la police de xterm">
<codenote>(dans votre répertoire personnel)</codenote>
$ <i>echo 'XTerm*font: fixed' >> .Xresources </i>
$ <i>xrdb -merge .Xresources</i>
</pre>

</body>
</section>
<section>
<title>Le symbole Euro dans (X)Emacs</title>
<body>

<p>
Pour utiliser le symbole Euro dans (X)Emacs, ajoutez les lignes suivantes à
<path>.Xdefaults</path>&nbsp;:
</p>

<pre caption="Configurer la police pour emacs">
Emacs.default.attributeFont: -*-courier-medium-r-*-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Pour XEmacs (et non pas Emacs texte), vous devez en faire un peu plus.  Dans
<path>/home/user/.xemacs/init.el</path>, ajoutez&nbsp;:
</p>

<pre caption="Configurer la police pour xemacs">
(define-key global-map '(EuroSign) '[&#8364;])
</pre>

<note>
Le symbole entre les [] est celui de l'Euro.
</note>

</body>
</section>
<section>
<title>La langue de OpenOffice.org</title>
<body>

<note>
Il n'est pas possible de définir une autre langue que celle par défaut
dans l'ebuild openoffice-bin (c-à-d. les binaires pré-compilés).
La langue par défaut est ENUS, l'anglais américain.
</note>

<p>
La langue par défaut est "ENUS"(01), l'anglais américain. Si vous désirez
définir une autre langue par défaut pour OpenOffice.org, consultez l'ebuild
pour connaître le code de votre langue.
</p>

<pre caption="Lancer emerge avec openoffice en utilisant une langue par défaut">
# <i>LANGUAGE="33" emerge openoffice</i>
<comment>33 correspond au code FREN et sélectionne le français comme langue par défaut.</comment>
</pre>

</body>
</section>
</chapter>

</guide>
