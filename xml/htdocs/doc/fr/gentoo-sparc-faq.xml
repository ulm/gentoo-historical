<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fr/gentoo-sparc-faq.xml,v 1.7 2006/01/25 09:40:22 neysx Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fr/gentoo-sparc-faq.xml" lang="fr">
<title>Foire Aux Questions pour Gentoo Linux/SPARC</title>

<author title="Développeur SPARC">
  <mail link="weeve@gentoo.org">Jason Wever</mail>
</author>
<author title="Traducteur">
  <mail link="clement@varaldi.org">Clément Varaldi</mail>
</author>

<abstract>
Cette Foire Aux Questions a été créée pour aider à répondre aux questions les
plus fréquemment posées à propos de Gentoo Linux/SPARC et de Linux sur une
architecture SPARC. Vous êtes libre de proposer des révisions et corrections de
celle-ci en les envoyant à l'équipe SPARC ou à l'équipe de documentation.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>
<version>1.5</version>
<date>2006-01-25</date>

<chapter>
<title>Notes de documentation</title>
<section>
<body>

<p>
Nous nous devons de spécifier tout d'abord les définitions de quelques acronymes
et termes utilisés dans ce document, pour éviter les confusions.
</p>

<p>
Lorsque nous mentionnons <c>SPARC</c> et <c>SPARC64</c>, nous faisons référence
au type de système <c>sun4x</c>. SPARC représente les systèmes 32&nbsp;bits
utilisant les architectures <c>sun4c</c>, <c>sun4d</c> et <c>sun4m</c>
(c'est-à-dire les stations SPARC).  SPARC64 représente l'architecture
<c>sun4u</c> qu'on trouve sur les séries UltraSPARC des systèmes (Ultras,
Blades, SunFires, etc.).
</p>

<p>
Acronymes&nbsp;: <c>OBP</c> = OpenBoot PROM, <c>SS</c> = Station SPARC.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Installation</title>
<section>
<title>Comment puis-je installer/utiliser ma SPARC à partir d'une console
série&nbsp;?</title>
<body>

<p>
Tout d'abord, assurez-vous que vous n'avez ni moniteur, ni clavier, de connecté.
OBP va utiliser le moniteur pour les sorties par défaut, s'il y en a un de
disponible. Vous aurez besoin d'un câble null modem ou d'un câble série
classique avec un adaptateur null modem pour pouvoir visualiser les sorties.
</p>

<p>
Configuration d'un port série standard&nbsp;:
</p>

<ul>
  <li>9600 baud&nbsp;;</li>
  <li>8 bits de données&nbsp;;</li>
  <li>Pas de parité&nbsp;;</li>
  <li>1 bit de stop.</li>
</ul>

<p>
Plus bas, nous vous donnons une liste de programmes couramment utilisés pour
visualiser une console en série. Vérifiez si votre application de console en
série a la capacité d'envoyer un «&nbsp;break&nbsp;», ça peut être très utile
sur une SPARC. Un signal «&nbsp;break&nbsp;» sur une console série est
l'équivalent de l'utilisation de la commande Stop+A sur un clavier.
</p>

<table>
  <tr><th>Linux</th><th>Windows</th></tr>
  <tr><ti>Minicom</ti><ti>Hyperterm</ti></tr>
  <tr><ti>Kermit</ti><ti>TeraTerm Pro</ti></tr>
  <tr><ti>Console</ti></tr>
  <tr><ti>Seyon</ti></tr>
</table>

</body>
</section>
<section>
<title>Comment démarrer depuis le réseau sur mon système SPARC pour
l'installation&nbsp;?</title>
<body>

<p>
Actuellement, Gentoo met à disposition des images expérimentales pour le
démarrage réseau avec tftpboot que vous trouverez sur les miroirs Gentoo, dans
<path>experimental/sparc/tftpboot</path>. Récupérez l'image appropriée à votre
ordinateur SPARC puis lisez le HOWTO Netboot pour plus d'instructions.
</p>

</body>
</section>
<section>
<title>Lors du démarrage du noyau, ma station SPARC sélectionne une résolution
que mon moniteur CRT/LCD ne peut pas supporter. Comment puis-je faire pour avoir
un affichage clair et/ou sans distorsion sur mon écran&nbsp;?</title>
<body>

<p>
Ce problème est dû au support du framebuffer que le noyau Linux charge au
démarrage et également aux modes d'affichage disponibles sur les systèmes SPARC.
Nous supposerons ici que votre moniteur et votre carte vidéo s'accorderont sur
une résolution de 1024x768, avec un taux de rafraîchissement de 60&nbsp;Hz. Dans
l'OBP, vous pouvez fixer la résolution en ajustant la configuration pour
l'<c>output-device</c>. Pour voir la configuration actuelle, utilisez la
commande&nbsp;:
</p>

<pre caption="Voir la configuration actuelle">
ok <i>printenv output-device</i>

<comment>&lt;output-device&gt;        &lt;screen&gt;          &lt;screen&gt;</comment>
</pre>

<p>
Maintenant, pour faire en sorte que la station démarre l'affichage avec la
résolution proposée plus haut, vous utiliserez la commande <c>setenv</c> comme
suit&nbsp;:
</p>

<pre caption="Configurer l'affichage">
ok <i>setenv output-device screen:r1024x768x60</i>

output-device =       screen:r1024x768x60
</pre>

<p>
Pour que cela prenne effet, vous devez relancer la machine&nbsp;:
</p>

<pre caption="Redémarrer la machine">
ok <i>reset</i>
</pre>

<p>
De plus, pour les utilisateurs utilisant une carte vidéo intégrée basée sur le
chipset ATI Mach64 (stations Ultra 5/10 et Blade 100/150), vous pouvez ajouter
la ligne suivante aux options de démarrage du noyau&nbsp;:
</p>

<pre caption="Ajout d'option de démarrage du noyau">
video=atyfb:1024x768@60
</pre>

<p>
Si vous démarrez depuis SILO, vous pouvez ajouter l'option suivante à la suite
du nom de l'image de démarrage. L'exemple suivant est celui utilisé si vous
démarrez depuis le LiveCD.
</p>

<pre caption="Démarrer depuis le LiveCD Gentoo">
boot: <i>gentoo video=atyfb:1024x768@60</i>
</pre>

<p>
Si vous démarrez depuis le réseau, vous pouvez ajouter encore une option à la
commande de démarrage réseau dans l'OBP, comme indiqué ci-dessous&nbsp;:
</p>

<pre caption="Démarrer depuis le réseau">
ok <i>boot net video=atyfb:1024x768@60</i>
</pre>

</body>
</section>
<section>
<title>Je suis débutant sur SPARC et ne suis pas sûr des options du noyau à
utiliser, AU SECOURS&nbsp;!</title>
<body>

<p>
La plupart du temps, les options du noyau par défaut sont acceptables pour le
support matériel. Vous devrez vous assurer que <c>devfs</c> (si vous n'utilisez
pas <c>udev</c>) et <c>virtual memory filesystem support</c> sont activés dans
le noyau, comme indiqué dans le <uri
link="/doc/fr/handbook/handbook-sparc.xml">manuel d'installation</uri>.
</p>

</body>
</section>
<section>
<title>Comment puis-je faire cohabiter Gentoo Linux/SPARC avec Solaris sur le
même système au démarrage&nbsp;?</title>
<body>

<p>
Permettre de démarrer au choix sur Gentoo Linux/SPARC et Solaris peut être fait
de deux manières&nbsp;: soit vous avez les deux systèmes sur un même disque dur,
soit sur des disques séparés. Des exemples de configuration de SILO sont
présentés ci-dessous pour chacun des deux scénarios. Dans les configurations
exemples, on suppose les points suivants&nbsp;:
</p>

<p>
Configuration avec un disque dur unique&nbsp;:
</p>

<ul>
  <li>Le disque de démarrage est SCSI ID 0.</li>
  <li>Gentoo démarre sur la partition 1.</li>
  <li>Solaris démarre sur la partition 5.</li>
</ul>

<p>
Configuration avec des disques durs séparés&nbsp;:
</p>

<ul>
  <li>Le second disque est SCSI ID 1.</li>
  <li>Gentoo est sur SCSI ID 0.</li>
  <li>Solaris est sur SCSI ID 1.</li>
  <li>le dispositif de démarrage dans l'OBP est sur le disque SCSI ID 0.</li>
</ul>

<pre caption="Exemple de configuration de silo.conf pour une installation
monodisque">
<comment># Options de configuration génériques</comment>
partition = 1
timeout = 50

<comment># Options Gentoo Linux/SPARC</comment>
image = /boot/vmlinux
    label = linux
    root=/dev/sda4

<comment># Options Solaris</comment>
other=5
    label = Solaris
</pre>

<pre caption="Exemple de configuration de silo.conf pour une installation sur
disques séparés">
<comment># Options de configuration génériques</comment>
parition = 1
timeout = 50

<comment># Options Gentoo Linux/SPARC</comment>
image = /boot/vmlinux
    label = linux
    root=/dev/sda4

<comment># Options Solaris</comment>
other = /sbus/espdma/esp/sd@1,0;1
    label = solaris
</pre>

</body>
</section>
<section>
<title>Je viens de démarrer sur ma station SPARC après avoir installé Gentoo,
mais ça ne démarre pas. Pourquoi&nbsp;?</title>
<body>

<p>
Il se peut que cela vienne de la manière par laquelle les identifiants SCSI
sont assignés. Le développeur Gentoo/SPARC Keith Wesolowski nous propose la
chose suivante&nbsp;:
</p>

<p>
Linux, normalement, ordonne les dispositifs par identifiant SCSI. Le disque
de plus petit numéro est <c>sda</c>, le suivant <c>sdb</c> et ainsi de suite.
Notez que <c>devfs</c> vous permet de spécifier les dispositifs par identifiant
SCSI, de sorte qu'ajouter un nouveau dispositif ne renomme pas les dispositifs
existants, sauf, évidemment, si vous utilisez les noms de compatibilité. Il y a
différentes manières de résoudre cela.
</p>

<p>
Les OBP de la plupart voire de tous les systèmes sun4c et sun4m créent des alias
«&nbsp;disk&nbsp;» vers le dispositif SCSI d'identifiant 3 et de
«&nbsp;disk0&nbsp;» à «&nbsp;disk3&nbsp;» pour pointer vers les dispositifs SCSI
correspondants, s'il tombe sur un disque plutôt qu'un lecteur de disquettes,
CD-ROM, etc.
</p>

<p>
Dans les systèmes de bureau actuels qui supportent deux disques SCA, le plus
petit emplacement est assigné au SCSI ID 3 et le plus grand au SCSI ID 1.
</p>

<p>
Si vous voulez, vous pouvez changer l'alias PROM «&nbsp;disk&nbsp;» pour lui
faire correspondre celui de «&nbsp;disk1&nbsp;» afin que la commande <c>boot
disk</c> fasse démarrer le système sur le même dispositif que celui nommé sous
Linux <c>sda</c>. Cela semble plus naturel, particulièrement pour les
utilisateurs qui ont des bases venant des architectures PC. Autrement, vous
pouvez simplement placer le système de fichiers contenant <path>/boot</path>
(qui peut être le système de fichiers racine ou un système de fichiers de
démarrage séparé) sur le dispositif ID 3 (le <c>sdb</c> de Linux) et démarrer
dessus en utilisant un système de fichiers racine sur <c>sda</c> ou <c>sdb</c>,
ou en fait n'importe quel disque lié au système.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Matériel</title>
<section>
<title>Est-ce que Gentoo fonctionnera sur ma SPARC&nbsp;?</title>
<body>

<p>
Cela dépend du type de SPARC, mais il y a des chances pour que oui. Une
exception serait peut-être les SPARC basées sur des portables de Tadpole,
particulièrement les modèles récents. Si vous disposez d'un système Gentoo/SPARC
fonctionnant sur un Tadpole, merci de nous contacter et de nous donner des
détails sur le modèle et tout ce qui a été utile de faire pour faire fonctionner
Gentoo/SPARC dessus.
</p>

<p>
Todd Sunderlin, développeur pour Gentoo/SPARC, maintient une liste partielle du
statut des systèmes SPARC sous Gentoo sur
<uri>http://dev.gentoo.org/~todd/sparc64.html</uri>. Envoyez-lui un courrier
pour lui signaler tout changement ou ajout dans la liste, à <mail
link="todd@gentoo.org">todd@gentoo.org</mail>.
</p>

<p>
Pour ajouter des éléments concernant votre modèle SPARC64 dans cette liste,
envoyez un courrier à <mail link="todd@gentoo.org">todd@gentoo.org</mail> avec
les informations nécessaires. En général, le support des systèmes SPARC64 est
suffisamment correct pour permettre à certains utilisateurs de l'utiliser
avec succès dans des environnements de production.
</p>

<p>
Le cas des systèmes SPARC 32&nbsp;bits fluctue un peu plus. Des systèmes sous
architecture sun4m ont été rapportés comme fonctionnant correctement (SS4-SS20),
avec les configurations SMP dans les dernières séries de noyau 2.4. Les systèmes
sun4m utilisant des processeurs HyperSPARC ou Ross avec une configuration SMP
rencontreront de nombreux problèmes liés au noyau. De plus, l'auteur n'a pas
eu de retour d'utilisateurs de JavaStations pour lesquelles le fonctionnement
ait été confirmé, donc le statut est encore inconnu. Les systèmes basés sur
sun4d ne fonctionnent actuellement pas avec les séries de noyau 2.4 et les
sun4c sont instables également.
</p>

<p>
Souvent, les problèmes rencontrés en essayant de faire fonctionner Gentoo sur
un système SPARC 32&nbsp;bits sont liés au noyau. Rob Radez (qui n'est pas un
développeur Gentoo) maintient une page web,
<uri>http://osinvestor.com/sparc/</uri>, avec le statut du support des systèmes
SPARC pour diverses versions du noyau Linux. Cela peut servir d'indicateur pour
savoir à quel point votre système SPARC pourra se trouver sous SPARC/Linux.
</p>

</body>
</section>
<section>
<title>Quel matériel additionnel est supporté sous Gentoo/SPARC ?</title>
<body>

<p>
Pour une liste du matériel Sun supplémentaire supporté, consultez la liste
suivante sur la page <uri
link="http://www.ultralinux.org/faq.html#q_2_2">UltraLinux</uri>.
</p>

<p>
Une liste partielle des dispositifs Sun qui NE sont PAS actuellement supportés
sous Gentoo/SPARC ou SPARC/Linux en général serait&nbsp;:
</p>

<ul>
  <li>Les cartes SunPCI&nbsp;;</li>
  <li>Les contrôleurs PCMCIA PCI ou SBUS&nbsp;;</li>
  <li>
    Les lecteurs de cartes Smart sur certaines stations de travail Sun
    Blade&nbsp;;
  </li>
  <li>
    Les lecteurs de disquettes sur certaines stations de travail Sun Blade.
  </li>
</ul>

<p>
Sven Blumenstein, développeur Gentoo/SPARC, maintient également une liste du
matériel PC qui a été testé sur les systèmes SPARC64 basé sur port PCI, sur
<uri>http://dev.gentoo.org/~bazik/hw.php</uri>. Vous pouvez y ajouter vos
résultats de tests de matériel PC ou non Sun sur la liste en envoyant un
courrier à <mail link="bazik@gentoo.org">bazik@gentoo.org</mail> avec les
informations sur le matériel telles qu'elles sont données pour le matériel déjà
listé.
</p>

</body>
</section>
<section>
<title>Vous n'arrêtez pas de parler de sun4c/sun4d/sun4m/sun4u. Comment puis-je
savoir duquel je dispose&nbsp;?</title>
<body>

<p>
La FAQ d'UltraLinux donne la réponse sur
<uri>http://www.ultralinux.org/faq.html#q_2_1</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Applications</title>
<section>
<title>Comment faire pour que XFree86 trouve un mode d'affichage utilisable
sur mon Ultra 5/10 ou ma Blade 100/150&nbsp;?
</title>
<body>

<p>
Normalement, le framebuffer ATI s'attend à ce que ce soit le BIOS d'un PC qui
fixe la vitesse d'horloge de référence pour la carte vidéo. Cependant, sur des
architectures non x86, cela n'arrive pas. Il faut donc préciser cette vitesse
d'horloge de référence dans le fichier de configuration XF86Config.
</p>

<p>
Dans la section «&nbsp;Device&nbsp;» de votre fichier XF86Config, vous pourrez
ajouter par exemple une ligne du genre&nbsp;:
</p>

<pre caption="À ajouter à XF86Config">
Option      "reference_clock"   "28.636 MHz"
</pre>

<p>
Le lien suivant vous donnera plus d'informations sur comment indiquer
l'horloge de référence&nbsp;:
<uri>http://www.xfree86.org/~dawes/4.3.0/ati5.html#26</uri>. Si vous avez des
problèmes, vous devriez faire un essai sans ce type de configuration auparavant.
</p>

</body>
</section>
<section>
<title>Comment se fait-il qu'un paquet foo soit masqué sur SPARC ?</title>
<body>

<p>
Cela vient probablement du fait qu'aucun développeur Gentoo/SPARC n'ait pu faire
de test encore et/ou que le paquet soit actuellement marqué du mot-clef
<c>~sparc</c> (pour signifier qu'il est en phase de test).
</p>

<p>
Si vous voulez toujours installer le paquet, vous pouvez suivre les instructions
données sur la <uri link="http://forums.gentoo.org/viewforum.php?t=33534">FAQ
Paquets Masqués de Portage</uri>.
</p>

<note>
La FAQ mentionne le mot-clef sparc64 qui n'est pas valide.
</note>

</body>
</section>
<section>
<title>Comment puis-je aider pour faire passer un paquet foo comme
stable&nbsp;?</title>
<body>

<p>
Si vous voulez aider pour qu'un paquet soit marqué comme stable le plus vite
possible, particulièrement si c'est une application ayant peu d'utilisateurs
(par exemple net-im/bitlbee), installez le paquet et testez-le pour vous assurer
qu'il fonctionne bien. S'il apparaît comme fonctionnant bien, vous pouvez
remplir un rapport de bogue sur <uri>http://bugs.gentoo.org</uri> et l'assigner
à l'équipe de Gentoo/SPARC.
</p>

</body>
</section>
<section>
<title>J'ai essayé d'installer un paquet, mais emerge échoue en se plaignant
qu'une dépendance est masquée. Comment puis-je corriger cela&nbsp;?</title>
<body>

<p>
C'est un bogue. Merci de nous faire un rapport de bogue sur
<uri>http://bugs.gentoo.org</uri> pour l'équipe Gentoo/SPARC en indiquant quel
paquet vous essayez d'installer, l'erreur qu'emerge vous a donnée et le retour
de la commande <c>emerge --info</c>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Divers</title>
<section>
<title>J'aimerais m'impliquer plus dans le projet Gentoo/SPARC. Comment
faire&nbsp;?</title>
<body>

<p>
Le meilleur moyen est de venir sur le canal de discussion <c>#gentoo-sparc</c>
du réseau IRC Freenode <c>irc.freenode.net</c>. C'est là que tous les
développeurs se retrouvent et discutent de SPARC (entre autres choses). Mieux
que les courriers électroniques, c'est le meilleur moyen d'attirer notre
attention.
</p>

<p>
De nombreux utilisateurs et développeurs utilisent également beaucoup le <uri
link="http://forums.gentoo.org/viewforum.php?f=27">Forum Gentoo/SPARC</uri>.
C'est un bon endroit pour poser des questions et voir quels problèmes ont été
rencontrés auparavant, mais aussi pour discuter simplement à propos de
Gentoo/SPARC.
</p>

<p>
De plus, vous pouvez jeter un œil aux bogues pour Gentoo/SPARC via le <uri
link="http://bugs.gentoo.org">Bugzilla de Gentoo</uri>. Les bogues sont
normalement assignés ou mis en CC à sparc@gentoo.org.
</p>

</body>
</section>
<section>
<title>Y a-t-il des bogues/problèmes connus actuellement avec des paquets
logiciels sur Gentoo/SPARC&nbsp;?</title>
<body>

<p>
Une liste des paquets à problème est récupérable sur
<uri>http://dev.gentoo.org/~weeve/problems.html</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Ressources additionnelles</title>
<section>
<body>

<p>
Voici quelques informations sur le projet Gentoo/SPARC en personne&nbsp;:
</p>

<ul>
  <li>
    <uri link="http://sparc.gentoo.org">Page du projet Gentoo/SPARC</uri>.
  </li>
  <li>#gentoo-sparc - Canal IRC officiel sur irc.freenode.net.</li>
  <li>
    <uri link="http://forums.gentoo.org/viewforum.php?f=27">Forum
    Gentoo/SPARC</uri>.
  </li>
  <li>
    <mail>sparc@gentoo.org</mail> - adresse mail de l'équipe Gentoo/SPARC.
  </li>
</ul>

<p>
Et voici quelques liens externes pour plus d'informations à propos de
SPARC/Linux ou des SPARC en général&nbsp;:
</p>

<ul>
  <li>
    <uri link="http://www.ultralinux.org">Page web UltraLinux</uri> -
    Page web du port de Linux sur SPARC.
  </li>
  <li>
    <uri link="http://sunsolve.sun.com">Sunsolve</uri> - Grande ressource pour
    la documentation du matériel Sun.
  </li>
  <li>
    <uri>http://docs.sun.com</uri> - Informations supplémentaires sur le
    matériel et logiciel pour systèmes SPARC, notamment des instructions pour
    «&nbsp;flasher&nbsp;» l'OBP.
  </li>
  <li>
    <uri link="http://www.obsolyte.com">Obsolyte</uri> - Informations sur des
    vieux systèmes SPARC et liens vers beaucoup de sites intéressants relatifs
    aux SPARC.
  </li>
  <li>
    <uri
    link="http://040.digital-bless.com/texts/Unofficial_Sun_Blade_100_FAQ.htm">FAQ
    non officielle pour Sun Blade 100</uri> - Répond à de nombreuses questions
    sur le matériel disponible sur Sun Blade 100.
  </li>
  <li>
    <uri link="http://docs.sun.com/db/coll/216.2">Guide de référence de
    l'OBP</uri> - Guide de Sun pour l'OpenBoot PROM.
  </li>
</ul>

</body>
</section>
</chapter>
</guide>
