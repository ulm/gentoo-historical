<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Id: hb-install-x86+amd64-disk.xml,v 1.1 2007/03/06 10:34:47 neysx Exp $ -->

<sections>

<abstract>
כדי להיות מסוגלים להתקין את ג'נטו, עליכם ליצור את המחיצות הנחוצות.
פרק זה יתאר כיצד לחצות את הדיסק למחיצות עבור שימוש עתידי.
</abstract>

<version>4.2</version>
<date>2007-02-16</date>

<section>
<title>הקדמה להתקני בלוק</title>
<subsection>
<title>התקני בלוק</title>
<body>

<p>
אנו נביט מקרוב על אספקטים הקשורים לדיסק של ג'נטו לינוקס ושל לינוקס באופן כללי, כולל מערכות קבצים של לינוקס,
מחיצות, והתקני בלוק (block devices).
לאחר מכן, אחרי שתכירו את כל ה"בפנוכו" של דיסקים ומערכות
קבצים, תודרכו דרך התהליך של יצירת מחיצות ומערכות קבצים
עבור התקנת הג'נטו לינוקס שלכם.
</p>

<p>
כדי להתחיל, נכיר את <e>התקני הבלוק</e>. המפורסם שבהם הוא
כנראה זה שמייצג את כונן ה-IDE הראשון במערכת לינוקס, ושמו 
<path>/dev/hda</path>. אם במערכת שלכם ישנם כונני SCSI או SATA,
אזי הכונן הקשיח הראשון שלכם יהיה <path>/dev/sda</path>.
</p>

<p>
התקני הבלוק שלעיל מייצגים ממשק מופשט לכונן הקשיח. תוכנות
משתמש יכולות להשתמש בהתקני בלוק כדי לבצע אינטראקציה עם
הכונן הקשיח שלכם, מבלי לדאוג האם הכוננים הם IDE, SCSI או
כל דבר אחר. התוכנה יכולה לפנות אל האחסון שעל ההתקן בתור
רצף אחיד של בלוקים בגודל 512 בתים שניתן לגשת אליהם אקראית.
</p>

</body>
</subsection>
<subsection>
<title>מחיצות</title>
<body>

<p>
למרות שבאופן תאורטי ניתן להשתמש בדיסק מלא כדי לארח את מערכת
הלינוקס שלכם, הדבר לא נעשה כמעט לעולם בפועל. במקום זאת,
התקני בלוק דיסק שלמים מחולקים להתקני בלוק קטנים יותר,
שקל יותר לנהל אותם.
תחת מערכות <keyval id="arch"/>
, אלו נקראים <e>מחיצות</e>. 
</p>

<p>
מחיצות מחולקות לשלושה סוגים:
<e>עיקריות</e>, <e>מורחבות</e> ו<e>לוגיות</e>.
</p>

<p>
מחיצה <e>עיקרית</e> היא מחיצה אשר המידע אודותיה מאוחסן ב-MBR (קיצור של master boot record). כיוון שה-MBR הוא
מאוד קטן (512 בתים), רק ארבע מחיצות עיקריות ניתן להגדיר
(לדוגמא,  <path>/dev/hda1</path> עד
<path>/dev/hda4</path>).
</p>

<p>
מחיצה <e>מורחבת</e> היא מחיצה עיקרית מיוחדת (כלומר, המחיצה
המיוחדת חייבת להיות אחת מארבעה המחיצות העיקריות האפשריות),
אשר מכילה בעצמה מחיצות נוספות. סוג מחיצות זה לא היה קיים
מלכתחילה, אבל כאשר 4 מחיצות הפכו למעט מדי, נולד סוג מחיצה
זה כדי להגדיל את סכמת הצורה מבלי לאבד תאימות אחורנית.
</p>

<p>
מחיצה <e>לוגית</e> היא מחיצה בתוך מחיצה מורחבת. ההגדרות
של מחיצות אלה לא נמצאות בתוך ה-MBR, אלא מוגדרות בתוך
מחיצה מורחבת.
</p>

</body>
</subsection>
<subsection>
<title>אחסון מתקדם</title>
<body>

<p>
תקליטורי ההתקנה של  <keyval id="arch"/> 
מספקים תמיכה עבור EVMS ו-LVM2. הנ"ל מגדילות את הגמישות
אשר מוצעת על ידי סכמת המחיצות שלכם.
במהלך הוראות ההתקנה, אנו נתמקד במחיצות ה"רגילות",
אבל תמיד טוב לדעת ש-EVMS ו-LVM2 נתמכות גם כן.
</p>

</body>
</subsection>
</section>
<section>
<title>תכנון סכמת מחיצות</title>
<subsection>
<title>סכמת מחיצות ברירת מחדל</title>
<body>

<p>
אם אינכם מעוניינים בקביעת סכמת מחיצות עבור המערכת שלכם,
תוכלו להשתמש בסכמת המחיצות שאנו משתמשים בה בספר זה:
</p>

<table>
<tr>
  <th>מחיצה</th>
  <th>מערכת קבצים</th>
  <th>גודל</th>
  <th>תיאור</th>
</tr>
<tr>
  <ti><path>/dev/hda1</path></ti>
  <ti>ext2</ti>
  <ti>32M</ti>
  <ti>מחיצת אתחול</ti>
</tr>
<tr>
  <ti><path>/dev/hda2</path></ti>
  <ti>(swap)</ti>
  <ti>512M</ti>
  <ti>מחיצת שחלוף</ti>
</tr>
<tr>
  <ti><path>/dev/hda3</path></ti>
  <ti>ext3</ti>
  <ti>שאר הדיסק</ti>
  <ti>מחיצת שורש</ti>
</tr>
</table>

<p>
אם אתם מעוניינים לדעת כמה גדולה צריכה מחיצה להיות, או
אפילו לדעת כמה מחיצות אתם צריכים, קראו הלאה. אחרת, המשיכו
עם יצירת המחיצות על הכונן שלכם על ידי קריאת  <uri link="#fdisk">שימוש ב-fdisk כדי לחלק את הכונן הקשיח למחיצות</uri>.
</p>

</body>
</subsection>
<subsection>
<title>כמה וכמה גדולות?</title>
<body>

<p>
מספר המחיצות תלוי מאוד בסביבה שלכם. לדוגמא, אם יש לכם
הרבה משתמשים, בוודאי תרצו שהמחיצה 
<path>/home</path> שלכם תהיה מופרדת, כיוון שהדבר מגדיל
את אבטחת המידע והופך גיבויים לקלים ליותר.
אם אתם מתקינים את ג'נטו כדי שתשמש כשרת דואר, כדאי שמחיצת
<path>/var</path> תהיה מופרדת, כיוון שכל ההודעות נשמרות ב-
<path>/var</path>. בחירה טובה של מערכת קבצים תמקסם את
הביצועים שלכם. לשרתי משחקים תהיה מחיצת  <path>/opt</path> נפרדת, כיוון שרוב שרתי המשחקים יותקנו שם. הסיבה דומה לסיבה של  <path>/home</path>: 
אבטחה וגיבויים. בוודאי תרצו לשמור על  <path>/usr</path> גדולה:
לא רק שהיא מכילה את רוב התוכנות, גם העץ של Portage לבדו
תופס כ - 500 מ"ב לא כולל קבצי המקור ששמורים שם.
</p>

<p>
כפי שאתם יכולים לראות, הדבר תלוי מאוד במה שאתם מנסים להשיג.
למחיצות נפרדות ול-volume-ים יש את היתרונות הבאים:
</p>

<ul>
<li>
  ניתן לבחור את מערכת הקבצים בעלת הביצועים הטובים ביותר עבור כל מחיצה או volume
</li>
<li>
  לכלל המערכת לא ייגמר המקום אם כלי שאינו תקין כותב קבצים באופן מתמשך למחיצה או ל-volume
</li>
<li>
  אם יש בכך צורך, בדיקות של מערכת קבצים לוקחות פחות זמן,
  כיוון שמספר בדיקות יכולות להיות מבוצעות במקביל (למרות שיתרון זה הוא יותר מהותי כשיש ריבוי דיסקים מאשר כשיש ריבוי מחיצות)
</li>
<li>
  אבטחה יכולה להיות מועשרת על ידי עגינה של חלק מהמחיצות או ה-volume-ים לקריאה בלבד,  כ-nosuid (התעלמות מהביטים של setuid במחיצה זו), noexec (התעלמות מהביטים של אפשרות ההרצה) וכו'.
</li>
</ul>

<p>
למרות זאת, לריבוי מחיצות יש חסרון אחד גדול:
אם התצורה לא נקבעת כראוי, אתם עלולים להגיע למצב של המון
מקום פנוי על מחיצה מסויימת וחוסר מוחלט של מקום במחיצה אחרת. כמו כן, ישנה הגבלה של 15 מחיצות ב-SCSI וב-SATA.
</p>

<p>
כדוגמא לחלוקה, אנו נציג לכם חלוקה של דיסק בגודל 20GB,
אשר נמצאים על מחשב נייד להדגמות (שמכיל שרת ווב, שרת דואר, GNOME, ...):
</p>

<pre caption="דוגמא לשימוש במערכות קבצים">
$ <i>df -h</i>
Filesystem    Type    Size  Used Avail Use% Mounted on
/dev/hda5     ext3    509M  132M  351M  28% /
/dev/hda2     ext3    5.0G  3.0G  1.8G  63% /home
/dev/hda7     ext3    7.9G  6.2G  1.3G  83% /usr
/dev/hda8     ext3   1011M  483M  477M  51% /opt
/dev/hda9     ext3    2.0G  607M  1.3G  32% /var
/dev/hda1     ext2     51M   17M   31M  36% /boot
/dev/hda6     swap    516M   12M  504M   2% &lt;not mounted&gt;
<comment>(GBנפח ללא מחיצות השמור לשימוש עתידי : 2 )</comment>
</pre>

<p>
<path>/usr</path> די מלאה (83% בשימוש) כאן, אבל אחרי
שכל התוכנות כבר מותקנות,  <path>/usr</path> לא נוטה לגדול
יותר מדי.
למרות שהקצאה של מספר גיגהבייטים של נפח דיסק עבור <path>/var</path> עשוייה להראות מוגזמת, זכרו ש-Portage
משתמש במחיצה זו בברירת המחדל כדי להדר חבילות תוכנה.
אם תרצו לשמור על ה-<path>/var</path> שלכם בגודל יותר
הגיוני, כגון 1GB, תצטרכו לשנות את המשתנה  <c>PORTAGE_TMPDIR</c> שלכם בקובץ  <path>/etc/make.conf</path> כדי שיצביע על מחיצה עם מספיק
נפח דיסק פנוי כדי להדר חבילות גדולות במיוחד, כגון אופן-אופיס.
</p>

</body>
</subsection>
</section>
<section id="fdisk">
<title>שימוש ב-fdisk כדי לחלק את הדיסק שלכם למחיצות</title>
<subsection>
<body>

<p>
החלקים הבאים יסבירו כיצד ליצור את מבנה המחיצות שתואר קודם לכן, כלומר:
</p>

<table>
<tr>
  <th>מחיצה</th>
  <th>תיאור</th>
</tr>
<tr>
  <ti><path>/dev/hda1</path></ti>
  <ti>מחיצת אתחול</ti>
</tr>
<tr>
  <ti><path>/dev/hda2</path></ti>
  <ti>מחיצת שחלוף</ti>
</tr>
<tr>
  <ti><path>/dev/hda3</path></ti>
  <ti>מחיצת שורש</ti>
</tr>
</table>

<p>
שנו את מבנה המחיצות שלכם בהתאם להעדפותיכם.
</p>

</body>
</subsection>
<subsection>
<title>צפייה במבנה המחיצות הנוכחי</title>
<body>

<p>
<c>fdisk</c> הוא כלי פופולרי וחזק כדי לחלק את הכונן שלכם
למחיצות. הריצו את <c>fdisk</c> על הדיסק שלכם (בדוגמא שלנו,
אנו משתמשים ב-<path>/dev/hda</path>):
</p>

<pre caption="הרצת fdisk">
# <i>fdisk /dev/hda</i>
</pre>

<p>
כאשר תהיו בתוך <c>fdisk</c>, תבורכו על ידי קלט שנראה כך:
</p>

<pre caption="הקלט של fdisk">
Command (m for help): 
</pre>

<p>
הקלידו <c>p</c> כדי להציג את תצורת המחיצות הנוכחית שעל הדיסק שלכם:
</p>

<pre caption="דוגמא לתצורת מחיצות">
Command (m for help): <i>p</i>

Disk /dev/hda: 240 heads, 63 sectors, 2184 cylinders
Units = cylinders of 15120 * 512 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda2            15        49    264600   82  Linux swap
/dev/hda3            50        70    158760   83  Linux
/dev/hda4            71      2184  15981840    5  Extended
/dev/hda5            71       209   1050808+  83  Linux
/dev/hda6           210       348   1050808+  83  Linux
/dev/hda7           349       626   2101648+  83  Linux
/dev/hda8           627       904   2101648+  83  Linux
/dev/hda9           905      2184   9676768+  83  Linux

Command (m for help): 
</pre>

<p>
דיסק מסויים זה מוגדר לארח 7 מערכות קבצים של לינוקס
(כשכל אחת מהן מוצגת כ"Linux") וגם מחיצת שחלוף (המוצגת כ"Linux swap").
</p>

</body>
</subsection>
<subsection>
<title>הסרת כל המחיצות</title>
<body>

<p>
קודם כל נסיר את כל המחיצות הקיימות מהדיסק. הקלידו <c>d</c> כדי למחוק מחיצה. לדוגמא, כדי למחוק את  <path>/dev/hda1</path> הקיימת:
</p>

<pre caption="מחיקת מחיצה">
Command (m for help): <i>d</i>
Partition number (1-4): <i>1</i>
</pre>

<p>
המחיצה סומנה למחיקה. היא לא תופיע יותר אם תקלידו  <c>p</c>, אבל היא לא תימחק עד שלא תשמרו את השינויים.
אם עשיתם טעות ואתם מעוניינים לבטל מבלי לשמור את השינויים, הקלידו  <c>q</c> מיד ולחצו על enter ואז המחיצה שלכם לא תימחק.
</p>

<p>
כעת, בהנחה שאתם באמת רוצים למחוק את כל המחיצות שלכם, לחצו
באופן חוזר על  <c>p</c> כדי להציג את רשימת המחיצות ואז לחצו על 
<c>d</c> ומספר המחיצה כדי למחוק אותה.
לבסוף, תגיעו לטבלת מחיצות שאין בה כלום:
</p>

<pre caption="טבלת מחיצות ריקה">
Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System

Command (m for help):
</pre>

<p>
כעת שטבלת המחיצות שבזיכרון ריקה, נוכל ליצור את המחיצות.
אנו נשתמש בסכמת המחיצות ברירת המחדל כפי שהוסבר קודם לכן.
כמובן, אל תעקבו אחר ההוראות האלה מילה במילה אם אינכם רוצים
את אותה סכמת מחיצות!
</p>

</body>
</subsection>
<subsection>
<title>יצירת מחיצת האתחול</title>
<body>

<p>
קודם כל ניצור מחיצת אתחול קטנה. הקלידו  <c>n</c> כדי
ליצור מחיצה חדשה, ולאחר מכן <c>p</c> כדי לבחור סוג מחיצה
עיקרי, ובהמשך  <c>1</c> כדי לבחור את המחיצה העיקרית הראשונה.
כאשר תשאלו על הצילינדר הראשון, לחצו enter. כאשר תשאלו על
הצילינדר האחרון, הקלידו <c>+32M</c> כדי ליצור מחיצה בגודל
32MB:
</p>

<pre caption="יצירת מחיצת אתחול">
Command (m for help): <i>n</i>
Command action
  e   extended
  p   primary partition (1-4)
<i>p</i>
Partition number (1-4): <i>1</i>
First cylinder (1-3876, default 1): <comment>(Hit Enter)</comment>
Using default value 1
Last cylinder or +size or +sizeM or +sizeK (1-3876, default 3876): <i>+32M</i>
</pre>

<p>
כעת, כשתקלידו  <c>p</c>, אתם אמורים לראות את הפלט הבא:
</p>

<pre caption="מחיצת אתחול שנוצרה">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1          1        14    105808+  83  Linux
</pre>

<p>
אנו צריכים להפוך מחיצה זו לברת אתחול. הקלידו  <c>a</c> כדי
להפוך את הדגל של בר-אתחול ובחרו במחיצה  <c>1</c>. אם תלחצו על <c>p</c> שוב, תוכלו להבחין בסימן 
<path>*</path> שממוקם מתחת לטור "Boot".
</p>

</body>
</subsection>
<subsection>
<title>יצירת מחיצת השחלוף</title>
<body>

<p>
כעת ניצור את מחיצת השחלוף (swap). כדי לעשות זאת,
הקלידו  <c>n</c> כדי ליצור מחיצה חדשה, ואז 
<c>p</c>כדי לומר שאתם מעוניינים במחיצה עיקרית. לאחר מכן
הקלידו  <c>2</c> כדי ליצור את המחיצה השנייה,
<path>/dev/hda2</path> במקרה שלנו.
כאשר תישאלו אודות הצילינדר הראשון, לחצו enter. כאשר תישאלו
על הצילינדר האחרון, הקלידו <c>+512M</c> כדי ליצור
מחיצה בגודל של 512MB.
אחרי שעשיתם זאת, הקלידו על  <c>t</c> כדי להגדיר את סוג המחיצה, <c>2</c> כדי לבחור את המחיצה שהרגע יצרתם, ואז  <c>82</c> כדי להגדיר את סוג המחיצה כך שתהיה "Linux Swap".
אחרי שתשלימו צעדים אלה, הקלדת  <c>p</c> אמורה להציג לכם
טבלת מחיצות שנראית דומה לזאת:
</p>

<pre caption="תצוגת רשימת המחיצות לאחר יצירת מחיצת השחלוף">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1 *        1        14    105808+  83  Linux
/dev/hda2         15        81    506520   82  Linux swap
</pre>

</body>
</subsection>
<subsection>
<title>יצירת מחיצת השורש</title>
<body>

<p>
לבסוף, הבה ניצור את מחיצת השורש. כדי לעשות זאת, הקלידו <c>n</c> כדי ליצור מחיצה חדשה, לאחר מכן <c>p</c> כדי לומר
ל-fdisk שאתם מעוניינים במחיצה עיקרית.
לאחד מכן הקלידו  <c>3</c> כדי ליצור את המחיצה העיקרית השלישית, <path>/dev/hda3</path>
במקרה שלנו.
כאשר תישאלו לגבי הצילינדר הראשון, לחצו על enter.
כאשר תישאלו לגבי הצילינדר האחרון, לחצו על enter כדי ליצור מחיצה שתופסת את שאר הנפח הפנוי של הדיסק שלכם.
אחרי השלמת הצעדים הללו, הקלדת  <c>p</c> 
אמורה להציג טבלת מחיצות שאמורה להראות דומה לזאת:
</p>

<pre caption="תצוגת רשימת המחיצות לאחר יצירה של מחיצת השורש">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1 *        1        14    105808+  83  Linux
/dev/hda2         15        81    506520   82  Linux swap
/dev/hda3         82      3876  28690200   83  Linux
</pre>

</body>
</subsection>
<subsection>
<title>שמירת מבנה המחיצות</title>
<body>

<p>
כדי לשמור את מבנה המחיצות ולצאת מ-<c>fdisk</c>, הקלידו <c>w</c>.
</p>

<pre caption="שמירה ויציאה מ-fdisk">
Command (m for help): <i>w</i>
</pre>

<p>
כעת שהמחיצות נוצרו, תוכלו להמשיך ב<uri
link="#filesystems">יצירת מערכות קבצים</uri>.
</p>

</body>
</subsection>
</section>
<section id="filesystems">
<title>יצירת מערכות קבצים</title>
<subsection>
<title>הקדמה</title>
<body>

<p>
כעת שהמחיצות שלכם נוצרו, הגיע הזמן לאכלס אותן עם מערכות
קבצים.
אם לא איכפת לכם לגבי הבחירה של מערכות הקבצים ואתם
שמחים עם ברירות המחדל בספר יד זה, המשיכו עם  <uri 
link="#filesystems-apply">יצירת מערכת קבצים על מחיצה</uri>.
אחרת המשיכו לקרוא כדי ללמוד אודות מערכות הקבצים הזמינות...
</p>

</body>
</subsection>
<subsection>
<title>מערכות קבצים?</title>
<body>

<p test="func:keyval('arch')='x86'">
הקרנל של לינוקס תומך במערכות קבצים שונות. אנו נסביר על ext2, ext3,
ReiserFS, XFS ו- JFS כיוון שאלו המערכות הנפוצות ביותר
בשימוש במערכות לינוקס.
</p>

<p test="func:keyval('arch')='AMD64'">
מספר מערכות קבצים זמינות. חלקן נמצאו יציבות על ארכיטקטורת
amd64, וחלקן לא. המערכות הבאות נבדקו ונמצאו יציבות:
ext2 ו- ext3. jfs ו- reiserfs עשויות לעבוד אך צריכות 
בדיקות נוספות.
אם אתם ממש הרפתקנים תוכלו לנסות מערכות שאינן נתמכות.
</p>

<p>
<b>ext2</b> היא מערכת שלה ותק רב ללינוקס אך אין לה  metadata
journaling, 
מה שאומר שבדיקות שגרתיות של מערכת קבצים מסוג ext2 בזמן
עליית המחשב עשויות לקחת הרבה זמן. כיום יש מבחר של מערכות
קבצים מדור חדש יותר אשר תומכות ב-journaling ולכן אפשר
לבדוק את אחידותן מהר מאוד, ולכן הן עדיפות באופן כללי
יחסית לקרובות המשפחה שלהן שאינן תומכות ב-journaling.
מערכות קבצים שיש להן journal מונעות שיהויים ארוכים כאשר
אתם מאתחלים את המערכת שלכם במקרה ומערכת הקבצים שלכם
נמצאת במצב שאינו עקבי.
</p>

<p>
<b>ext3</b> היא גירסת journal של ext2, 
והיא מספקת metadata journaling עבור התאוששות מהירה
בנוסף למצבי journaling מועשרים כגון full data ו-ordered data journaling. היא משתמשת באינדקס  hashed B*-tree שמאפשר
ביצועים גבוהים יותר בכמעט כל סיטואציה. לסיכום, ext3 היא
מערכת קבצים מאוד טובה ואמינה.
</p>

<p>
<b>ReiserFS</b> היא מערכת קבצים מבוססת B*-tree אשר יש
לה ביצועים טובים מאוד בסך הכל, וביצועיה טובים באופן ניכר
גם מ-ext2 וגם מ-ext3 כאשר מטפלים בקבצים קטנים (קבצים בגודל
של פחות מ - 4 קילו בתים), בדרך כלל עד לפקטור של כפול 10-15.
ל-ReiserFS יכולת סקאליזציה טובה מאוד, ויש לה metadata journaling.
ReiserFS היא יציבה ואפשר להשתמש בה גם כמערכת קבצים לשימוש 
כללי, וגם למקרים קיצוניים כמו יצירת מערכות קבצים גדולות,
קבצים גדולים מאוד, וספריות המכילות עשרות אלפי קבצים קטנים.
</p>

<p>
<b>XFS</b> היא מערכת הקבצים שתומכת ב-metadata journaling ומגיעה עם סט-פיצ'רים חזק, והיא מתוכננת עבור גידול. אנו ממליצים להשתמש במערכת זו אך ורק במערכות לינוקס עם אחסון מסוג high-end SCSI או fibre channel, כאשר המערכת מוגנת באמצעות מערכת אל-פסק. כיוון ש-XFS מאחסנת מידע באמצע תעבורה במטמון RAM באופן אגרסיבי למדי, מערכות שאינן מתוכננות היטב (כאלו שאינן לוקחות אמצעי זהירות כשהן כותבות לדיסק, וישנן הרבה כאלה), יכולות לאבד כמות ניכרת במיוחד של מידע במידה והמערכת יורדת באופן בלתי צפוי (הפסקת חשמל למשל).
</p>

<p>
<b>JFS</b> היא מערכת ביצועים-גבוהים של IBM, וגם היא תומכת ב-journaling. רק לאחרונה היא הפכה להיות מוכנה לעבודה בסביבת ייצור (production), ואין מספיק מידע עליה כדי לומר עליה שום דבר, חיובי או שלילי, בכל הנוגע ליציבות.
</p>

</body>
</subsection>
<subsection id="filesystems-apply">
<title>יצירת מערכות קבצים על המחיצות</title>
<body>

<p>
כדי ליצור מערכת קבצים על מחיצה, ישנם מספר כלים זמינים עבור כל סוג של מערכת קבצים:</p>

<table>
<tr>
  <th>מערכת קבצים</th>
  <th>פקודת יצירה</th>
</tr>
<tr>
  <ti>ext2</ti>
  <ti><c>mke2fs</c></ti>
</tr>
<tr>
  <ti>ext3</ti>
  <ti><c>mke2fs -j</c></ti>
</tr>
<tr>
  <ti>reiserfs</ti>
  <ti><c>mkreiserfs</c></ti>
</tr>
<tr>
  <ti>xfs</ti>
  <ti><c>mkfs.xfs</c></ti>
</tr>
<tr>
  <ti>jfs</ti>
  <ti><c>mkfs.jfs</c></ti>
</tr>
</table>

<p>
לדוגמא, כדי שמחיצת האתחול  (<path>/dev/hda1</path> בדוגמא שלנו) תהיה ext2 ומחיצת השורש  (<path>/dev/hda3</path> בדוגמא שלנו) תהיה ext3 (כמו בדוגמא שלנו), תצטרכו להשתמש ב:
</p>

<pre caption="יצירת מערכות קבצים על המחיצות">
# <i>mke2fs /dev/hda1</i>
# <i>mke2fs -j -O dir_index /dev/hda3</i>
</pre>

<p>
כעת צרו את מערכות הקבצים על המחיצות החדשות שנוצרו (או volume-ים לוגיים).
</p>

</body>
</subsection>
<subsection>
<title>הפעלת מחיצה השחלוף</title>
<body>

<p>
<c>mkswap</c> היא הפקודה שבה משתמשים כדי לתחל מחיצות שחלוף:
</p>

<pre caption="יצירת חתימת שחלוף">
# <i>mkswap /dev/hda2</i>
</pre>

<p>
כדי להפעיל את מחיצת השחלוף, השתמשו ב-<c>swapon</c>:
</p>

<pre caption="הפעלת מחיצת השחלוף">
# <i>swapon /dev/hda2</i>
</pre>

<p>
צרו והפעילו את מחיצת השחלוף עם הפקודות שהוזכרו לעיל.
</p>

</body>
</subsection>
</section>
<section>
<title>עגינה</title>
<body>

<p>
כעת שהמחיצות שלכם אותחלו והן מארחות מערכות קבצים, הגיע
הזמן לעגון את המחיצות האלה. השתמשו בפקודה  <c>mount</c>. אל תשכחו ליצור את ספריות העיגון עבור כל מחיצה שיצרתם.
כדוגמא, נעגון כעת את מחיצות השורש והאתחול:
</p>

<pre caption="עגינת מחיצות">
# <i>mount /dev/hda3 /mnt/gentoo</i>
# <i>mkdir /mnt/gentoo/boot</i>
# <i>mount /dev/hda1 /mnt/gentoo/boot</i>
</pre>

<note>
אם אתם רוצים שמחיצת ה-<path>/tmp</path> שלכם תשכון על
מחיצה נפרדת, ודאו שאתם משנים את ההרשאות שלה לאחר העגינה:
<c>chmod 1777 /mnt/gentoo/tmp</c>. הנ"ל נכון גם לגבי  <path>/var/tmp</path>.
</note>

<p>
אנו גם נצטרך לעגון את מערכת הקבצים proc (ממשק וירטואלי
עם הקרנל) תחת <path>/proc</path>. 
אבל קודם לכן אנחנו נצטרך לשים את הקבצים שלנו על המחיצות.
</p>

<p>
המשיכו עם  <uri link="?part=1&amp;chap=5">התקנת קבצי ההתקנה של ג'נטו</uri>.
</p>

</body>
</section>
</sections>
