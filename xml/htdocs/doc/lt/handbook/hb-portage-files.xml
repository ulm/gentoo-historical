<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- $Id: hb-portage-files.xml,v 1.2 2006/08/13 13:16:30 neysx Exp $ -->

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->

<sections>

<version>1.7</version>
<date>2005-06-27</date>

<section>
<title>Portage rinkmenos</title>
<subsection>
<title>Konfigūracijos nuorodos</title>
<body>

<p>
Pagal nutylėjimą Portage konfigūracija yra saugoma rinkmenoje
<path>/etc/make.globals</path>. Pažiūrėję į ją pamatysite, kad visa Portage
konfigūracija yra nustatoma per kintamuosius. Kokie kintamieji valdo Portage ir
ką jie reiškia aprašyta žemiau.
</p>

<p>
Kadangi daugelis konfigūracijos nurodymų skiriasi skirtingoms architektūroms,
Portage taip pat turi konfigūracijos pagal nutylėjimą rinkmenas, kurios yra
jūsų profilio dalis. Jūsų profilis yra nurodomas nuoroda
<path>/etc/make.profile</path>; Portage konfigūracija yra nustatyta jūsų
profilio ir visų vyresnių profilių rinkmenose <path>make.defaults</path>. Mes
paaiškinsime daugiau apie profilius ir katalogą <path>/etc/make.profile</path>
vėliau.
</p>

<p>
Jeigu jūs planuojate pakeisti konfigūracinius kintamuosius, <e>nekeiskite</e>
rinkmenų <path>/etc/make.globals</path> ar <path>make.defaults</path>. Vietoj
to, naudokite pirmumą prieš šias rinkmenas turinčią rinkmeną
<path>/etc/make.conf</path>. Jūs taip pat rasite
<path>/etc/make.conf.example</path>. Kaip ir nurodo pavadinimas,
tai yra pavyzdžių rinkmena - Portage neskaito šios rinkmenos.
</p>

<p>
Jūs taip pat galite apibrėžti Portage konfigūracinį kintamąjį kaip aplinkos
kintamąjį, bet mes to nerekomenduojame.
</p>

</body>
</subsection>
<subsection>
<title>Specifinė profilio informacija</title>
<body>

<p>
Mes jau buvome užsiminę apie katalogą <path>/etc/make.profile</path>. Iš
tikrųjų tai ne katalogas, o simbolinė nuoroda į profilį pagal nutylėjimą,
esantį <path>/usr/portage/profiles</path>, tačau jūs galite susikurti savo
profilius kur nors kitur ir nurodyti į juos. Profilis, į kurį nurodo ši
simbolinė nuoroda, yra jūsų sistemos profilis.
</p>

<p>
Profilyje yra specifinė architektūros informacija skirta Portage, tokia kaip
paketų, priklausančių sistemai, atitinkančiai jūsų profilį, sąrašas,
neveikiančių ar užmaskuotų šiam profiliui paketų sąrašas ir t.t.
</p>

</body>
</subsection>
<subsection>
<title>Specifinė naudotojo konfigūracija</title>
<body>

<p>
Kai jūs norite pakeisti Portage elgesį, susijusį su programinės įrangos
diegimu, jums reikia redaguoti rinkmenas esančias <path>/etc/portage</path>.
Jums <e>labai rekomenduojama</e> naudoti rinkmenas, esančias
<path>/etc/portage</path> ir <e>griežtai nepatariama</e> keisti elgesį
naudojant aplinkos kintamuosius!
</p>

<p>
Kataloge <path>/etc/portage</path> jūs galite sukurti šias rinkmenas:
</p>

<ul>
  <li>
    <path>package.mask</path>, kurioje išvardinami paketai, kurių jūs nenorite
    leisti Portage įdiegti
  </li>
  <li>
    <path>package.unmask</path>, kurioje išvardinami paketai, kuriuos jūs
    norite idiegti, nors Gentoo kūrėjai ir griežtai nepataria jums jų įrašyti.
  </li>
  <li>
    <path>package.keywords</path>, kurioje išvardinami paketai, kuriuos jūs
    norite įdiegti, nors jie ir nelaikomi tinkamais jūsų sistemai ar
    architektūrai (kol kas).
  </li>
  <li>
    <path>package.use</path>, kurioje išvardinamos USE vėliavėlės, kurias jūs
    norite naudoti tam tikriems paketams, o ne visai sistemai.
  </li>
</ul>

<p>
Daugiau informacijos apie katalogą <path>/etc/portage</path> ir pilną sąrašą 
rinkmenų, kurias jūs galite jame sukurti, galite rasti Portage žinyno
puslapyje:
</p>

<pre caption="Portage žinyno puslapio skaitymas">
$ <i>man portage</i>
</pre>

</body>
</subsection>
<subsection>
<title>Portage rinkmenų ir katalogų vietų pakeitimas</title>
<body>

<p>
Anksčiau paminėtos konfigūracinės rinkmenos negali būti saugomos kur nors kitur
- Portage visada ieškos šių konfigūracinių rinkmenų būtent tose vietose. Tačiau
įvairiems tikslams Portage naudoja daug kitų vietų: kompiliavimo katalogą,
pirminio kodo saugyklą, Portage medžio vietą...
</p>

<p>
Visiems šiems tikslams pagal nutylėjimą yra skirtos gerai žinomos vietos, bet
jos gali būti pakeistos pagal jūsų skonį naudojant rinkmeną
<path>/etc/make.conf</path>. Likusi šio skyriaus dalis aiškina, kokias
specialios paskirties vietas Portage naudoja ir kaip jas pakeisti jūsų rinkmenų
išdėstymo sistemoje.
</p>

<p>
Tačiau šis dokumentas nėra žinynas. Jeigu jums reikia 100% aprašymo, jums derėtų
pasiskaityti Portage ir <path>make.conf</path> žinynų puslapius:
</p>

<pre caption="Portage ir make.conf žinynų puslapių skaitymas">
$ <i>man portage</i>
$ <i>man make.conf</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Rinkmenų saugojimas</title>
<subsection>
<title>Portage medis</title>
<body>

<p>
Portage medžio vieta pagal nutylėjimą yra <path>/usr/portage</path>. Tai
apibrėžiama kintamuoju PORTDIR. Kai jūs išsaugojate Portage medį kitur
(pakeisdami šį kintamąjį), nepamirškite atitinkamai pakeisti ir
<path>/etc/make.profile</path> simbolinės nuorodos.
</p>

<p>
Jeigu jūs pakeisite kintamąjį PORTDIR, jums taip pat vertėtų pakeisti šiuos
kintamuosius, nes jie nepastebi PORTDIR pasikeitimo. Taip yra dėl Portage
kintamųjų valdymo būdo: PKGDIR, DISTDIR, RPMDIR.
</p>

</body>
</subsection>
<subsection>
<title>Dvejetainiai paketai</title>
<body>

<p>
Nors Portage pagal nutylėjimą nenaudoja dvejetainių paketų, jiems ji turi platų
palaikymą. Kai jūs pareikalausite Portage dirbti su dvejetainiais paketais, ji
ieškos jų kataloge <path>/usr/portage/packages</path>. Šią vietą nurodo
kintamasis PKGDIR. 
</p>

</body>
</subsection>
<subsection>
<title>Pirminiai tekstai</title>
<body>

<p>
Programos pirminiai tekstai pagal nutylėjimą yra įrašomi į katalogą
<path>/usr/portage/distfiles</path>. Šią vietą nurodo kintamasis DISTDIR.
</p>

</body>
</subsection>
<subsection>
<title>RPM rinkmenos</title>
<body>

<p>
Nors Portage ir negali naudoti RPM rinkmenų, ji gali jas sukurti naudodama
komandą <c>ebuild</c> (žiūrėkite <uri link="?part=3&amp;chap=6">Programa
ebuild</uri>). Pagal nutylėjimą vieta, kurioje Portage įrašo RPM rinmkmenas
yra <path>/usr/portage/rpm</path>, ir ją nurodo kintamasis RPMDIR.
</p>

</body>
</subsection>
<subsection>
<title>Portage duomenų bazė</title>
<body>

<p>
Portage išsisaugo informaciją apie jūsų sistemos būklę (kokie paketai yra
idiegti, kokiam paketui priklauso kokios rinkmenos, ...) kataloge
<path>/var/db/pkg</path>. <e>Neredaguokite</e> šių rinkmenų rankiniu būdu! Tai
gali sugadinti Portage žinias apie jūsų sistemą.
</p>

</body>
</subsection>
<subsection>
<title>Portage podėlis</title>
<body>

<p>
Portage podėlis (su modifikavimo laikais, virtualais, priklausomybių medžio
informacija, ...) yra kataloge <path>/var/cache/edb</path>. Ši vieta tikrai yra
podėlis: jūs galite ją išvalyti, jeigu nevykdote jokios su Portage susijusios
programos.
</p>

</body>
</subsection>
</section>
<section>
<title>Programinės įrangos kompiliavimas</title>
<subsection>
<title>Laikinosios Portage rinkmenos</title>
<body>

<p>
Laikinosios Portage rinkmenos pagal nutylėjimą yra įrašomos į katalogą
<path>/var/tmp</path>. Tai nurodo kintamasis PORTAGE_TMPDIR.
</p>

<p>
Jeigu jūs pakeisite kintamajį PORTAGE_TMPDIR, jums taip pat vertėtų pakeisti
šiuos kintamuosius, nes jie nepastebi PORTAGE_TMPDIR pasikeitimo. Taip yra dėl
Portage kintamųjų valdymo būdo: BUILD_PREFIX.
</p>

</body>
</subsection>
<subsection>
<title>Kompiliavimo katalogas</title>
<body>

<p>
Portage sukuria specialius kompiliavimo katalogus kiekvienam paketui ji įrašo
kataloge <path>/var/tmp/portage</path>. Šią vietą nurodo kintamasis
BUILD_PREFIX.
</p>

</body>
</subsection>
<subsection>
<title>Veikiančios rinkmenų išdėstymo sistemos vieta</title>
<body>

<p>
Pagal nutylėjimą Portage įdiegia visas rinkmenas į esamą rinkmenų išdėstymo
sistemą (<path>/</path>), bet jūs galite tai pakeisti aplinkos kintamuoju ROOT.
Tai yra naudinga kai jūs norite sukurti naujus sistemos atvaizdus.
</p>

</body>
</subsection>
</section>
<section>
<title>Registravimo savybės</title>
<subsection>
<title>Ebuild registravimas</title>
<body>

<p>
Portage gali kurti žurnalines rinkmenas kiekvienam ebuild, bet tik kai
kintamasis PORT_LOGDIR nurodo vietą, į kurią leidžiama rašyti Portage (portage
naudotojui). Pagal nutylėjimą šis kintamasis yra neapibrėžtas.
</p>

</body>
</subsection>
</section>
</sections>

