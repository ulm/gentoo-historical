<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/lt/handbook/hb-install-config.xml,v 1.1 2006/03/03 00:24:35 neysx Exp $ -->

<sections>

<version>2.17</version>
<date>2006-02-27</date>

<section>
<title>Rinkmenų išdėstymo sistemos informacija</title>
<subsection>
<title>Kas yra fstab?</title>
<body>

<p>
Linux sistemoje, visi skaidiniai (partitions) turi būti aprašyti
<path>/etc/fstab</path> rinkmenoje. Šioje rinkmenoje yra tų skaidinių jungties
vietos (kur jie yra matomi rinkmenų išdėstymo sistemos struktūroje), kaip jie
turi būti prijungti ir su kokiomis specialiomis parinktimis (prijungiamas
automatiškai ar ne, naudotojai gali juos prijungti ar ne ir t.t.)
</p>

</body>
</subsection>
<subsection>
<title>Kuriame /etc/fstab</title>
<body>

<p>
<path>/etc/fstab</path> naudoja specialią sintaksę. Kiekviena eilutė
sudaryta iš šešių laukelių, kurie yra atskirti tarpais, tabuliacija arba
maišytai. Kiekvienas laukas turi savo reikšmę:
</p>

<ul>
<li>Pirmas laukas aprašo <b>skaidinį</b> (kelią iki įrenginio rinkmenos)</li>
<li>
  Kitas laukas nurodo <b>prijungimo tašką</b>, kur skaidinys bus prijungtas
</li>
<li>
  Trečias laukas nurodo, kokią <b>rinkmenų išdėstymo sistemą</b> naudoja
  skaidinys
</li>
<li>
  Ketvirtas laukas nurodo, kokios <b>prijungimo parinktys</b> naudojamos
  programos <c>mount</c> prijungiant skaidinį. Kadangi kiekviena rinkmenų
  išdėstymo sistema turi nuosavas skaidinio prijungimo parinktis, raginame
  paskaityti mount žinyno puslapį (<c>man mount</c>), jei norite detalesnės
  informacijos. Prijungimo parinktys yra skiriamos kableliais.
</li>
<li>
  Penktas laukas yra naudojamas <c>dump</c> programos, kad apibrėžtų ar
  skirstinys naudos <b>dump</b> funkciją ar ne. Paprastai jūs galite palikti
  šiame lauke <c>0</c> (nulį).
</li>
<li>
  Šeštas laukas yra naudojamas nusakyti programai <c>fsck</c>, kokia tvarka
  turėtų būti <b>tikrinama</b> rinkmenų išdėstymo sistema, jei sistema buvo
  netinkamai išjungta. Pagrindinė (root) rinkmenų išdėstymo sistema turi turėti
  reikšmę <c>1</c>, o kitos turėtų turėti reikšmę <c>2</c> (arba <c>0</c>,
  jeigu rinkmenų išdėstymo sistemos tikrinti nereikia).
</li>
</ul>

<p>
Pradinė <path>/etc/fstab</path> rinkmena, pateikiama Gentoo sistemos, <e>nėra 
taisyklinga fstab rinkmena</e>, todėl paleiskite <c>nano</c> (arba kitą savo mėgstamą redaktorių) ir sukurkite savo <path>/etc/fstab</path> rinkmeną:
</p>

<pre caption="Atidarykite /etc/fstab">
# <i>nano -w /etc/fstab</i>
</pre>

<p>
Pasižiūrėkime, kaip reiktų parašyti tinkamas parinktis <path>/boot</path>
skirstiniui. Tai yra tik pavyzdys, todėl, jeigu jūsų architektūra nereikalauja
<path>/boot</path> skirstinio (pavyzdžiui, Apple <b>PPC</b>), nekopijuokite
pažodžiui.
</p>

<p>
Mūsų pradiniame x86 architektūros skirstinių pavyzdyje <path>/boot</path> yra
<path>/dev/hda1</path> skirstinyje su <c>ext2</c> rinkmenų išdėstymo sistema. 
Jis turi būti patikrintas krovimosi metu, todėl mes parašome:
</p>

<pre caption="/boot eilutės pavyzdys rinkmenoje /etc/fstab">
/dev/hda1   /boot     ext2    defaults        1 2
</pre>

<p>
Kai kurie naudotojai nenori, kad jų <path>/boot</path> skaidinys būtų
automatiškai prijungtas, tam, kad pagerintų sistemos saugumą. Tokie naudotojai
turėtų pakeisti <c>defaults</c> reikšmę į <c>noauto</c>. Šitai reiškia, kad jūs
rankiniu būdu turite prijungti skaidinį kiekvieną kartą, kai norite jį naudoti.
</p>

<p>
Dabar, sistemos našumo pagerinimui, pridėsime <c>noatime</c> prijungimo 
parinktį, dėl ko pagreitėja sistema, nes neregistruoja priėjimo laikų,
kurių šiaip ar taip nereikia:
</p>

<pre caption="Pagerinta /boot eilutė /etc/fstab">
/dev/hda1   /boot     ext2    defaults,noatime    1 2
</pre>

<p>
Jeigu tęsime toliau, mes užbaigsime ties šiomis trim eilutėm
(<path>/boot</path>, <path>/</path> ir swap skaidiniui:
</p>

<pre caption="Trys /etc/fstab eilutės">
/dev/hda1   /boot     ext2    defaults,noatime  1 2
/dev/hda2   none      swap    sw                0 0
/dev/hda3   /         ext3    noatime           0 1
</pre>

<p>
Užbaigiant redagavimą, turime įdėti taisykles <path>/proc</path>, <c>tmpfs</c>
(būtina) ir CD-ROM įrenginiui. Taip pat, jeigu turite kitus skaidinius ar
diskus, aprašykite juos:
</p>

<pre caption="Pilnas /etc/fstab pavyzdys">
/dev/hda1   /boot     ext2    defaults,noatime     1 2
/dev/hda2   none      swap    sw                   0 0
/dev/hda3   /         ext3    noatime              0 1

none        /proc     proc    defaults             0 0
none        /dev/shm  tmpfs   nodev,nosuid,noexec  0 0

/dev/cdroms/cdrom0    /mnt/cdrom    auto      noauto,user    0 0
</pre>

<p>
<c>auto</c> parinktis leidžia <c>mount</c> komandai spėti, kokią yra rinkmenų
išdėstymo sistema (rekomenduojama naudoti keičiamoms laikmenoms, kadangi jos
gali būti sukurtos su viena iš daugelio rinkmenų išdėstymo sistemų).
<c>user</c> parinktis leidžia paprastiems vartotojams (neturintiems root
teisių) prijungti kompaktinius diskus.
</p>

<p>
Pasinaudodami aukščiau pateiktu pavyzdžiu sukurkite savo
<path>/etc/fstab</path> rinkmeną. Jeigu jūs esate <b>SPARC</b> naudotojas,
turite taip pat pridėti šią eilutę į savo <path>/etc/fstab</path> rinkmeną:
</p>

<pre caption="Pridedama openprom rinkmenų išdėstymo sistema į /etc/fstab">
none        /proc/openprom  openpromfs    defaults      0 0
</pre>

<p>
Dar kartą patikrinkite savo <path>/etc/fstab</path>, išsaugokite ir uždarykite.
</p>

</body>
</subsection>
</section>
<section>
<title>Tinklo informacija</title>
<subsection>
<title>Hostname, domainname ir t.t.</title>
<body>

<p>
Vienas iš pasirinkimų, tenkantis naudotojui, tas, kad jis turi sugalvoti savo
Asmeniniam Kompiuteriui vardą. Tai atrodo visai nesuku padaryti, bet
<e>daugybė</e> naudotojų susiduria su sunkumais parenkant tinkamą vardą savo
AK. Tam, kad reikalai judėtų greičiau, primename, kad bet koks vardas galės
būti pakeistas vėliau. Jei nieko kito nesugalvojate, galite paprasčiausiai
pavadinti <c>tux</c> vardu, o simbolinį adresų srities pavadinimą (domain)
<c>homenetwork</c> vardu
</p>

<p>
Mes naudosime šitas reikšmes kituose pavyzdžiuose. Pirmiausia, mes nustatome
kompiuterio vardą (hostname):
</p>

<pre caption="Kompiuterio vardo nustatymas">
# <i>nano -w /etc/conf.d/hostname</i>

<comment>(Nustatykite HOSTNAME kintamąjį savo AK)</comment>
HOSTNAME="<i>tux</i>"
</pre>

<p>
Toliau, mes nustatysime simbolinį adresų srities pavadinimą (domainname):
</p>

<pre caption="Nustatome simbolinį adresų srities pavadinimą">
# <i>nano -w /etc/conf.d/domainname</i>

<comment>(Nustatome DNSDOMAIN kintamąjį)</comment>
DNSDOMAIN="<i>homenetwork</i>"
</pre>

<p>
Jeigu jūs turite NIS adresą (jeigu nežinote kas tai yra, tai greičiausiai tokio
ir neturite), jums taip pat reikia jį apibrėžti:
</p>

<pre caption="Nustatome NIS domainname">
# <i>nano -w /etc/conf.d/domainname</i>

<comment>(Nustatome NISDOMAIN kintamąjį savo NIS adreso pavadinimui)</comment>
NISDOMAIN="<i>my-nisdomain</i>"
</pre>

<p>
Dabar įdedame <c>simbolinės adresų srities pavadinimo</c> scenarijų į pagrindinį
paleidžiamąjį lygį (runlevel).
</p>

<pre caption="Įdedame adresų srities pavadinimo scenarijų į pagrindinį
paleidžiamąjį lygį (runlevel)">
# <i>rc-update add domainname default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Nustatinėjame jūsų tinklą</title>
<body>

<p>
Prieš sušunkant "Ei, mes jau turime veikiantį tinklą", turėtumėte prisiminti,
kad tinklas, kurį jūs paleidote Gentoo diegimo pradžioje yra skirtas tik
diegimui. O dabar mes nustatysime tinklą jūsų Gentoo sistemai.
</p>

<note>
Daugiau detalesnės informacijos apie tinklą, įskaitant sudėtingesnius dalykus,
tokius kaip bonding, bridging, 802.1Q VLAN ar bevielis tinklas, galite rasti
skyriuje <uri link="?part=4">Gentoo Tinklo Paruošimas</uri>.
</note>

<p>
Visa tinklo informacija yra rinkmenoje <path>/etc/conf.d/net</path>. Čia
naudojama konkreti sintaksė, o ne intuityvi, jeigu nežinote kaip nustatyti
tinklą rankiniu būdu. Tačiau nebijokite, mes viską paaiškinsime. Pilnas
pavyzdys su komentarais ir daugeliu kitų konfiguracijų yra rinkmenoje
<path>/etc/conf.d/net.example</path>.
</p>

<p>
DHCP naudojamas kaip kaip pradinis nustatymas ir toliau nereikalauja jokių
nustatinėjimų.
</p>

<p>
Jeigu jums reikia nustatyti savo tinklo prisijungimą dėl specifinių DHCP
parinkčių ar dėl to, kad jūs nenaudojate DHCP apskritai, tada atidarykite
<path>/etc/conf.d/net</path> savo mėgstamu redaktoriumi (šiame pavyzdyje
naudojamas <c>nano</c>):
</p>

<pre caption="Atidarome /etc/conf.d/net rinkmeną">
# <i>nano -w /etc/conf.d/net</i>
</pre>

<p>
Toliau jūs matysite tokią rinkmeną (komentarus čia pateikiame išverstus):
</p>

<pre caption="Numatytas /etc/conf.d/net">
# Šis pradinis nustatymas automatiškai naudos DHCP betkokiems net.*
# scenarijams kataloge /etc/init.d. Norėdami sukurti ir nustatyti tinklą 
# pilnai, prašome peržiūrėti /etc/conf.d/net.example ir išsaugoti
# nustatymus /etc/conf.d/net (šioje rinkmenoje :]!)
</pre>

<p>
Įveskite savo IP adresą, tinklo kaukę (netmask) ir tinklo sietuvą (gateway).
Jums reikia nustatyti abu <c>config_eth0</c> ir <c>routes_eth0</c>:
</p>

<pre caption="Rankiniu būdu nustatome IP informaciją eth0 tinklo plokštei">
config_eth0=( "192.168.0.2 netmask 255.255.255.0 brd 192.168.0.255" )
routes_eth0=( "default gw 192.168.0.1" )
</pre>

<p>
Norėdami naudoti DHCP ir pridėti specifines DHCP nuostatos, apibrėžkite
<c>config_eth0</c> ir <c>dhcp_eth0</c>:
</p>

<pre caption="Automatiškas IP adreso gavimas eth0 plokštei">
config_eth0=( "dhcp" )
dhcp_eth0="nodns nontp nonis"
</pre>

<p>
Prašome perskaityti <path>/etc/conf.d/net.example</path> norėdami sužinoti visas
galimas parinktis.
</p>

<p>
Jeigu jūs turite keletą tinklo plokščių, pakartokite aukščiau paminėtus punktus
nuostatoms <c>config_eth1</c>, <c>config_eth2</c>, ir t.t.
</p>

<p>
Dabar išsaugokite konfiguraciją ir uždarykite rinkmeną.
</p>

</body>
</subsection>
<subsection>
<title>Automatiškas tinklo paleidimas krovimosi metu</title>
<body>

<p>
Tam, kad aktyvuotumėte tinklą krovimosi metu, jums reikia įdėti tai į numatytą
krovimosi lygį (runlevel). Jeigu jūs turite PCMCIA kortą, jums reikėtų praleisti
šiuos veiksmus ir pradėti nuo PCMCIA paleidimo skripto.
</p>

<pre caption="net.eth0 pridėjimas į numatytą paleidžiamąjį lygį">
# <i>rc-update add net.eth0 default</i>
</pre>

<p>
Jeigu jūs turite kelias tinklo kortas, jums reikia sukurti atitinkamus
paleidimo scenarijus <path>net.eth1</path>, <path>net.eth2</path> ir t.t. Tam
galite naudoti <c>ln</c> komandą:
</p>

<pre caption="Papildomų paleidimo scenarijų sukūrimas">
# <i>cd /etc/init.d</i>
# <i>ln -s net.eth0 net.eth1</i>
# <i>rc-update add net.eth1 default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Užrašykite Tinklo informaciją</title>
<body>

<p>
Jums reikia pranešti Linux sistemai apie savo tinklą. Tai yra aprašoma
rinkmenoje <path>/etc/hosts</path> ir padeda nukreipti kompiuterio vardą į IP
adresą kompiuterio, kuris neatsiliepia pagal jūsų vardų serverį. Pavyzdžiui,
jeigu jūsų vidinis tinklas sudarytas iš trijų AK, pavadintais <c>jenny</c>
(192.168.0.5), <c>benny</c> (192.168.0.6) ir <c>tux</c> (192.168.0.7 - jūsų
sistema), jums reikės atidaryti <path>/etc/hosts</path> ir užpildyti reikšmes:
</p>

<pre caption="Atidarom /etc/hosts">
# <i>nano -w /etc/hosts</i>
</pre>

<pre caption="Užpildom tinklo informaciją">
127.0.0.1     localhost
192.168.0.5   jenny.homenetwork jenny
192.168.0.6   benny.homenetwork benny
192.168.0.7   tux.homenetwork tux
</pre>

<p>
Jeigu jūsų sistema yra vienintelė sistema (arba vardų serveris valdo visas
vardų rezoliucijas), tada užtenka tik vienos eilutės. Pavyzdžiui, jeigu jūs
norite pavadinti savo sistemą <c>tux</c>:
</p>

<pre caption="/etc/hosts rinkmena vienišam arba pilnai integruotam AK">
127.0.0.1     localhost tux
</pre>

<p>]
Išsaugokite ir išeikite iš redaktoriaus.
</p>

<p>
Jeigu jūs neturite PCMCIA kortos, jūs galite pereiti prie skyriaus
<uri link="#doc_chap3">Sisteminė Informacija</uri>. PCMCIA-vartotojai turėtų
perskaityti kitą straipsnį apie PCMCIA.
</p>

</body>
</subsection>
<subsection>
<title>Nebūtina: Padarykite PCMCIA kortą veikiančią</title>
<body>

<note>
pcmcia-cs tinka tik x86, amd64 ir ppc architektūroms.
</note>

<p>
PCMCIA naudotojai turi primiausia įdiegti <c>pcmcia-cs</c> paketą. Šitai liečia
ir tuos naudotojus, kurie naudos 2.6 branduolį (net ir tada jie nenaudos PCMCIA
tvarkyklės šitam paketui). <c>USE="-X"</c> yra būtinas, kad išvengtume xorg-x11
paketo įdiegimo šiuo metu:
</p>

<pre caption="Įdiegiame pcmcia-cs paketą">
# <i>USE="-X" emerge pcmcia-cs</i>
</pre>

<p>
Kada <c>pcmcia-cs</c> yra įdiegtas, įdėkite <c>pcmcia</c> į <e>numatytąjį</e>
paleidžiamąjį lygį:
</p>

<pre caption="Įdėkite pcmcia į numatytąjį paleidžiamąjį lygį">
# <i>rc-update add pcmcia default</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Sisteminė Informacija</title>
<subsection>
<title>Pagrindinio (root) Naudotojo Slaptažodis</title>
<body>

<p>
Pirmiausia nustatysime pagrindiniam (root) naudotojui slaptažodį parašydami
komandą:
</p>

<pre caption="Nustatome pagrindiniam (root) naudotojui slaptažodį">
# <i>passwd</i>
</pre>

<p>
Jeigu norite, kad pagrindinis (root) naudotojas galėtų prisijungti per serijinę
komandinę eilutę, tada pridėkite įrašą <c>tts/0</c> į
<path>/etc/securetty</path> rinkmeną:
</p>

<pre caption="Pridedame tts/0 į /etc/securetty rinkmeną">
# <i>echo "tts/0" &gt;&gt; /etc/securetty</i>
</pre>

</body>
</subsection>
<subsection>
<title>Sisteminė informacija</title>
<body>

<p>
Gentoo naudoja <path>/etc/rc.conf</path> rinkmeną bendriems sistemos
nustatymams. Atsidarykite rinkmeną <path>/etc/rc.conf</path> ir mėgaukitės
visais komentarais joje :)
</p>

<pre caption="Atidarome /etc/rc.conf">
# <i>nano -w /etc/rc.conf</i>
</pre>

<p>
Kai užbaigsite nustatinėti <path>/etc/rc.conf</path>, išsaugokite ir
išeikite iš jo. 
</p>

<p>
Kaip matote, rinkmenoje yra nemažai komentarų, padedančių atlikti būtinus
nustatymus. Jūs galite sukonfigūruoti savo sistemą, kad ji naudotų unicode,
taip pat nustatyti pagrindinį redaktorių ar darbo aplinkos valdytoją (tokius
kaip gdm ar kdm).
</p>

<p>
Gentoo naudoja rinkmeną <path>/etc/conf.d/keymaps</path> klaviatūros
nustatymams saugoti. Paredaguokite jį, kad parinktume klaviatūrai teisingus
nustatymus.
</p>

<pre caption="Atidarome /etc/conf.d/keymaps">
# <i>nano -w /etc/conf.d/keymaps</i>
</pre>

<p>
Atkreipkite dėmesį į <c>KEYMAP</c> kintamąjį. Jeigu pasirinksite neteisingą 
<c>KEYMAP</c>, jūs gausite keistus rezultatus, kai spausdinsite su klaviatūra.
</p>

<note>
USB-pagrindo <b>SPARC</b> sistemų naudotojai ir <b>SPARC</b> klonai gali turėti
pasirinkti i386 klavišų išdėstymus (tokius kaip "us") vietoj "sunkeymap".
<b>PPC</b> naudoja x86 architektūros klavišų išdėstymą daugelyje savo
sistemų. Naudotojai, kurie nori naudoti ADB klavišų išdėstymą krovimosi metu,
turi aktyvuoti ADB klavišų kodų siuntimus į savo branduolį ir pasirinkti
mac/ppc klavišų išdėstymą rinkmenoje <path>/etc/conf.d/keymaps</path>.
</note>

<p>
Kai baigsite konfigūruoti <path>/etc/conf.d/keymaps</path>, išsaugokite ir
uždarykite. 
</p>

<p>
Gentoo naudoja <path>/etc/conf.d/clock</path> rinkmeną laikrodžio parinktims
nustatyti. Redaguokite ją pagal savo poreikius.
</p>

<pre caption="Atidarome /etc/conf.d/clock">
# <i>nano -w /etc/conf.d/clock</i>
</pre>

<p>
Jeigu jūsų kompiuterio laikrodis naudoja UTC laiką, jums reikia įrašyti
<c>CLOCK="local"</c> į rinkmeną. Kitu atveju jūs pastebėsite, kad jūsų
laikrodis netikslus. Be to, Windows sistema mano, kad jūsų kompiuterinis
laikrodis rodo vietinį laiką, taigi jei jūs naudojate dvi sistemas viename
kompiuteryje, jūs turite nustatyti šį kintamąjį teisingai, kitu atveju jūsų
laikrodis paprasčiausiai rodys neteisingai.
</p>

<p>
Kai baigsite nustatinėti <path>/etc/conf.d/clock</path>, išsaugokite ir
uždarykite rinkmeną.
</p>

<p>
Jeigu jūs nediegiate Gentoo sistemos į IBM PPC64 kompiuterį, tęskite ties
skyrium <uri link="?part=1&amp;chap=9">Reikiamų sistemos įrankių
diegimas</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Nustatinėjame terminalą</title>
<body>

<note>
Tolimesnis skyrius skirtas IBM PPC64 kompiuterių platformai.
</note>

<p>
Jeigu jūsų Gentoo sistema naudoja IBM PPC64 kompiuterinę įrangą ir naudoja
virtualius terminalus, jūs turite atkomentuoti atitinkamą eilutę rinkmenoje
<path>/etc/inittab</path> tam, kad virtualūs terminalai rodytų prisijungimo
raginimą.
</p>

<pre caption="Įjungiame hvc arba hvsi palaikymą rinkmenoje /etc/inittab">
hvc0:12345:respawn:/sbin/agetty -L 9600 hvc0
hvsi:12345:respawn:/sbin/agetty -L 19200 hvsi0
</pre>

<p>
Jūs taip pat turėtumėte patikrinti, ar teisingi terminalai yra paminėti
rinkmenoje <path>/etc/securetty</path>.
</p>

<p>
Dabar jūs galite pereiti prie skyriaus <uri link="?part=1&amp;chap=9">Būtinų
sistemos įrankių diegimas</uri>.
</p>

</body>
</subsection>
</section>
</sections>

