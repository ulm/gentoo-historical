<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ro/gentoo-x86-quickinstall.xml,v 1.2 2005/03/20 17:52:54 alin Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/ro/gentoo-x86-quickinstall.xml" lang="ro">
<title>Referinţe Instalare Rapidă Gentoo Linux</title>
<author title="Autor">Steven Wagner</author>
<author title="Editor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Translator">
  <mail link="mudrii@gentoo.ro">Ion Mudreac</mail>
</author>

<abstract>
Ghidul de instalare rapidă acoperă procesul generalizat de instalare. Pentru
utilizarea acestui ghid utilizatorii au nevoie de un minim de experienţă în
instalarea Gentoo Linux.
</abstract>

<license/>

<version>1.25</version>
<date>2005-03-12</date>

<chapter>
<title>Referinţe Instalare Rapidă</title>
<section>
<body>

<p>
Imaginile ISO ale mediilor CD de instalare sunt prezente în lista cu servere
<uri link="http://www.gentoo.org/main/en/mirrors.xml">Mirror Gentoo</uri>.
Descrierile detaliate ale mediilor CD ce fac parte din distribuţia Gentoo le
puteţi găsi la adresa <uri link="http://store.gentoo.org">Gentoo Store</uri>.
CD 1 conţine toate cele necesare pentru instalarea Gentoo Linux fără a fi
necesară legătura la Internet. CD 2 este opţional ce conţine pachetele
precompilate cum ar fi KDE, GNOME, OpenOffice, Mozilla, Evolution şi multe
altele.
</p>

<p>
Boot-aţi de pe primul CD Gentoo. Apăsaţi tasta &lt;F1&gt; şi/sau &lt;F2&gt;
pentru vizualizarea opţiunilor de boot. Apăsaţi tasta &lt;ENTER&gt; pentru a
continua procesul de boot ce va încărca imaginea de kernel implicită. La
finalul procesului de boot veţi intra în prompt.
</p>

<pre caption="Setările de bază">
# <i>date</i>  (Asiguraţi-vă că ora şi data sistemului sunt corecte. Dacă nu sunt corecte, le puteţi modifica cu <i>date LLZZoommSSAA</i>)
# <i>modprobe nume_modul</i>  (Opţional - Încărcarea modulelor necesare)
# <i>net-setup eth0</i> (Configurarea reţelei)
# <i>fdisk /dev/hda</i> (Partiţionarea discului)
</pre>

<p>
Spaţiul recomandat pentru partiţia de boot este de 64 MOcteţi în format ext3,
dublul memoriei RAM instalate pentru swap, iar restul spaţiului rămas îl puteţi
utiliza pentru partiţia root în format ReiserFS.
</p>

<p>
Formatarea partiţiilor se realizează cu comenzile <c>mke2fs</c> (Ext2),
<c>mke2fs -j</c> (Ext3), <c>mkreiserfs</c>(ReiserFS), <c>mkfs.xfs</c> (XFS),
<c>mkfs.jfs</c> (JFS) and <c>mkswap</c> (partiţia swap). De exemplu: <c>mke2fs
-j /dev/hda3</c>.
</p>

<p>
Continuăm cu montarea partiţiilor create şi dezarhivarea fişierului stage.
</p>

<pre caption="Pregătirea pentru instalare">
(Activarea partiţiei swap)                  # <i>swapon /dev/hdax</i>
(Mount-area partiţiei root)                 # <i>mount /dev/hdax /mnt/gentoo</i>
(Crearea directorului de mount pentru partiţia de boot)
                                            # <i>mkdir /mnt/gentoo/boot</i>
(Mount-area partiţiei de boot)              # <i>mount /dev/hdax /mnt/gentoo/boot</i>
(Intrarea în directorul de mount)           # <i>cd /mnt/gentoo</i>
(Dezarhivarea arhivei tar stage...)         # <i>tar -xvjpf /mnt/cdrom/stages/stage&lt;alegerea_dvs&gt;.tar.bz2</i>
(<comment>sau</comment> descărcarea ultimei arhive tar...)     # <i>lynx http://www.gentoo.org/main/en/mirrors.xml</i>
(                  ... şi dezarhivarea )    # <i>tar -xvjpf stage&lt;alegerea_dvs&gt;.tar.bz2</i>
(Opţional: dezarhivarea structurii portage) # <i>tar -xvjf /mnt/cdrom/snapshots/portage-*.tar.bz2 \
                                              -C /mnt/gentoo/usr</i>
(Opţional: copierea fişierelor distfiles)   # <i>cd /mnt/gentoo/usr/portage; mkdir distfiles;</i>
                                            # <i>cp /mnt/cdrom/distfiles/* distfiles/</i>
(Selecţia unui server mirror)               # <i>mirrorselect -a -s4 -o | grep 'GENTOO_MIRRORS=' \
                                              &gt;&gt; /mnt/gentoo/etc/make.conf</i>
(Copierea informaţiilor DNS)                # <i>cp -L /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
(Mount-area sistemului de fişiere proc)     # <i>mount -t proc none /mnt/gentoo/proc</i>
(Chroot în noul mediu)                      # <i>chroot /mnt/gentoo /bin/bash</i>
(Încărcarea variabilelor necesare)          # <i>env-update; source /etc/profile</i>
(Doar instalare cu reţea, nu şi GRP: actualizare Portage)
                                            # <i>emerge --sync</i>
</pre>

<p>
Acum, instalăm Gentoo Linux:
</p>

<pre caption = "Instalarea Gentoo">
(Modificaţi USE, CFLAGS şi CXXFLAGS. În Stage1 de asemenea puteţi modifica CHOST)
                                                 # <i>nano -w /etc/make.conf</i>
(Stage1: sistemul bootstrap)                     # <i>cd /usr/portage; scripts/bootstrap.sh</i>
(Stage1, Stage2 : instalarea sistemului de bază) # <i>emerge system</i>
</pre>

<p>
Apoi, setăm informaţiile necesare:
</p>

<pre caption = "Setarea fişierelor de configurare">
(Setarea informaţiilor timezone)   # <i>ln -sf /usr/share/zoneinfo/<comment>&lt;calea_spre_fisierul_zonei_de_fus_orar&gt;</comment> /etc/localtime</i>
(Editarea fişierului fstab)        # <i>nano -w /etc/fstab</i>
</pre>

<p>
Folosiţi următorul exemplu pentru configurarea <path>/etc/fstab</path>:
</p>

<pre caption="/etc/fstab">
# &lt;fs&gt;          &lt;mountpoint&gt;    &lt;type&gt;          &lt;opts&gt;                  &lt;dump/pass&gt;
/dev/hdax       /boot           ext2            defaults,noatime        1 2
/dev/hdax       none            swap            sw                      0 0
/dev/hdax       /               reiserfs        noatime                 0 1
/dev/cdroms/cdrom0 /mnt/cdrom   auto            noauto,user             0 0
none            /proc           proc            defaults                0 0
none            /dev/shm        tmpfs           nodev,nosuid,noexec     0 0
</pre>

<p>
Continuăm prin instalarea kernel-ului Linux:
</p>

<pre caption="Instalare kernel">
(Instalarea surselor kernel)             # <i>emerge <comment>&lt;pachet-kernel&gt;</comment></i>
(Configurarea kernel-ului utilizând genkernel...)
                                         # <i>emerge genkernel; genkernel --menuconfig all</i>
(<comment>sau</comment> (1) configurarea manuală de kernel)
                                         # <i>cd /usr/src/linux; make menuconfig;</i>
(   (2) Includeţi VM fs, /proc fs, /dev fs, /dev fs auto mount la boot)
(   (3) Compilarea kernel-ului)
          (pentru kernel 2.4)            # <i>make dep &amp;&amp; make clean bzImage modules modules_install</i>
          (pentru kernel 2.6)            # <i>make &amp;&amp; make modules_install</i>

(   (4) Copierea noului kernel în /boot) # <i>cp arch/i386/boot/bzImage /boot; cp System.map /boot</i>
</pre>

<p>
Acum instalaţi alte utilitare dorite:
</p>

<pre caption = "Instalarea utilitarelor de sistem necesare">
(Instalarea aplicaţiei logger de sistem ; alegeţi : sysklogd, metalog, msyslog, syslog-ng)
                                                              # <i>emerge syslog-ng </i>
(Autostart pentru systemlogger în timpul procesului de boot)  # <i>rc-update add syslog-ng default</i>
(Instalarea demon-ului cron; alegeţi: vcron, dcron, fcron)    # <i>emerge vixie-cron</i>
(Autostart pentru cron daemon în timpul procesului de boot)   # <i>rc-update add vixie-cron default</i>   
(Numai pentru utilizatorii ce folosesc genkernel: instalarea hotplug)
                                                              # <i>emerge hotplug</i>
(Numai pentru utilizatorii ce folosesc genkernel: autostart pentru hotplug la boot)
                                                              # <i>rc-update add hotplug default</i>
(Non-ext2,ext3; alegeţi : reiserfsprogs, xfsprogs, jfsutils)  # <i>emerge reiserfsprogs</i>
(script-ul de iniţializare pentru setarea numelui domeniului) # <i>rc-update add domainname default</i>
</pre>

<p>
Dacă doriţi pachete specializate de kernel, acum este un moment bun pentru
instalarea lor:
</p>

<pre caption = "Instalarea pachetelor specializate de kernel">
# <i>emerge pcmcia-cs</i> (sau <i>nforce-net</i>, <i>nforce-audio</i>, <i>e100</i>, <i>e1000</i>, <i>ati-drivers</i>, <i>rp-pppoe</i>)
# <i>VIDEO_CARDS="placavideo" emerge xfree-drm</i>   (pentru ATI Radeon pană în 9200, Rage128, Matrox, Voodoo şi altele)
</pre>

<p>
Finalizarea setărilor pentru noul sistem Gentoo:
</p>

<pre caption = "Setări finale de configurare">
(Setarea parolei root)              # <i>passwd</i>
(Crearea utilizatorului nou)        # <i>useradd utilizator -m -G users,wheel,audio -s /bin/bash</i>
(Setarea parolei pentru utilizator) # <i>passwd utilizator</i>
(Setarea numelui sistemului)        # <i>echo nume_sistem &gt; /etc/hostname</i>
(Setarea domeniului sistemului)     # <i>echo nume_domeniu.com &gt; /etc/dnsdomainname</i>
(Setarea fişierului hosts, ex. "127.0.0.1 localhost nume_sistem")
                                    # <i>nano -w /etc/hosts</i>
(Configurarea setărilor de bază pentru sistem; urmaţi intrucţiunile comentate)
                                    # <i>nano -w /etc/rc.conf</i>
</pre>

<pre caption = "Configurarea reţelei">
(Configurarea reţelei; pentru utilizatorii dhcp iface_eth0="dhcp")
                                    # <i>nano -w /etc/conf.d/net</i>
(Lista de module ce va fi încărcată la boot)
                                    # <i>nano -w /etc/modules.autoload.d/kernel-<comment>&lt;versiune&gt;</comment></i>
(Configurarea setărilor de bază ale sistemului)
                                    # <i>nano -w /etc/rc.conf</i>
(În afara intefeţelor PCMCIA: iniţializarea interfeţelor de reţea la boot)
                                    # <i>rc-update add net.eth0 default</i>
(Numai în cazul în care aveţi două sau mai multe plăci de reţea instalate în sistem:)
   (1) Crearea de scripturi de iniţializare pentru fiecare interfaţă de reţea separat)
                                    # <i>ln -s /etc/init.d/net.eth0 /etc/init.d/net.ethx</i>
   (2) Setarea pornirii automate pentru interfeţele (in afară de PCMCIA) la boot
                                    # <i>rc-update add net.ethx default</i>
(Pentru PCMCIA: verificarea fişierului /etc/conf.d/pcmcia şi încărcarea PCMCIA la boot)
                                    # <i>rc-update add pcmcia default</i>
</pre>

<p>
Acum, instalaţi o aplicaţie bootloader.
</p>

<pre caption="Instalarea şi configurarea GRUB">
# <i>emerge grub</i>
# <i>grub</i>
grub&gt; <i>root (hd0,0)</i>
grub&gt; <i>setup (hd0)</i>
grub&gt; <i>quit</i>
# <i>nano -w /boot/grub/grub.conf</i>
default 0
timeout 15
splashimage=(hd0,0)/grub/splash.xpm.gz

title=Gentoo Linux
  root (hd0,0)
  <comment># pentru utilizatorii genkernel:</comment>
  kernel /kernel-<comment>&lt;versiune_kernel&gt;</comment> root=/dev/ram0 init=/linuxrc real_root=/dev/hda3 ramdisk=8192
  initrd /initrd-<comment>&lt;versiune_kernel&gt;</comment>
  <comment># pentru utilizatorii ce nu utilizează genkernel:</comment>
  kernel /kernel-<comment>&lt;versiune_kernel&gt;</comment> root=/dev/hda3
</pre>

<pre caption="Instalarea şi configurarea LILO">
# <i>emerge lilo</i>
# <i>nano -w /etc/lilo.conf</i>
boot=/dev/hda
prompt
delay=50
default=gentoo

image=/boot/kernel-<comment>&lt;versiune_kernel&gt;</comment> 
  label=gentoo
  read-only
  <comment># pentru utilizatorii genkernel:</comment>
  append="init=/linuxrc real_root=/dev/hda3 ramdisk=8192"
  root=/dev/ram0
  initrd=/boot/initrd-<comment>&lt;versiune_kernel&gt;</comment>
  <comment># pentru utilizatorii ce nu utilizează genkernel:</comment>
  root=/dev/hda3

# <i>/sbin/lilo</i>
</pre>

<p>
Demount-area tuturor partiţiilor şi repornirea noului sistem:
</p>

<pre caption="Finalizarea şi instalarea interfeţei grafice">
(Ieşirea din chroot)                          # <i>exit; cd /</i>
(Demount-area partiţiilor)                    # <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
(Repornirea:  Retrageţi mediul CD din CD-ROM) # <i>reboot</i>
(După reboot:)
(Utilizatorii ce au conexiuni ADSL)           # <i>adsl-setup</i>
(Utilizatorii GRP)
  (1) Mount-area Package CD                   # <i>mount /dev/cdrom /mnt/cdrom</i>  
  (2) Copierea pachetelor de instalat         # <i>mkdir /usr/portage/packages</i>
                                              # <i>cp -a /mnt/cdrom/* /usr/portage/packages/</i>
  (3) Instalarea altor pachete                # <i>USE="bindist" emerge -k xorg-x11 gnome kde mozilla openoffice-bin</i>
  (4) Configurarea aplicaţiei server X        # <i>/usr/X11R6/bin/xorgconfig</i>
</pre>

<p>
Puteţi afla mai multe informaţii consultând <uri
link="http://www.gentoo.org/doc/ro/index.xml">Documentaţia Gentoo</uri>.
</p>
</body>
</section>
</chapter>	
</guide>
