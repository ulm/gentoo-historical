<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fi/faq.xml,v 1.1 2005/05/18 17:23:59 flammie Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fi/faq.xml" lang="fi">
<title>Gentoo Linuxin Vastauksia Usein Kysyttyihin Kysymyksiin</title>
<author title="Aiempi päätekijä">
  <mail link="drobbins@gentoo.org">Daniel Robbins</mail>
</author>
<author title="Tarkistaja">
  Colin Morey
</author>
<author title="Toimittaja"><!-- zhen@gentoo.org -->
  John P. Davis
</author>
<author title="Toimittaja">
  <mail link="stocke2@gentoo.org">Eric Stockbridge</mail>
</author>
<author title="Toimittaja">
  <mail link="zhware@gentoo.org">Stoyan Zhekov</mail>
</author>
<author title="Toimittaja">
  <mail link="carl@gentoo.org">Carl Anderson</mail>
</author>
<author title="Toimittaja">
  <mail link="peesh@gentoo.org">Jorge Paulo</mail>
</author>
<author title="Toimittaja">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Toimittaja">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Vastuullinen kääntäjä">
  <mail link="flammie@gentoo.org">Flammie Pirinen</mail>
</author>

<abstract>
Tähän VUKKiin on kerätty kysymyksiä ja vastauksia gentoo-dev-postituslistlta ja
irkistä. Jos keksit lisäkysymyksiä (tai -vastauksia!), meilaa niitä
dokumentin tekijöille tai Gentoon dokumentointitiimille.
</abstract>

<license/>

<version>2.15</version>
<date>2005-04-16</date>

<chapter>
<title>Kysymykset</title>
<section>
<title>Aluksi</title>
<body>

<ul>
  <li>
    <uri link="#pronunciation">
      Miten Gentoo äännetään ja mitä se tarkoittaa?
    </uri>
  </li>
  <li>
    <uri link="#differences">Miten Gentoo eroaa muista?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Asennuksesta</title>
<body>

<ul>
  <li>
    <uri link="#optimizations">
      Järjestelmäni on hirveän epävakaa! Käytän GCC:ssä valitsimia
      "-O9 -ffast-math -fomit-frame-pointer -funroll-loops"-optimointeina;
      mikä mättää?
    </uri>
  </li>
  <li>
    <uri link="#password">
      Miten vaihdan rootin tai jonkun muun käyttäjän salasanan?
    </uri>
  </li>
  <li>
    <uri link="#useradd">Miten lisään käyttäjiä?</uri>
  </li>
  <li>
    <uri link="#su">Miksen voi vaihtaa rootiksi komennolla su root?</uri>
  </li>
  <li>
    <uri link="#devfs">Miten devfs poistetaan käytöstä?</uri>
  </li>
  <li>
    <uri link="#upgrade">
      Voiko Gentoo-asennuksen päivittää julkaisuversiosta toiseen asentamatta
      koko järjestelmää uudestaan?
    </uri>
  </li>
  <li>
    <uri link="#bootrescue">Kernelini ei buuttaa oikein, mitä nyt?</uri>
  </li>
  <li>
    <uri link="#proxy">Proxyni vaatii tunnistautumista, miten se toimii?</uri>
  </li>
  <li>
    <uri link="#isoburning">Miten poltetaan .iso-tiedosto?</uri>
  </li>
  <li>
    <uri link="#cpus">Mitä CD:itä tai stageja pitää käyttää laitteillani?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Paketinhallinta</title>
<body>

<ul>
  <li>
    <uri link="#ebuilds">Missä formaatissa Gentoon paketit ovat?</uri>
  </li>
  <li>
    <uri link="#configure">Haluan tehdä ./configuren käsin, onnistuuko?</uri>
  </li>
  <li>
    <uri link="#norsync">Mitä jos en voikaan käyttää rsynciä?</uri>
  </li>
  <li>
    <uri link="#firewall">Miten emergen saa toimimaan palomuurin takaa?</uri>
  </li>
  <li>
    <uri link="#unison">Voiko rsyncin tehdä toisesta järjestelmäst käsin?</uri>
  </li>
  <li>
    <uri link="#manualdownload">
      Kotikoneessani on vain hidas modeemiyhteys, voinko ladata tiedostot
      muualla ja lisätä ne järjestelmääni sitten?
    </uri>
  </li>
  <li>
    <uri link="#distfiles">
      /usr/portage/distfiles on täynnä sorsien tarrapalloja! Voiko näitä
      poistaa turvallisesti viemästä tilaa?
    </uri>
  </li>
  <li>
    <uri link="#tmpportage">
      Mitä hakemistossa /var/tmp/portage on? Voiko sen poistaa turvallisesti?
    </uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Käyttö</title>
<body>

<ul>
  <li>
    <uri link="#rootssh">
      Asensin openssh:n, mutta sen kautta kirjautuminen onnistuu vain roottina,
      tavan käyttäjänä ei pysty kirjautumaan.
    </uri>
  </li>
  <li>
    <uri link="#rootX">X ei käynnisty kuin roottina</uri>
  </li>
  <li>
    <uri link="#intkeyboard">
      Miten suomalaisen tai muun näppäimistöasettelun saa toimimaan?
    </uri>
  </li>
  <li>
    <uri link="#rootdns">DNS-palvelu toimii vain roottina.</uri>
  </li>
  <li>
    <uri link="#crontab">Käyttäjän crontabit eivät toimi?</uri>
  </li>
  <li>
    <uri link="#numlock">Miten numlockin saa päälle bootin yhteydessä?</uri>
  </li>
  <li>
    <uri link="#clear">
      Miten terminaalin voi tyhjentää uloskirjauduttaessa?
    </uri>
  </li>
  <li>
    <uri link="#suinx">X-ohjelmat eivät toimi su-komennon jälkeen?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Ylläpito</title>
<body>

<ul>
  <li>
    <uri link="#filecorruption">
      ReiserFS:n tiedostojen korruptoituminen, virheenkorjaus jne.</uri>
  </li>
  <li>
    <uri link="#metalogd">Metalogd:n lokit eivät näy reaaliajassa!</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Kehitys</title>
<body>

<ul>
  <li>
    <uri link="#reportbugs">Mihin ilmoitetaan bugeista?</uri>
  </li>
  <li>
    <uri link="#releases">Miten usein uusia versioita julkaistaan?</uri>
  </li>
  <li>
    <uri link="#addfaq">Miten tähän VUKKiin lisätään kysymyksiä?</uri>
  </li>
  <li>
    <uri link="#beeping">
      PC-speakeristä kuuluu vinhaa piippailua Mozillaa käännettäessä! Saisikohan
      sen jotenkin pois päältä?
    </uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Resursseja</title>
<body>

<ul>
  <li>
    <uri link="#resources">Mistä löytyy lisätietoja jutuista?</uri>
  </li>
  <li>
    <uri link="#buycd">Mistä Gentoo CD:itä voi ostaa?</uri>
  </li>
  <li>
    <uri link="#mailinglist">
      Miksi Gentoon postituslistoilla replynappi lähettää vastauksen vain
      kirjoittajall eikä postituslistalle?
    </uri>
  </li>
  <li>
    <uri link="#help">
      Tässä VUKKissa ei ole vastausta ongelmaani, mitä nyt?
    </uri>
  </li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Aluksi</title>

<section id="pronunciation">
<title>Miten Gentoo äännetään ja mitä se tarkoittaa?</title>
<body>

<p>
Englannin sana gentoo äännetään vähän kuten 'jentuu' tai
'dzentuu'; suomeksi gentoon voi ääntää myös kirjoitusasun mukaisesti, kuten
saattaisi odotaakin (geen soinnillisuudesta voi tietysti olla montaa mieltä
;-).
<e>Gentoo</e> on erään pingviinirodun nimi. Gentoo-pingviinit ovat pieniä
ja ketteriä. Pingviinien tieteellinen nimi on <e>Pygoscelis papua</e>, ja nimi
Gentoo on falklandinsaarelaisten antama.
</p>

</body>
</section>
<section id="differences">
<title>Miten Gentoo eroaa muista?</title>
<body>

<p>
Gentoossa on käytössä BSD:n portsia matkiva <uri
link="/proj/en/portage">Portage</uri>. Portage on joustava paketinhallinta
ohjelmien asennukseen ja hallintaan. Se tukee käännösasetusten muuttamista
(<uri
link="handbook/handbook-x86.xml?part=2&amp;chap=2">USE-asetuksin</uri>),
ehdollisia riippuvuuksia, näennäisasennuksia, turvallista asentamista
(hiekkalaatikkoympäristön avulla), järjestelmäprofiileja <uri
link="/doc/en/handbook/handbook-x86.xml?part=3&amp;chap=2#doc_chap3">
asetustiedostosuojausta</uri> ja joitain <uri
link="/doc/en/handbook/handbook-x86.xml?part=2&amp;chap=1">muitakin
ominaisuuksia</uri>.
</p>

<p>
Gentoolla voi rakentaa järjestelmän alusta asti omin asetuksin. Pakettien
valinta on täysin vapaata. Vaihtoehtoja on tarjolla pilvin pimein. Tämän
takia Gentoota nimitetään usein <e>metadistribuutioksi</e>.
</p>

<p>
Gentoon kehitys on aktiivista. <e>Ebuildien</e> (Gentoon pakettien) lisäksi
koko järjestelmää kehitetään jatkuvasti. Ohjelmistopätsit lisätään
Portagepuuhun nopeasti ja dokumentaatiota päivitetään päivittäin, Portageen
tulee lisää ominaisuuksia koko ajan ja julkaisuversioitakin tulee toisinaan.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Asennus</title>
<section id="optimizations">
<title>
  Järjestelmäni on hirveän epävakaa! Käytän GCC:ssä valitsimia
  "-O9 -ffast-math -fomit-frame-pointer -funroll-loops"-optimointeina;
  mikä mättää?
</title>
<body>

<p>
<c>-O3</c>:a suurempia arvoja ei hyödytä käyttää, sillä gcc:ssä ei ole
nykyään tukeakaan sellaisille. Muut aggressiiviset optimoinnit saavat toisinaan
myös aikaan konekielistä suorituskoodia, joka ei enää toimi odotetusti.
</p>

<p>
Ennen virheistä ilmoittamista pitää kokeilla
CFLAGS-arvoa <c>-march=&lt;arkkitehtuuri&gt; -O2</c>.
</p>

</body>
</section>
<section id="password">
<title>Miten rootin tai käyttäjien salasanaa vaihdetaan?</title>
<body>

<p>
Komento <c>passwd</c> muuttaa nykyisen käyttäjän salasanaa. Lisätietoa
asetuksista löytää ohjesivulta komennolla <c>man passwd</c>.
</p>

</body>
</section>
<section id="useradd">
<title>Miten lisätään käyttäjiä?</title>
<body>

<p>
Komennolla <c>adduser gentoo</c> järjestelmään lisätään käyttäjä gentoo.
Seuraavaksi käyttäjälle annetaan salasana komennolla <c>passwd</c>.
</p>

<p>
<c>Adduserin</c> sijaan voi käyttää <c>useradd</c>iakin:
</p>

<pre caption="Useraddin käyttö">
# <i>useradd -m -G users,audio,wheel -s /bin/bash gentoo</i>
</pre>

<p>
Näin lisättäisiin käyttäjä gentoo, joka pystyy käyttämään ääniläaitteita
(<path>/dev/sound/*</path>), rootin tunnusta (komennolla <c>su</c>).
Oletuskuoreksi (engl. shell) tulee <path>/bin/bash</path>.
</p>

<p>
Lisäksi on mahdollista asentaa vaikkapa
<c>superadduser</c> komennolla <c>emerge superadduser</c> ja lisätä
käyttäjä gentoo komennolla <c>superadduser gentoo</c>. Ohjelma antaa itse
ohjeet miten menetellä siitä eteenpäin.
</p>

</body>
</section>
<section id="su">
<title>Miksen voi kirjautua rootiksi su-komennolla?</title>
<body>

<p>
Turvallisuussyistä, vain <c>wheel</c>-ryhmään kuuluvat käyttäjät voivat
kirjautua rootiksi. Jonkun käyttäjän saa lisättyä wheel-ryhmään
<c>gpasswd</c>-komennolla:
</p>

<pre caption="Käyttäjän lisäys wheel-ryhmään">
# <i>gpasswd -a username wheel</i>
</pre>

</body>
</section>
<section id="devfs">
<title>Miten devfs saadaan pois käytöstä?</title>
<body>

<p>
Jod Gentoota aikoo käyttää vanhalla <path>/dev</path>-järjestelmällä,
devfs:n saa pois käytöstä kerneliparametrillä <c>gentoo=nodevfs</c>.
Jos taas on tarkoitus käyttää udeviä (2.6-sarjan kerneleissä)
<uri link="/doc/en/udev-guide.xml">udev guide</uri> kertoo tästä.
Devfs:n saa udevin kanssa pois käytöstä kerneliparametrillä
<c>devfs=nomount</c>.
</p>

</body>
</section>
<section id="upgrade">
<title>
  Voiko Gentoon päivittää versiosta toiseen uudelleenasentamatta?
</title>
<body>

<p>
Gentoon eri versioillahan ei ole mitään varsinaista eroa,
<b>sen jälkeen kun asennukset on suoritettu</b>. Gentoot 1.4:stä eteenpäin
pohjautuvat <c>glibc-2.3.x</c>:ään. Käytännössä
<c>emerge --sync; emerge -u world</c> -komennoilla saa aikaan tuoreimman
Gentoo-version. Oikeat eroavaisuudet Gentoo-versioiden välillä ovat
asennustavoissa.
</p>

<p>
Lisää tietoa löytyy oppaasta <uri link="gentoo-upgrading.xml">Gentoo
Upgrading Guide</uri>.
</p>

</body>
</section>
<section id="bootrescue">
<title>Kerneli ei käynnisty oikein, mitä teen?</title>
<body>

<p>
Koko asennusta ei tarvitse uusia, mutta kernelin asennus pitää. Jos
järjestelmässä vaikkapa olisi osoiot <path>/dev/hda1</path> (/boot),
<path>/dev/hda3</path> (/) ja <path>/dev/hda2</path> swappina:
</p>

<pre caption="Kernelin uudelleenasennus">
<comment>Käynnistä asennus-CD</comment>
<comment>Liitä osiot:</comment>
# <i>mount /dev/hda3 /mnt/gentoo</i>
# <i>mount /dev/hda1 /mnt/gentoo/boot</i>
# <i>swapon /dev/hda2</i>
# <i>mount -t proc none /mnt/gentoo/proc</i>
<comment>Chroottaa ja päivitä asetukset:</comment>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update &amp;&amp; source /etc/profile</i>
# <i>cd /usr/src/linux</i>
# <i>make menuconfig</i>
<comment>Tarkista valinnat ja asenna kerneli uudelleen</comment>
# <i>make dep &amp;&amp; make bzImage modules modules_install</i>
<comment>Kopioi uusi kernelin otos vanhan päälle:</comment>
# <i>cp arch/i386/boot/bzImage /boot</i>
<comment>Lilo pitää suorittaa jos se on käytössä; grub toimii ilmankin:</comment>
# <i>/sbin/lilo</i>
<comment>Poistu chrootista ja boottaa.</comment>
# <i>exit</i>
# <i>umount /mnt/gentoo/proc /mnt/gentoo/boot /mnt/gentoo</i>
# <i>reboot</i>
</pre>

<p>
Jos taas ongelma on käynnistyslataimen, eikä kernelin, asetuksissa, se
pitää tietenkin säätää kohdalleen. Uuudelleenasennus ei ole tällöin tarpeen.
</p>

</body>
</section>
<section id="proxy">
<title>Välipalvelin vaatii tunnistautumista?</title>
<body>

<p>
Kun käytetään <c>wget</c>iä, seuraavilla valitsimilla voi tunnistautua:
</p>

<pre caption="Wgetin välipalvelimien tunnistautuminen">
# <i>wget --proxy-user=</i><comment>tunnus</comment><i> --proxy-passwd=</i><comment>salasana</comment><i> &lt;URI&gt;</i>
</pre>

<p>
Portage voi käyttää tätä automaattisesti, jos se on määritelty
<path>/etc/make.conf</path>:ssa:
</p>

<pre caption="/etc/make.conf-asetukset wgetille">
FETCHCOMMAND="wget --proxy-user=<comment>tunnus</comment> \
--proxy-passwd=<comment>salasana</comment> \
              -t 5 --passive-ftp -P \${DISTDIR} \${URI}"
RESUMECOMMAND="/usr/bin/wget --proxy-user=<comment>tunnus</comment> --proxy-passwd=<comment>salasana</comment> \
               -c -t 5 --passive-ftp -P \${DISTDIR} \${URI}"
</pre>

<p>
<c>Rsync</c>in kanssa välipalvelin määritellään ympäristömuuttujassa
RSYNC_PROXY:
</p>

<pre caption="/etc/make.conf-asetukset RSYNCille">
RSYNC_PROXY="<comment>tunnus</comment>:<comment>salasana</comment>@<comment>välipalvelin</comment>:<comment>portti</comment>"
</pre>

</body>
</section>
<section id="isoburning">
<title>Miten .isoja poltetaan?</title>
<body>

<p>
ISOjen polttaminen tapahtuu jonkinlaisessa <e>raakamuoto</e>tilassa.
Käytännössä siis niin, että tiedostoa ei polteta CD:lle tiedostona, vaan
sen sisältö poltetaan CD:lle sellaisenaan.
</p>

<p>
CD-poltto-ohjelmia on loputtomasti, joten kaikkia ei täällä kuvata, mutta
tässä muutamia suosituimpia.
</p>

<ul>
  <li>
    EasyCD Creatorin valikosta <c>File</c>, <c>Record CD from CD image</c>.
    Valitaan tiedostotyypiksi <c>ISO image file</c> ja etsitään poltettava
    tiedosto. Painikkeella <c>Start recording</c> ISO-data poltetaan CD:lle.
  </li>
  <li>
    Neor Burning ROMissa ohitetaan velho, ja mennään <c>File</c>-valikon
    <c>Burn Image</c> -kohtaan. Tiedostojärjestelmästä haetaan poltettava
    tiedosto ja avataan se. Painikkeella <c>Burn</c> poltetaan CD.
  </li>
  <li>
    Cdrecordin komento on <c>cdrecord dev=/dev/hdc</c>, jossa /dev/hdc on
    cd-aseman laitetiedosto. Viimeiseksi parametriksi tulee ISO-tiedosto.
  </li>
  <li>
    K3B:llä valitaan <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn Image</c>.
    Sitten haetaan ISO-tiedosto Image to Burn -alueelta ja painetaan
    <c>Start</c>.
  </li>
  <li>
    Mac OS X Pantherissa käytetään <path>Applications/Utilities</path>in
    <c>Disk Utility</c>ä. Valikosta <c>Images</c> valitaan <c>Open</c> ja
    valitaan liitetty levyn otos pääikkunassa ja komento <c>Burn</c>
    valikosta <c>Images</c>.
  </li>
  <li>
    Mac OS X Jaguarissa,
    <path>Applications/Utilities</path>in <c>Disk copy</c>,
    valitaan <c>Burn Image</c> <c>File</c>-valikosta, valitaan
    ISO ja poltetaan <c>Burn</c>-painikkeella.
  </li>
</ul>


</body>
</section>
<section id="cpus">
<title>Mitä CD:tä ja stagea tälle prosessorille käytetään?</title>
<body>

<p>
Ensin pitää selvittää mikä prosessori on kyseessä. Jos se on vaikkapa Pentium-M,
pitää vielä tietää, minkä prosessorisarjan kansssa se on yhteensopiva.
Valmistajan sivustoilta yleensä löytyy tietoa, mutta joskus  pelkkä<uri
link="http://www.google.fi">googlaus</uri> auttaa :-).
</p>

<p>
Pentium-M:stä selviää, että se on Pentium-3 SSE-käskysarjoilla, joten se on
käytännössä yhteensopiva Pentium-4:n kanssa. Pentium-M:lle uskaltaa siis valita
Pentium-4 CD:t ja staget.
</p>

<p>
Jos et ole varma mitä tehdä, ota pienin mahdollinen ratkaisu, kuten i686 PC:ille
tai ihan generic.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Paketinhallinta</title>
<section id="ebuilds">
<title>Missä formaatissa paketit ovat?</title>
<body>

<p>
Portagepuun paketit ovat <c>ebuild</c>eja; Gentoo on ports:mainen jakelu,
joten asennus-skriptit (eli <c>.ebuild</c>it) ja Portage asentavat ohjelmistot
lähdekoodeista. Valmiita binäärejä yleensä saa vain julkaisujen mukana ja
valmiina otoksina. Kehityskäsikirjan <uri
link="/proj/en/devrel/handbook/handbook.xml?part=2&amp;chap=1">ebuild-kappale</uri>
kuvailee ebuildien muodon tarkemmin. Binääri-ISO-julkaisuissa sovellusten
otokset ovat <c>.tbz2</c>-muodossa (<c>.tar.bz2</c>-yhteensopiva muoto, johon
on lisätty metadataa tiedoston loppuun).
</p>

</body>
</section>
<section id="configure">
<title>Miten ./configure-vaiheen voi suorittaa itse?</title>
<body>

<p>
Se ei ole aina aivan triviaalia, ja seuraava tapa toimiikin vain helpoilla
ebuildeilla (eli niillä, jotka vain ajavat <c>./configure</c> ja
<c>make &amp;&amp; make install</c>). Lue siis ebuildin sisältö ennen kuin
koetat.
</p>

<p>
Aloita purkamalla ebuildi komennolla: <c>ebuild
/usr/portage/&lt;kategoria&gt;/&lt;pakett&gt;/&lt;ebuildi&gt; unpack</c>.
</p>

<p>
Siirry hakemistoon
<path>/var/tmp/portage/&lt;paketti&gt;-&lt;versio&gt;/work</path>,
siellä pitäisi olla puretut lähdekoodit. Tee vaadittavat säädöt ja käännä
paketti.
</p>

<p>
Kun tämä on valmis, suorita
<c>touch /var/tmp/portage/&lt;paketti&gt;-&lt;versio&gt;/.compiled</c>,
että Portage tietä paketin käännetyn. Lopettele komennolla
<c>ebuild /usr/portage/&lt;kategoria&gt;/&lt;paketti&gt;/&lt;ebuildi&gt;
merge</c>.
</p>

</body>
</section>
<section id="norsync">
<title>Mitä jos rsync ei toimi?</title>
<body>

<p>
Jos vastassa on palomuuri, joka ei salli rsync-liikennettä, on mahdollista
käyttää ohjelmaa <c>emerge-webrsync</c>,
joka hakee ja asentaa Portagen otoksen HTTP:n yli. <c>Emerge-webrsync</c>
käyttää <c>wget</c>iä, joten välipalvelimia voi käyttää myös.
</p>

<pre caption="Emerge-webrsyncin käyttö">
# <i>emerge-webrsync</i>
</pre>

</body>
</section>
<section id="firewall">
<title>Kuinka asennan emergellä palomuurin takaa?</title>
<body>

<p>
Muokkaa <path>/etc/make.conf</path>in PROXY-asetuksia.
Jollei se riitä, muuta asetuksia <path>/etc/wget/wgetrc</path>:stä, ja
lisää sopivat  http_proxy ja ftp_proxy.
</p>

</body>
</section>
<section id="unison">
<title>Voiko rsyncin tehdä muusta järjestelmästä?</title>
<body>

<p>
Ohjelma nimeltä Unison toimii UNIXeissa ja Windowsissa. Sen voi hakea
osoitteesta  <uri>http://www.cis.upenn.edu/~bcpierce/unison/</uri>.
</p>

</body>
</section>
<section id="manualdownload">
<title>
  Käytössä on vain hidas modeemiyhteys, voiko lähteet ladata muualla ja lisätä
  myöhemmin järjestelmään?
</title>
<body>

<p>
Varmasti. Komennolla <c>emerge --pretend package</c> näkee mitä ohjelmia
asennettaisiin. Pakettien latauspaikat saa esiin komennolla
<c>emerge -fp package</c>. Paketit voi ladata ja tuoda käytettäväksi
millä vain tallennusvälineellä. Ne pitää vain kopioida hakemistoon
<path>/usr/portage/distfiles</path> ja <c>emerge package</c> osaa poimia
ne sieltä!
</p>

</body>
</section>
<section id="distfiles">
<title>
  Asennettujen ohjelmien .tar.gz-paketit keräytyvät hakemistoon
  /usr/portage/distfiles/. Onko näitä turvallista poistaa tilaa viemästä?
</title>
<body>

<p>
Nämä tiedostot voi poistaa vapaasti. Jos käytössä on kuitenkin hidas yhteys,
niitä kannattaa arkistoida jonkin aikaa: monet ebuildit saattavat käyttää
samaa lähdepakettia, ja jos se on saatavilla valmiina ei sitä tarvitse
hakea uudestaan verkosta.
</p>

</body>
</section>
<section id="tmpportage">
<title>
  Mitä hakemistossa /var/tmp/portage on? Voiko sen poistaa turvallisesti?
</title>
<body>

<p>
Käännettäessä Gentoo tallentaa lähdekoodit
hakemistoon <path>/var/tmp/portage</path>. Hakemisto on turvallinen puhdistaa.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Käyttö</title>
<section id="rootssh">
<title>
  Openssh on asennettuna, mutta vain roottina voi kirjautua, tavan käyttäjän
  tili ei toimi.
</title>
<body>
<p>
Tämä seuraa useimmiten, jos tavan käyttäjälle ei ole merkitty sopivaa kuorta
(engl. shell) käytettäväksi. Tarkista <path>/etc/passwd</path> josko se
käyttäjärivi loppuisi /bin/bash:iin (tai johonkin muuhun kuoreen).
Kuoren voi asettaa käyttäjälle usermod-komennolla:
</p>

<pre caption="Usermodin käyttö">
# <i>usermod -s /bin/bash myuser</i>
</pre>

</body>
</section>
<section id="rootX">
<title>X-ohjelmat toimivat vain roottina.</title>
<body>

<p>
<path>/tmp</path>-hakemistolla on väärät käyttöoikeudet (10. bitti pitää olla
päällä). Seuraava komento roottina auttaa:
</p>

<pre caption="/tmp:n käyttöoikeuksien asetus">
# <i>chmod 1777 /tmp</i>
</pre>

</body>
</section>
<section id="intkeyboard">
<title>Miten suomalaisen näppäinkartan saa toimimaan?</title>
<body>

<p>
Muokkaa <c>KEYMAP</c>-muuttujaa <path>/etc/rc.conf</path>issa.
Uuden näppäinkartan saa käyttöön komennolla <c>/etc/init.d/keymaps restart</c>.
</p>

</body>
</section>
<section id="rootdns">
<title>DNS-palvelu toimii vain rootille.</title>
<body>

<p>
<path>/etc/resolv.conf</path>-tiedoston oikeudet ovat pielessä;
<c>chmod</c>-komento auttaa:
</p>

<pre caption="/etc/resolv.confin oikeuksien asettaminen">
# <i>chmod 0644 /etc/resolv.conf</i>
</pre>

</body>
</section>
<section id="crontab">
<title>Miksei tavan käyttäjä voi käyttää crontabia?</title>
<body>

<p>
Käyttäjän pitää olla <c>cron</c>-ryhmässä.
</p>

</body>
</section>
<section id="numlock">
<title>Miten numlockin saa käyttöön käynnistyksessä?</title>
<body>

<p>
Jos käynnistät X:ään, tai haluat numlockin päälle <c>startx</c>:n yhteydessä,
asenna <c>numlockx</c> ja lisää <c>/usr/X11R6/bin/numlockx</c> tiedostoon
<path>/etc/X11/xinit/xinitrc</path> (<c>startx</c>:lle) tai
<path>/etc/X11/Sessions/</path> (kirjautumisohjelmia varten) kuten
<path>/etc/X11/Sessions/Gnome</path> Gnomen käynnistykseen.
</p>

<p>
Gnome 2.6:tta uudemmissa tämä ei kuitenkaan toimi. Sen sijaan pitää käyttää
<c>gnome-session-properties</c>-työkalua. Ikkunan kohdasta
<c>Startup Programs</c> painikkeella <c>Add</c> lisätään sovellus.
Tähän valitaan <c>numlockx</c> (esimerkiksi
<path>/usr/X11R6/bin/numlockx</path>) ja lopetetaan.
</p>

<p>
Jos käytetään komentoriviä, <c>rc-update add
numlock default</c> riittää lisäämään numlockin käynnistykseen.
</p>

</body>
</section>
<section id="clear">
<title>Kuinka terminaali puhdistetaan ulos kirjauduttaessa?</title>
<body>

<p>
Terminaali puhdistetaan komennolla <c>clear</c>, jonka voi lisätä
<path>~/.bash_logout</path>iin:
</p>

<pre caption="Terminaalin puhdistaminen uloskirjauduttaessa">
$ <i>echo clear &gt;&gt; ~/.bash_logout</i>
</pre>

<p>
Jos haluat tämän automaattiseksi jokaiselle uudelle käyttäjälle, lisäykset pitää
tehdä tiedostoon <path>/etc/skel/.bash_logout</path>:
</p>

<pre caption="Uusien käyttäjien terminaalien puhdistus uloskirjauduttaessa">
# <i>echo clear &gt;&gt; /etc/skel/.bash_logout</i></pre>
</body>

</section>
<section id="suinx">
<title>X:n ohjelmat eivät toimi su-komennon jälkeen</title>
<body>

<p>
Tämä tapahtuu vain kun kirjaudutaan graafisesti, <c>startx</c>:llä tätä
ei tapahdu. Ongelma on kuvattu <uri
link="http://bugs.gentoo.org/show_bug.cgi?id=14560">bugzillassa</uri>,
Gentoon PAM-toteutuksen ongelmana. Ratkaisuksi riittää lisätä seuraavaa
<path>/etc/profile</path>en.
</p>

<pre caption="XAUTHORITYn muuttaminen">
export XAUTHORITY="${HOME}/.Xauthority"
</pre>

</body>
</section>

</chapter>

<chapter>
<title>Ylläpito</title>
<section id="filecorruption">
<title>ReiserFS:n tiedostojärjestelmän ongelmista</title>
<body>

<p>
Jos ReiserFS-osio on rikki, käynnistä Gentoon käynnistys-CD:ltä ja suorita
<c>reiserfsck --rebuild-tree</c>. Tämä tekee järjestelmistä toimivia taas,
vaikka joitain hakemistoja saattaa hävitä.
</p>

</body>
</section>
<section id="metalogd">
<title>Metalogd lokit on ajastaan jäljessä!</title>
<body>

<p>
Metalog kirjoitaa levylle lohkoissa, joten viestit eivät näy välittömästi.
Tämä on tietenkin hankalaa aina jos aikoo selvitellä virheitä lennosta. Kun
järjestelmä on pystyssä, metalogille voi lähettää USR1-signaalin, jolla saa
puskuroinnin hetkellisesti pois käytöstä (ja <c>tail -f
<path>/var/log/everything/current</path></c> toimii taas odotetusti).
Signallilla USR2 puskuroinnin saa taas päälle. Puskuroinnin saa myös
lopullisesti pois päältä muuttamalla <path>/etc/conf.d/metalog</path>in
asetuksista METALOG_OPTS="-B"-kohdan muotoon METALOG_OPTS="-B -s".
</p>

<pre caption="Metalogin puskuroinnin säätäminen">
<comment>(puskurointi pois päältä:)</comment>
# <i>killall -USR1 metalog</i>
<comment>(puskurointi päälle:)</comment>
# <i>killall -USR2 metalog</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Kehitys</title>
<section id="reportbugs">
<title>Minne vioista ja virheistä ilmoitetaan?</title>
<body>

<p>
Selkeistä ohjelmistovioista ilmoitetaan ohjelman tekijälle, muutoin käytetään
Gentoon bugzillaa <uri>http://bugs.gentoo.org</uri>. Myös gentoon irkkikanavalla
<c>#gentoo</c> <uri
link="http://www.freenode.net">FreeNode</uri>-verkossa voidaan auttaa.
</p>

</body>
</section>
<section id="releases">
<title>Miten usein julkaisuja tehdään?</title>
<body>

<p>
Uudet julkaisut julkistetaan postituslistalla <uri
link="http://www.gentoo.org/main/en/lists.xml">gentoo-announce</uri>.
Itse paketit päivitetään yleensä uusien versioiden tulemisen myötä. Gentoon
uudet versiot löytyvät
<uri link="/proj/en/releng">Release Engineering Project</uri>in sivuilta.
</p>

</body>
</section>
<section id="addfaq">
<title>Miten tähän dokumenttiin lisätään kysymyksiä?</title>
<body>

<p>
Bugzillan kautta: <uri>http://bugs.gentoo.org</uri>, product
”Docs-user”, component ”Gentoo Linux FAQ”.
</p>

</body>
</section>
<section id="beeping">
<title>
  PC:n kaiuttimista kuuluu ääniä, kun käännän mozillaa?
</title>
<body>

<p>
Konsolin piippaukset saa pois päältä vaikkapa seuraavasti:
</p>

<pre caption="Settermin käyttö">
# <i>setterm -blength 0</i>
</pre>

<p>
Jos haluat piippaukset pois heti käynnistyksestä lähtien, lisää komento
tiedostoon <path>/etc/conf.d/local.start</path>. Tämä tietenkin poistaa
äänet vain nykyiseltä terminaalilta, muille terminaaleille käytetään
seuraavanlaista komentoa:
</p>

<pre caption="Setterm eri terminaalille">
# <i>setterm -blength 0 >/dev/vc/1</i>
</pre>

<p>
Tässä korvataan /dev/vc1 kohdeterminaalilla.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Resursseja</title>
<section id="resources">
<title>Mistä löytyy lisää tietoa Gentoosta?</title>
<body>

<p>
Gentoon viralliset dokumentit ovat osoitteessa
<uri>http://www.gentoo.org</uri>; muuta Linux-aiheista löytyy vaikkapa
osoittesta <uri>http://www.tldp.org</uri>.
</p>

</body>
</section>
<section id="buycd">
<title>Voiko Gentoon ostaa CD:llä?</title>
<body>

<p>
Kyllä! LiveCD:itä on saatavilla
<uri link="http://store.gentoo.org/">Gentoo Store</uri>sta.
</p>

<p>
Poltettuja CD:itä saa myös muilta levittäjiltä, joita löytää
<uri link="/main/en/where.xml">Get Gentoo!</uri> -sivulta.
</p>

</body>
</section>
<section id="mailinglist">
<title>
  Miksi Gentoon postituslistojen replyt menevät vain lähettäjälle, eivätkä
  listalle?
</title>
<body>

<p>
Postituslistojen ylläpito on päättänyt olla sotkematta viestien otsakkeita,
joten myöskään vastausosoitetta ei ole muunnettu. Tähän on moniakin hyviä syitä,
esimerkiksi jos jollain on täysi postilaatikko, virheilmoitukset palaisivat
listalle.
</p>

<p>
Useimmat sähköpostiohjelmat sisältävät mahdollisuuden vastata kaikille.
Tällä tavalla varmistuu että vastaus menee listalle ja lähettäjälle. Pinessä
on reply to group -toiminto tällaista varten, Muttissakin on postituslistatuki,
josta on kerrottu lisää
<uri
 link="http://forums.gentoo.org/viewtopic.php?t=1085">foorumeilla</uri>.
</p>

<p>
Aiheesta on keskusteltu postituslistalla muutamaan kertaan, ja tähän on
päädytty. Yleensä uudet yritykset saada väittely aikaan päättyvät nopeasti
lyhyeen selvitykseen tilanteesta. Pidempää selitystä syistä pitää tämä
käytös on dokumentissa
<uri link="http://www.unicom.com/pw/reply-to-harmful.html">
Reply-to munging considered harmful</uri>.
</p>

</body>
</section>
<section id="help">
<title>Tämä VUKK ei sisältänyt etsimääni vastausta, mitä teen?</title>
<body>

<p>
Ensiksi kannattaa varmaan selata läpi muu <uri
link="http://www.gentoo.org/doc/fi/">Gentoon dokumentaatio</uri>,
sen jälkeen yrittää vaikkapa postituslistoilta Googlella.
Postitsuslistahaun voi tehdä ihan hakemalla ”lists.gentoo.org foo”.
Tämän lisäksi voi kysellä vaikkapa irkistä kanavalta:
<c>#gentoo</c> verkosta <c>irc.freenode.net</c>.
</p>

</body>
</section>
</chapter>

</guide>
