<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fi/handbook/hb-portage-branches.xml,v 1.1 2004/11/24 11:02:08 flammie Exp $ -->

<sections>

<version>1.1</version>
<date>2004-10-21</date>

<section>
<title>Yhdessä versiohaarassa pysyminen</title>
<subsection>
<title>Stabiili haara</title>
<body>

<p>
ACCEPT_KEYWORDS-muuttuja kertoo, mitä ohjelmistohaaraa käytetään. Sen
oletusarvona on järjestelmän arkkitehtuurin stabiili haara, kuten <c>x86</c>.
</p>

<p>
Stabiili haara on suositeltavin ratkaisu, kuitenkin, jollei vähän
epävakaampi järjestelmä haittaa, ja haluat auttaa Gentoon kehittämisessä
lähettämällä virheistä tiedon vianhallintajärjestelmään
<uri>http://bugs.gentoo.org</uri>, jatka lukemista.
</p>

</body>
</subsection>
<subsection>
<title>Testaushaara</title>
<body>

<p>
Jos haluat välttämättä käyttää kaikkein tuoreimpia saatavilla olevia versioita,
voit koettaa testaushaaraa. Portagen saa käyttämään testaushaaran
ohjelmaversioita lisäämällä merkin ~ arkkitehtuurimäärittelyn eteen.
</p>

<p>
Esimerkiksi x86-arkkitehtuurilla muokattaisiin tiedostoa
<path>/etc/make.conf</path> seuraavasti:
</p>

<pre caption="ACCEPT_KEYWORDSin muuttaminen">
ACCEPT_KEYWORDS="~x86"
</pre>

<p>
Jos tämän jälkeen ryhdyt päivittämään järjestelmääsi, huomannet, että
<e>paljon</e> paketteja tulee päivittymään. Pidä kuitenkin mielessä, että
kun järjestelmä on kerran päivitetty testaushaaraan, takaisin stabiiliin haaraan
on huomattavan vaikeaa päästä (ellei käytä varmuuskopio-otosta vaikkapa).
</p>

</body>
</subsection>
</section>
<section>
<title>Molempien haarojen rinnakkaiskäyttö</title>
<subsection>
<title>Asetustiedosto package.keywords</title>
<body>

<p>
Portage on mahdollista asettaa käyttämään stabiilia haaraa valtaosalle
paketeista, mutta testaushaaraa joillekin harvoille valituille. Tämä toteutetaan
lisäämällä paketin kategoria ja nimi tiedostoon
<path>/etc/portage/package.keywords</path>.
Esimerkiksi <c>gnumeric</c>in testausversion saa käyttöön tällaisella rivillä:
</p>

<pre caption="/etc/portage/package.keywordsin asettaminen gnumericia varten">
app-office/gnumeric
</pre>

<p>
Samalla tavoin voi asettaa muunkin tarvittavan keywordin tiedostoon, esimerkiksi
pidemmin ilmaistuna saman gnumericin testaushaaran saisi x86-arkkitehtuurille
näin:
</p>

<pre caption="/etc/portage/package.keywords pidempi asetus gnumericille">
app-office/gnumeric ~x86
</pre>

</body>
</subsection>
<subsection>
<title>Yksittäisen ohjelmaversion testaus</title>
<body>

<p>
Tarvittaessa on myös mahdollista käyttää stabiilissa ympäristössä vain jotain
tiettyä testausversiota jostain paketista, mutta ei sen päivitettyjä
testausversioita. Tämä toteutetaan lisäämällä versionumerointi tiedostoon
<path>package.keywords</path>. Tällaisissa tapauksissa <e>on pakko</e> käyttää
operaattoria = ohjelmiston edessä. Käytettävissä ovat myös operaattorit
&lt;=, &lt;, &gt; tai &gt;= vastaaville versiojoukoille.
</p>

<p>
Joka tapauksessa, jos versionumerointi lisätään, silloin on pakko käyttää jotain
operaattorimerkinnöistä. Jos versionumerointia ei käytetä, silloin ei myöskään
operaattoreita saa käyttää.
</p>

<p>
Seuraavalla esimerkillä tiedostossa package.keywords Portage hyväksyy vain
tämän version testausversion.
</p>

<pre caption="Tietyn gnumericin version valinta">
=app-office/gnumeric-1.2.13
</pre>

</body>
</subsection>
</section>
<section>
<title>Peitettyjen pakettien käyttäminen</title>
<subsection>
<title>Asetustiedosto package.unmask</title>
<body>

<p>
Jos haluat käyttää Gentoon kehittäjien peittämää pakettia välittämättä syystä,
joka mainitaan tiedostossa <path>package.mask</path> (hakemistossa
<path>/usr/portage/profiles/</path> oletusarvoisesti), lisää täsmälleen
siitä tiedostosta löytyvä rivi tiedostoon
<path>/etc/portage/package.unmask</path>.
</p>

<p>
Esimerkiksi, jos <c>=net-mail/hotwayd-0.8</c> olisi peitetty, se poistettaisiin
lisäämällä tiedostoon <path>package.unmask</path> rivi:
</p>

<pre caption="/etc/portage/package.unmaskin muokkaus">
=net-mail/hotwayd-0.8
</pre>

</body>
</subsection>
<subsection>
<title>Asetustiedosto package.mask</title>
<body>

<p>
Jos haluat estää Portagea asentamasta jotain pakettia, tai sen jotain versioita,
peitä se lisäämällä sopiva rivi tiedostoon
<path>/etc/portage/package.mask</path>.
</p>

<p>
Jos et vaikkapa halua versiota 2.6.8.1 uudempia kernelin lähdekoodeja
<c>development-sources</c>-paketista, voit lisätä tiedostoon
<path>package.mask</path> seuraavan rivin:
</p>

<pre caption="/etc/portage/package.maskin muokkaus">
&gt;sys-kernel/development-sources-2.6.8.1
</pre>

</body>
</subsection>
</section>
</sections>
