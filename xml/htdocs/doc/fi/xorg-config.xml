<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fi/xorg-config.xml,v 1.12 2011/03/07 00:53:31 flammie Exp $ -->

<guide>
<title>X-palvelimen säätäminen</title>

<author title="Tekijä">
  <mail link="swift"/>
</author>
<author title="Tekijä">
  <mail link="nightmorph"/>
</author>
<author title="Vastuullinen kääntäjä">
  <mail link="flammie"/>
</author>

<abstract>
Xorg on X-ikkunointipalelin, joka mahdollistaa graafisen käyttöjärjestelmän.
Tämä KUINKA-ohje kerto miten se asennetaan ja asetuksia muokataan.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>6</version>
<date>2011-03-02</date>

<chapter>
<title>Mikä on X-palvelin?</title>
<section>
<title>Graafinen ja komento-rivi</title>
<body>

<p>
Aloittelevalle käyttäjälle komentojen kirjoittaminen ei ole luontevinta.
Gentoossa on mahdollistaa asentaa graafinen käyttöjärjestelmä monilla
erilaisilla käyttöliittymävaihtoehdoilla.
</p>

<p>
Graafinen käyttöjärjestelmä on vain sovellus, joka ajetaan oikean
käyttöjärjestelmän sisällä. Se <e>ei</e> siis kuulu Linuxin ytimeen tai
muihin olennaisiin osiin.  Se on vain työkalu, jolla saa aikaan graafisia
käyttöliittymiä.
</p>

<p>
Standardi, jonka mukaan ikkunoita piirretään ja syötelaitteita käsitellään
monissa järjestelmissä on <e>X-ikkunointijärjestelmä</e>, joskus vain
<e>X11</e> tai <e>X</e>. Sitä käytetään useimmissa Unixeissa ja Unix-tyylisissä
käyttöjärjestelmissä.
</p>

<p>
Sovellus, joka Linuxeissa mahdollistaa graafiset X11-sovellukset, on
Xorg. Xorg on alkujaan erotettu XFree86-projektista lisenssiongelmien takia.
Vanhaa XFree86-järjestelmää ei enää löydy Gentoon Portage-puusta.
</p>

</body>
</section>
<section>
<title>X.org-projekti</title>
<body>

<p>
<uri link="http://www.x.org">X.org</uri> ylläpitää vapaata ja avointa
X11-totutusta, joka sisältää työpöytäinfrastruktuurin.
</p>

<p>
Xorg mahdollistaa laitteiston ja graafisten ohjelmien yhteistyön. Sen lisäksi
Xorg on täysin verkkopohjainen, joten sovelluksia voi ajaa toisilta
päätelaitteilta kuin niitä katsellaan.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Xorgin asennus</title>
<section>
<body>

<p>
Ennen Xorgin asentamista, pitää varmistaa että järjestelmä on sopivassa
kunnossa. Ensin asennetaan ytimeen syötelaitteet ja näytönajurit. Sitten
lisätään asetustiedostoon <path>/etc/make.conf</path> tiedot oikeista
Xorg-ajureista.
</p>

</body>
</section>
<section>
<title>Syöteajurit</title>
<body>

<p>
Oletuksena Xorg käyttää <c>evdev</c>iä syöteajurina kaikelle. Tätä varten
pitää lisitä <c>evdev</c>-tuki ytimeen. Tästä on tarkemmat ohjeet
<uri link="/doc/en/kernel-config.xml">ytimen asetusohjeissa</uri>
</p>

<pre caption="Evdev-asetus ydin-asetustossa">
Device Drivers ---&gt;
  Input device support ---&gt;
  &lt;*&gt;  Event interface
</pre>

</body>
</section>
<section>
<title>Ytimen KMS-asetukset</title>
<body>

<p>
Tyypilliset näytönajurit tarvitsevat KMS-tuen. KMS-tuki mahdollistaa paremman
graafisen käynnistyksen, käyttäjänvaihdon, graafisen konsolin ja vaihdon sen ja
grafiikkatilan välillä. KMS ei toimi yhteen vanhojen framebuffer-ajurien
kanssa, joten ne pitää poistaa käytöstä.
</p>

<p>
Ensin asetetaan KMS päälle, riippumatta Xorgin ajureista.
</p>

<pre caption="Framebufferit ja KMS ydinasetuksissa">
Device Drivers ---&gt;
  Graphics support ---&gt;
    Support for frame buffer devices ---&gt;
    <comment>(Poista kaikki)</comment>

    <comment>(lisää vain console support KMS:ää varten)</comment>
    Console display driver support ---&gt;
      &lt;*&gt;  Framebuffer Console Support
</pre>

<p>
Seuraacaksi ytimeen tarvitaan KMS-ajuri näyttökortille. Intel, nVidia ja
ATi ovat yleisimmät merkit, ja niiden esimerkit on lueteltu seuraavaksi.
</p>

<p>
Intelille:
</p>

<pre caption="Intel-asetukset">
Device Drivers ---&gt;
  Graphics support ---&gt;
    /dev/agpgart (AGP Support) ---&gt;
    &lt;*&gt;  Intel 440LX/BX/GX, I8xx and E7x05 chipset support
    Direct Rendering Manager (XFree86 4.1.0 and higher DRI support) ---&gt;
    &lt;*&gt;  Intel 830M, 845G, 852GM, 855GM, 865G (i915 driver)
         i915 driver
    [*]    Enable modesetting on intel by default
</pre>

<p>
nVidialle:
</p>

<pre caption="nVidia-asetukset ytimessä">
<comment>(Enable DRM)</comment>
Device Drivers ---&gt;
  Graphics support ---&gt;
  &lt;*&gt;  Direct Rendering Manager ---&gt;

<comment>(Nouveau on kirjoittamishetkellä Staging-osiossa)</comment>
Device Drivers ---&gt;
  Staging drivers ---&gt;
  [ ]  Exclude Staging drivers from being built
  &lt;*&gt;    Nouveau (nVidia) cards
</pre>

<p>
Uudemmat ATin kortit (<uri link="/doc/en/ati-faq.xml">RadeonHD 2000:sta
  lähtien</uri>), tarvitaan <c>radeon-ucode</c>-paketti. Sen jälkeen
lisätään ydinajurit:
</p>

<pre caption="ATi-asetukset ytimessä">
<comment>(Radeonin firmwarea varten)</comment>
Device Drivers ---&gt;
  Generic Driver Options ---&gt;
  [*]  Include in-kernel firmware blobs in kernel binary
  <comment># RadeonHD 2000, 3000, ja 4000:</comment>
  (radeon/R600_rlc.bin radeon/R700_rlc.bin) External firmware blobs
  <comment># RadeonHD 5000, l. Evergreen, ja uudemmat:</comment>
  (radeon/CEDAR_me.bin radeon/CEDAR_pfp.bin radeon/CEDAR_rlc.bin
   radeon/CYPRESS_me.bin radeon/CYPRESS_pfp.bin radeon/CYPRESS_rlc.bin
   radeon/JUNIPER_me.bin radeon/JUNIPER_pfp.bin radeon/JUNIPER_rlc.bin
   radeon/REDWOOD_me.bin radeon/REDWOOD_pfp.bin 
   radeon/REDWOOD_rlc.bin) External firmware blobs
  <comment># Radeon HD 6200/6300 eli Ontario/Zacate:</comment>
  (radeon/PALM_me.bin radeon/PALM_pfp.bin radeon/SUMO_rlc.bin) External
   firmware blobs
  <comment># Radeon HD 6400-6900 eli Northern Islands:</comment>
  (radeon/BARTS_mc.bin radeon/BARTS_me.bin radeon/BARTS_pfp.bin
   radeon/BTC_rlc.bin radeon/CAICOS_mc.bin radeon/CAICOS_me.bin
   radeon/CAICOS_pfp.bin radeon/TURKS_mc.bin radeon/TURKS_me.bin
  radeon/TURKS_pfp.bin) External firmware blobs
   (/lib/firmware/) Firmware blobs root directory

<comment>(Radeonin KMS-tuet)</comment>
Device Drivers ---&gt;
  Graphics support ---&gt;
  &lt;*&gt;  Direct Rendering Manager ---&gt;
  &lt;*&gt;    ATI Radeon
  [*]      Enable modesetting on radeon by default
</pre>

<note>
Vanhemmat Radeonit (X1900:sta alaspäin) eivät tarvitse pakettia
<c>radeon-ucode</c> tai firmware-asetuksia. Pelkkä Direct Rendering Manager ja
modesetting riittävät.
</note>

<p>
KMS-asetusten jälkeen tehdään 
<path>/etc/make.conf</path>-asetukset.
</p>

</body>
</section>
<section>
<title>make.conf-asetukset</title>
<body>

<p>
Kun ytimen asetukset on tehty, pitää asettaa Xorgin muuttujat tiedostoon
<path>/etc/make.conf</path>.
</p>

<p>
Ensimmäinen muuttuja, joka pitää asettaa on <c>VIDEO_CARDS</c>. Tällä
määritellään mitä näyttöajuria käytetään. Yleisimpiä ovat <c>nouveau</c>
nVidialle ja <c>radeon</c> ATille, molemmat avoimesti kehitettyjä.
</p>

<note>
nVidialle ja ATille on myös saatavilla suljetut kaupallisesti kehitetyt ajurit,
<c>nvidia</c> ja <c>fglrx</c>. Kuitenkaan niiden asetuksista ei kerrota
tässä ohjeessa, mutta lisätietoja on <uri
link="/doc/en/nvidia-guide.xml">Gentoo Linuxin nVidia-ohjeessa</uri> ja <uri
link="/doc/en/ati-faq.xml">Gentoo Linuxin ATI VUKKissa</uri>. 
</note>

<p>
Ajuri <c>intel</c> sopii koneille, joissa on intelin integroitu näytönohjain.
</p>

<note>
<c>VIDEO_CARDS</c>iin voi kirjoittaa useamman ajurin välein eroteltuna.
</note>

<p>
Toinen asetettava muuttuja on <c>INPUT_DEVICES</c>, sitä voi käyttää
määrittelemään syötelaitteiden asetuksia. Useimmiten pelkkä 
<c>evdev</c> toimii. Jos käytössä on muita laitteita, kuten synapticsin
kosketuslaatta, se pitää lisätä myös muuttujaan 
<c>INPUT_DEVICES</c>.
</p>

<p>
Seuraavaksi lisätään muuttujat tiedostoon <path>/etc/make.conf</path>:
</p>

<pre caption="Make.conf-muuttujat xorgille">
<comment>(Hiiri, näppäimistö ja kosketuslaatta)</comment>
INPUT_DEVICES="evdev synaptics"
<comment>(nVidian näytönohjain)</comment>
VIDEO_CARDS="nouveau"
<comment>(ATin näytönohjain)</comment>
VIDEO_CARDS="radeon"
</pre>

<p>
Jos annetut asetukset eivät toimi, kokeile <c>emerge -pv
  xorg-drivers</c>, ja varmista että kaikki on asetettu oikein.
Tämä esimerkki on näppäimistöstä, hiirestä, synapticsin kosketuslaatasta ja
ATin ajurista.
</p>

<pre caption="Ajuriasetusten tarkastelu emergellä">
# <i>emerge -pv xorg-drivers</i>

These are the packages that would be merged, in order:

Calculating dependencies... done!
[ebuild   R   ]  x11-base/xorg-drivers-1.9  INPUT_DEVICES="evdev synaptics
-acecad -aiptek -elographics% -fpit% -joystick -keyboard -mouse -penmount -tslib
-virtualbox -vmmouse -void -wacom"
VIDEO_CARDS="radeon -apm -ark -ast -chips -cirrus -dummy -epson -fbdev -fglrx
(-geode) -glint -i128 (-i740) (-impact) -intel -mach64 -mga -neomagic (-newport)
-nouveau -nv -nvidia -r128 -rendition -s3 -s3virge -savage -siliconmotion -sis
-sisusb (-sunbw2) (-suncg14) (-suncg3) (-suncg6) (-sunffb) (-sunleo) (-suntcx)
-tdfx -tga -trident -tseng -v4l -vesa -via -virtualbox -vmware (-voodoo) (-xgi)"
0 kB
</pre>

<p>
Asetusten teon jälkeen voit asentaa Xorgin.
</p>

<pre caption="Xorgin asennus emergellä">
# <i>emerge xorg-server</i>
</pre>

<note>
On mahdollista asentaa suoraan <c>xorg-x11</c>-metapaketti pelkän 
<c>xorg-server</c>-palvelinpaketin sijaan. Käytännössä, <c>xorg-x11</c> ja
<c>xorg-server</c> ovat samoja. Kuitenkin, <c>xorg-x11</c> lisää riippuvuuksia,
joita ei välttämättä tarvitse, kuten fontteja.
</note>

<p>
Kun asetukset on tehty, pitää alustaa muuttujat ennen jatkamista.
Tämä toimii komennoilla <c>env-update</c> ja <c>source /etc/profile</c>.
</p>

<pre caption="Muuttujien alustus">
# <i>env-update</i>
# <i>source /etc/profile</i>
</pre>

<p>
  Nyt asetetaan HAL-palvelun asetukset ja lisätään se automaattisesti
  käynnistyväksi. Tämä tarvitaan X:n syötelaitteille, muuten niitä ei tunnisteta
  ja käynnistys epäonnistuu. Seuraavassa kappaleessa on <uri
link="#using_hal">lisätietoja HALista</uri>.
</p>

<pre caption="HALin käynnistys">
# <i>/etc/init.d/hald start</i>
# <i>rc-update add hald default</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Xorgin asetukset</title>
<section id="using_hal">
<title>HALin käyttö</title>
<body>

<p>
Nykyään X toimii suoraan ilman erillisiä asetutstiedostoja.
</p>

<p>
  Kannattaa suoraan kokeilla <uri link="#using_startx">käynnistää X</uri>
  muuttamatta asetustiedostoa <path>/etc/X11/xorg.conf</path>.
</p>

<p>
  Jollei Xorg käynnisty (tai näytösso on vikaa tai hiiri tai näppäimistö jää
  toimimatta), sitten pitää muokata asetuksia.
</p>

<p>
  Oletuksena Xorg käyttää HALia (Hardware Abstraction Layer) laitteiston
  tunnistukseen ja asetuksiin.
</p>

<p>
  HALissa on valmiita asetustiedostoja hakemistossa
  <path>/usr/share/hal/fdi/policy/</path>. Ne voi kopioida hakemistoon
  <path>/etc/hal/fdi/policy/</path>.
</p>

<impo>
  Hakemiston <path>/usr/share/hal/fdi/</path> tiedostoja ei saa muuttaa.
  Jos muutoksia tarvitaan, kopioita hakemistossa <path>/etc</path> voi muokata.
</impo>

<p>
  Esimerkiksi perus-asetukset hiirelle ja näppäimistölle voisi lisätä 
  kopioimalla seuraavat hakemistoon <path>/etc/hal/fdi/policy/</path>:
</p>

<pre caption="HAL-asetusten kopiointi">
# <i>cp /usr/share/hal/fdi/policy/10osvendor/10-input-policy.fdi /etc/hal/fdi/policy</i>
# <i>cp /usr/share/hal/fdi/policy/10osvendor/10-x11-input.fdi /etc/hal/fdi/policy</i>
</pre>

<p>
  Hakemistossa <path>/usr/share/hal/fdi/</path> on muitakin hyödyllisiä
  asetuksia kopioitavaksi, kuten kannettavan laitteistoa, levyjä ja
  virransäästöä. Kopio tarvittavat hakemistoon
  <path>/etc/hal/fdi/policy/</path>.
</p>

<impo>
  Muista uudelleenkäynnistää HAL <e>aina</e> kun teet muutoksia komennolla
  <c>/etc/init.d/hald restart</c>.
</impo>

<p>
  Hakemistossa <path>/etc/hal/fdi/policy</path> olevia tiedostoja voi muokata.
  Tässä esimerkki yhdestä mukautuksesta:
</p>

<p>
  X-palvelimet voi tyypillisesti lopettaa näppäilyllä Ctrl-Alt-Backspace,
  tämä on hyödyllistä jos X jumiutuu, ja kevyempää kuin uudelleenkäynnistys
  näppäilyllä Ctrl-Alt-Del.
</p>

<p>
  Tuoreet X:n versiot ovat poistaneet tämän käytöstä oletusasetuksilla.
  Ratkaisuksi pitää kopioida <path>10-x11-input.fdi</path> hakemistoon
  <path>/etc/hal/fdi/policy</path> ja muokata sitä. Tähän riittää
  lisätä seuraava rivi:
</p>

<pre caption="10-x11-input.fdi:n muokkaaminen">
<comment>(Avaa tiedosto jossain muokkaimessa)</comment>
# <i>nano -w /etc/hal/fdi/policy/10-x11-input.fdi</i>
<comment>(Etsi "input.keys")</comment>
&lt;match key="info.capabilities" contains="input.keys"&gt;
<comment>(Lisää seuraava "terminate" merge-asetus)</comment>
&lt;match key="info.capabilities" contains="input.keys"&gt;
      &lt;merge key="input.x11_driver" type="string"&gt;keyboard&lt;/merge&gt;
      <i>&lt;merge key="input.xkb.options" type="string"&gt;terminate:ctrl_alt_bksp&lt;/merge&gt;</i>
      &lt;match key="/org/freedesktop/Hal/devices/computer:system.kernel.name"
             string="Linux"&gt;
        &lt;merge key="input.x11_driver" type="string"&gt;evdev&lt;merge&gt;
      &lt;/match&gt;
    &lt;/match&gt;
</pre>

<p>
Lopuksi riittää <c>/etc/init.d/hald restart</c> asetusten käyttöönottoon.
</p>

<p>
  Nyt hyytyneen X:n voi lopettaa helposti. Tämä on usein hyödyllistä asetuksia
  kokeillessa. Muista kuitenkin että tämäkään tapa lopettaa sovelluksia ei ole
  erityisen hyvä – monet ohjelmista hävittävät keskeneräiset tehtävät silti.
</p>

<p>
  Jos Xorg ei vielä käynnisty, on jotain muuta ongelmia, jotka pitää korjata
  tiedostossa <path>xorg.conf</path>.
</p>

</body>
</section>
<section>
<title>xorg.conf-asetukset</title>
<body>

<note>
  Tiedoston <path>xorg.conf</path> on yleensä viimeinen tehtävä asia, kun
  mikään ei toimi. Yleensä on kannattavaa olla luomatta sitä.
</note>

<p>
  Xorgin asetukset ovat tiedostossa <path>xorg.conf</path>, joka on
  hakemistossa <path>/etc/X11</path>. Esimerkkiasetuksia on tiedostossa
  <path>/etc/X11/xorg.conf.example</path>. Esimerkkitiedosto sisältää jo
  paljon ohjeita, mutta lisääkin saa vielä man-sivulta:
</p>

<pre caption="Xorg.confin man-sivun lukeminen">
$ <i>man 5 xorg.conf</i>
</pre>

</body>
</section>
<section>
<title>Xorg.confin automaattinen luonti</title>
<body>

<p>
  Xorg osaa arvata useimmat asetukset. Yleensä ei tarvtse kuin muuttaa
  muutamia rivejä resoluutiota varten. Jos haluat hienosäätää näyttöasetuksia,
  lisätietoja on kappaleen lopussa. Ensin luodaan asetustiedosto.
</p>

<pre caption="Asetustiedoston xorg.conf luonti">
# <i>Xorg -configure</i>
</pre>

<p>
  Lue komennon viimeiset rivit tulosteesta tarkkaan. Jos jokin on pielessä,
  pitää tiedosto <path>xorg.conf</path> kirjoittaa itse.
  Muutoin asetukset löytyvät tiedostosta  <path>/root/xorg.conf.new</path>.
  Ne voi testata seuraavasti:
</p>

<pre caption="Asetustiedoston xorg.conf.new testaus">
# <i>X -retro -config /root/xorg.conf.new</i>
</pre>

<p>
  Jos kaikki toimii, X näyttä mustavalkokuvion. Nyt voi varmistaa että hiiri
  toimii ja resoluutio näyttää oikea. Poistuminen tapahtuu näppäilyllä
  Ctrl-Alt-Backspace.
</p>

</body>
</section>
<section>
<title>Tiedoston xorg.conf kopionti</title>
<body>

<p>
  Kopioidaan <path>xorg.conf.new</path> tiedostoksi
<path>/etc/X11/xorg.conf</path> ja 
<c>X -config</c> -komennon sijasta voi käyttää <c>startx</c>:ää.
</p>

<pre caption="Tiedoston xorg.conf kopiointi">
# <i>cp /root/xorg.conf.new /etc/X11/xorg.conf</i>
</pre>

</body>
</section>
<section id="using_startx">
<title>Startx:n käyttö</title>
<body>

<p>
  Komennolla <c>startx</c> voi käynnistä X:n. <c>startx</c> suorittaa 
  <e>X-istunnon</e>, eli käynnistää itse X:n ja joitain sovelluksia.
  Sovellukset jotka käynnistetään päätellään seuraavasti:
</p>

<ul>
  <li>
    Kotihakemiston tiedostosta <path>.xinitrc</path>, jos sellainen on
  </li>
  <li>
    Muuttujasta XSESSION jos sitä vastaa tiedosto hakemistossa
    <path>/etc/X11/Sessions/</path>. Tämän voi asettaa tiedostoon
    <path>/etc/env.d/90xsession</path> jotta sen saa kaikille käyttäjille
    oletukseksi. Esimerkiksi roottina komennolla <c>echo XSESSION="Xfce4" >
      /etc/env.d/90xsession</c>. Tämä luo tiedoston <path>90xsession</path>
    asetuksella <uri
      link="/doc/fi/xfce-config.xml">Xfce</uri>. Muista suorittaa
    <c>env-update</c> muutettuasi <path>90xsession</path>ia.
  </li>
</ul>

<pre caption="X:n käynnistys">
$ <i>startx</i>
</pre>

<p>
  X:n voi lopettaa näppäilyllä Ctrl-Alt-Backspace, tämä kuitenkin lopettaa
  sovellukset väkisin, mikä ei aina ole toivottu tulos.
</p>

<p>
  Jos ikkunointiohjelmaa ei ole, käynnistyttyä ei näy mitään. Sama tapahtuu
  myös joissain virheissä, joten kokeeksi kannattanee asentaa <c>twm</c> ja
  <c>xterm</c>.
</p>

<p>
  Näiden ohjelmien kanssa, <c>startx</c> käynnistää jo muutamia ikkunoitakin,
  joten on helppoa nähdä toimiiko se. Kun toimivuus on varmisettu, voi
  testisovellukset poistaa komennolla <c>emerge --unmerge twm xterm</c>.
  Ne eivät ole välttämättömiä työpöydällä.
</p>

</body>
</section>
</chapter>

<chapter>
<title>X:n asetukset</title>
<section>
<title>Resoluution asettaminen</title>
<body>

<p>
Jos resoluutio näyttää väärältä, asetustiedostossa on kaksi kohtaa
tarkistettavaksi. Ensinnä <e>Screen</e>-osiossa on luettelo resoluutioista,
joita X-palvelin käyttää. Oletuksena tämä osio voi olla myös tyhjä, ja silloin
Xorg arpoo resoluutiot osiosta <e>Monitor</e>.
</p>

<p>
Käytännössä Xorg tarkistaa <e>Monitor</e>-osion <c>HorizSync</c> ja
<c>VertRefresh</c> saadakseen toimivat resoluutiot. Nämä asetukset on hyvä
aluksi jättää sellaisikseen, ja vasta jos <e>Screen</e>-osion muutokset
eivät toimi kannattaa näitä muokata. Näiden arvot pitää katsoa monitorin
ohjekirjasta.
</p>

<warn>
<b>Älä</b> muuttele monitoriasetuksia ilman monitorin ohjekirjan tarkkoja
tietoja, väärät arvot johtavat parhaimmillaan taajuusvirheilmoituksiin ja
pahimmillaan hajonneisiin näyttöihin.
</warn>

<p>
Muokataan aluksi resoluutioarvoja. Seuraavassa esimerkissä
lisätään <path>/etc/X11/xorg.conf</path>iin
<c>Modes</c>-asetukset ja <c>DefaultDepth</c>, jotta X käynnistyisi
1440×900-resoluutiossa 24-bittisellä värisyvyydellä. Esimerkkejä voi ja
kannattaa muuttaa mieltymysten mukaisiksi.
</p>

<pre caption="/etc/x11/xorg.confin säätäminen">
Section "Screen"
  Identifier  "Default Screen"
  Device    "RadeonHD 4550"
  Monitor   "Generic Monitor"
  <i>DefaultDepth  24</i>
  <comment># Ohitettu joitain rivejä</comment>
  SubSection "Display"
    Depth   24
    <i>Modes   "1440x900"</i>
  EndSubSection
EndSection
</pre>

<p>
Käynnistä X testataksesi että resoluutio on oikea ja toimii.
</p>

</body>
</section>
<section>
<title>Useampi näyttö</title>
<body>

<p>
  Monen näytön asetukset voi tehdä tiedostoon <path>/etc/X11/xorg.conf</path>.
  Tähän riittää kun kaikilla näytöillä on Identifier ja ne asetellaan 
  asetuksiall kuten "RightOf" (oikealla) tai "Above" (yllä) verrattuna toisiin
  näyttöihin.
  Tässä esimerkki DVI- ja VGA-liitännöistä, jossa VGA on oikealla.
</p>

<pre caption="Monen näytön asetus tiedostoon xorg.conf">
Section "Device"
  Identifier "RadeonHD 4550"
  Option     "Monitor-DVI-0" "DVI screen"
  Option     "Monitor-VGA-0" "VGA screen"
EndSection

Section "Monitor"
  Identifier "DVI screen"
EndSection

Section "Monitor"
  Identifier "VGA screen"
  Option     "RightOf" "DVI screen"
EndSection
</pre>

</body>
</section>
<section>
<title>Näppäimistöasetukset</title>
<body>

<p>
Suomalaisia näppäimistöasetuksia varten joutuu kopioimaan tiedoston
<path>/usr/share/doc/hal-*/*/use-estonian-layout.fdi.bz2</path> sisällön
hakemistoon <path>/etc/hal/fdi/policy/10-xinput-configuration.fdi</path>:
</p>

<pre caption="Olemassaolevan asetusten sisällön kopiointi">
# <i>bzcat /usr/share/doc/hal-*/*/use-estonian-layout.fdi > /etc/hal/fdi/policy/10-xinput-configuration.fdi</i>
</pre>

<p>
Seuraavaksi pitää muokata tiedostosta <path>10-xinput-configuration.fdi</path>
viro (ee) pois ja suomi (fi) tilalle.
</p>

<p>
Lopuksi pitää käynnistää hal uudestaan komennolla
<c>/etc/init.d/hald restart</c> roottina, ja varmistaa että asetukset toimivat.
</p>

</body>
</section>
<section>
<title>Loppuasetukset</title>
<body>

<p>
Komennolla <c>startx</c> voi taas varmistua lopputuloksesta. Nyt kasassa pitäisi
olla toimiva X-ympäristö. Seuraava askel olisi asentaa työpöytäympäristö, johon
löydät apua muista ohjeista.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Lisätietoa</title>
<section>
<title>Xorg.confin säätö</title>
<body>

<p>
Ohjesivulla <c>man xorg.conf</c> ja <c>man evdev</c> on tiivis, mutta täysi
luettelo asetustiedoston sisältömahdollisuuksista. Se kannattaa pitää esillä
asetustiedostoa muokattaessa.
</p>

<p>
Tiedosto <path>/etc/X11/xorg.conf.example</path> sisältää myös hyviä
esimerkkejä ja sitä kannattanee käyttää pohjana jos tekee omia asetuksia
tiedostoon <path>xorg.conf</path>.
</p>

<p>
Lisätietoja löytyy <uri link="http://www.x.org/wiki/FAQ">X.orgin FAQ:sta</uri>
sekä muusta sivuston dokumentaatiosta.
</p>

<p>
Netissä on myös paljon tietoa asetuksista, alla on muutama
lueteltuna, mutta <uri link="http://www.google.com">Googlaamalla</uri>
löytyy lisää.
</p>

</body>
</section>
<section>
<title>Muut lähteet</title>
<body>

<p>
Muita ohjeita löytyy
<uri link="/doc/fi/?catid=desktop">Työpöytäopaskokoelmasta</uri>.
</p>

<p>
Päivitysohjeet xorg-serverin 1.8:aa vanhemmasta versiosta löytyy sivulta
<uri
link="/proj/en/desktop/x/x11/xorg-server-1.8-upgrade-guide.xml">xorg
migration guide</uri>.
</p>

</body>

</section>
</chapter>
</guide>
