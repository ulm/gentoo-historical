<?xml version='1.0' encoding='UTF-8'?>

<!-- $Header $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fi/xfce-config.xml" lang="fi">

<title>Xfce-asetusopas</title>

<author title="Tekijä">
  <mail link="nightmorph@gentoo.org">Joshua Saddler</mail>
</author>
<author title="Vastuullinen kääntäjä">
  <mail link="flammie@gentoo.org">Flammie Pirinen</mail>
</author>

<abstract>
Tämä opas on laajahko johdanto Xfce:hen, joka on nopea ja keveä
työpöytäympäristö.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.2</version>
<date>2007-02-18</date>

<chapter>
<title>Johdanto</title>
<section>
<title>Xfce-työpöytäympäristö</title>
<body>

<p>
<uri link="http://www.xfce.org">Xfce</uri> on nopea ja kevyt työpöytäympäristö
Unix-tyypin käyttöjärjestelmille. Se on suunniteltu mukautuvaksi ja 
<uri
link="http://www.freedesktop.org">Freedesktop</uri>-määritysten mukaiseksi.
</p>

<p>
Poiketen raskaista työpöydistä, kuten Gnomesta ja KDE:stä, Xfce käyttää
vähän resursseja. Lisäksi se on suunniteltu modulaarisemmaksi ja sisältää
vähemmän riippuvuuksia, joten se vie vähemmän tilaa kovalevyltä ja vähemmän
aikaa asentaa.
</p>

<p>
Tässä ohjeessa kerrotaan pienen Xfce-ympäristön asentaminen ja asetusten
säätäminen, sekä täysimittaisen työpöydän tekeminen Xfce-malliin.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Xfce:n asennus</title>
<section>
<title>Perusteet</title>
<body>

<p>
Ennen asennusta katsotaan asennettavia paketteja.
</p>

<table>
<tr>
  <th>Nimi</th>
  <th>Kuvaus</th>
</tr>
<tr>
  <ti>xfce4</ti>
  <ti>Ympäristön perusosa</ti>
</tr>
<tr>
  <ti>xscreensaver</ti>
  <ti>
    Näytönsäästäjä, jossa on virransäästö- ja ruudun lukinta -ominaisuudet
  </ti>
</tr>
<tr>
  <ti>hal</ti>
  <ti>
    Laitteistorajapinta (Hardware Abstraction Layer). HALin avulla
	työpöytäsovellukset voivat käsitellä laitteistoja. Tämä helpottaa
	siirrettävien taltioiden, kuten USB-tikkujen ja levyjen käsittelyä.
	<c>Hal</c>in asennus asentaa myös <c>dbus</c>in, joka on apuväline
	sovellustenväliseen kommunikointiin.
  </ti>
</tr>
<tr>
  <ti>gamin</ti>
  <ti>
    Tiedostonmuutosmonitori, joka valvoo tiedostojen muutoksia. Toimii hyvin
	graafisen tiedostonhallinnan apuna.
  </ti>
</tr>
</table>

<p>
Muitakin paketteja voi asentaa, mutta tässä ohjeessa pitäydytään näiden
tarkastelussa. Varmista USE-muuttuja <path>/etc/make.conf</path>ista,
esimerkiksi <c>USE="-gnome"</c> voi olla hyödyllinen turhia riippuvuuksia
välttettäessä.
</p>

<pre caption="Xfce4:n asennus">
# <i>emerge -avt xfce4 xscreensaver hal gamin</i>
</pre>

<p>
Seuraavaksi käyttäjät pitää lisätä ryhmiin <c>plugdev</c>, <c>cdrom</c>,
<c>cdrw</c> ja <c>usb</c>, jotta he voivat käyttää <c>hal</c>ia ja 
kameroita, optisia asemia tai USB-tikkuja.
</p>

<pre caption="Käyttäjien lisäys laitteistoryhmiin">
<comment>(Korvaa käyttäjä käyttäjänimellä)</comment>
# <i>for x in plugdev cdrom cdrw usb ; do gpasswd -a käyttäjä $x ; done</i>
</pre>

<p>
Seuraavaksi päivitetään ympäristömuuttujat:
</p>

<pre caption="Ympäristömuuttujien päivitys">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Sitten käynnistetään <c>hald</c> ja lisätään se runlevelille default:
</p>

<pre caption="Hald:n käynnistys">
# <i>/etc/init.d/hald start</i>
# <i>rc-update add hald default</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Xfce:n asetukset</title>
<section>
<title>Xfce:n käynnistäminen</title>
<body>

<p>
Xfce on nyt asennettu, seuraavaksi asetetaan se oletustyöpöydäksi
<c>startx</c>:ää varten. Poistu rootin tunnuksilta ja kirjaudu tavan
käyttäjänä.
</p>

<pre caption="Xfce:n asetus oletuskäynnistykseen startx:lle">
$ <i>echo "exec startxfce4" > ~/.xinitrc</i>
</pre>

<p>
Seuraavaksi graafisen ympäristön voi käynnistää komennolla <c>startx</c>:
</p>

<pre caption="Xfce:n käynnistys">
$ <i>startx</i>
</pre>

</body>
</section>
<section>
<title>Ohjelmien käyttö</title>
<body>

<p>
Oikean hiiren napin painallus työpöydällä avaa valikon, jossa on sovelluksia.
Tämä kätevä toiminto, mutta työpöytä peittyy joskus ikkunoista, joka vaikeuttaa
ohjelmien käynnistämistä näin. Siksi ensimmäisiä asioita, joita kannattaa
tehdä on lisätä sovellusvalikko paneeliinkin. Tämä tapahtuu napsauttamalla
paneelia oikealla hiiren napilla 
ja valitsemalla Lisää uusi osa, ja sieltä avautuvan luettelon
lopusta Xfce-valikko. Valikon voi sijoittaa itse haluamaansa kohtaan paneelia.
Kun valikkopainiketta napsauttaa, siitä avvautuu ohjelmavalikko, jossa
on asennetut ohjelmat järjestettynä listana.
</p>

</body>
</section>
<section>
<title>Sessiot ja käynnistys</title>
<body>

<p>
Jos käytössä on suosittuja Gnomen tai KDE:n sovelluksia, kuten
<c>k3b</c>, <c>nautilus</c>, <c>kmail</c>, <c>evolution</c>, tms., pitää
varmistaa että Xfce käynnistää tarvittavat palvelut niiden toimimiseksi.
Tähän sopiva asetus löytyy valikosta Asetukset→Istuntojen ja käynnistyksen
asetukset. Asetusikkunan Lisäasetukset välilehdellä on tarvittavat
valintaruudut.
</p>

<p>
Xfce:ssä on mahdollisuus tallentaa istuntojen asetukset ja käynnissä
olevat ohjelmat Istuntojen ja käynnistyksen asetukset -ikkunasta. Siellä on
valinta, jolla voi automaattisesti tallentaa avoinna olevat ohjelmat aina kun
kirjaudutaan ulos, tai kysyä tätä joka kerta. Tämä saattaa olla hyödyllistä
virheessä tehtyjen asetusten takia. Jos vaikka paneeli kuolee epähuomiossa,
voi jättää tallentamatta istunnon saadakseen sen takaisin seuraavalla
käynnistyksellä. Toisaalta voi jatkaa veppiselausta, sähköposteja ja
terminaali-istuntoa siitä mihin jäi tallentamalla istunnon.
</p>

<p>
Seuraavaksi kuvataan lisäasetuksia ja -ohjelmia.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Muut sovellukset</title>
<section>
<title>Paneelin lisäosat</title>
<body>

<p>
Portagessa on paljon paneelin lisäosia saatavilla. Komennolla 
<c>emerge --search xfce</c> saa esillä useimmat.
Useimmat nimistä ovat itsestäänselviä, mutta jotkin kaipaavat selittämistä.
Ohjelmat asennetaan <c>emerge</c>llä, jolloin ne ilmestyvät luetteloon
Lisää uusi osa -valikossa.
</p>

<ul>
  <li>
    <c>xfce4-mount</c> mahdollistaa laitteiden liittämisen 
    <path>/etc/fstab</path>ista
  </li>
<!-- xfce4-taskbar is integrated into the panel in 4.4; remove when stable -->
  <li>
    <c>xfce4-taskbar</c> toimii ikkunalistan korvaajana. Se säästää tilaa.
    Jos ei tarvitse toista ikkunalistaa, voi perusikkunalistan hävittää
	komennolla <c>killall -9 xftaskbar4</c>.
  </li>
  <li>
    <c>xfce4-battery</c> on hyödyllinen kannettaville laitteille. Se kertoo
	akun keston, virtalähteen, tuulettimen tilan ja varoitukset, ja sen voi
	säätää suorittamaan komentoja virran vähetessä. Tällä toiminnolla voi
	vaikkapa nukuttaa koneen kun virta alkaa olla lopussa.
  </li>
  <li>
<!-- xfce4-minicmd has been superceded by verve in 4.4; remove when stable -->
    <c>xfce4-minicmd</c> on paneelissa toimiva komentorivi, joka suorittaa
	annettuja komentoja.
  </li>
</ul>

</body>
</section>
<section>
<title>Hyödyllisiä ohjelmia</title>
<body>

<p>
Ensiksi korvataan <c>xterm</c> <c>xfce-extra/terminal</c>illa. Terminal
on mukautuva, tukee Unicodea, teeskenneltyä läpikuultavuutta tai aitoa
läpikuultavuutta Xfce:n omalla kompositiolla. 
</p>
<!-- Remove the warning about ~arch once 4.4 and terminal go stable -->
<note>
Ohjeen kirjoittamisen aikaan <c>Terminal</c> ei ollut vakaa kaikilla
arkkitehtuureilla, joten se sattaa pitää lisätä 
<path>/etc/portage/package.keywords</path>iin ennen asentamista.
</note>

<pre caption="Terminalin asennus">
<comment>(Tämä tarvitaan vain jos Portage varoittaa Terminalin peitosta)</comment>
# <i>echo "xfce-extra/terminal" >> /etc/portage/package.keywords</i>

<comment>(Terminalin varsinainen asennus)</comment>
# <i>emerge -av xfce-extra/terminal</i>
</pre>

<p>
Kun Terminal on asennettu, se kannattaa lisätä paneelin käynnistimeen.
Tämä onnistuu painamalla käynnistintä oikealla hiiren napilla ja valitsemalla
Ominaisuudet. Ohjelman suorituskomento on <path>/usr/bin/Terminal</path>
</p>

<p>
Saattaa myös olla järkevää korvata sekavahko oletustiedostohallinta <c>xffm</c>
jollakin tavallisemmalla. <c>Rox</c> on kuvakepohjainen ja perinteisempi
tiedostonhallinta.  Jos etsit pienempää kätevää tiedostonhallintaa,
<c>gentoo</c> on hyvä valinta. (<c>Gentoo</c>-tiedostonhallintaohjelma
ei liity Gentoo-jakeluun varsinaisesti.) Molemmat ovat keveitä ja 
mukautuvia, sekä asennettavissa <c>emerge</c>llä.
</p>

<!-- Remove the note about masked thunar once 4.4 is stable -->
<p>
Lähitulevaisuudessa <c>thunar</c> korvaa <c>xffm</c>:n Xfce:n 
tiedostonhallinnassa, mutta tällä hetkellä se on vielä peitetty paketti.
Useimmat tuoreet versiot ovat kuitenkin melko vakaita ja käytettäviä, joten
jos uskallat koettaa, kannattaa lukea
<uri link="doc/en/handbook/handbook-x86.xml?part=3&amp;chap=3#doc_chap3">
käsikirjan kappale Peitettyjen pakettien käyttäminen</uri> peiton poistamiseen.
Peitettyä pakettia pidetään kuitenkin epävakaana, joten käyttö on omalla
vastuulla.
</p>
<!-- remove mousepad once 4.4 is stable; right now it's included by default -->
<p>
Saatavilla on graafinen tekstimuokkain, joka on helpompi kuin <c>gvim</c>
tai <c>xemacs</c>.
</p>

<pre caption="Tekstimuokkaimen asennus">
# <i>emerge mousepad</i>
</pre>

<p>
Täysimittainen toimistotyökalu, joka ei ole yhtä suuri kuin
OpenOffice, on <c>abiword</c>. <uri link="http://www.abisource.com">
AbiWord</uri> on kevyempi ja nopeampi, mutta toimii tyypillisten
tekstiasiakirjojen kanssa.
</p>

<pre caption="Toimistotyökalun asennus">
# <i>emerge -avt abiword</i>
</pre>

<p>
Sähköpostille ja nyysseillekin löytyy sovellus, joka ei ole raskas
kuten <c>mozilla-thunderbird</c> tai <c>evolution</c>, nimeltä 
<c>sylpheed-claws</c>:
</p>
<!-- replacement seems to be called claws-mail, but still in ~arch -->
<pre caption="Sähköpostisovelluksen asennus">
# <i>emerge -avt sylpheed-claws</i>
</pre>

<p>
Irkkaamiseen <c>irssi</c> on pienikokoinen ja tehokas terminaalisovellus. Liki
kaikkia pikaviestinprotokollia hoitaa <c>gaim</c>.
</p>

<p>
Videoita ja musiikkia voi soittaa <c>mplayer</c>illä ja <c>audacious</c>illa.
Ne soittavaat suurimman osan tunnetuista mediatiedostoista ja niille on
saatavilla joukoittain liitännäisiä.
</p>

<p>
Lisäksi tarvitaan veppiselain. Lähes kaikki graafiset selaimet ovat
resurssisyöppöjä. Joka tapauksessa <c>mozilla-firefox</c> (tai
<c>mozilla-firefox-bin</c>) on hyvä valinta. Vaihtoehtoisesti <c>opera</c> on
myös nopeahko. <c>Opera</c>a ei kuitenkaan saa yhtä monelle alustalle kuin
<c>mozilla-firefox</c>, ja siinä on enemmän riippuvuuksia, ellei säädä
USE-flägejä.
</p>

<pre caption="Veppiselaimen asennus">
<comment>(Mozilla Firefox)</comment>
# <i>emerge mozilla-firefox</i>
<comment>(Opera)</comment>
# <i>echo "www-client/opera qt-static" >> /etc/portage/package.use</i>
# <i>emerge opera</i>
</pre>

<p>
Sovellusten jälkeen katsotaan muita asioita, joita Xfce:n virittämiseen voi
tehdä.
</p>

</body>
</section>
<section>
<title>Graafinen kirjautuminen</title>
<body>

<p>
Kun <c>startxfce4</c> on <path>~/.xinitrc</path>:ssä Xfce:n voi käynnistää
startx:llä, mutta tehokkaampaa on käyttää graafista kirjautumista, jonka
kautta voi avata Xfce:n suoraan.
</p>

<p>
Aluksi varmistetaan että Xfce käynnistyy käynnistyksessä:
</p>

<pre caption="Xdm:n lisäys defaulttiin">
# <i>rc-update add xdm default</i>
</pre>

<p>
Tämä ei vielä riitä. Seuraavaksi lisätään kirjautumisohjelma, ja päivitetään
asetukset osoittamaan siihen. Tässä tarkastellaan kahta vaihtoehtoa,
<c>xdm</c>:ää ja <c>gdm</c>:ää.
</p>

<p>
<c>Xdm</c> on nopea ja kevyt, mutta ruma ja mukautumaton. Sen voi asentaa
<c>emerge</c>llä:
</p>

<pre caption="XDM:n asennus">
# <i>emerge -avt xdm</i>
</pre>

<p>
DISPLAYMANAGER-muuttujan tiedostossa <path>/etc/conf.d/xdm</path> kertoo
käynnistettävän kirjautumisen:
</p>

<pre caption="/etc/conf.d/xdm:n muokkaus">
DISPLAYMANAGER="xdm"
</pre>

<p>
<c>Xdm</c>:n tilalla voi käyttää vaikkapa <c>gdm</c>:ää. Se on mukautuvampi
ja kauniimpi. Se asennetaan <c>emerge</c>llä. Sillä on joitakin riippuvuuksia,
mutta ei suurempia.
</p>

<pre caption="GDM:n asennus">
# <i>emerge -avt gdm</i>
</pre>

<p>
Nyt DISPLAYMANAGERiksi asetetaan <c>gdm</c>:
</p>

<pre caption="/etc/conf.d/xdm:n muokkaus">
DISPLAYMANAGER="gdm"
</pre>

</body>
</section>
<section>
<title>Työpöydän kohennus</title>
<body>

<p>
Pienehkö mukautus parantaa työpöydän ulkoasua huomattavasti. Xfce tukee
kaikkia tyypillisiä modernin työpöydän asetuksia: fonttien antialiasointia,
väriteemoitusta, ikkunakoristeita, teemoja ja niin edelleen. Lisäteemoja,
lisäikoneita, hiiriosoittimia ja seinäpaperia on helppo asentaa.
</p>

<p>
<uri link="/main/en/graphics.xml">Gentoon seinäpapereita</uri> löytyy
Gentoon verkkosivuilta.  Ulkoiset teemat pitää yleensä asentaa johonkin
tiettyyn hakemistoon. Ikonit menevät hakemistoon <path>/usr/share/icons/</path>, 
ja teemat hakemistoon <path>/usr/share/themes/</path>. Nämä hakemistot
toimivat kaikille käyttäjille, yksittäinen käyttäjä voi asentaa omat teemansa
hakemistoon <path>~/.themes/</path> ja ikonit hakemistoon
<path>~/.icons/</path>.
</p>

<p>
Jos GDM on käytössä, sille löytyy teemoja 
<uri link="http://www.gnome-look.org">Gnome-Look-sivustolta</uri>.
Ne voi asentaa purkamalla hakemistoon <path>/usr/share/gdm/themes/</path>
tai käyttämällä <c>gdmsetup</c>ia <b>root</b>ina ja raahaamalla arkistot
GDM-ikkunaan. <uri
link="http://gnome-look.org/content/show.php?content=45575">Gentoo-teemoja</uri>
löytyy Gnome-Lookista
<uri
link="http://gnome-look.org/content/show.php?content=20071">useita</uri>.
</p>

<p>
Xfce:ssä on oma kompositioengine ikkunoiden läpikuultavuuteen. Se löytyy
valikkokohdasta Asetukset→Ikkunamanagerin asetukset. Paras suorituskyky tulee,
kun näyttökortissa on rautatuki tarvittaville asioille ja 
<path>/etc/X11/xorg.conf</path>issa seuraava osio:
</p>

<pre caption="Komposition lisäys xorg.confiin">
Section "Extensions"
    Option  "Composite"  "Enable"
EndSection
</pre>

<p>
Tässä kuvattiin joitain vähimmäistavaraa Xfce:n ja Xorg-X11:n asennukseen.
Täyden kiihdytetyn työpöydän saanti riippuu näyttökortista, eikä sitä kuvata
tässä ohjeessa. Lue lisätietoja muista
<uri link="/doc/en/index.xml?catid=desktop">Gentoon työpöytäohjeista</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Yhteenveto</title>
<section>
<title>Resources</title>
<body>

<p>
Lisäohjeita ja apua löytää seuraavista paikoista:
</p>

<ul>
  <li><uri link="http://forums.gentoo.org">Gentoon foorumit</uri></li>
  <li>#xfce verkossa irc.freenode.net</li>
</ul>

<p>
Gentoon Xfce-tiimi on vastuussa Xfce:n saatavuudesta Portagessa. Heille voi
lähettää kommentteja, kiitoksia ja ideoita osoitteeseen
<mail>xfce@gentoo.org</mail>.
</p>

</body>
</section>
</chapter>
</guide>
