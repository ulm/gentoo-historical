<?xml version='1.0' encoding='UTF-8'?>

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/fi/xfce-config.xml,v 1.3 2007/03/18 10:46:57 flammie Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/fi/xfce-config.xml" lang="fi">

<title>Xfce-asetusopas</title>

<author title="Tekijä">
  <mail link="nightmorph@gentoo.org">Joshua Saddler</mail>
</author>
<author title="Vastuullinen kääntäjä">
  <mail link="flammie@gentoo.org">Flammie Pirinen</mail>
</author>

<abstract>
Tämä opas on laajahko johdanto Xfce:hen, joka on nopea ja keveä
työpöytäympäristö.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.3</version>
<date>2007-03-11</date>

<chapter>
<title>Johdanto</title>
<section>
<title>Xfce-työpöytäympäristö</title>
<body>

<p>
<uri link="http://www.xfce.org">Xfce</uri> on nopea ja kevyt työpöytäympäristö
Unix-tyypin käyttöjärjestelmille. Se on suunniteltu mukautuvaksi ja 
<uri
link="http://www.freedesktop.org">Freedesktop</uri>-määritysten mukaiseksi.
</p>

<p>
Poiketen raskaista työpöydistä, kuten Gnomesta ja KDE:stä, Xfce käyttää
vähän resursseja. Lisäksi se on suunniteltu modulaarisemmaksi ja sisältää
vähemmän riippuvuuksia, joten se vie vähemmän tilaa kovalevyltä ja vähemmän
aikaa asentaa.
</p>

<p>
Tässä ohjeessa kerrotaan pienen Xfce-ympäristön asentaminen ja asetusten
säätäminen, sekä täysimittaisen työpöydän tekeminen Xfce-malliin.
</p>

<p>
Lisäksi on annettu päivitysohje 4.2:sta 4.4:ään.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Xfce:n asennus</title>
<section>
<title>Perusteet</title>
<body>

<p>
Ennen asennusta katsotaan asennettavia paketteja.
</p>

<table>
  <tr>
    <th>Nimi</th>
    <th>Kuvaus</th>
  </tr>
  <tr>
    <ti>xfce4</ti>
    <ti>Ympäristön perusosa</ti>
  </tr>
  <tr>
    <ti>xscreensaver</ti>
    <ti>
      Näytönsäästäjä, jossa on virransäästö- ja ruudun lukinta -ominaisuudet
    </ti>
  </tr>
</table>

<p>
Muitakin paketteja voi asentaa, mutta tässä ohjeessa pitäydytään näiden
tarkastelussa. Varmista USE-muuttuja <path>/etc/make.conf</path>ista,
esimerkiksi <c>USE="dbus -gnome hal startup-notification"</c> 
voi olla hyödyllinen.
</p>

<pre caption="Xfce4:n asennus">
# <i>emerge -avt xfce4 xscreensaver</i>
</pre>

<p>
Seuraavaksi käyttäjät pitää lisätä ryhmiin <c>plugdev</c>, <c>cdrom</c>,
<c>cdrw</c> ja <c>usb</c>, jotta he voivat käyttää <c>hal</c>ia ja 
kameroita, optisia asemia tai USB-tikkuja.
</p>

<pre caption="Käyttäjien lisäys laitteistoryhmiin">
<comment>(Korvaa käyttäjä käyttäjänimellä)</comment>
# <i>for x in plugdev cdrom cdrw usb ; do gpasswd -a käyttäjä $x ; done</i>
</pre>

<p>
Seuraavaksi päivitetään ympäristömuuttujat:
</p>

<pre caption="Ympäristömuuttujien päivitys">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Sitten käynnistetään <c>hald</c> ja lisätään se runlevelille default:
</p>

<pre caption="Hald:n käynnistys">
# <i>/etc/init.d/hald start</i>
# <i>rc-update add hald default</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Xfce:n asetukset</title>
<section>
<title>Xfce:n käynnistäminen</title>
<body>

<p>
Xfce on nyt asennettu, seuraavaksi asetetaan se oletustyöpöydäksi
<c>startx</c>:ää varten. Poistu rootin tunnuksilta ja kirjaudu tavan
käyttäjänä.
</p>

<pre caption="Xfce:n asetus oletuskäynnistykseen startx:lle">
$ <i>echo "exec startxfce4" > ~/.xinitrc</i>
</pre>

<p>
Seuraavaksi graafisen ympäristön voi käynnistää komennolla <c>startx</c>:
</p>

<pre caption="Xfce:n käynnistys">
$ <i>startx</i>
</pre>

</body>
</section>
<section>
<title>Ohjelmien käyttö</title>
<body>

<p>
Oikean hiiren napin painallus työpöydällä avaa valikon, jossa on sovelluksia.
Tämä kätevä toiminto, mutta työpöytä peittyy joskus ikkunoista, joka vaikeuttaa
ohjelmien käynnistämistä näin. Siksi ensimmäisiä asioita, joita kannattaa
tehdä on lisätä sovellusvalikko paneeliinkin. Tämä tapahtuu napsauttamalla
paneelia oikealla hiiren napilla 
ja valitsemalla Lisää uusi osa, ja sieltä avautuvan luettelon
lopusta Xfce-valikko. Valikon voi sijoittaa itse haluamaansa kohtaan paneelia.
Kun valikkopainiketta napsauttaa, siitä avvautuu ohjelmavalikko, jossa
on asennetut ohjelmat järjestettynä listana.
</p>

</body>
</section>
<section>
<title>Sessiot ja käynnistys</title>
<body>

<p>
Jos käytössä on suosittuja Gnomen tai KDE:n sovelluksia, kuten
<c>k3b</c>, <c>nautilus</c>, <c>kmail</c>, <c>evolution</c>, tms., pitää
varmistaa että Xfce käynnistää tarvittavat palvelut niiden toimimiseksi.
Tähän sopiva asetus löytyy valikosta Asetukset→Istuntojen ja käynnistyksen
asetukset. Asetusikkunan Lisäasetukset välilehdellä on tarvittavat
valintaruudut.
</p>

<p>
Xfce:ssä on mahdollisuus tallentaa istuntojen asetukset ja käynnissä
olevat ohjelmat Istuntojen ja käynnistyksen asetukset -ikkunasta. Siellä on
valinta, jolla voi automaattisesti tallentaa avoinna olevat ohjelmat aina kun
kirjaudutaan ulos, tai kysyä tätä joka kerta. Tämä saattaa olla hyödyllistä
virheessä tehtyjen asetusten takia. Jos vaikka paneeli kuolee epähuomiossa,
voi jättää tallentamatta istunnon saadakseen sen takaisin seuraavalla
käynnistyksellä. Toisaalta voi jatkaa veppiselausta, sähköposteja ja
terminaali-istuntoa siitä mihin jäi tallentamalla istunnon.
</p>

<p>
Seuraavaksi kuvataan lisäasetuksia ja -ohjelmia.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Muut sovellukset</title>
<section>
<title>Paneelin lisäosat</title>
<body>

<p>
Portagessa on paljon paneelin lisäosia saatavilla. Komennolla 
<c>emerge --search xfce</c> saa esillä useimmat.
Useimmat nimistä ovat itsestäänselviä, mutta jotkin kaipaavat selittämistä.
Ohjelmat asennetaan <c>emerge</c>llä, jolloin ne ilmestyvät luetteloon
Lisää uusi osa -valikossa.
</p>

<ul>
  <li>
    <c>Xfce4-mount</c> mahdollistaa laitteiden liittämisen 
    <path>/etc/fstab</path>ista
  </li>
  <li>
    <c>Xfce4-battery</c> on hyödyllinen kannettaville laitteille. Se kertoo
	akun keston, virtalähteen, tuulettimen tilan ja varoitukset, ja sen voi
	säätää suorittamaan komentoja virran vähetessä. Tällä toiminnolla voi
	vaikkapa nukuttaa koneen kun virta alkaa olla lopussa.
  </li>
  <li>
    <c>Verve</c> on paneelissa toimiva komentorivi, joka suorittaa
	annettuja komentoja.
  </li>
  <li>
    <c>Xfce4-mixer</c> on äänenvoimakkuudensäädin, joka toimii ALSAn ja
     OSSin kanssa.
  </li>
</ul>

<p>
Jollet löydä liitännäistä mitä haet Xfce:stä, kannattaa katsoa Gnomen
paneelisovelmia. Asentamalla <c>xfce4-xfapplet</c>in voit käyttää Gnomen
sovelmia.
</p>

</body>
</section>
<section>
<title>Hyödyllisiä ohjelmia</title>
<body>

<p>
Xfce sisältää joukon sovelluksia, kuten <c>thunar</c>in, <c>terminal</c>in,
<c>orage</c>n ja <c>mousepad</c>in. Viimeisiä kolmea ei asenneta, jos
<c>xfce4</c> on asennettu USE-asetus <c>minimal</c> päällä. Ohjelmat ovat silti
melko pieniä ja hyödyllisiä.
</p>

<p>
<c>Orage</c> on yksinkertainen kalenteri, <c>mousepad</c> pieni 
tekstieditori ja <c>terminal</c> mukautuva Unicode-yhteensopiva terminaali
läpikuultavuustuilla. Kaikki asentuvat Xfce:n mukana. Varmista, että
paneelin terminaali suorittaa komennon <path>/usr/bin/Terminal</path>, eikä
xtermiä. Paina käynnistintä oikealla hiirennapilla ja valitse Ominaisuudet.
</p>

<p>
<c>Thunar</c> on Xfce:n graafinen tiedostonhallinta. Se on nopea ja tehokas,
tukee muutamia liitännäisiä jotka asennetaan <c>emerge</c>llä.
</p>

<ul>
  <li>
    <c>Thunar-archive</c>lla voi luoda ja purkaa arkistoja oikealla
	hiirennapilla. Se toimii parhaiten uuden Xfce:n 
	<uri
	 link="http://www.foo-projects.org/~benny/projects/thunar-archive-plugin/">
	  arkistonhallinan työkalun
	</uri> <c>xarchiver</c>in kanssa.
  </li>
  <li>
    <c>Thunar-media-tags</c>illa voi uudelleennimetä useita mediatiedostoja
	kätevästi ja 
	<uri
     link="http://thunar.xfce.org/pwiki/projects/thunar-media-tags-plugin">
      muokata metadataa
	</uri>, kuten id3-tägejä.
  </li>
  <li>
    <c>Thunar-thumbnailers</c>illa 
	<uri
     link="http://goodies.xfce.org/projects/thunar-plugins/thunar-thumbnailers">
	  esikatsella tiedostoja
	</uri>, jotka ovat vaikkapa kuvia tai fontteja.
  </li>
  <li>
    <c>Thunar-volman</c>illa
	<uri
     link="http://foo-projects.org/~benny/projects/thunar-volman/">
      säädetään irrotettavia taltioita</uri>.
  </li>
</ul>

<p>
Vaikka mousepad on hyvä tekstieditori, täysimittaiseksi toimistotyökalu,
joka ei ole yhtä suuri kuin
OpenOffice, kelpaa <c>abiword</c>. <uri link="http://www.abisource.com">
AbiWord</uri> on kevyempi ja nopeampi, mutta toimii tyypillisten
tekstiasiakirjojen kanssa.
</p>

<pre caption="Toimistotyökalun asennus">
# <i>emerge -avt abiword</i>
</pre>

<p>
Sähköpostille ja nyysseillekin löytyy sovellus, joka ei ole raskas
kuten <c>mozilla-thunderbird</c> tai <c>evolution</c>, nimeltä 
<c>sylpheed-claws</c> tai <c>claws-mail</c>:
</p>

<pre caption="Sähköpostisovelluksen asennus">
# <i>emerge -avt sylpheed-claws</i>
</pre>

<p>
Irkkaamiseen <c>irssi</c> on pienikokoinen ja tehokas terminaalisovellus. Liki
kaikkia pikaviestinprotokollia hoitaa <c>gaim</c>.
</p>

<p>
Videoita ja musiikkia voi soittaa <c>mplayer</c>illä ja <c>audacious</c>illa.
Ne soittavaat suurimman osan tunnetuista mediatiedostoista ja niille on
saatavilla joukoittain liitännäisiä.
</p>

<p>
Lisäksi tarvitaan veppiselain. Lähes kaikki graafiset selaimet ovat
resurssisyöppöjä. Joka tapauksessa <c>mozilla-firefox</c> (tai
<c>mozilla-firefox-bin</c>) on hyvä valinta. Vaihtoehtoisesti <c>opera</c> on
myös nopeahko. <c>Opera</c>a ei kuitenkaan saa yhtä monelle alustalle kuin
<c>mozilla-firefox</c>, ja siinä on enemmän riippuvuuksia, ellei säädä
USE-flägejä.
</p>

<pre caption="Veppiselaimen asennus">
<comment>(Mozilla Firefox)</comment>
# <i>emerge mozilla-firefox</i>
<comment>(Opera)</comment>
# <i>echo "www-client/opera qt-static" >> /etc/portage/package.use</i>
# <i>emerge opera</i>
</pre>

<p>
Sovellusten jälkeen katsotaan muita asioita, joita Xfce:n virittämiseen voi
tehdä.
</p>

</body>
</section>
<section>
<title>Graafinen kirjautuminen</title>
<body>

<p>
Kun <c>startxfce4</c> on <path>~/.xinitrc</path>:ssä Xfce:n voi käynnistää
startx:llä, mutta tehokkaampaa on käyttää graafista kirjautumista, jonka
kautta voi avata Xfce:n suoraan.
</p>

<p>
Aluksi varmistetaan että Xfce käynnistyy käynnistyksessä:
</p>

<pre caption="Xdm:n lisäys defaulttiin">
# <i>rc-update add xdm default</i>
</pre>

<p>
Tämä ei vielä riitä. Seuraavaksi lisätään kirjautumisohjelma, ja päivitetään
asetukset osoittamaan siihen. Tässä tarkastellaan kahta vaihtoehtoa,
<c>xdm</c>:ää ja <c>gdm</c>:ää.
</p>

<p>
<c>Xdm</c> on nopea ja kevyt, mutta ruma ja mukautumaton. Sen voi asentaa
<c>emerge</c>llä:
</p>

<pre caption="XDM:n asennus">
# <i>emerge -avt xdm</i>
</pre>

<p>
DISPLAYMANAGER-muuttujan tiedostossa <path>/etc/conf.d/xdm</path> kertoo
käynnistettävän kirjautumisen:
</p>

<pre caption="/etc/conf.d/xdm:n muokkaus">
DISPLAYMANAGER="xdm"
</pre>

<p>
<c>Xdm</c> käynnistää Xfce:n, jos XSESSIONiksi on asetettu Xfce4
tiedostossa <path>/etc/rc.conf</path>.
</p>

<p>
<c>Xdm</c>:n tilalla voi käyttää vaikkapa <c>gdm</c>:ää. Se on mukautuvampi
ja kauniimpi. Se asennetaan <c>emerge</c>llä. Sillä on joitakin riippuvuuksia,
mutta ei suurempia.
</p>

<pre caption="GDM:n asennus">
# <i>emerge -avt gdm</i>
</pre>

<p>
Nyt DISPLAYMANAGERiksi asetetaan <c>gdm</c>:
</p>

<pre caption="/etc/conf.d/xdm:n muokkaus">
DISPLAYMANAGER="gdm"
</pre>

</body>
</section>
<section>
<title>Työpöydän kohennus</title>
<body>

<p>
Pienehkö mukautus parantaa työpöydän ulkoasua huomattavasti. Xfce tukee
kaikkia tyypillisiä modernin työpöydän asetuksia: fonttien antialiasointia,
väriteemoitusta, ikkunakoristeita, teemoja ja niin edelleen. Lisäteemoja,
lisäikoneita, hiiriosoittimia ja seinäpaperia on helppo asentaa.
</p>

<p>
<uri link="/main/en/graphics.xml">Gentoon seinäpapereita</uri> löytyy
Gentoon verkkosivuilta.  Ulkoiset teemat pitää yleensä asentaa johonkin
tiettyyn hakemistoon. Ikonit menevät hakemistoon <path>/usr/share/icons/</path>, 
ja teemat hakemistoon <path>/usr/share/themes/</path>. Nämä hakemistot
toimivat kaikille käyttäjille, yksittäinen käyttäjä voi asentaa omat teemansa
hakemistoon <path>~/.themes/</path> ja ikonit hakemistoon
<path>~/.icons/</path>.
</p>

<p>
Jos GDM on käytössä, sille löytyy teemoja 
<uri link="http://www.gnome-look.org">Gnome-Look-sivustolta</uri>.
Ne voi asentaa purkamalla hakemistoon <path>/usr/share/gdm/themes/</path>
tai käyttämällä <c>gdmsetup</c>ia <b>root</b>ina ja raahaamalla arkistot
GDM-ikkunaan. <uri
link="http://gnome-look.org/content/show.php?content=45575">Gentoo-teemoja</uri>
löytyy Gnome-Lookista
<uri
link="http://gnome-look.org/content/show.php?content=20071">useita</uri>.
</p>

<p>
Xfce:ssä on oma kompositioengine ikkunoiden läpikuultavuuteen. Se löytyy
valikkokohdasta Asetukset→Ikkunamanagerin asetukset. <c>Xfwm4</c> pitää olla
asennettu <c>xcomposite</c> USE-asetuksella.
Paras suorituskyky tulee,
kun näyttökortissa on rautatuki tarvittaville asioille ja 
<path>/etc/X11/xorg.conf</path>issa seuraava osio:
</p>

<pre caption="Komposition lisäys xorg.confiin">
Section "Extensions"
    Option  "Composite"  "Enable"
EndSection
</pre>

<p>
Tässä kuvattiin joitain vähimmäistavaraa Xfce:n ja Xorg-X11:n asennukseen.
Täyden kiihdytetyn työpöydän saanti riippuu näyttökortista, eikä sitä kuvata
tässä ohjeessa. Lue lisätietoja muista
<uri link="/doc/en/index.xml?catid=desktop">Gentoon työpöytäohjeista</uri>.
</p>

</body>
</section>
</chapter>
<chapter id="upgrade">
<title>Päivitys</title>
<section>
<title>Päivitys välillä 4.2—4.4</title>
<body>

<p>
Päivitys 4.2:sta 4.4:een ei ole vaikea, vaikkei olekaan täysin suoraviivainen.
4.4-versiossa monet vanhemmat paketit poistettiin tai yhdistettiin työpöytään
jotenkin. 
</p>

<p>
Ensin päivitetään Portage-puu komennolla <c>emerge --sync</c>, sitten
tarkastellaan päivitettäviä komennolla <c>emerge -pvtuD world</c>.
</p>

<p>
Monet paketeista blokkaavat päivityksessä, sillä 4.2-versio ei toimi yhdessä
4.4:n kanssa. Ratkaisu on tällä kerralla helppo, tarvitsee vain poistaa
paketit kuten on neuvottu <uri
link="/doc/fi/handbook/handbook-x86.xml?part=2&amp;chap=1">käsikirjan ohjeissa
</uri> ja ohjesivulla <c>man emerge</c>.
</p>

<p>
Seuraavaksi pitää uudelleenasentaa ohjeilmia, kuten ne jotka linkittyvät
<c>dbus</c>iin. Tätä varten tarvitaan <c>gentoolkit</c> asennettuna. Kun
<c>gentoolkit</c> on käytettävissä, suoritetaan:
</p>

<pre caption="Pakettien uudelleenkääntäminen">
# <i>revdep-rebuild -p</i>
<comment>(Jos paketteja on rikki:)</comment>
# <i>revdep-rebuild</i>
</pre>

<note>
Lisätitetoja ohjesivulta <c>man revdep-rebuild</c> ja <uri
link="/doc/en/gentoolkit.xml">Gentoolkit Guidesta</uri>.  
</note>

<p>
Kun uudelleenasennus on valmis, <c>revdep-rebuild -p</c> pitää kokeilla
uudestaan, jotta kaikki on varmasti kunnossa. Jos jotain on vieläkin vialla,
<c>revdep-rebuild -p</c> ja <c>revdep-rebuild</c> pitää toistaa kunnes kaikki
toimii. Xfce:n päivityksissä suurin osa ongelmista on <c>dbus</c>iin liittyviä,
koska Xfce käyttää <c>dbus</c>ia paljon.
</p>

<p>
Seuraavaksi käynnistetään <c>dbus</c> ja <c>hal</c>.
</p>

<pre caption="Dbusin ja halin uudelleenkäynnistys">
# <i>/etc/init.d/dbus restart</i>
# <i>/etc/init.d/hald restart</i>
</pre>

<p>
Myös käyttöympäristö pitää päivittää.
</p>

<pre caption="Ympäristömuuttujien päivitys">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

</body>
</section>
<section>
<title>Asetukset</title>
<body>

<p>
Uudet asetukset Asetustenhallinnasta kannattaa käydä läpi. Mielenkiintoinen 
uudistus on työpöytäosiossa, Xfce osaa nyt hallita työpöytäää ja käyttää
kuvakkeita.
</p>

<p>
Ikkunanhallinnassa on lisää viritettävää, millä voi säätää ikkunoita,
työpöytiä ja läpikuultavuutta.
</p>

<p>
Lue myös <uri link="http://www.xfce.org/documentation/">Xfce
Documentation </uri> ja <uri link="http://www.xfce.org/about/tour">Xfce
Tour</uri> -sivut.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Yhteenveto</title>
<section>
<title>Resurssit</title>
<body>

<p>
Lisäohjeita ja apua löytää seuraavista paikoista:
</p>

<ul>
  <li><uri link="http://forums.gentoo.org">Gentoon foorumit</uri></li>
  <li>#xfce verkossa irc.freenode.net</li>
  <li><uri link="http://www.xfce.org">Xfce:n kotisivulta</uri></li>
</ul>


</body>
</section>
</chapter>
</guide>
