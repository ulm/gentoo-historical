<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/cs/handbook/hb-install-x86-medium.xml,v 1.1 2005/03/20 08:18:15 neysx Exp $ -->

<sections>

<version>1.29</version>
<date>2005-02-14</date>

<section>
<title>Hardwarové požadavky</title>
<subsection>
<title>Úvod</title>
<body>

<p>
Předtím, než začneme, seznámíme Vás s hardwarovými požadavky, které potřebujete
splnit, abyste mohli Gentoo úspěšně nainstalovat na Váš stroj.
</p>

</body>
</subsection>
<subsection>
<title>Hardwarové požadavky</title>
<body>

<table>
<tr>
  <th>CPU</th>
  <ti>i486 nebo novější</ti>
</tr>
<tr>
  <th>Paměť</th>
  <ti>64 MB</ti>
</tr>
<tr>
  <th>Místo na disku</th>
  <ti>1.5 GB (kromě odkládacího swap místa)</ti>
</tr>
<tr>
  <th>Místo pro swap</th>
  <ti>alespoň 256 MB</ti>
</tr>
</table>

</body>
</subsection>
</section>
<!-- This part can be propagated to the other architectures as well. -->
<!-- START -->
<section>
<title>Instalační metody Gentoo</title>
<subsection>
<title>Úvod</title>
<body>

<p>
Gentoo Linux může být instalován pomocí jednoho ze tří <e>stage</e> archivních
souborů. Stage soubor je komprimovaný archiv obsahující soubory tvořící
minimální prostředí.
</p>

<ul>
  <li>
     Stage1 neobsahuje nic kromě kompilátoru, Portage (Gentoo systém pro správu
     balíčků) a pár balíčků, na kterých kompilátor nebo Portage závisí.
   </li>
   <li>
     Stage2 obsahuje takzvaný "bootstrapped" systém, minimální prostředí, ze
     kterého můžete začít sestavovat další nezbytné aplikace, které tvoří
     celé kompletní Gentoo prostředí.
   </li>
   <li>
     Stage3 soubor obsahuje předkompilovaný minimální systém, který je téměř
     připravený k nasazení. Postrádá pouze několik aplikací, které si musíte
     Vy, uživatel Gentoo, vybrat z několika možností.
   </li>
</ul>

<p>
Abychom Vám pomohli se rozhodnout, který stage soubor použít, sestavili jsme
hlavní výhody a nevýhody každého stage souboru.
</p>

</body>
</subsection>
<subsection>
<title>Stage1</title>
<body>

<p>
<e>Stage1</e> se používá tehdy, když si chcete sestavit celý systém od nuly.
</p>

<p>
Začátek od stage1 Vám umožní plnou kontrolu nad nastaveními optimalizací a
přikompilováním různých možností, které jsou v systému hned od začátku
povoleny. Toto činí <e>stage1</e> instalace vhodné pro pokročilé uživatele,
kteří vědí, co dělají. Je to také skvělá metoda pro ty, kdož se chtějí dozvědět
více o vnitřních pochodech Gentoo Linuxu.
</p>

<table>
<tr>
  <th>Stage1</th>
  <th>Výhody a nevýhody</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Umožňuje Vám mít plnou kontrolu nad nastaveními optimalizací a volitelných
    funkčností nastavovaných při kompilaci, které jsou od počátku dostupné na
    Vašem systému
  </ti>
</tr>
<tr>
  <th>+</th>
  <ti>Vhodné pro pokročilé uživatele, kteří vědí, co dělají</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Umožňuje Vám naučit se více o vnitřních pochodech Gentoo Linuxu</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Instalace trvá dlouho</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Pokud nepotřebujete vyladit nastavení, je to ztráta času  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Stage2</title>
<body>

<p>
<e>Stage2</e> je použita pro sestavení celého systému od "bootstrapped"
předkompilovaného stavu.
</p>

<p>
Stage2 instalace Vám umožní přeskočit "bootstrap" proces, pokud jste spokojeni
s nastaveními optimalizací, které jsme použili pro stage2 archiv, můžete ji
použít.
</p>

<table>
<tr>
  <th>Stage2</th>
  <th>Výhody a nevýhody</th>
</tr>
<tr>
  <th>+</th>
  <ti>Nemusíte bootstrapovat</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Rychlejší než začátek od stage1</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Stále můžete vyladit nastavení</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Nemůžete vyladit tolik, jako stage1</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Stále to není ta nejrychlejší cesta, jak nainstalovat Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Musíte se spokojit s těmi optimalizacemi, které jsme použili pro
  "bootstrap"</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Stage3</title>
<body>

<p>
Instalace ze <e>stage3</e> obsahuje základní Gentoo Linux systém, který pro Vás
již byl zkompilován. Potřebujete sestavit pouze pár dalších balíčků, o kterých
jsme za Vás nemohli rozhodnout, které použít.
</p>

<p>
Pokračování od stage3 je nejrychlejší metoda instalace Gentoo Linuxu, ale také
znamená, že základní systém bude mít nastavení optimalizací které jsme pro Vás
vybrali (abychom byli upřímní, jsou to dobrá nastavení, pečlivě vybraná pro
zvýšení výkonu při zachování stability). Stage3 je nutné, pokud chcete
instalovat Gentoo s předkompilovanými balíčky nebo bez připojení k síti.
</p>

<table>
<tr>
  <th>Stage3</th>
  <th>Výhody a nevýhody</th>
</tr>
<tr>
  <th>+</th>
  <ti>Nejrychlejší cesta, kterak základního Gentoo systému dosáhnouti</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Nemůžete si vyladit základ systému, protože je již sestaven</ti>
</tr>
</table>

<p>
Může Vás zajímat, že pokud se rozhodnete používat jiná nastavení optimalizací
po nainstalování Gentoo, budete si moci celý svůj systém přeložit s novými
nastaveními.
</p>

</body>
</subsection>
</section>
<section>
<title>Gentoo LiveCD</title>
<subsection>
<title>Úvod</title>
<body>

<p>
<e>Gentoo LiveCD</e> jsou bootovatelná CD, obsahující Gentoo samostatné
prostředí. Umožňují Vám spustit Váš počítač do Linuxu z CD. Během spouštění
je detekován Váš hardware a systém načítá odpovídající ovladače. Gentoo LiveCD
jsou spravována vývojáři Gentoo.
</p>

<p>
Všechna LiveCD Vám umožňují nabootovat, nastavit síť, vytvořit diskové oddíly
a začít instalovat Gentoo z Internetu. V současnosti Vám nabízíme dvě LiveCD,
která jsou stejně vhodná pro instalaci Gentoo, pokud plánujete instalovat přes
internet s použitím nejnovějších verzí dostupných balíčků.
</p>

<p>
Pokud si přejete instalovat Gentoo bez funkčního připojení k Internetu,
použijte prosím instalační instrukce popsané v <uri
link="2004.3/index.xml">Gentoo 2004.3 Handbooku</uri>.
</p>

<p>
Dvě LiveCD, která v současnosti poskytujeme, jsou:
</p>

<ul>
  <li>
    Gentoo <e>Minimal</e> LiveCD, malé, bootovatelné CD bez zbytečností, jehož
    jediným cílem je spustit systém, připravit síť a pokračovat s instalací
    Gentoo.
  </li>
  <li>
    Gentoo <e>Universal</e> LiveCD, bootovatelné CD se stejnými možnostmi jako
    Minimal LiveCD. Navíc obsahuje stage1 a několik stage3 archivů
    (optimalizovaných pro různé podarchitektury).
  </li>
</ul>

<p>
Abychom V8m pomohli s rozhodnutím, které LiveCD potřebujete, sepsali jsme
jejich hlavní výhody a nevýhody.
</p>

</body>
</subsection>
<subsection>
<title>Gentoo Minimal LiveCD</title>
<body>

<p>
Minimal LiveCD se jmenuje <c>install-x86-minimal-2004.3-r1.iso</c> a zabírá
pouze 52 MB místa na disku. Můžete ho použít k instalaci Gentoo, ale pouze a
jenom s funkčním připojením k Internetu.
</p>

<table>
<tr>
  <th>Minimal LiveCD</th>
  <th>Výhody a nevýhody</th>
</tr>
<tr>
  <th>+</th>
  <ti>Nejmenší velikost downloadu</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Můžete použít stage1, stage2 či stage3 stažením stage archivu z Internetu
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Neobsahuje žádné stage soubory, žádný archiv Portage stromu, žádné
    předkompilované balíčky, a tudíž není vhodné pro instalaci bez sítě.
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Gentoo Universal LiveCD</title>
<body>

<p>
Universal LiveCD se jmenuje <c>install-x86-universal-2004.3-r1.iso</c> a zabírá
všechno místo na 650 MB CD. Můžete ho použít pro instalaci Gentoo, a to dokonce
bez funkčního připojení k Internetu.
<!-- #FIXME:
consumes the entire surface of a 650 MB CD. You can use this LiveCD to install
Gentoo, and you can even use it to install Gentoo without a working internet
connection, just in case you want to bring Gentoo to another PC than the one you
are currently installing Gentoo on :)-->
</p>

<table>
<tr>
  <th>Universal LiveCD</th>
  <th>Výhody a nevýhody</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Obsahuje vše, co potřebujete. Můžete ji použít i bez připojení k síti.
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Obrovská velikost ke stažení</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Jiná CD</title>
<body>

<p>
Na našich mirrorech můžete najít i takzvané <e>Package CD</e>. Není to LiveCD,
ale další zdroj použitelný pro instalaci bez připojení k síti. Obsahuje
předkompilované balíčky (tvořící takzvaný GRP), umožňující rychle jednoduše
instalovat další aplikace, jako například OpenOffice.org, KDE a GNOME ihned po
dokončení instalace základního systému.
</p>

</body>
</subsection>
</section>
<!-- STOP -->
<section>
<title>Stažení, vypálení a boot LiveCD</title>
<subsection>
<title>Stažení a vypálení LiveCD</title>
<body>

<p>
Vybrali jste si použití Gentoo LiveCD. Nejprve začneme jeho stažením a
vypálením. Již jsme probrali různá LiveCD, ale kde je můžete najít?
</p>

<p>
Všechna LiveCD i PackageCD můžete stáhnout z jednoho z našich <uri
link="/main/en/mirrors.xml">mirrorů</uri>. LiveCD jsou umístěna
v adresáři <path>releases/x86/2004.3/livecd</path>.
</p>

<p>
Uvnitř tohoto adresáře najdete takzvané ISO soubory. Jsou to kompletní obrazy
CD připravené k zápisu na CD-R.
</p>

<p>
V případě, že chcete zjistit, zda je stažený soubor poškozen, můžete si jej
zkontrolovat podle kontrolního součtu generovaného MD5 algoritmem. Porovnejte
kontrolní součet staženého souboru s údajem, který uvádíme (například
<path>install-x86-minimal-2004.3.iso.md5</path>). Pro ověření můžete použít
<c>md5sum</c> (Unix/Linux) nebo <uri link="http://www.etree.org/md5com.html">
md5sum</uri> pro Windows.
</p>

<p>
Jiná možnost ověření stažených souborů je použití GnuPG k ověření
poskytovaného kryptografického podpisu (soubor končící na <path>.asc</path>).
Stáhněte si tento soubor a obstarejte si veřejný klíč:
</p>

<pre caption="Obstarání veřejného klíče">
$ <i>gpg --keyserver pgp.mit.edu --recv-keys 17072058</i>
</pre>

<p>
Nyní ověřte podpis:
</p>

<pre caption="Ověření kryptografického podpisu">
$ <i>gpg --verify &lt;signature file&gt; &lt;downloaded iso&gt;</i>
</pre>

<p>
Abyste mohli vypálit stažený ISO soubor, musíte zvolit takzvané "raw"
vypalování. Konkrétní způsob závisí na programu, který používáte. Zde
popíšeme <c>cdrecord</c> a <c>K3B</c>; více informací můžete najít
v našem <uri link="/doc/en/faq.xml#isoburning">Gentoo FAQ</uri>.
</p>

<ul>
  <li>
    Přes cdrecord pouze napište <c>cdrecord dev=/dev/hdc &lt;stažený iso
    soubor&gt;</c> (nahraďte <path>/dev/hdc</path> cestou k zařízení CD-RW
    vypalovačky).
  </li>
  <li>
    Používáte-li K3B, vyberte <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn Image</c>.
    Poté vyberte Váš ISO soubor v oblasti 'Image to Burn' area a klikněte na
    <c>Start</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Bootování z LiveCD</title>
<body>

<impo>
Přečtěte si tuto podsekci celou předtím, než budete pokračovat, protože
pravděpodobně nebudete mít příležitost přečíst ji později.
</impo>

<p>
Jakmile jste vypálili svá instalační CD, je čas z nich nabootovat počítač.
Vyjměte všechna CD z CD mechanik, restartujte systém a vstupte do BIOSu.
Obvykle se to dělá zmáčknutím klávesy DEL, F1 nebo ESC, záleží na Vašem BIOSu.
Změňte pořadí bootování, aby byla CD-ROM vyzkoušena před pevným diskem. Často
je tato volba k dispozici pod "CMOS Setup". Pokud tento krok neprovedete,
systém se prostě spustí z pevného disku a CD-ROM bude ignorovat.
</p>

<p>
Nyní vložte instalační CD do CD-ROM mechaniky a rebootujte. Měli byste uvidět
výzvu "boot: ". Na této obrazovce můžete zmáčknout Enter pro začátek bootování
počítače s přednastavenými volbami, a nebo můžete specifikovat volby vlastní
napsáním jména kernelu a případnými parametry. Boot začne stisknutím klávesy
Enter.
</p>

<p>
Zvolení kernelu? Ano, na LiveCD je k dispozici více kernelů. Předvolený se
jmenuje  <c>gentoo</c>. Další jádra jsou pro zvláštní hardwarové požadavky;
varianty <c>-nofb</c> zakazují framebuffer, grafický režim.
</p>

<p>
Níže najdete krátký přehled dostupných kernelů:
</p>

<table>
<tr>
  <th>Kernel</th>
  <th>Popis</th>
</tr>
<tr>
  <ti>gentoo</ti>
  <ti>Předvolený 2.6 kernel s podporou více CPU (SMP)</ti>
</tr>
<tr>
  <ti>gentoo-nofb</ti>
  <ti>Stejný jako <c>gentoo</c>, ale bez podpory framebufferu, grafického módu.</ti>
</tr>
<tr>
  <ti>memtest86</ti>
  <ti>Pro otestování Vaší RAM na chyby</ti>
</tr>
</table>

<p>
Můžete také specifikovat parametry pro kernel. Reprezentují volitelná
nastavení, která můžete (de)aktivovat dle libosti. Následující seznam je
překlad toho, co uvidíte na obrazovce po zmáčknutí F2.
</p>

<pre caption="Dostupné bootovací možnosti kernelu">
- agpgart       načte agpgart (použijte při grafických problémech, zatuhnutí)
- acpi=on       načte podporu pro ACPI firmware
- ide=nodma     zakázat DMA pro špatně fungující IDE zařízení
- doscsi        otestovat systém na SCSI zařízení (může znefunkčnit některé ethernetové karty)
- dopcmcia      spustí službu pcmcia pro PCMCIA CD-ROMy
- nofirewire    zakáže moduly pro IEEE1394 v initrd (pro Firewire CD-ROMy, atd)
- nokeymap      zakáže výběr klávesových map pro neanglické rozvržení klávesnic
- docache       načíst celé CD-ROM do paměti, takže budete moci provést
                `umount /mnt/cdrom` a připojit jiné
- nodetect      zakáže spouštení hwsetup/kudzu a hotplug
- nousb         zakáže načítání USB modulů z initrd, zakáže hotplug
- nodhcp        zakáže automatické použití DHCP
- nohotplug     zakáže automatické spuštění služby hotplug
- noapic        zakáže APIC (zkuste, pokud máte hardwarové problémy s NIC, SCSI, atd)
- hdx=stroke    umožní rozvrhnout a používat celý disk, i když Váš BIOS nepodporuje velké disky
</pre>

<p>
Nyní nabootujte ze svého LiveCD, pokud nejste spokojeni s výchozím
<c>gentoo</c> kernelem, vyberte kernel, a zadejte bootovací parametry. Jako
příklad, pokud byste chtěli spustit <c>gentoo</c> kernel s <c>dopcmcia</c> jako
parametrem:
</p>

<pre caption="Bootování z LiveCD">
boot: <i>gentoo dopcmcia</i>
</pre>

<p>
Budete uvítání bootovací obrazovkou a ukazatelem průběhu. Pokud instalujete
Gentoo na systému s neanglickou klávesnicí, ujistěte se, že jste zmáčkli F2 pro
přepnutí do výřečného módu a sledujte výzvy. Pokud není proveden výběr během
10 sekund, je zvolena výchozí (US) klávesnice a proces spouštění počítače bude
pokračovat. Jakmile je bootování dokončeno, budete automaticky přihlášeni do
&quot;živého&quot; Gentoo Linuxu jako &quot;root&quot;, superuživatel.
Měli byste mít rootovskou relaci (&quot;#&quot;) na aktuální konzoli a být
schopni přepínat do jiných konzolí přes stisknutí Alt-F2, Alt-F3 a Alt-F4. Do
výchozí konzole se vrátíte přes zmáčknutí Alt-F1.
</p>

<p>
Nyní budeme pokračovat s <uri link="#hardware">konfigurací speciálního
hardwaru</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Konfigurace speciálního hardwaru</title>
<body>

<p>
Když LiveCD bootuje, zkouší detekovat všechny hardwarová zařízení a načíst
vhodné moduly jádra jako ovladače. Ve velké většině případů odvádí skvělou
práci, avšak někdy nenačte vše, co potřebujete (například SPARC LiveCD vůbec
neprovádějí autodetekci). Jestliže PCI autodetekce vynechala nějaký hardware,
budete muset načíst potřebné moduly ručně.
</p>

<p>
V dalším příkladě zkusíme načíst modul <c>8139too</c> (podpora pro určitý druh
síťových adaptérů):
</p>

<pre caption="Načítání jaderných modulů">
# <i>modprobe 8139too</i>
</pre>

<p>
Potřebujete-li podporu PCMCIA, měli byste spustit init skript <c>pcmcia</c>:
</p>

<pre caption="Spouštění PCMCIA init skriptu">
# <i>/etc/init.d/pcmcia start</i>
</pre>

</body>
</subsection>
<subsection>
<title>Volitelně: Vyladění výkonu disků</title>
<body>

<p>
Pokud jste pokročilí uživatel, můžete chtít vyladit výkon Vašeho IDE disku
pomocí <c>hdparm</c>. Pomocí parametru <c>-tT</c> můžete otestovat výkon disku
(spusťte jej několikrát, abyste dosáhli přesnějších výsledků):
</p>

<pre caption="Testování výkonu disků">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Pro vyladění můžete použít jakýkoli z těchto příkladů nebo experimentujte sami.
jako disk zde používáme <path>/dev/hda</path>, nahraďte jej podle Vašeho disku:
</p>

<pre caption="Ladění výkonu disků">
<comment>Aktivace DMA:</comment>                       # <i>hdparm -d 1 /dev/hda</i>
<comment>Aktivace bezpečných voleb:</comment>          # <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Volitelně: uživatelské účty</title>
<body>

<p>
Pokud plánujete dát dalším lidem přístup do Vašeho instalačního prostředí nebo
si jen chcete popovídat pomocí <c>irssi</c> bez rootovských privilegií
(bezpečnostní důvody), musíte vytvořit nezbytné uživatelské účty a změnit
rootovské heslo.
</p>

<p>
Ke změně hesla superuživatele root, použijte nástroj <c>passwd</c>:
</p>

<pre caption="Změna rootovského hesla">
# <i>passwd</i>
New password: <comment>(Vložte Vaše nové heslo)</comment>
Re-enter password: <comment>(Napište jej ještě jednou)</comment>
</pre>

<p>
Pro vytvoření uživatelského účtu nejdříve zadáme osobní údaje a poté heslo.
K těmto účelům použijeme <c>useradd</c> a <c>passwd</c>.
V dalším přikladu vytvoříme uživatele jménem &quot;jenicek&quot;.
</p>

<pre caption="Vytvoření uživatelského účtu">
# <i>useradd -m -G users jenicek</i>
# <i>passwd jenicek</i>
New password: <comment>(Vložte heslo uživatele jenicek)</comment>
Re-enter password: <comment>(A zopakujte jej)</comment>
</pre>

<p>
Nyní můžete změnit své user-id z roota na nově vytvořeného uživatele pomocí
<c>su</c>:
</p>

<pre caption="Změna user id">
# <i>su - jenicek</i>
</pre>

</body>
</subsection>
<subsection>
<title>Volitelně: zobrazení dokumentace během instalace</title>
<body>

<p>
Pokud chcete zobrazit Gentoo Handbook (ať už z CD či z webu) během instalace,
ujistěte se, že jste vytvořili uživatelský účet (viz <uri
link="#useraccounts">Volitelně: uživatelské účty</uri>). Poté zmáčkněte
<c>Alt-F2</c> pro přepnutí do nového terminálu a přihlášení.
</p>

<p>
Pokud chcete zobrazit dokumentaci z CD, můžete ihned spustit <c>links2</c>
a studovat:
</p>

<pre caption="Zobrazení dokumentace z CD">
# <i>links2 /mnt/cdrom/docs/html/index.html</i>
</pre>

<p>
Je však lepší použít on-line Gentoo Handbook, protože může obsahovat novější
informace než dokumentace na CD. Můžete tak rovněž učinit pomocí <c>links2</c>,
ale až poté, co dokončíte kapitolu <e>Konfigurace sítě</e>, jinak nebudete
moci přistupovat k Internetu:
</p>

<pre caption="Zobrazení online dokumentace">
# <i>links2 http://www.gentoo.org/doc/en/handbook/handbook-x86.xml</i>
</pre>

<p>
Zpátky do svého původního terminálu se můžete vrátit stisknutím <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Volitelně: spuštění SSH démona</title>
<body>

<p>
Pokud chcete povolit ostatním uživatelům přístup k tomuto počítači během
instalace (možná proto, že Vám pomohou s instalací, nebo ji dokonce
provedou za Vás), musíte jim vytvořit uživatelský účet a možná jim prozradit
rootovské heslo (<e>pouze</e> tehdy, pokud jim <b>úplně důvěřujete</b>).
</p>

<p>
Ke spuštění SSH démona spusťte následující příkaz:
</p>

<pre caption="Spuštění SSH démona">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Abyste byli schopni používat sshd, musíte nejprve nastavit síť. Pokračujte kapitolou
<uri link="?part=1&amp;chap=3">Konfigurace sítě</uri>.
</p>

</body>
</subsection>
</section>
</sections>
