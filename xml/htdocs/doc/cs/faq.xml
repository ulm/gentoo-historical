<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/cs/faq.xml,v 1.15 2006/04/09 10:58:15 jkt Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/cs/faq.xml" lang="cs">
<title>Gentoo Linux -- FAQ (časté otázky)</title>
<author title="Autor">
  <mail link="drobbins@gentoo.org">Daniel Robbins</mail>
</author>
<author title="Korektor">
  Colin Morey
</author>
<author title="Editor"><!-- zhen@gentoo.org -->
  John P. Davis
</author>
<author title="Editor">
  <mail link="stocke2@gentoo.org">Eric Stockbridge</mail>
</author>
<author title="Editor">
  <mail link="zhware@gentoo.org">Stoyan Zhekov</mail>
</author>
<author title="Editor">
  <mail link="carl@gentoo.org">Carl Anderson</mail>
</author>
<author title="Editor">
  <mail link="peesh@gentoo.org">Jorge Paulo</mail>
</author>
<author title="Editor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Editor">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Editor">
  <mail link="smithj@gentoo.org">Jonathan Smith</mail>
</author>
<author title="Překladatel">
   <mail link="finn@sendmail.cz">Jan Nárovec</mail>
</author>
<author title="Překladatel">
   <mail link="jkt@gentoo.org">Jan Kundrát</mail>
</author>

<abstract>
Tento dokument je souborem otázek a odpovědí posbíraných z&nbsp;poštovní
konference gentoo-dev a z&nbsp;IRC.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>3.6</version>
<date>2006-02-13</date>

<chapter>
<title>Dotazy:</title>
<section>
<title>Začínáme</title>
<body>

<p>
Mnoho těchto dotazů je zodpovězeno v&nbsp;oficiálních dokumentech a příručkách.
Tento seznam je pouze přehled těch nejčastěji opakovaných. Pro lepší porozumění
fungování Gentoo a GNU/Linuxu a pro odpovědi na další otázky si prosím přečtěte
dokumentaci a příslušné manuálové stránky.
</p>

<ul>
  <li>
    <uri link="#pronunciation">Jak se Gentoo vyslovuje, co to slovo
    znamená?</uri>
  </li>
  <li>
    <uri link="#differences">Čím se Gentoo liší?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Instalace</title>
<body>

<ul>
  <li>
    <uri link="#optimizations">Programy jsou velmi nestabilní, používám tyto
    optimalizace: "-O9 -ffast-math -fomit-frame-pointer". Co s&nbsp;tím?</uri>
  </li>
  <li>
    <uri link="#password">Jak změním heslo roota (nebo libovolného jiného
    uživatele)?</uri>
  </li>
  <li>
    <uri link="#useradd">Jak přidám dalšího obyčejného uživatele?</uri>
  </li>
  <li>
    <uri link="#su">Proč se uživatel nemůže přepnout na roota příkazem su?</uri>
  </li>
  <li>
    <uri link="#devfs">Jak se zbavím devfs?</uri>
  </li>
  <li>
    <uri link="#upgrade">Mohu přejít na vyšší verzi Gentoo bez nové
    instalace?</uri>
  </li>
  <li>
    <uri link="#bootrescue">Mé jádro není schopno správně naběhnout, co bych teď
    měl dělat?</uri>
  </li>
  <li>
    <uri link="#proxy">Má proxy vyžaduje autentizaci, co musím udělat?</uri>
  </li>
  <li>
    <uri link="#isoburning">Jak vypálím ISO obraz?</uri>
  </li>
  <li>
    <uri link="#cpus">Jaké CD a který stage bych měl použít pro svůj
    procesor?</uri>
  </li>
  <li>
    <uri link="#dhcp">Po restartu nemohu přistupovat k&nbsp;síti; co je
    špatně?</uri>
  </li>
  <li>
    <uri link="#dualboot">Chci bootovat Windows pomocí GRUBu nabo LILa, ale
    ukazuje se jenom černá obrazovka. Co s&nbsp;tím je?</uri>
  </li>
  <li>
    <uri link="#stage12">Jak nainstalovat Gentoo ze&nbsp;stage1 nebo
    stage2?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Správa balíčků</title>
<body>

<ul>
  <li>
    <uri link="#ebuilds">Jaký je formát balíčků?</uri>
  </li>
  <li>
    <uri link="#configure">Chci si část ./configure při kompilaci balíčku
    zařídit sám. Mohu?</uri>
  </li>
  <li>
    <uri link="#firewall">Jak mám používat emerge za&nbsp;firewallem?</uri>
  </li>
  <li>
    <uri link="#norsync">Co dělat, když mi nefunguje rsync?</uri>
  </li>
  <li>
    <uri link="#manualdownload">Doma mám jen pomalé modemové připojení. Mohu
    stáhnout programy jinde a přidat je do svého systému?</uri>
  </li>
  <li>
    <uri link="#distfiles">Je bezpečné smazat zdrojové balíčky
    z&nbsp;/usr/portage/distfiles?</uri>
  </li>
  <li>
    <uri link="#tmpportage">Co se nachází v /var/tmp/portage? Je bezpečné smazat
    soubory a adresáře v /var/tmp/portage?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Používání</title>
<body>

<ul>
  <li>
    <uri link="#intkeyboard">Jak nastavím národní rozložení klávesnice?</uri>
  </li>
  <li>
    <uri link="#rootdns">Překlad IP adres pomocí DNS funguje jen rootovi.</uri>
  </li>
  <li>
    <uri link="#crontab">Proč můj uživatel nemůže použít svůj vlastní
    crontab?</uri>
  </li>
  <li>
    <uri link="#numlock">Jak zařídím, aby byl numlock po startu zapnutý?</uri>
  </li>
  <li>
    <uri link="#clear">Jak automaticky vymazat obrazovku terminálu po
    odhlášení?</uri>
  </li>
  <li>
    <uri link="#suinx">Po přihlášení jako root pomocí su nemohu spustit grafické
    programy.</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Údržba</title>
<body>

<ul>
  <li>
    <uri link="#filecorruption">ReiserFS a problémy s&nbsp;poškozením souborového
    systému -- jak je vyřešit atd.</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Vývoj</title>
<body>

<ul>
  <li>
    <uri link="#reportbugs">Kam mohu hlásit chyby?</uri>
  </li>
  <li>
    <uri link="#releases">Jak často vychází nové verze?</uri>
  </li>
  <li>
    <uri link="#beeping">Můj počítač pípá jako šílený. Jak mohu pípání
    v&nbsp;konzoli vypnout?</uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Zdroje</title>
<body>

<ul>
  <li>
    <uri link="#resources">Kde mohu nalézt další informace o Gentoo
    Linuxu?</uri>
  </li>
  <li>
    <uri link="#buycd">Mohu si koupit CD s&nbsp;Gentoo Linuxem?</uri>
  </li>
  <li>
    <uri link="#help">V tomto dokumentu jsem nenalezl odpověď na svou
    otázku. Co mám dělat?</uri>
  </li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Začínáme</title>

<section id="pronunciation">
<title>Jak se Gentoo vyslovuje, co to slovo znamená?</title>
<body>

<p>
<e>Gentoo</e> je druh malého a rychlého tučňáka, "g" se vyslovuje podobně
jako u slova gin. Latinské jméno tohoto tučňáka je <e>Pygoscelis papua</e>,
česky se jmenuje <e>tučňák oslí</e>. Jméno <e>Gentoo</e> dostal od obyvatel
Falklandských ostrovů (Malvin).
</p>

</body>
</section>
<section id="differences">
<title>Čím se Gentoo liší?</title>
<body>

<p>
Gentoo používá systém podobný BSD portům, zvaný <uri
link="/proj/en/portage">Portage</uri>. Portage je systém správy balíčků,
umožňující velkou pružnost při instalaci a údržbě softwaru v Gentoo.
Dovoluje nastavení různých voleb při překladu programů (pomoci <uri
link="/doc/cs/handbook/handbook-x86.xml?part=2&amp;chap=2">USE flagů</uri>),
podmíněné závislosti, informace o plánované instalaci, bezpečnou instalaci
(pomocí tzv. sandboxu) a odinstalaci programů, systémové profily, <uri
link="/doc/cs/handbook/handbook-x86.xml?part=3&amp;chap=2#doc_chap3">ochranu
konfiguračních souborů</uri> a má i další <uri
link="/doc/cs/handbook/handbook-x86.xml?part=2&amp;chap=1">charakteristiky</uri>.
</p>

<p>
S&nbsp;Gentoo můžete vytvořit kompletní systém ze zdrojových kódů
s&nbsp;optimalizacemi dle vaší volby. Máte úplnou kontrolu nad tím, které
balíčky budou nebo nebudou nainstalovány. Gentoo vám poskytuje nespočet
možností, takže si můžete upravit instalaci Gentoo podle vlastní chuti. Proto
je Gentoo označované za <e>metadistribuci</e>.
</p>

<p>
Gentoo je vyvíjeno velmi aktivně. Celá distribuce se velmi svižně vyvíjí -
záplaty balíčků jsou velmi rychle integrovány do hlavního stromu, dokumentace se
denně upravuje, do Portage jsou často přidávány nové vlastnosti, oficiální verze
jsou uvolňovány jednou za půl roku.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Instalace</title>
<section id="optimizations">
<title>
    Programy jsou velmi nestabilní, používám tyto
    optimalizace: "-O9 -ffast-math -fomit-frame-pointer". Co s&nbsp;tím?
</title>
<body>

<p>
Nemá smysl používat cokoliv vyššího, než <c>-O3</c>, protože to současné
verze gcc neumožňují. Agresivní optimalizace někdy způsobí, že překladač
urychlí kód do té míry, že už nedělá přesně to samé.
</p>

<p>
Předtím, než nahlásíte chybu, zkuste prosím přeložit program s&nbsp;CFLAGS
<c>-O2 -march=&lt;vaše_architektura&gt;</c>.
</p>

</body>
</section>
<section id="password">
<title>Jak změním heslo roota (nebo libovolného jiného uživatele)?</title>
<body>

<p>
Ke změně hesla právě přihlášeného uživatele můžete použít <c>passwd</c>. Jako
root můžete změnit heslo jakéhokoli uživatele příkazem <c>passwd
uživatelské_jméno</c>. Pro další volby a nastavení si prosím po dokončení
instalace přečtěte <c>man passwd</c>.
</p>

</body>
</section>
<section id="useradd">
<title>Jak přidám dalšího obyčejného uživatele?</title>
<body>

<p>
Příkaz <c>adduser jenicek</c> přidá uživatele "jenicek". Tento postup však nově
vytvořenému uživateli nedá mnoho práv, která mu pravděpodobně chcete udělit, a
proto je lepší použít následující příkaz:
</p>

<pre caption="Použití useradd">
# <i>useradd -m -G users,audio,wheel jenicek</i>
</pre>

<p>
Toto přidá uživatele "jenicek". Parametr <c>audio</c> jej přidá do stejnojmenné
skupiny, a tudíž umožní použití zařízení pro práci se zvukem. Parametr
<c>wheel</c> zařídí členství ve skupině <c>wheel</c>, což umožní použití příkazu
<c>su</c> pro změnu uživatelských práv na roota.
</p>

</body>
</section>
<section id="su">
<title>Proč se uživatel nemůže přihlásit jako root příkazem su?</title>
<body>

<p>
Z bezpečnostních důvodů se mohou přihlásit jako root příkazem <c>su</c> jen
uživatelé patřící do skupiny <e>wheel</e>. Následujícím příkazem může root
přidat <e>uživatele</e> do skupiny <e>wheel</e>:
</p>

<pre caption="Přidání uživatele do skupiny wheel">
# <i>gpasswd -a uživatel wheel</i>
</pre>

</body>
</section>
<section id="devfs">
<title>Jak se zbavím devfs?</title>
<body>

<p>
Gentoo umí pracovat s&nbsp;devfs v&nbsp;jádře, udev v&nbsp;uživatelské oblasti i
se&nbsp;statickým <path>/dev</path>. Od té doby, kdy je kernel řady 2.6 stabilní
na většině architektur, je doporučeno řešení s&nbsp;udev. Pro informace o
konfiguraci udev si prosím přečtěte <uri link="/doc/en/udev-guide.xml">příručku
k&nbsp;udev</uri>.
</p>

<p>
Přejete-li si používat statický <path>/dev</path>, nastavte prosím
v&nbsp;souboru <path>/etc/conf.d/rc</path> <c>RC_DEVICES="static"</c>.
</p>

</body>
</section>
<section id="upgrade">
<title>
  Mohu přejít na vyšší verzi Gentoo bez nové instalace?
</title>
<body>

<p>
Ve skutečnosti neexistuje rozdíl mezi různými verzemi po jejich
nainstalování. Gentoo 1.4 a novější jsou založeny na <c>glibc-2.3.x</c>.
Příkazy <c>emerge --sync; emerge -u world</c> dostanou celý váš systém na
úroveň "nejnovějšího Gentoo". Rozdíly mezi jednotlivými verzemi spočívají pouze
v&nbsp;instalačním médiu a předkompilovaných balíčcích. <uri
link="/doc/en/gentoo-upgrading.xml">Aktualizace Gentoo</uri> podává více
informací o profilech a jejich úloze při aktualizaci.
</p>

<p>
Další informace můžete získat v&nbsp;<uri link="/doc/en/gentoo-upgrading.xml">
Příručce k&nbsp;aktualizaci Gentoo</uri>.
</p>

</body>
</section>
<section id="bootrescue">
<title>
  Mé jádro nebootuje, co teď?
</title>
<body>

<p>
Nemusíte opakovat kompletní instalaci, ale jen kroky související s&nbsp;jádrem.
Předpokládejme, že Gentoo máte nainstalováno na <path>/dev/hda1</path>
(/boot) a <path>/dev/hda3</path> (/) se swapem na <path>/dev/hda2</path>:
</p>

<pre caption = "Reconfiguring the kernel">
<comment>Nabootujte z&nbsp;instalačního CD a počkejte, dokud se neobjeví příkazový řádek.</comment>
<comment>Nejprve připojte všechny diskové oddíly:</comment>
# <i>mount /dev/hda3 /mnt/gentoo</i>
# <i>mount /dev/hda1 /mnt/gentoo/boot</i>
# <i>swapon /dev/hda2</i>
# <i>mount -t proc none /mnt/gentoo/proc</i>
<comment>Potom pomocí chroot změňte kořenový adresář a nastavte jádro:</comment>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update &amp;&amp; source /etc/profile</i>
# <i>cd /usr/src/linux</i>
# <i>make menuconfig</i>
<comment>Nyní napravte chyby, které jste napáchali při předešlém</comment>
<comment>pokusu. Pak ukončete menuconfig a přeložte jádro:</comment>
# <i>make &amp;&amp; make modules_install</i>
<comment>Překopírujte svůj nově vzniklý bzImage a přepište jím původní:</comment>
# <i>cp arch/i386/boot/bzImage /boot/&lt;jméno-jádra&gt;</i>
<comment>Pokud používáte LILO, spusťte jej -- toto se netýká uživatelů GRUBu:</comment>
# <i>/sbin/lilo</i>
<comment>Nyní opusťte chroot a restartujte.</comment>
# <i>exit</i>
# <i>umount /mnt/gentoo/proc /mnt/gentoo/boot /mnt/gentoo</i>
# <i>reboot</i>
</pre>

<p>
Pokud ovšem spočívá problém v&nbsp;nastavení zavaděče, postupujte stejným
způsobem, ale místo konfigurace a překladu jádra nastavte správně zavaděč
(jeho rekompilace není nutná).
</p>

</body>
</section>
<section id="proxy">
  <title>Má proxy vyžaduje autentizaci, co musím udělat?</title>
<body>

<p>
Pokud má tento způsob Portage používat automaticky, nastavte
v&nbsp;<path>/etc/make.conf</path>:
</p>

<pre caption="/etc/make.conf">
HTTP_PROXY="http://jméno:heslo@stroj-s-proxy.org:čísloportu"
FTP_PROXY="ftp://jméno:heslo@stroj-s-proxy.org:čísloportu"
RSYNC_PROXY="rsync://username:password@stroj-s-proxy.org:čísloportu"
</pre>

</body>
</section>
<section id="isoburning">
<title>Jak vypálím ISO obraz?</title>
<body>

<p>
Musíte vypálit soubor v&nbsp;tzv. <e>raw</e> módu. To znamená, že <e>nesmíte</e>
jen umístit soubor na CD; je třeba jej interpretovat jako obsah CD.
</p>

<p>
Existuje spousta vypalovacích nástrojů; popsat je všechny je úkol hodný Sisyfa.
Popis několika populárních ale neuškodí:
</p>

<ul>
  <li>
    V EasyCD Creatoru vyberte <c>File</c>, <c>Record CD from CD image</c>.
    Pak změňte <c>Files of type</c> na <c>ISO image file</c>. Pak vyberte ISO
    obraz a klikněte na <c>Open</c>. Po kliknutí na <c>Start recording</c>
    bude ISO obraz správně vypálen na CD-R.
  </li>
  <li>
    V&nbsp;Nero Burning ROM vypněte průvodce, který se automaticky objeví, a
    vyberte <c>Burn Image</c> z nabídky <c>File</c>. Vyberte obraz, který
    chcete vypálit a klikněte na <c>Open</c>. Po kliknutí na tlačítko
    <c>Burn</c> můžete začít sledovat, jak se vypaluje vaše nové CD.
  </li>
  <li>
    Pokud chcete pálit pomocí cdrecordu, jednoduše použijte příkaz
    <c>cdrecord dev=/dev/hdc</c> (<path>/dev/hdc</path> nahraďte za cestu
    k&nbsp;vaší vypalovačce) následovaný cestou k&nbsp;ISO souboru.
  </li>
  <li>
    V&nbsp;K3b vyberte <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn Image</c>. Pak
    vyberte ISO obraz v rámečku <c>Image to burn</c>. Nakonec klikněte na
    <c>Start</c>.
  </li>
  <li>
    V&nbsp;MacOS&nbsp;X Pantheru spusťte <c>Disk Utility</c>
    z&nbsp;<path>Applications/Utilities</path>, zvolte <c>Open</c>
    z&nbsp;nabídky <c>Images</c>, vyberte připojený obraz disku z&nbsp;hlavního
    okna a spusťte vypalování pomocí <c>Burn</c> v&nbsp;menu <c>Images</c>.
  </li>
  <li>
    V&nbsp;MacOS&nbsp;X Jaguaru spusťte <c>Disk Copy</c>
    z&nbsp;<path>Applications/Utilities</path>, zvolte <c>Burn Image</c>
    z&nbsp;nabídky <c>File</c>, vyberte ISO obraz a klikněte na tlačítko
    <c>Burn</c>.
  </li>
</ul>


</body>
</section>
<section id="cpus">
<title>Jaké CD a který stage bych měl použít pro svůj procesor?</title>
<body>

<p>
Nejprve musíte zjistit, jaký procesor používáte. Předpokládejme, že se jedná
o Pentium&nbsp;M. Pak musíte zjistit, s jakým procesorem je kompatibilní
instrukční sada procesoru. Navštivte stránky výrobce procesoru, i když <uri
link="http://www.google.com">Google</uri> je přinejmenším stejně
efektivní&nbsp;:-).
</p>

<p>
Pokud si nejste jisti, vyberte "nižší" CD/stage, například i686, případně
"generic x86" (nebo jeho ekvivalent pro Vaši architekturu). Toto zajistí, že
systém bude pracovat, avšak nebude tak rychlý, jak by mohl být při použití
dalších optimalizací.
</p>

<p>
K&nbsp;dispozici je mnohem více voleb, než je použito pro vytváření
distribuovaných stage archivů. Pro popis nastavení <c>-march</c> prosím
konzultujte <uri
link="http://gcc.gnu.org/onlinedocs/gcc-3.4.4/gcc/i386-and-x86_002d64-Options.html#i386-and-x86_002d64-Options">dokumentaci
gcc</uri>.
</p>

</body>
</section>
<section id="dhcp">
<title>Po restartu nemohu přistupovat k&nbsp;síti; co je špatně?</title>
<body>

<p>
Nejprve se musíte přesvědčit, že je Vaše síťová karta správně detekována
jádrem. Spusťte <c>ifconfig&nbsp;-a</c> a podívejte se, co říká o zařízení eth0
(nebo wlan0, pokud používáte bezdrátovou síťovou kartu). Je možné, že budete
muset načíst odpovídající jaderné moduly, aby kernel Vaši síťovou kartu
rozpoznal. Pokud je tomu tak, ujistěte se, že jsou tyto moduly zaznamenány
v&nbsp;<path>/etc/modules.autoload.d/kernel-2.6</path> (případně
<path>kernel-2.4</path>, pokud stále používáte jádro řady 2.4).
</p>

<p>
Pokud jste do jádra zapomněli přídat podporu pro svoji síťovou kartu, budete
jej muset překonfigurovat a znovu přeložit.
</p>

<p>
Pokud jádro kartu rozpoznává, avšak Vaše síť používá DHCP, je možné, že jste
zapomněli spustit <c>emerge&nbsp;dhcpcd</c>. Rebootujte tedy
z&nbsp;Instalačního CD a nainstalujte <c>dhcpcd</c>.
</p>

<p>
Informace o tom, jak zachránit systém pomocí bootu z&nbsp;instalačních CD, jsou
samozřejmě <uri link="#bootrescue">k&nbsp;dispozici</uri>.
</p>

</body>
</section>
<section id="dualboot">
<title>
Chci bootovat Windows pomocí GRUBu nabo LILa, ale ukazuje se jenom černá
obrazovka. Co s&nbsp;tím je?
</title>
<body>

<p>
Je to známý problém. Pokud nejsou Windows nainstalovány na prvním disku,
odmítají nabootovat a ukazují prázdnou černou obrazovku. Abyste toto omezení
překonali, musíte je ošálit tak, aby si myslely, že jsou opravdu nainstalovány
na prvním disku; dosáhnete toho patřičnou úpravou konfigurace bootloaderu.
V&nbsp;následujícím příkladu je Gentoo nainstalováno na&nbsp;<path>hda</path>
(první disk) a Windows na <path>hdb</path>, upravte si jej podle potřeby.
</p>

<pre caption="Ukázka dualbootu s Windows - grub.conf">
title Windows XP
     map (hd1) (hd0)
     map (hd0) (hd1)
     rootnoverify (hd1,0)
     chainloader +1
</pre>

<pre caption="Ukázka dualbootu s Windows - lilo.conf">
other=/dev/hdb1
     label=WindowsXP
     table=/dev/hdb
     map-drive = 0x80
     to = 0x81
     map-drive = 0x81
     to = 0x80
</pre>

<p>
Tento kód přesvědčí Windows, aby si myslely, že jsou na prvím disku, a ty se
nechají spustit. Více informací najdete v&nbsp;<uri
link="http://www.gnu.org/software/grub/manual/html_node/DOS_002fWindows.html">
dokumentaci GRUBu</uri> a v&nbsp;<c>man lilo.conf</c> podle vašeho zavaděče.
</p>

</body>
</section>
<section id="stage12">
<title>Jak mohu nainstalovat Gentoo ze&nbsp;stage1 či stage2?</title>
<body>

<p>
Gentoo Handbook popisuje pouze instalaci ze&nbsp;stage3. Přesto jsou však stále
k&nbsp;dispozici i archivy stage1 a stage2, zejména kvůli potřebám vývoje (tým
Release Engineering vytváří stage3 ze&nbsp;stage1). Tyto archivy by
uživatelé neměli používat — i ze&nbsp;stage3 je možné kompletně nainstalovat
("bootstrap") systém. Je potřeba funkční připojení k&nbsp;Internetu.
</p>

<p>
Bootstrapping je sestavení toolchainu (knihovna jazyka&nbsp;C a kompilátor),
který můžete použít k&nbsp;následné instalaci všech klíčových částí systému.
Tento proces je nejsnáze aplikovatelný postupem od stage3. Předtím, než začnete
postupovat podle kapitoly <e>Konfigurace jádra</e>, proveďte v&nbsp;souboru
<path>bootstrap.sh</path> patřičné změny podle svých potřeb a spusťte jej:
</p>

<pre caption="Bootstrap systému">
# <i>cd /usr/portage/scripts</i>
# <i>vi bootstrap.sh</i>

# <i>./bootstrap.sh</i>
</pre>

<p>
Dále znovu přeložte všechny systémové balíčky pomocí nového toolchainu. Nový
překlad je potřeba kvůli tomu, že je stage3 již obsahuje:
</p>

<pre caption="Překlad klíčových systémových balíčků">
# <i>emerge -e system</i>
</pre>

<p>
Nyní můžete pokračovat <e>konfigurací jádra</e>. Za&nbsp;zmínku však stojí, že
již nelze použít předkompilované GRP balíčky.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Správa balíčků</title>
<section id="ebuilds">
<title>Jaký je formát balíčků?</title>
<body>

<p>
Balíčky nejsou ve&nbsp;stromu Portage uloženy "celé", namísto toho používáme
skripty pro řešení závislostí, stažení zdrojových kódů a kompilaci daného
balíčku. Binárky sestavujeme obecně pouze pro vydávané verze distribuce. <uri
link="/proj/en/devrel/handbook/handbook.xml?part=2&amp;chap=1">Gentoo Ebuild
HOWTO</uri> popisuje tyto skripty do větší hloubky.
</p>

<p>
Pro pravidelně uvolňované verze Gentoo vytváříme celou řadu binárních balíčků
ve&nbsp;vylepšeném formátu <c>.tbz2</c> (s&nbsp;metadaty připojenými na konec
souboru, kompatibilní s&nbsp;běžným <c>.tbz2</c>). Tyto předkompilované balíčky
mohou být použity pro rychlou (avšak ne plně optimalizovanou) instalaci funkční
verze balíčků.
</p>

<p>
Je možné vytvořit RPM balíčky (Redhat package manager) pomocí Portage, avšak
nelze použít stávající RPM balíčky pro instalaci.
</p>

</body>
</section>
<section id="configure">
<title>Chci si část ./configure při kompilaci balíčku zařídit sám. Mohu?</title>
<body>

<p>
Ano, avšak není to jednoduché ani doporučené. Protože takový postup vyžaduje
dobré porozumění vnitřním mechanismům Portage, je namísto toho doporučeno
modifikovat daný ebuild podle potřeby a umístit jej do překryvného adresáře
(overlay). Je to <e>mnohem</e> jednodušší pro správu a většinou i snadnější.
Více informací naleznete v&nbsp;dokumentu <uri
link="/proj/en/devrel/handbook/handbook.xml?part=2&amp;chap=1">Ebuild
HOWTO</uri>.
</p>

</body>
</section>
<section id="firewall">
<title>Jak mám používat emerge, jsem-li za&nbsp;firewallem?</title>
<body>

<p>
Viz dotazy na <uri link="#proxy">proxy</uri>, <uri link="#norsync">rsync</uri> a
<uri link="#manualdownload">ruční stahování zdrojových kódů</uri>.
</p>

</body>
</section>
<section id="norsync">
<title>Co dělat, když mi nefunguje rsync?</title>
<body>

<p>
Pokud jste za firewallem, který nepovoluje rsync, můžete použít
<c>emerge-webrsync</c>, který vám stáhne a nainstaluje aktuální Portage přes
obyčejný HTTP. Pro informace o stahování zdrojových kódů a snapshotů stromu
Portage si prosím přečtěte <uri link="#proxy">část pojednávající o proxy</uri>.
</p>

</body>
</section>
<section id="manualdownload">
<title>
  Doma mám jen pomalé modemové připojení. Mohu stáhnout programy jinde a
  přidat je do svého systému?
</title>
<body>

<p>
Určitě. Můžete spustit <c>emerge --pretend balíček</c> a zjistit tak, jaké
programy se budou instalovat. Příkazem <c>emerge -fp balíček</c> zjistíte jména
potřebných souborů a adresy pro jejich stažení. Stáhněte je a doneste domů na
libovolném médiu. Nakopírujte stažené soubory do
<path>/usr/portage/distfiles/</path> a spusťte příkaz <c>emerge balíček</c>. Je
to však trošku únavné řešení.
</p>

</body>
</section>
<section id="distfiles">
<title>Je bezpečné smazat zdrojové balíčky z&nbsp;/usr/portage/distfiles?</title>
<body>

<p>
Jejich smazání nebude mít škodlivý vliv na činnost systému, avšak je doporučeno
si ponechat k&nbsp;dispozici poslední verzi od každého, protože je často
vydáváno více balíčků používajících stejnou verzi zdrojového archivu. Pokud je
smažete a budete aktualizovat, bude potřeba stáhnout tyto balíčky znovu
z&nbsp;Internetu. <uri
link="http://forums.gentoo.org/viewtopic-t-337074.html">Uživatelé vyvinuli
některé programy</uri>, které mažou všechny verze kromě nejnovější. Tento postup
může fungovat, avšak skripty <e>nejsou</e> oficiálně podporované; používejte je
pouze na vlastní nebezpečí.
</p>

</body>
</section>
<section id="tmpportage">
<title>
  Co se nachází v&nbsp;/var/tmp/portage? Je bezpečné smazat soubory a adresáře
  v&nbsp;/usr/tmp/portage?
</title>
<body>

<p>
Gentoo si během překladu ukládá zdrojové kódy balíčků v&nbsp;adresáři
<path>/vat/tmp/portage</path>. Tyto soubory a adresáře jsou obvykle po úspěšné
instalaci smazány, avšak někdy automatika selže. <e>Pokud emerge neběží</e>,
můžete smazat veškerý obsah. Abyste si byli jisti, můžete před mazáním použít
příkaz <c>pgrep emerge</c>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Používání</title>
<section id="intkeyboard">
<title>Jak nastavím národní rozložení klávesnice?</title>
<body>

<p>
Nastavte proměnnou <c>KEYMAP</c> v&nbsp;<path>/etc/conf.d/keymaps</path>. Aby
správně pracovaly i rozšířené znaky, možná budete muset odpovídajícím způsobem
nastavit i proměnné <c>CONSOLETRANSLATION</c> a <c>CONSOLEFONT</c>
ze&nbsp;souboru <path>/etc/conf.d/consolefont</path> (pro více informací o
lokalizaci viz <uri link="/doc/cs/guide-localization.xml">lokalizační
přiručku</uri>). Nakonec buď restartujte počítač, nebo jen příslušný skript:
</p>

<pre caption="Restart keymaps">
# <i>/etc/init.d/keymaps restart</i>
# <i>/etc/init.d/consolefont restart</i>
</pre>

</body>
</section>
<section id="rootdns">
<title>Překlad IP adres pomocí DNS funguje jen rootovi</title>
<body>

<p>
Soubor <path>/etc/resolv.conf</path> má špatná práva; nastavte je následujím
příkazem:
</p>

<pre caption="Changing permissions on /etc/resolv.conf">
# <i>chmod 0644 /etc/resolv.conf</i>
</pre>

</body>
</section>
<section id="crontab">
<title>Proč nemůže můj uživatel použít svůj vlastní crontab?</title>
<body>

<p>
Musíte uživatele přidat do skupiny <c>cron</c>.
</p>

</body>
</section>
<section id="numlock">
<title>Jak zařídím, aby byl numlock po startu zapnutý?</title>
<body>

<p>
Přihlašujete-li se do konzole, potřebujete udělat pouze <c>rc-update add numlock
default &amp;&amp;/etc/init.d/numlock start</c>.
</p>

<p>
Různá GUI poskytují pro podobná nastavení různé nástroje; podívejte se prosím do
nápovědy nebo na Internet.
</p>

</body>
</section>
<section id="clear">
<title>Jak automaticky vymazat obrazovku terminálu po odhlášení?</title>
<body>

<p>
Pro vymazání vašeho terminálu přidejte <c>clear</c> do skriptu
<path>~/.bash_logout</path>:
</p>

<pre caption="Vymazání terminálu po odhlášení">
$ <i>echo clear &gt;&gt; ~/.bash_logout</i>
</pre>

<p>
Pokud toto chování chcete automaticky nastavit u každého nového uživatele,
zopakujte totéž se souborem <path>/etc/skel/.bash_logout</path>:
</p>

<pre caption="Vymazání terminálu po odhlášení pro nově vytvářené uživatele">
# <i>echo clear &gt;&gt; /etc/skel/.bash_logout</i></pre>
</body>

</section>
<section id="suinx">
<title>
  Po přihlášení jako root pomocí su nemohu spustit grafické programy.
</title>
<body>

<p>
Toto chování se, jak se zdá, objevuje jen při přihlašování v&nbsp;grafickém
prostředí. Uživatelé spouštějící X-server příkazem <c>startx</c> se
s&nbsp;tímto chováním nesetkávají. Problém je popsán v&nbsp;<uri
link="http://bugs.gentoo.org/show_bug.cgi?id=14560">bugreportu</uri> o nastavení
PAM v&nbsp;Gentoo, nicméně řešení je jednoduché: přidejte následující řádek do
<path>/etc/profile</path>:
</p>

<pre caption="Export proměnné XAUTHORITY">
export XAUTHORITY="${HOME}/.Xauthority"
</pre>

</body>
</section>

</chapter>

<chapter>
<title>Údržba</title>
<section id="filecorruption">
<title>
  ReiserFS a problémy s&nbsp;poškozením souborového systému -- jak je vyřešit atd.
</title>
<body>

<p>
Jestliže máte poškozený oddíl s&nbsp;ReiserFS, zkuste spustit instalační CD
Gentoo a z&nbsp;něj <c>reiserfsck --rebuild-tree</c> na poškozeném systému.
To by mělo obnovit konzistenci systému, přesto kvůli poškození může dojít
ke&nbsp;ztrátě některých souborů či adresářů.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Vývoj</title>
<section id="reportbugs">
<title>Kam mohu hlásit chyby?</title>
<body>

<p>
Použijte naši <uri link="http://bugs.gentoo.org">Bugzillu</uri>. Nevíte-li,
zda jde opravdu o chybu, navštivte kanál <c>#gentoo</c> (pouze anglicky) nebo
<c>#gentoo.cs</c> (česky a slovensky); obojí na IRC síti <uri
link="http://www.freenode.net">FreeNode</uri>.
</p>

</body>
</section>
<section id="releases">
<title>Jak často vychází nové verze?</title>
<body>

<p>
Balíčky jsou zpravidla aktualizovány krátce poté, co je jejich autoři uvolní.
Co se týká samotného Gentoo a nových stage souborů, profilů a ISO souborů,
podívejte se na <uri link="/proj/en/releng">projekt Release Engineering</uri>.
Nové verze jsou ohlašovány v&nbsp;poštovní konferenci <uri
link="/main/en/lists.xml">gentoo-announce</uri>. Pro více informací si rovněž
přečtěte dotaz na <uri link="#upgrade">aktualizace</uri>.
</p>

</body>
</section>
<section id="beeping">
<title>
  Můj počítač pípá jako šílený. Jak mohu pípání v&nbsp;konzoli vypnout?
</title>
<body>

<p>
Pípání v&nbsp;konzoli může být vypnuto pomocí setterm:
</p>

<pre caption="Použítí setterm">
# <i>setterm -blength 0</i>
</pre>

<p>
Pokud chcete vypnout pípání v konzoli hned při startu počítače, musíte
přidat tento příkaz do <path>/etc/conf.d/local.start</path>. To ovšem vypne
pípání jen na aktuálním terminálu. Vypnutí na ostatních terminálech,
zařídíte přesměrováním výstupu příkazu na cílový terminál:
</p>

<pre caption="Použití setterm, jiný terminál">
# <i>setterm -blength 0 >/dev/vc/1</i>
</pre>

<p>
/dev/vc/1 nahraďte terminálem, na němž chcete pípání vypnout.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Zdroje</title>
<section id="resources">
<title>Kde mohu nalézt další informace o Gentoo Linuxu?</title>
<body>

<p>
Oficiální dokumentaci Gentoo naleznete na
<uri>http://www.gentoo.org/doc/cs/</uri>.
</p>

</body>
</section>
<section id="buycd">
<title>Mohu si koupit CD s&nbsp;Gentoo Linuxem?</title>
<body>

<p>
Instalační CD pro všechny podporované architektury jsou k&nbsp;dispozici
v&nbsp;našem <uri link="http://www.cafepress.com/officialgentoo/">obchodu</uri>.
Zakoupením CD rovněž podporujete vývoj distribuce, takže, pokud můžete, zvažte
to.
</p>

<p>
Aktuální CD naleznete i u různých dalších prodejců, jejichž seznam je na
stránce <uri link="/main/en/where.xml">Get Gentoo!</uri>.
</p>

</body>
</section>
<section id="help">
<title>
  V&nbsp;tomto dokumentu jsem nenalezl odpověď na svou otázku. Co mám dělat?
</title>
<body>

<p>
Jako první krok je záhodno projít si příslušnou <uri
link="http://www.gentoo.org/doc/cs/index.xml">dokumentaci</uri>, pokud
neuspějete, hledejte různé konference Gentoo Linuxu na <uri
link="http://www.google.com">Googlu</uri>. Pro vyhledání slova "foo"
v&nbsp;konferencích zadejte "lists.gentoo.org foo". Pokud všechno ostatní selže
nebo pokud chcete poklábosit lidmi okolo Gentoo, navštivte naše IRC:
kanál <c>#gentoo</c> (anglicky) nebo <c>#gentoo.cs</c> (česky a slovensky)
na <c>irc.freenode.net</c>.
</p>

</body>
</section>
</chapter>

</guide>
