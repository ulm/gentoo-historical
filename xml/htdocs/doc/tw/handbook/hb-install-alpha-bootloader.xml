<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/tw/handbook/Attic/hb-install-alpha-bootloader.xml,v 1.1 2004/04/03 05:41:59 bennyc Exp $ -->

<!-- rev 1.1 by Benny -->

<sections>
<section>
<title>決定你的選擇</title>
<subsection>
<title>介紹</title>
<body>

<p>
現在你的核心已經設定和已經編譯好相關的系統設定檔了，是時候該安裝一個程式來驅動
開機時所需要的核心。這個程式叫做 <e>開機程式</e>。
</p>

<p>
Linux/Alpha 內有許多開機程式。你一定要選其中一個被支援的開機程式，而不是全部。
你將需要在 <uri link="#aboot">aBoot</uri> 和 <uri link="#milo">MILO</uri>
之間做選擇。
</p>

</body>
</subsection>
</section>
<section id="aboot">
<title>預設：使用 aboot</title>
<body>

<p>
我們先要把 aboot 安裝到系統上。所以我們將使用 <c>emerge</c>：
</p>

<pre caption = "安裝 aboot">
# <i>emerge --usepkg aboot</i>
</pre>

<p>
接下來的步驟是讓我們的開機片可開機。這將會在開機時啟動 <c>aboot</c>。我們將使用
<c>aboot</c> 開機程式建立我們的開機騙來啟動磁碟。
</p>

<pre caption = "讓你的開機片可開機">
# <i>swriteboot -f3 /dev/sda /boot/bootlx</i> 
# <i>abootconf /dev/sda 2</i>
</pre>

<note>
如果你使用的分割區設定和我們的不同，請將需要依照你的設定作更改。請查看一些相關
說明（<c>man 8 swriteboot</c> 和 <c>man 8 abootconf</c>）。
</note>

<p>
另外，你可以以編寫 aboot 設定檔和 SRM boot_osflags 變數讓  Gentoo 的開機過程更為
簡單。你將需要確保 bootdef_dev 已經完善的設定完成（在文字模式下比較簡單）。
</p>

<pre caption = "改善 Gentoo 開機">
# <i>echo '0:2/boot/vmlinux.gz root=/dev/sda2' &gt; /etc/aboot.conf</i>
# <i>echo -n 0 &gt; /proc/srm_environment/named_variables/boot_osflags</i>
# <i>echo -n '' &gt; /proc/srm_environment/named_variables/boot_file</i>
</pre>

<p>
如果你正在使用 serial console 安裝，別忘了要在 <path>aboot.conf</path> 內包含著
serial consol 的開機參數。關於更多請參考 <path>/etc/aboot.conf.example</path>。
</p>

<p>
Aboot 現在已經設定完成了，請繼續到 <uri
link="?part=1&amp;chap=10">安裝系統所需工具</uri>.
</p>

</body>
</section>
<section id="milo">
<title>其他選擇： 使用 MILO</title>
<body>

<impo>
MILO 只適用於 alpah 相關的架構！
</impo>

<p>
在我們繼續之前，你將需要決定如何使用 MILO。在這個段落，我們將假設你要建立 MILO
開機磁片。如果你有打算從 MS-DOS 的分割區開機，你應該要完善的設定所需的指令。
</p>

<p>
要安裝 MILO，我們使用 <c>emerge</c>。
</p>

<pre caption = "安裝 MILO">
# <i>emerge --usepkg milo</i>
</pre>

<p>
MILO 安裝完成後， MILO 的檔案應該會被放在 <path>/opt/milo</path>。 以下為建立開
機磁片的指令。記得要使用正確的 Alpha 系統的映像檔。
</p>

<pre caption = "將 MILO 安裝至磁片">
<comment>（放入空白磁片）</comment>
# <i>fdformat /dev/fd0</i>
# <i>mformat a:</i>
# <i>mcopy /opt/milo/milo-2.2-18-gentoo-ruffian a:\milo</i>
# <i>mcopy /opt/milo/linload.exe a:\lilnload.exe</i>
<comment>(如果你有 Ruffian：</comment>     
  # <i>mcopy /opt/milo/ldmilo.exe a:\ldmilo.exe</i>
<comment>)</comment>
# <i>echo -ne '\125\252' | dd of=/dev/fd0 bs=1 seek=510 count=2</i>
</pre>

<p>
你的 MILO 開機片現在已經建立完成了。你將需要設定在你的 ARCS Firmware 一些環境變
數才可讓 MILO 啟動；
<uri link="http://tldp.org/HOWTO/MILO-HOWTO">MILO-HOWTO</uri> 將可以為你解釋一些
相關指令‵系統以及設定範例。
</p>

<p>
我們<e>強烈</e>建議你閱讀 
<uri link="http://tldp.org/HOWTO/MILO-HOWTO/">MILO-HOWTO</uri>
。
</p>

<p>
接下來請到 <uri link="?part=1&amp;chap=10">安裝系統所需工具</uri>。
</p>

</body>
</section>
</sections>
