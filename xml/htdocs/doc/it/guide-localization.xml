<?xml version='1.0' encoding='UTF-8'?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/guide-localization.xml,v 1.12 2006/04/27 20:28:01 so Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/it/guide-localization.xml" lang="it">
<title>Gentoo Linux Localization Guide</title>
<author title="Autore">
  Alexander Holler
</author>
<author title="Redazione">
  <mail link="slucy@uchicago.edu">Steven Lucy</mail>
</author>
<author title="Redazione">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Redazione">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Redazione">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Redazione">
  <mail link="flammie@gentoo.org">Flammie Pirinen</mail>
</author>
<author title="Traduttore">
  <mail link="grandezot@cheapnet.it">Raffaele Camarda</mail>
</author>
<author title="Traduttore">
  <mail link="cristiano.chiucchiolo@gmail.com">Cristiano Chiucchiolo</mail>
</author>

<abstract>
Questa guida dovrebbe aiutare gli utenti a localizzare (adattare alla
propria lingua, NdT) la propria distribuzione Gentoo Linux per
qualsiasi paese Europeo. Useremo il Tedesco came caso di studio, in
quanto la guida è tradotta da un documento tedesco. Affronteremo anche
la configurazione del sistema per utilizzare il simbolo dell'Euro.
</abstract>

<version>1.27</version>
<date>2006-04-24</date>

<chapter>
<title>Timezone</title>
<section>
<body>

<p>
Per impostare l'orario appropriato, <path>/etc/localtime</path> deve
contenere i dati della timezone corretta. Tra quelli disponibili nella
directory <path>/usr/share/zoneinfo/</path> scegliete quello corrispondente
alla vostra timezone o quello della città più vicina a voi. Evitate di
utilizzare i file della timezone presenti in
<path>/usr/share/zoneinfo/Etc/GMT*</path> poichè spesso i loro nomi non
corrispondono a ciò che in realtà sono: ad esempio <path>GMT-8</path> è di
fatto GMT+8.
</p>

<pre caption="Impostare il timezone">
# <i>cp /usr/share/zoneinfo/Europe/Berlin /etc/localtime</i>
# <i>date</i>
Sun Feb 16 08:26:44 CET 2003
</pre>

<note>
Assicuratevi che l'indicatore della timezone, composto da tre lettere
(in questo caso "CET"), sia corretto per la vostra zona.
</note>

<note>
Potrete impostare il valore di <c>TZ</c> secondo i valori
presenti in <path>/usr/share/zoneinfo</path> nell'rc file
della vostra shell (<path>.bash_profile</path> for bash) agendo cosi' a
livello utente.  In questo caso <c>TZ="Europe/Berlin"</c>.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Orologio di sistema</title>
<section>
<body>

<p>
In molte installazioni di Gentoo Linux, l'orologio di sistema è impostato su
UTC (o GMT, Greenwhich Mean Time), quindi viene presa la timezone
dall'account per determinare l'ora locale.  Se,
per qualche ragione, avete bisogno che il vostro orologio di sistema non
sia in UTC, dovrete modificare <path>/etc/conf.d/clock</path> e cambiare
il valore di <c>CLOCK</c> da <c>UTC</c> a <c>local</c>.
</p>

<pre caption="local vs. GMT clock">
<comment>(raccomandato:)</comment>
CLOCK="UTC"
<comment>(o:)</comment>
CLOCK="local"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>La localizzazione</title>
<section>
<title>Cosa sono le localizzazioni?</title>
<body>

<p>
Una localizzazione è un insieme di informazioni che la maggior parte dei
programmi utilizzano per determinare le impostazioni di nazionalità e lingua.
Le localizzazioni sono parte delle librerie di sistema e possono essere trovate
in <path>/usr/share/locale</path> nella maggior parte dei casi. Generalmente il
nome di un file che faccia riferimento ad una particolare localizzazione ha la
struttura <c>ab_CD</c> dove <c>ab</c> è il codice di due (o tre) lettere che
identifica la lingua (secondo le specifiche ISO-639) e <c>CD</c> è il codice
di due lettere che identifica la nazione (secondo le specifiche ISO-3166).
</p>

</body>
</section>
<section id="variables">
<title>Variabili d'ambiente per la localizzazione</title>
<body>

<p>
Le informazioni sulla lingua e la nazione sono contenute nelle variabili
d'ambiente. Queste, normalmente, sono impostate in
<path>/etc/env.d/02locale</path> (per l'intero sistema) ed in
<path>~/.bashrc</path> (per le impostazioni relative all'utente). Queste
variabili controllano aspetti differenti della localizzazione e sono elencate
nella tabella che segue, quelle con alta precedenza (che dominano le variabili
che le seguono) sono elencate all'inizio della tabella. Tutte le variabili
accettano valori secondo il formato specificato più su: (<c>ab_CD</c>).
</p>

<table>
<tr>
  <th>Nome della variabile</th>
  <th>Spiegazione</th>
</tr>
<tr>
  <ti>LC_ALL</ti>
  <ti>
    Definisce tutti i settaggi della localizzazione. Questa impostazione
    bypasserà tutte le altre impostazioni nella tabella.
  </ti>
</tr>
<tr>
  <ti>LC_COLLATE</ti>
  <ti>
    Definisce l'ordine alfabetico delle eventuali stringhe. Questo ha effetto
    sull'output di un <c>ls</c> in una directory.
  </ti>
</tr>
<tr>
 <ti>LC_CTYPE</ti>
  <ti>
    Definisce come il sistema debba gestire i tipi di carattere. Questo decide
    quali caratteri devono essere visti come parte dell'alfabeto, quali come
    numeri e così via. Questo inoltre stabilisce quale set di caratteri
    utilizzare, se possibile.
  </ti>
</tr>
<tr>
  <ti>LC_MESSAGES</ti>
  <ti>
    Imposta le localizzazioni dei programmi per le applicazioni che
    utilizzano uno schema di localizzazione basato su messaggi (la maggior
    parte dei programmi GNU, nel prossimo capitolo vedremo quali lo fanno
    e come far funzionare quelli che non lo fanno)
  </ti>
</tr>
<tr>
  <ti>LC_MONETARY</ti>
  <ti>
    Definisce la valuta e la formattazione del valore numerico della valuta
    stessa.
  </ti>
</tr>
<tr>
  <ti>LC_NUMERIC</ti>
  <ti>
    Definisce la formattazione dei valori numerici che non siano di valuta.
    Influisce sui separatori delle migliaia e sulle virgole nei decimali.
  </ti>
</tr>
<tr>
  <ti>LC_TIME</ti>
  <ti>
    Definisce il tipo di formattazione per data e ora
  </ti>
</tr>
<tr>
  <ti>LC_PAPER</ti>
  <ti>
    Definisce il formato predefinito della carta.
</ti>
</tr>
<tr>
  <ti>LANG</ti>
  <ti>
    Definisce tutte le impostazioni della localizzazione. Questa variabile può
    comunque essere bypassata impostato LC_* individualmente o impostando la
    variabile LC_ALL.
  </ti>
</tr>
</table>


<note>
Anche se la maggior parte dei programmi funzionano impostando semplicemente
LC_ALL, alcuni possono presentare dei malfunzionamenti se è stata impostata
LC_ALL ma non LANG. Se volete essere sicuri impostatele <e>entrambe</e>
</note>

<p>
La maggior parte degli utenti imposta solo le variabili LANG ed LC_CTYPE
per il proprio utente semplicemente aggiungendole ai file di startup della
shell, definendo così le variabili d'ambiente dalla linea di comando:
</p>

<pre caption="impostare la localizzazione tedesca">
export LANG="de_DE@euro"
</pre>

<note>
Aggiungete anche <c>@euro</c> al file di avvio della shell se volete utilizzare
questo simbolo di valuta (&#8364;)
</note>

<p>
Perchè funzioni la localizzazione basata sui messaggi nella applicazioni che
la supportano, dovrete compilare tali programmi con la USE <c>nls</c> (Native
Language Support). Molti dei programmi che utilizzano nls hanno bisogno anche
della libreria gettex per estrarre ed usare i messaggi localizzati, ovviamente
portage la installerà quando necessaria.
</p>

<p>
Una volta impostata la localizzazione corretta, assicurati di aggiornare le
variabili d'ambiente per rendere effettive le modifiche:
</p>

<pre caption="Aggiornare l'ambiente">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Fatto ciò, è necessario killare il server X premendo
<c>Ctrl+Alt+Backspace</c>, effettuare il logout, e poi di nuovo il login come
utente.
</p>

<p>
Ora verifica che le modifiche siano state applicate:
</p>

<pre caption="Verificare le modifiche dell'ambiente">
$ <i>env | grep -i LC_</i>
</pre>

<p>
C'è inoltre una variabile addizionale chiamata LINGUAS, che influisce sui
file di localizzazione installati con i programmi che supportano gettex,
inoltre decide la localizzazione per alcuni pacchetti specifici, come
<c>kde-base/kde-i18n</c> e <c>app-office/openoffice</c>. Questa variabile
può assumere valori separati da <e>spazi</e>, valori espressi secondo i
codici delle lingue trattati più su. E' consigliato impostare la variabile
LINGUAS in <path>/etc/make.conf</path>:
</p>

<pre caption="impostare LINGUAS in make.conf">
# <i>nano -w /etc/make.conf</i>
<comment>(Inserite la variabile per LINGUAS, ad esempio per il Tedesco, il
Finnico e l'Inglese:)</comment>
LINGUAS="de fi en"
</pre>

<p>
Assicurati di aggiornare l'ambiente dopo la modifica:
</p>

<pre caption="Aggiornare l'ambiente">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Fatto ciò, è necessario killare il server X premendo
<c>Ctrl+Alt+Backspace</c>, effettuare il logout, e poi di nuovo il login come
utente.
</p>

</body>
</section>
<section>
<title>Generare localizzazioni specifiche</title>
<body>

<p>
Se utilizzate una localizzazione che non è disponibile di default dovrete
utilizzare <c>localedef</c> per generare la vostra localizzazione.
Ad esempio:
</p>

<pre caption="Generare una localizzazione utilizzando localedef">
# <i>localedef -c -i en_US -f ISO-8859-15 en_US.ISO-8859-15</i>
</pre>

<p>
Dopo avere generato la localizzazione, potete esportare la variabile LANG come
abbiamo visto.
</p>

<pre caption="Esportare la variabile LANG">
# <i>export LANG="en_US.ISO-8859-15"</i>
</pre>

</body>
</section>
<section>
<title>La flag userlocales</title>
<body>

<p>
Probabilmente userete una o due localizzazioni sul vostro sistema. Compilando
le <c>glibc</c> viene installato un set completo di localizzazioni. Adesso
potete attivare la flag <c>userlocales</c> nelle USE di
<path>/etc/make.conf</path> e specificare attraverso
<path>/etc/locales.build</path> solo le localizzazioni di cui avete realmente
bisogno.
</p>

<pre caption="Attivare la flag userlocales in particolare per glibc">
echo "sys-libs/glibc userlocales" >> /etc/portage/package.use
</pre>

<p>
Adesso specificate la localizzazione che volete poter utilizzare:
</p>

<pre caption="Aggiungere la localizzazione a /etc/locales.build">
en_US/ISO-8859-1
en_US.UTF-8/UTF-8
de_DE/ISO-8859-1
de_DE@euro/ISO-8859-15
</pre>

<p>
Il prossimo passo è ricompilare le <c>glibc</c>. Ovviamente potete aspettare
sino al prossimo aggiornamento del pacchetto se preferite.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Layout della tastiera per la console</title>
<section>
<body>

<p>
Il layout della tastiera per la console si imposta in
<path>/etc/conf.d/keymaps</path> con la variabile <c>KEYMAP</c>.  Valori
validi per tale variabile possono essere trovati in
<path>/usr/share/keymaps/<c>{arch}</c>/</path>.  <path>i386</path> presenta
delle ulteriori sottoclassi (<path>qwerty/</path>, <path>azerty/</path>,
etc.).  Alcune lingue hanno opzioni multiple, così la decisione migliore
potrebbe essere quella di provarne diverse per ottenere quella che meglio si
adatta alle vostre necessità.
</p>

<pre caption="impostare la keymap della console">
KEYMAP="de"
KEYMAP="de-latin1"
KEYMAP="de-latin1-nodeadkeys"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Layout della tastiera per il server grafico</title>
<section>
<body>

<p>
Il layout per il server grafico è specificato in
<path>/etc/X11/xorg.conf</path> dall'opzione <c>XkbLayout</c>
</p>

<pre caption="impostare la keymap per x">
 Section "InputDevice"
     Identifier  "Keyboard1"
     ...
     Option "XkbLayout"    "de"
     #Option "XkbModel"     "pc105"    <comment>## questo è per le tastiere internazionali.</comment>
     # Option "XkbVariant"  "nodeadkeys" <comment>## questo sarebbe usato per l'input xterm.</comment>
     ...
  </pre>
  
<p>
Se hai un layout di tastiera internazionale, dovresti impostare l'opzione
<c>XkbModel</c> a <c>pc102</c> oppure a <c>pc105</c>, dato che questo
consentirà la mappatura dei tasti addizionali specifici per la tua tastiera.
</p>

<p>
Le deadkeys consentono di premere tasti che non verranno mostrati
immediatamente sullo schermo, ma saranno combinati con un'altra lettera per
produrre un singolo carattere come é,è,á,à,ecc... Impostare <c>XkbVariant</c>
a <c>nodeadkeys</c> consente di immettere questi caratteri speciali
all'interno dei terminali X.
</p>

<pre caption="Passare da un layout di tastiera ad un altro">
  Section "InputDevice"
	Identifier  "Keyboard1"
     ...
     Option "XkbLayout"    "us,ru"
     Option "XkbOptions"   
"grp:alt_shift_toggle,grp_led:scroll"
</pre>

<p>
Qui <c>XkbOptions</c> consente di passare da un layout di tastiera ad un
altro, semplicemente premendo <c>ALT+Shift</c>. Questo farà anche accendere e
spegnere il led Scroll Lock, grazie all'opzione <c>grp_led:scroll</c>. Si
tratta di un indicatore visivo a portata di mano, che mostrerà quale layout
di tastiera starai usando in un dato momento.
</p>

</body>
</section>
</chapter>

<chapter>
<title>KDE</title>
<section>
<body>

<p>
Per KDE dovrete installare il pacchetto <c>kde-base/kde-i18n</c>. Kde-i18n
segue le regole descritte poco più su riguardo la variabile
<uri link="#variables">LINGUAS</uri>
</p>

</body>
</section>
</chapter>

<chapter>
<title>Il Simbolo dell'euro per la console</title>
<section>
<body>

<p>
Per fare in modo che la vostra console mostri il simbolo dell'euro dovrete
impostare la variabile <c>CONSOLEFONT</c> in
<path>/etc/conf.d/consolefont</path> in modo che punti ad un file presente in
<path>/usr/share/consolefonts/</path> (senza <c>.psfu.gz</c>).
<c>lat9w-16</c> possiede il simbolo dell'euro.
</p>

<pre caption="impostare i font della console">
CONSOLEFONT="lat9w-16"
</pre>

<p>
Dovresti verificare che <c>CONSOLEFONT</c> sia nel runlevel di boot:
</p>

<pre caption="Verificare il giusto runlevel">
# <i>rc-update show | grep -i consolefont</i>
</pre>

<p>
Se non viene mostrato alcun runlevel per <c>CONSOLEFONT</c>, aggiungilo al
giusto livello:
</p>

<pre caption="Aggiungere consolefont al runlevel di boot">
# <i>rc-update add consolefont boot</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Il simbolo dell'euro in X</title>
<section>
<title>Per la maggior parte della applicazioni</title>
<body>

<p>
Ottenere che il simbolo dell'euro funzioni correttamente in X comporta un
maggiore impegno. La prima cosa che dovreste cambiare è la definizione
<c>fixed</c> e quella <c>variable</c> nel file
<path>/usr/X11R6/lib/X11/fonts/misc/fonts.alias</path> in modo che finisca
in <c>iso8859-15</c> invece che in <c>iso8859-1</c>
</p>

<pre caption="inpostare i font di default di X">
fixed        -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-15
variable     -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Alcune applicazioni utilizzano il proprio font, e dovrete essere voi ad
indicargli appositamente di utilizzare i font che contengono il simbolo
dell'euro.  Questo lo potrete fare a livello utente nel file
<path>.Xdefaults</path> (potete copiare questo file in
<path>/etc/skel/</path> in modo che sia utilizzato di default per ogni nuovo
utente creato), oppure potrete impostarlo a livello globale per ogni
applicazione con un file in <path>/usr/X11R6/lib/X11/app-defaults/</path> (ad
esempio xterm). In questi file generalmente bisogna editare una stringa già
presente piuttosto che aggiungerne un'altra. Per cambiare i font di xterm ad
esempio:
</p>

<pre caption="impostare i font per xterm">
<comment>(nella vostra home directory)</comment>
# <i>echo 'XTerm*font: fixed' >> .Xresources </i>
# <i>xrdb -merge .Xresources</i>
</pre>

</body>
</section>
<section>
<title>Il simbolo dell'euro in (X)Emacs</title>
<body>

<p>
Per utilizzare il simbolo dell'euro in (X)Emacs aggiungete quanto segue a
<path>.Xdefaults</path>:
</p>

<pre caption="impostare i font in emacs">
Emacs.default.attributeFont: -*-courier-medium-r-*-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Per XEmacs (che non è esattamente come Emacs), dovrete fare qualcosa in più.
Nel file <path>/home/user/.xemacs/init.el</path>, aggiungete:
</p>

<pre caption="impostare i font per xemacs">
(define-key global-map '(EuroSign) '[&#8364;])
</pre>

<note>
Il simbolo tra parentesi quadre è appunto il simbolo dell'euro
</note>

</body>
</section>
<section>
<title>OpenOffice.Org</title>
<body>

<p>
Gli attuali ebuild stabili di <c>app-office/openoffice</c> e
<c>app-office/openoffice-bin</c> supportano l'impostazione della variabile
<uri link="#variables">LINGUAS</uri> per installare i pacchetti relativi alla
lingua.  Per avere un'idea dello stato della traduzione della GUI, dello
stato del troncamento, dello spell-check e di altre opzioni della vostra
localizzazione fate riferimento <uri
link="http://l10n.openoffice.org/languages.html">al sito che si occupa della
localizzazione di OpenOffice.Org</uri>.
</p>

</body>
</section>
</chapter>

</guide>
