<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/gentoo-hppa-install.xml,v 1.5 2004/09/21 10:39:51 neysx Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link="/doc/it/gentoo-hppa-install.xml">
<title>Guida all`installazione di Gentoo su macchine HPPA</title>
<author title="Sviluppo HPPA">
<mail link="gmsoft@gentoo.org">Guy Martin</mail>
</author>
<author title="Traduzione">
<mail link="bernardo@inquis.it">Bernardo Damele</mail>
</author>

<abstract>Gentoo Linux è installabile su macchine HP PA-RISC. Il port è di recente sviluppo. Le correzioni al presente documento o all'installazione in generale, dovranno essere indirizzate a Gentoo Bugzilla.
</abstract>
<version>0.2</version>
<date>3 Febbraio 2004</date>
<chapter>
<title>Hardware supportato</title>
<section>
<title>Note sullo stato del port</title>
<body>
<p>
Alla stesura del presente documento, i kernel SMP e a 64-bit non sono stati testati a sufficienza. Test e commenti sono benvenuti!
</p>
<p>L'hardware supportato dipende solo dal kernel. Potete trovare una lista delle piattaforme supportate al sito web <uri link="http://pateam.esiee.fr/list.html">ESIEE </uri>.</p>
</body>
</section>
</chapter>

<chapter>
<title>Il boot</title>
<section>
<body>
<note>Qui è descritta brevemente la procedura di boot. Se avete 
bisogno di ulteriore aiuto o di metodi alternativi ad avviare il vostro HPPA (p.e. via seriale), leggete il relativo HOWTO all'indirizzo <uri>http://tldp.org/HOWTO/PA-RISC-Linux-Boot-HOWTO/index.html</uri>.</note>
<p>gentoo-hppa-install.xml
Durante il processo di boot, apparirà un messaggio simile al seguente:
</p>
<pre>
Searching for Potential Boot Devices.
To terminate search, press and hold the ESCAPE key.
</pre>
<p>
Appena vedrete il messaggio, premete il tasto Esc e tenetelo premuto finchè vedrete apparire un menù opzioni. In alcuni casi l'attesa si protrarrà per qualche secondo, non preoccupatevi!
Normalmente, dovreste accedere alla consolle BOOT_ADMIN.
</p>
<note>
Su qualche 715s e 725s, potrebbe apparire un menù opzionale. Per accedere alla consolle BOOT_ADMIN scegliete <c>a) Enter Boot Administration mode</c> e digitate <c>un&lt;enter&gt;</c>.
</note>
<p>
Quando apparirà il prompt '<c>&gt;</c>', sarete in modalità BOOT_ADMIN.
</p>

</body>
</section>
<section>
<title>Avvio con il LiveCD</title>
<body>
<p>Se non conoscete lo SCSI ID del vostro CD-ROM, potrete ottenerlo con il comando <c>search</c>.</p>
<pre>
&gt; <i>search</i>

Searching for Devices with Bootable Media.
To terminate search, please press and hold the ESCAPE key.
</pre>
<p>Il vostro PA-RISC mostrerà ora tutte le modalità di boot. Questo è un esempio di output del comando search:</p>
<pre>
Device Selection      Device Path             Device Type and Utilities
---------------------------------------------------------------------------

P0                    scsi.5.0                TOSHIBA CD-ROM XM-3301TA
                                                  IPL
P1                    scsi.2.0                COMPAQ ST32550N
                                                  IPL
P2                    lan.0010a7-06d1b6.3.6   server
                                                  IPL

&gt;
</pre>
<p>
Naturalmente questo esempio può variare a seconda della configurazione hardware.
</p>
<p>
Una volta conosciuto qual'è il dispositivo, avviatelo!
</p>
<pre>
&gt; <i>boot scsi.5.0 ipl</i>

Trying scsi.5.0
</pre>
<p>
Il suffisso <e>ipl</e> (Initial Program Loader) fa in modo che <c>PALO</c> (il PA-RISC boot LOader) esegua la modalità interattiva,  permettendovi, ad esempio, di cambiare i parametri di boot.
</p>
</body>
</section>
<section>
<title>Il boot usando lifimage (Boot di Rete)</title>
<body>
<p>
Per ora Lifimage non è ancora disponibile. Potrete usare la lifimage di Debian per creare una shell, ma non avrà l'utility bunzip2; ciò significa che dovrete decomprimere gli stage prima di usarli. Dovrete inoltre metterli su di un server FTP o HTTP in modo da poterli raggiungere con <c>wget</c> al momento dell'installazione.
</p>
<warn>La versione del kernel della lifimage dev'essere maggiore o uguale alla 2.4.20, altrimenti il vostro sistema <e>non funzionerà del tutto</e>.</warn>
</body>
</section>
<section>
<title>Dopo il boot: Interazioni con PALO, il PA-RISC Linux Loader</title>
<body>
<p>Una volta eseguito il boot, <c>PALO</c> partirà in modalità interattiva.</p>
<pre>
Boot path initialized.
Attempting to load IPL.


Hard booted.
palo ipl 1.2 root@b180l.da-kot Tue Apr  8 12:43:07 CEST 2003

Boot image contains:
    0/vmlinux32 4028015 bytes @ 0x1520000
    0/ramdisk 834748 bytes @ 0xf800
Current command line:
0/vmlinux initrd=initrd.gz TERM=linux console=tty root=/dev/ram0 init=/linuxrc
  0: 0/vmlinux
  1: initrd=initrd.gz
  2: TERM=linux
  3: console=tty
  4: root=/dev/ram0
  5: init=/linuxrc

Edit which field?
(or 'b' to boot with this command line)? 0
</pre>
<p>
Questi parametri sono adatti per la maggior parte dei casi.
</p>
<p>
Se desiderate altre caratteristiche dovrete aggiungere i parametri appropriati alla fine del comando. Per aggiungere un parametro, aggiungete uno spazio dopo l'ultimo carattere e digitate il parametro necessario. L'unico attualmente implementato è <c>cdcache</c> che comunica al LiveCD di caricarsi in RAM, dandovi la possibilità di smontare il CD.
</p>
<pre>
(or 'b' to boot with this command line)? <i>5</i>
init=/linuxrc <i>cdcache</i>
</pre>
<p>
Ora che avete aggiunto al kernel i parametri di boot, avviatelo!
</p>
<pre>
(or 'b' to boot with this command line)? <i>b</i>
</pre>
</body>
</section>


</chapter>
<chapter>
<title>Installare Gentoo</title>
<section>
<body>
<p>Diamo un rapido sguardo al processo d'installazione: Verranno create le partizioni ed i filesystem, per poi estrarre uno dei tarball degli stage 1, 2 o 3.  Se userete il tarball degli stage 1 o 2, dovrete seguire i passi necessari per portare il sistema allo stage 3. Una volta portato il sistema allo stage 3, lo potrete configurare (modificando i file di configurazione, installando un boot loader, etc). Una volta riavviato avrete un sistema Gentoo Linux perfettamente funzionante! A seconda dello stage scelto, troverete in questa tabella un riassunto dei requisiti necessari all'installazione:</p>

<table>
<tr><th>stage tarball</th><th>requisiti per l'installazione</th></tr>
<tr><ti>1</ti><ti>setup partizioni/filesystem, emerge sync, bootstrap, emerge system, emerge dei sorgenti Linux, configurazione finale</ti></tr>
<tr><ti>2</ti><ti>setup partizioni/filesystem, emerge sync, emerge system, emerge dei sorgenti Linux, configurazione finale</ti></tr>
<tr><ti>3</ti><ti>setup partizioni/filesystem, emerge sync (opzionale), configurazione finale</ti></tr>
</table>
<p>Il primo passo è quello di inserire i moduli necessari. Potrebbe non essere necessario, dal momento che la maggior parte dei driver hardware standard PA-RISC sono inseriti nel kernel.
Per vedere una lista di tutti i moduli disponibili per le schede di rete, digitate <c>ls
/lib/modules/*/kernel/drivers/net/*</c>. Per caricare un modulo specifico,
digitate:</p>

<pre>
# <i>modprobe pcnet32</i> <comment>(carica il modulo pcnet32)</comment>
</pre>

<p>Se durante il processo di auto-riconoscimento delle periferiche PCI, il vostro hardware SCSI non è stato riconosciuto, avrete bisogno di caricare i moduli specifici dalla directory <path>/lib/modules</path>, usando ancora <c>modprobe</c>:</p>

<pre>
# <i>modprobe aic7xxx</i>
# <i>modprobe sr_mod</i>
# <i>modprobe sd_mod</i>
</pre>

<p>Nell'esempio riportato viene caricato, o <c>modprobed</c> (termine inglese qui non tradotto ndt.), il driver SCSI <c>aic7xxx</c> e vengono caricati i moduli per il supporto CD-ROM SCSI (<c>sr_mod</c>) e per il disco SCSI (<c>sd_mod</c>).</p>

<note><c>hdparm</c> è incluso nelle ISO Gentoo.
Se qualche drive richiede una regolazione, sarebbe una buona idea farla adesso. Su hardware relativamente moderno <c>hdparm -d 1 /dev/hdx</c> dovrebbe essere sufficiente. Potete usare <c>hdparm -v /dev/hdx</c> per controllare la regolazione del vostro drive, e <c>hdparm -t /dev/hdx</c> per controllarne le performance.</note>
</body>
</section>

<section>
<title>Configurare l'installazione di rete</title>
<body>

<p>Con Gentoo potete ottenere una rete funzionante ed usare le utility <c>ssh</c>, <c>scp</c> o <c>wget</c> prima ancora di installare il sistema.Anche se non è indispensabile farlo subito, dovreste ora proseguire con la configurazione di rete. Una volta installato, il Portage sarà in grado di utilizzare la rete, dall'interno di un ambiente chroot (richiesto per installare Gentoo Linux). </p>
</body>
</section>

<section>
<title>Configurazione manuale DHCP</title>
<body>
<p>
Con DHCP la configurazione di rete è semplice. Se il vostro ISP non usa DHCP, saltate alla sezione Configurazione Statica Manuale.
</p>
<pre caption="Configurazione di rete con DHCP">
# <i>dhcpcd eth0</i>
</pre>
<note>
Alcuni ISP richiedono che forniate un hostname. Per farlo, aggiungete un flag <c>-h myhostname</c> alla stringa di comando sopra.
</note>
<p>Se ricevete avvertimenti tipo <c>dhcpConfig</c> warning, non prendete paura: gli errori sono per lo più superficiali; passate allora al paragrafo "test di rete".</p>
</body>
</section>
<section>
<title>Configurazione Statica Manuale</title>
<body>
<p>
E' necessario configurare la rete quel tanto che vi permette di caricare i sorgenti per il sistema e di configurare l'interfaccia localhost. Digitate i seguenti comandi, sostituendo
$IFACE con la vostra interfaccia di rete (di solito <c>eth0</c>), $IPNUM
con il vostro indirizzo IP, $BCAST con il vostro indirizzo di broadcast, e $NMASK
con la vostra maschera di rete. Per quanto riguarda il comando <c>route</c>, sostituite
$GTWAY con il vostro indirizzo di gateway.
</p>
<pre>
# <i>/sbin/ifconfig $IFACE $IPNUM broadcast $BCAST netmask $NMASK</i>
# <i>/sbin/route add -net default gw $GTWAY netmask 0.0.0.0 metric 1</i>
</pre>
<p>Ora, bisogna creare il file <path>/etc/resolv.conf</path>
perchè funzioni la risoluzione dei nomi (in modo da trovare i siti Web/FTP per nome anzichè per indirizzo IP).</p>

<note>In questa fase il solo editor installato è <c>nano</c>, un editor semplice e leggero. Usate <c>nano</c> con l'opzione <c>-w</c>
per disabilitare il line-wrapping automatico.
</note>

<p>Ecco di seguito un file di esempio per creare il vostro <path>/etc/resolv.conf</path> :
</p>
<pre caption="esempio di file /etc/resolv.conf">
domain mydomain.com
nameserver 10.0.0.1
nameserver 10.0.0.2
</pre>
<p>Sostituite <c>10.0.0.1</c> e <c>10.0.0.2</c> rispettivamente con gli indirizzi IP del server DNS primario e secondario.</p>
</body>
</section>

<section>
<title>Configurazione del Proxy</title>
<body>
<p>Se avete un proxy, prima di proseguire è necessario configurarlo. Dovrete esportare alcune variabili per configurare il proxy di conseguenza. </p>
<pre>
# <i>export http_proxy="machine.company.com:1234" </i>
# <i>export ftp_proxy="$http_proxy" </i>
# <i>export RSYNC_PROXY="$http_proxy" </i>
</pre>
</body>
</section>

<section>
<title>Testare la rete</title>
<body>
<p>Adesso che la vostra rete è stata configurata, il comando <c>/sbin/ifconfig -a</c> dovrebbe far vedere (speriamo!)
che la scheda di rete funziona
(cerca nell'output <e>UP</e> e <e>RUNNING</e>).
</p>
<pre caption="/sbin/ifconfig for a working network card">
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11
</pre>
</body>
</section>

<section>
<title>La Rete è pronta!</title>
<body>
<p>A questo punto la Rete è stata configurata e dovrebbe funzionare. Dovreste essere in grado di usare i comandi <c>ssh</c>, <c>scp</c> and <c>wget</c> per connettervi ad altre macchine della vostra LAN o della rete Internet.</p>
</body>
</section>
</chapter>

<chapter>
<title>Configurare le partizioni e installare il sistema</title>
<section>
<body>
<note>A questo punto, se avete bisogno di più di una consolle, non dimenticate di scegliere una password di root. In aggiunta sono disponibili molti programmi sul LiveCD, come <c>screen</c>, <c>lynx</c>, ed <c>irssi</c></note>
</body>
</section>
<section>
<title>Il partizionamento</title>
<body>
<p>Digitate <c>fdisk</c> per creare le partizioni desiderate.</p>
<pre>
# <i>fdisk /dev/sdX</i>
<codenote>sostituite sdX con il disco sul quale volete creare una partizione.
(p.e. sda, hda, ...)</codenote>
</pre>
<warn>PALO ha bisogno di una partizione apposita per poter funzionare. Dovete creare una partizione di almeno 16 MB all'inizio del disco. Questa partizione dev'essere di tipo <e>f0 (Linux/PA-RISC boot)</e></warn>
<impo>Se il disco è più grande di 2 GB, dovrete creare una partizione di boot nei primi 2 GB. PALO non è in grado di trovare il kernel dopo il limite dei 2 GB.</impo>
<p>Dopo aver creato le partizioni ed i filesystem, sarete pronti ad iniziare la parte più divertente!
Nell'esempio seguente la partizione di root è <path>/dev/sda3</path>, 
quella di swap <path>/dev/sda4</path> per un'installazione con il tarball stage 1 (ottenuto da uno dei mirror Gentoo).</p>
<pre>
# <i>swapon /dev/sda4</i>
# <i>mount -n /dev/sda3 /mnt/gentoo</i>
</pre>
<note>Dopo aver montato la partizione di root in <path>/mnt/gentoo</path>, vanno montate tutte le altre partizioni (p.e. <path>/boot, /usr, /var</path>).
</note>
<pre>
# <i>cd /mnt/gentoo</i>
# <i>wget http://www.ibiblio.org/pub/Linux/distributions/gentoo/experimental/hppa/stages/stage1-hppa1.1-1.4_someversion.tar.bz2</i>
# <i>tar xpjvf stage1-hppa1.1-1.4_someversion.tar.bz2</i>
# <i>cp /etc/resolv.conf etc/resolv.conf</i>
# <i>mount -o bind /proc proc</i>
# <i>chroot .</i> <codenote>Ora siete nel nuovo sistema</codenote>
# <i>env-update</i> <codenote>Aggiorna le variabili d'ambiente</codenote>
<codenote>Potete ignorare senza timore gli avvertimenti di file mancanti</codenote>
# <i>source /etc/profile</i>
# <i>nano -w /etc/make.conf</i> <codenote>Ottimizzazioni e mirror si regolano da qui</codenote>
# <i>emerge sync</i> <codenote>Questo comando fa scaricare tutta l'alberatura del portage, che è di circa 10 MB</codenote>
</pre>
<p>Se siete partiti dallo stage 1, iniziate il bootstrap.</p>
<pre>
# <i>cd /usr/portage</i>
# <i>./scripts/bootstrap.sh</i>
</pre>
<p>Questo vi porta allo stage 2, dove compilerete ed installerete i file del sistema base.</p>
<pre>
# <i>export CONFIG_PROTECT="-*"</i>
# <i>emerge system</i>
</pre>
<p>Ora siete allo stage 3. Se iniziate adesso dallo stage 3, potreste dover aggiornare qualche pacchetto. Per aggiornarli digitate:</p>
<pre>
# <i>unset CONFIG_PROTECT</i>
# <i>emerge -uD world</i>
</pre>
<p>
Il sistema base è ora aggiornato.
</p>
</body>
</section>
</chapter>


<chapter>
<title>Compilare il kernel</title>
<section>
<title>Ottenere i sorgenti del kernel per HP-PA</title>
<body>
<p>In Gentoo Linux è disponibile un particolare kernel patchato per macchine HP-PA. Per installarlo basta dare <c>emerge hppa-sources</c></p>
<pre>
# <i>emerge hppa-sources</i>
</pre>
<p>Ora, potrete voler patchare il kernel per aggiungere supporti a flesystem SGI o XFS, oppure supporto ad Usagi IPv6, etc.
</p>
<note>Nessuna di queste patch è stata al momento testata, quindi non possiamo assumerci la responsabilità a danni eventualmente causati.</note>
<p>
Dopo aver scaricato e scompattato i sorgenti, dovrete configurare il kernel.
</p>
</body>
</section>
<section>
<title>Configurare e compilare il kernel</title>
<body>
<p>Viene ora descritta la procedura di configurazione e compilazione del kernel.</p>
<pre>
# <i>cd /usr/src/linux</i>
# <i>make menuconfig</i>
# <i>make vmlinux modules modules_install</i>
# <i>cp vmlinux System.map /boot</i>
</pre>
<warn>Per poter ottenere un kernel funzionante, dovrete scegliere le corrette opzioni per la vostra configurazione. Alcune dovranno <c>essere abilitate staticamente (scegliendo l'opzione "yes" ndt.) e non compilate come moduli (opzione "m" ndt.) </c>. Dovrete scegliere l'opzione <c>"Code maturity level options --&gt; Prompt for development and/or incomplete code/drivers"</c> per poter scegliere le altre selezioni. Sotto la sezione <c>"File systems"</c> , assicuratevi di abilitare la voce <c>Device File System</c> (da notare che <e>non</e> è necessario abilitare la voce <c>"/dev/pts file system support"</c> ). Dovrete inoltre abilitare la voce <c>Virtual Memory File system</c>.</warn>
<impo>Se avete una tastiera o un mouse di tipo HIL, non dimenticate di compilare il supporto necessario. Per fare questo, dovrete abilitare la voce<c>"Keyboard support"</c>, <c>"Mouse support"</c> e la voce <c>"Event interface support"</c> che troverete nella sezione <c>"Input core support"</c>.
</impo>
<impo>
Nella sezione <c>"HIL support"</c>, se non avete alcun mouse nella porta HIL, si raccomanda di abilitare solamente la voce <c>"HIL Keyboard (basic) support"</c>.
</impo>
<impo>
E' assicurato il completo supporto alle opzioni <c>"HP System Device Controller i8042 Support"</c> e <c>"HIL MLC Support"</c>, <c>"HIL Keyboard (full) support"</c> e <c>"HIL Mouse &amp; Pointer support"</c>. Ma in questo caso<e>NON</e> selezioniate la voce <c>"HIL Keyboard (basic) support"</c>.
</impo>
</body>
</section>
<section>
<title>Installare PALO : il boot loader</title>
<body>
<p>Il boot loader della piattaforma PA-RISC, si chiama <c>PALO</c>. Il relativo file di configurazione si trova in <e>/etc/palo.conf</e>.
Ecco un esempio di configurazione :</p>
<pre>
--commandline=2/vmlinux root=/dev/sdb2 HOME=/
--recoverykernel=/vmlinux.old
--init-partitioned=/dev/sdb
</pre>
<p>La prima stringa comunica a PALO la locazione del kernel ed i parametri di boot che dovrà usare.
<c>2/vmlinux</c> significa che il kernel nominato <c>/vmlinux</c> risiede nella seconda partizione.
</p>
<impo>Il path del kernel è relativo alla root <e>della partizione</e>, non a quella relativa al file.</impo>
<p>
La seconda stringa indica il nome del kernel di emergenza. Se questa è la vostra prima installazione e non avete un kernel di emergenza, commentate la stringa.
</p><p>
La terza stringa indica su quale disco risiederà <c>PALO</c>.
Finita la configurazione, eseguite <c>palo</c>.</p>
<pre>
# <i>palo</i>
</pre>

</body>
</section>
</chapter> 
<chapter>
<title>Configurazioni finali</title>
<section>
<title>Fuso orario</title>
<body>
<note>E' molto importante che completiate il passo seguente. Un settaggio scorretto del fuso orario porterà ad un progressivo ritardo dell'orologio di sistema.
</note>

<p>A questo punto, dovrete avere un sistema allo stage 3 pronto per la configurazione finale. Inizierete questa fase con il settaggio del fuso orario. Settare il fuso orario prima della compilazione del kernel vi assicura che gli utenti abbiano un corretto <c>uname -a</c>.</p>
<p>Cercate il vostro fuso orario (o UTC se preferite usare l'Universal Time Constant) in <path>/usr/share/zoneinfo</path>.  Quindi, create un link simbolico digitando:
</p><pre>
# <i>ln -sf /usr/share/zoneinfo/path/to/timezonefile /etc/localtime</i>
</pre>
<p>Potete controllare il file <path>/etc/rc.conf</path> per assicurarvi che il fuso orario sia impostato correttamente. </p>
</body>
</section>
<section>
<title>Logger di sistema e demone Cron</title>
<body>
<p>Ora dovete scegliere un logger di sistema da installare. Gentoo Linux offre <c>sysklogd</c>, che è il tradizionale set di demoni per il logging di sistema. Sono inoltre disponibili: <c>msyslog</c>,
<c>syslog-ng</c>, e <c>metalog</c>.  Gli utenti più esigenti sembrano allontanarsi dalla scelta di  <c>sysklogd</c> (dalle performance non molto buone), e scegliere nuove alternative. In paticolare, <c>metalog</c> sembra essere molto usato.
Per fare il merge del logger che scegliete, digitate <e>uno</e> dei quattro gruppi di comandi elencati:
</p>

<pre>
# <i>emerge app-admin/sysklogd</i>
# <i>rc-update add sysklogd default</i>
<comment>oppure</comment>
# <i>emerge app-admin/syslog-ng</i>
# <i>rc-update add syslog-ng default</i>
<comment>oppure</comment>
# <i>emerge app-admin/metalog</i>
# <i>rc-update add metalog default</i>
<comment>oppure</comment>
# <i>emerge app-admin/msyslog</i>
# <i>rc-update add msyslog default</i>
</pre>
<impo>
Metalog trasferisce al disco l'output in blocchi, in modo che i messaggi non siano registrati immediatamente nei log di sistema. Nel caso stiate eseguendo il debug di un demone, questa miglior performance risulta però tutt'altro che utile. Quando Gentoo Linux è avviato, potete inviare a metalog un segnale USR1 per disabilitare temporaneamente il buffering (ciò significa ad esempio che il comando <c>tail -f <path>/var/log/everything/current</path></c> non funzionerà in tempo reale come ci si aspetta), ed un segnale  USR2 per riabilitarlo nuovamente. 
</impo>
<p>A questo punto (la scelta è facoltativa) potete scegliere un pacchetto cron da installare. I pacchetti attualmente disponibili in Gentoo Linux sono: <c>dcron</c>, <c>fcron</c>, e
<c>vixie-cron</c>.
Se non sapete quale scegliere, potete prendere <c>vixie-cron</c>.
Quindi, a seconda del cron scelto, eseguite uno dei seguenti set di comandi:</p>
<pre>
# <i>emerge sys-apps/dcron</i>
# <i>crontab /etc/crontab</i>
<comment>oppure</comment>
# <i>emerge sys-apps/fcron</i>
# <i>crontab /etc/crontab</i>
<comment>oppure</comment>
# <i>emerge sys-apps/vixie-cron</i>
<comment>non dimenticate di aggiungere il vostro *cron al runlevel appropriato. </comment>
# <i>rc-update add *cron default </i>
</pre>
<p>Per maggiori informazioni su come funziona cron in Gentoo Linux, leggete la pagina <uri link="http://lists.gentoo.org/pipermail/gentoo-announce/2002-April/000151.html"></uri>.</p>
<p>Per ulteriori informazioni sul funzionamento dei programmi e dei demoni all'avvio, leggete la guida degli rc-script all'indirizzo <uri link="/doc/en/rc-scripts.xml"></uri>. </p>
</body>
</section>
<section>
<title>Il file /etc/fstab</title>
<body>
<p>Il sistema Gentoo Linux è ora quasi pronto! Rimangono ancora da configurare alcuni importanti file di sistema ed il boot loader PALO. Il primo file da configurare è <path>/etc/fstab</path>. Ricordate che se utilizzate un filesystem di tipo ReiserFS, dovrete utilizzare per la partizione di boot, l'opzione <c>notail</c>  .
Ricordate anche di specificare il filesystem appropriato tra <c>ext2</c>, <c>ext3</c> o <c>reiserfs</c>.</p>
<p>Il vostro <path>/etc/fstab</path> dovrebbe in qualche modo assomigliare ad uno di quelli sotto riportati.Assicuratevi naturalmente di sostituire "BOOT", "ROOT" e "SWAP" con i vostri dispositivi a blocchi (p.e. <c>hda1</c>, etc.)</p>
<pre>
<comment>
# /etc/fstab: static file system information.
#
# noatime turns off atimes for increased performance (atimes normally aren't
# needed; notail increases performance of ReiserFS (at the expense of storage
# efficiency).  it is safe to drop the noatime options if you want and to
# switch between notail and tail freely.

# &lt;fs&gt;           &lt;mountpoint&gt;   &lt;type&gt;   &lt;opts&gt;          &lt;dump/pass&gt;

# NOTE: If your BOOT partition is ReiserFS, add the notail option to opts.
</comment>
/dev/BOOT           /boot       ext2	 noauto,noatime	 1 2
/dev/ROOT           /           ext3	 noatime         0 1
/dev/SWAP           none        swap	 sw              0 0
/dev/cdroms/cdrom0  /mnt/cdrom  iso9660	 noauto,ro       0 0
proc                /proc       proc	 defaults        0 0
</pre>

<warn>Da notare che la directory <path>/boot</path> NON è montata all'avvio. Questo per proteggere i dati contenuti in <path>/boot</path> da possibili corruzioni. Se dovete accedere alla directory <path>/boot</path>, è buona pratica montarla!
</warn>

</body>
</section>
<section>
<title>Scegliere la password di root</title>
<body>
<p>Prima di dimenticarvene, scegliete la password di root digitando:</p>
<pre>
# <i>passwd</i>
</pre>
</body>
</section>
<section>
<title>Il file /etc/hostname</title>
<body>
<p>Modificate questo file in modo che contenga il nome completo della vostra macchina su di una singola stringa, p.e. <c>mymachine.mydomain.com</c>.
</p>
<pre>
# <i>echo mymachine.mydomain.com &gt; /etc/hostname</i>
</pre>
</body>
</section>

<section>
<title>Il file /etc/hosts</title>
<body>
<p>Questo file contiene una lista di indirizzi IP e di relativi hostname. E' usato dal sistema per la risoluzione degli indirizzi IP degli hostname nel caso non siano presenti nei nameserver. Un esempio di questo file è il seguente:
</p><pre>
127.0.0.1      localhost
<comment># la stringa successiva contiene l'indirizzo IP della vostra rete LAN ed il nome associato alla vostra macchina</comment>
192.168.1.1    mymachine.mydomain.com	mymachine
</pre>

<note>Se appartenete ad una rete DHCP, potrebbe essere utile mettere <c>localhost</c> come hostname della vostra macchina. Questo aiuterà GNOME e molti altri programmi nella risoluzione dei nomi.
</note>

</body>
</section>

<section>
<title>Configurazione finale della rete</title>
<body>
<p>
Aggiungete i nomi dei moduli necessari al corretto funzionamento del sistema al file <path>/etc/modules.autoload</path> (potete anche aggiungere nella stessa stringa tutte le opzioni necessarie). Quando Gentoo Linux esegue il boot, questi moduli verranno caricati automaticamente. Di particolare importanza è il modulo della scheda di rete; se lo avete compilato come modulo:
</p>
<pre caption="un esempio del file /etc/modules.autoload">
3c59x
</pre>
<p>Modificate lo script <path>/etc/conf.d/net</path> affinchè carichi il modulo della scheda di rete già dall'avvio successivo:
</p>
<pre caption="Aggiungere eth0 all'avvio">
# <i>nano -w /etc/conf.d/net</i>
# <i>rc-update add net.eth0 default</i>
</pre>
<p>
Se avete più schede di rete dovrete aggiungere nuovi script <path>net.ethx</path> per ogni (<e>x</e> = 1, 2, ...):
</p>
<pre caption="Schede di rete multiple">
# <i>cd /etc/init.d</i>
# <i>cp net.eth0 net.eth<comment>x</comment></i>
# <i>rc-update add net.eth<comment>x</comment> default</i>
</pre>

</body>
</section>

<section>
<title>Configurare i parametri di base (inclusa la mappatura internazionale dei tasti)</title>
<body>
<pre caption="configurazione di base">
# <i>nano -w /etc/rc.conf</i>
</pre>
<p>
Seguite le direttive del file per configurare i parametri di base.
Assicuratevi che l'orologio (<c>CLOCK</c>) sia settato secondo le vostre preferenze. 
Gli utenti che usano la tastiera internazionale vorranno settare la variabile <c>KEYMAP</c> (scorrete il file <path>/usr/share/keymaps</path> per vedere i tipi di mappature disponibili).
</p>
</body>
</section>

</chapter>
<chapter>
<title>Gran Finale!</title>
<section>
<body>
<p>Congratulazioni! Avete appena completato l'installazione di Gentoo Linux sul vostro HPPA. Diamo il benvenuto ad ogni commento o suggerimento che ci possa aiutare nel port di questa piattaforma. Vi ringraziamo per il tempo dedicato ad installare Gentoo Linux.</p>

<p>A questo punto potete scegliere cosa fare. Potete installare subito gli ebuild o procedere con l'unmount e riavviare il sistema per installarli successivamente.</p>
<note>Gran parte di questo manuale di installazione è tratto dalla Guida Gentoo all'Installazione su piattaforma SPARC e dall'HOWTO PA-RISC-Linux-Boot.</note>
</body>
</section>
</chapter>

</guide>
