<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/it/stage-building-guide.xml">

<author title = "Autore">
<!-- zhen@gentoo.org -->John P. Davis</author>
<author title = "Author"><mail link = "avenj@gentoo.org">Jon Portnoy</mail></author>
<author title = "Editor"><mail link = "peesh@gentoo.org">Jorge Paulo</mail></author>
<author title= "Traduttore">
<mail link= "blaze@rootshell.be">Lino Gambella</mail></author>

<author title="Traduttore" >
Team Italiano
</author>


<version>1.1</version>
<date>15 Giugno 2003</date>

<abstract>Questa guida spiega come costruire gli stages per 
Gentoo Linux.</abstract>

<chapter>
	<title>Preliminari</title>
	<section>
		<title>Introduzione</title>
		<body>
		<p>Questa guida spiega come costruire nuovi stages usando stager, la nostra applicazione stage-building.</p>

	</body>
	</section>
	<section>
		<title>Ottenere i sorgenti</title>
		<body>
		<p>Prima di configurare qualsiasi cosa, è necessario ottenere i sorgenti richiesti, i tools ecc.
                Prima di tutto, assicuratevi di avere il modulo <i>gentoo-src</i> aggiornato rispetto al CVS.
                Gli script di build cambiano frequentemente quindi accertatevi di essere a un livello di aggiornamento corrente. Se non avete                 accesso al modulo gentoo-src, uno snapshot di stager può essere trovato in <uri>http://dev.gentoo.org/~avenj/stager/</uri>.
                In più, è necessaria la tarball stage1 sperimentale più recente. Potete trovarla 
                su <path>experimental/x86/stages</path> in ogni Gentoo mirror. 
                La tarball che dovete cercare è <i>stage1-x86-1.4_pre<i>DATA</i></i>.tar.bz2, dove <i>DATA</i> è
                la data più recente possibile. 
		</p>
		
		</body>
	</section>
</chapter>

<chapter>
	<title>Il processo di Build</title>
	<section>
		<title>Primi passi</title>
		<body>
		<p>Prima, create una directory in una partizione bella grande per mantenerci tutto ciò che serve alla costruzione.
                 Dopo, copiate la directory
                <path>stager</path> da <i>gentoo-src</i> in questa nuova directory (che sarà riferita come <path>/usr/src/build</path> in questo documento). In alternativa, estraete il tarball dello snapshot in questa directory. Infine, create una directory dentro <path>/usr/src/build</path>,
                chiamatela <i>stages</i> e metteteci la tarball sperimentale stage1.
                </p>

		<pre caption="Prepararsi">
			# <c>mkdir /usr/src/build </c>
<codenote>Potete cambiare il path di qua sopra in quello che volete.
</codenote>

# <c>cp -R /gentoo-src/stager/ /usr/src/build</c>
# <c>cd /usr/src/build/stager ; mkdir stages</c>
# <c>mv stage1-x86-1.4_preDATE.tar.bz2 /usr/src/build/stager/stages</c>

		</pre>

		</body>
	</section>

	<section>
		<title>Costruzione</title>
		<body>
			<p>Prima dobbiamo costruire una stage2 tarball che utilizza ottimizzazioni generiche. Questa tarball verrà usata per costruire
				tutti i nuovi stages, compreso un nuovo stage1.
		</p>

		<pre caption="Costruire stage2">
# <c>./stager x86 2 orig dest</c>
<codenote>Orig si riferisce alla data nel nome della tarball sperimentale.</codenote>
<codenote>Dest si riferisce alla data della nuova tarball. Sostituitela di conseguenza.</codenote>

		</pre>

		<p>Dopo che questo build finisce, abbiamo una tarball stage2 nella directory <path>stages</path>. Ora potete costruire una nuova stage1 dalla stage2
			usando semplicemente lo stesso metodo:
		</p>
		<pre caption="Costruire la nuova stage1">
		# <c>./stager x86 1 dest dest</c>
	</pre>

	<p>Ok, avete costruito una nuova stage1 con la stage1 originale e la nuova stage2. Ora potete costruire tarball non-generiche, ottimizzate per
		sottotipi di CPU. Attenzione che queste tarball <i>non possono</i> essere usate per costruire altri stages. Solo le tarball generiche possono
		essere usate. Costruire per altri sottotipi è lo stesso, sostituite x86 con il tipo specifico. Per una lista di tipi, eseguite stager
		senza argomenti.</p>

		</body>
	</section>

</chapter>

<chapter>
	<title>Note Finali</title>
	<section>
		<title>Contatti</title>
		<body>
		
		<table>
		<tr>
			<th>Contatto</th>
			<th>Funzione</th>
		</tr>
		<tr>
			<ti><mail link="avenj@gentoo.org">John Portnoy</mail></ti>
			<ti>Gentoo Linux Release Manager</ti>
		</tr>
		<tr>
			<ti><mail link="jhhudso@gentoo.org">Jared Hudson</mail></ti>
			<ti>Responsabile di qualità</ti>
		</tr>
		<tr>
			<ti>John Davis</ti> <!-- zhen@gentoo.org -->
			<ti>Autore</ti>
		</tr>
		<tr>
			<ti><mail link="avenj@gentoo.org">John Portnoy</mail></ti>
			<ti>Autore</ti>
		</tr>
		</table>
		
		</body>
	</section>
</chapter>
</guide>
			
		

		


