<?xml version = '1.0' encoding = 'UTF-8'?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link="/doc/it/printing-howto.xml" >
<title>Guida per Stampare in Gentoo</title>
<author title="Autore" >
<mail link="zhen@gentoo.org" > 
		John P. Davis</mail>
</author>
<author title="CopyEditor" >
<mail link="sunflare@gentoo.org" >Phil Bordelon</mail>
</author>
<author title="Editore" >
<mail link="wleggette@gate.net" >Wesley Leggette</mail>
</author>
<author title="Traduttore" >
<mail link="bsolar@bluewin.ch" >Christian Apolloni</mail>
</author>
<author title="Traduttore" >
Team Italiano
</author>
<abstract>Una guida completa per stampare in Gentoo Linux. Questo documento copre sia la stampa locale che quella in rete.
	</abstract>
<version>1.1.2</version>
<date>18 Febbraio 2003</date>
<chapter>
<title>Stampa locale usando CUPS</title>
<section>
<title>Installare CUPS e foomatic</title>
<body>
<p>Configurare Gentoo per la stampa è un procedimento relativamente poco doloroso, grazie ad alcuni grandi programmi come CUPS (Common Unix Printing System) e foomatic. Entrambi sono molto facili da configurare per l'utente finale.
				</p>
<p>Per favore sappi che CUPS è cross-desktop, cioè puoi seguire queste istruzioni per stampare sotto ad.es sia GNOME che KDE. Ci sono altre opzioni, come il print setup di KDE, ma credo che CUPS sia il più facile da configurare, e il più scalabile.
				</p>
<p>Prima di effettuare l'emerge di CUPS, è una buona idea aggiungere le necessarie USE flags ad <path>/etc/make.conf</path>.
				</p>
<pre caption="Editare /etc/make.conf" >
<comment>aggiungi <i>cups</i> e <i>usb</i> (se usi una stampante USB) alla tua lista di variabili USE. </comment>USE=&quot;cups usb altra_var1 altra_var2&quot;</pre>
<p>Per ulteriori informazioni sulle variabili USE, consulta l'<uri link="http://www.gentoo.org/doc/en/use-howto.xml" >USE HOWTO</uri>.
				</p>
<pre caption="Installare i Pacchetti necessari" > 
# <c>emerge cups</c>  
# <c>emerge foomatic </c>
</pre>
</body>
</section>
<section>
<title>Configurare i Moduli del Kernel</title>
<body>
<p>Ora che i pacchetti necessari sono installati, è tempo di installare la stampante.
				</p>
<p>A seconda del tipo di connessione alla stampante che usi, sarà necessario attivare nel kernel la porta parallela o quella USB per collegamenti alle stampanti.
				</p>
<p>Per attivare il supporto alle stampanti USB, vai sotto USB support e attiva <c>Support for USB</c> e
				<c>USB Printer support</c>. Selezionando entrambi come moduli installerà usbcore.o e printer.o nella tua directory dei moduli. Ti suggerisco di usare i moduli, così non dovrai riavviare il computer.
				</p>
<note>Se non sei sicuro su come compilare il kernel, il Linux Kernel-HOWTO ufficiale può essere trovato <uri link="http://www.tldp.org/HOWTO/Kernel-HOWTO.html" >qui</uri>. Assicurati di scoprire come compilare e installare nuovi moduli senza ricompilare il kernel o riavviare il computer. Ti farà risparmiare molto tempo.
				</note>
<p>Dopo che il kernel è compilato e il tuo computer riavviato, è tempo di caricare i moduli necessari:
				</p>
<pre caption="Caricare i moduli USB" > 
# <c>modprobe usbcore</c> 
# <c>modprobe printer</c>
</pre>
<p>Dopo che i moduli sono caricati con successo, collega la stampante e controlla <path>/var/log/messages</path> Per vedere se è stata rilevata.
				</p>
<note>Se usi qualcosa di diverso da sysklogd, il tuo file log del kernel sarà diverso.</note>
<pre caption="Controllare Messaggi del Kernel" > 
# <c>tail /var/log/messages</c>
</pre>
<p>Dovresti vedere qualcosa di questo tipo:
				</p>
<pre caption="/var/log/messages Output" >
hub.c: USB new device connect on bus2/2, assigned device number 2 
printer.c: usblp0: USB bidirectional printer dev 2 if 0 alt 1 proto 2 vid 0x03F0 pid 0x1104 
				</pre>
<note>Se usi una stampante parallela, assicurati che sia collegata prima di riavviare. Una volta che il sistema è partito, esegui <c>dmesg</c> e cerca delle prove che indichino il rilevamente della stampante da parte del kernel.
				</note>
<p>Prima di installare la stampante con CUPS, si può testarla con alcuni semplici comandi a basso livello.
				</p>
<pre caption="Testare la Stampante isamdp cat" >
# <c>touch test.txt</c>
# <c>echo &quot;Hello World&quot; > test.txt</c>
# <c>cat test.txt > /dev/usb/lp0 </c>
<comment> Alternativamente, per stampanti parallele: </comment>
# <c>cat test.txt > /dev/lp0 </c>
</pre>
</body>
</section>
<section>
<title>Driver Speciali per la Stampante</title>
<body>
<p>
				Prima di usare foomatic per genereare un file PPD, potrebbe essere necessario trovare i driver di terze parti per la tua stampante. Ad.es, Epson rende disponibili <uri link="http://www.epkowa.co.jp/english/linux_e/linux.html" >diversi driver per stampanti</uri> per sistemi operativi open source. Ad ogni modo, come per quelli Epson, molti di questi driver non sono open source.
				</p>
<p>
				Per molte stampanti tranne HP Inkjets, sarai in grado di usare i driver standard di Linux. Visita il <uri link="http://www.linuxprinting.org/printer_list.cgi" >database di supporto per stampanti di linuxprinting.org</uri> per trovare informazioni sulla tua stampante specifica. Assicurati di leggere la documentazione messa a disposizione con ciascun driver che scarichi per informazioni sull'installazione e la licenza.
				</p>
<impo>Se usi una stampante HP Inkjet, sarà necessario installare il driver per stampante <c>hpijs</c>. Questo driver gestisce tutte le interpretazioni Postscript necessarie a far funzionare la stampante HP. Il driver <c>hpijs</c> è solo per stampanti HP Inkjet, ma è disponibile attraverso Portage per tua convenienza. La documentazione da HP per il driver <c>hpijs</c> sarà messa in <path>/usr/share/doc/hpijs-&lt;versione></path>. L'autore raccomanda <i>caldamente</i> di leggerla.
				</impo>
<pre caption="Inistallare hpijs" > 
# <c>emerge hpijs</c>
</pre>
<note>Se usi una HP Laserjet, il supporto potrebbe già essere disponibile attraverso il sistema di stampa di GNOME. Se non usi una stampante HP Inkjet, non hai bisogno di installare questo speciale driver.
				</note>
</body>
</section>
<section>
<title>Configurazione del File PPD</title>
<body>
<p>E' giunto il momento di configurare la stampante e CUPS. Per fare in modo che la tua stampante interpreti Postscript correttamente, CUPS ha bisogno di un file PPD (Printer Postscript Definition). Il metodo più semplice per generare un PPD è attraverso foomatic.
				</p>
<p>Tre informazioni sono necessare per far funzionare il comando qui sotto; hai bisogno dell'ID della tua stampante, il device e il driver della stampante (questo è hpijs se devi installare il driver speciale sopra). L'ID della stampante e il driver possono essere <c>greppati</c> dal database di foomatic, e il device è il nodo al quale la tua stampante è collegata (ad.es. <path>/dev/lp0</path> o <path>/dev/usb/lp0</path>).
				</p>
<p>Prima di usare <c>foomatic-configure</c>, ricordati di avviare <i>cupsd</i>
</p>
<pre caption="Avviare cupsd" >
# <c>/etc/init.d/cupsd start</c>
</pre>
<pre caption="Uso Generico di foomatic" >
# <c>grep $printer_model /usr/share/foomatic/db/source/printer/* </c>
# <c>grep $printer_ID /usr/share/foomatic/db/source/driver/* </c>
# <c>foomatic-configure -s cups -p $printer_model_number -c $print_device_path -n queue name -d driver </c>
</pre>
<p>Ora, qui c'è un esempio più specifico. Il codice seguente assume che hai una Epson Stylus Color 980. Naturalmente, devi rimpiazzarlo con il tuo modello di stampante effettivo.
				</p>
<pre caption="Uso Specifico di foomatic con la Stylus Color 980" >
# <c>grep Stylus Color 980 /usr/share/foomatic/db/source/printer/* </c>
<comment> Ora cerca la linea che dice: </comment>
/usr/share/foomatic/db/source/printer/317865.xml:   $lt;model>Stylus Color 980&lt;/model>
<comment> 317865 è l'ID della stampante. </comment>

# <c>grep 317865 /usr/share/foomatic/db/source/driver/* </c>
/usr/share/foomatic/db/source/driver/gimp-print.xml:  &lt;printer>&lt;id>printer/317865&lt;/id>&lt;/printer>
<comment> Qui il driver di stampa è gimp-print.</comment>

# <c>foomatic-configure -s cups -p 317865 -c file:/dev/lp0 -n Epson -d gimp-print </c>
</pre>
<note>Ricorda che potresti dover usare <path>/dev/usb/lp0</path> se hai una stampante USB.
				</note>
<impo>Se avrai problemi, consulta la documentazione di foomatic <uri link="http://www.linuxprinting.org/foomatic/USAGE" >qui</uri> 
				e la <uri link="http://www.linuxprinting.org" >linuxprinting.org</uri>
				homepage per ulteriori informazioni.
				</impo>
</body>
</section>
<section>
<title>Configurazione di CUPS</title>
<body>
<p>Dato che la stampande stessa è ora a posto, ora CUPS deve essere configurato per gestire la coda della stampante. Si può accedere a CUPS tramite un browser web dalla porta 631 del server di stampa.
				</p>
<impo>CUPS ha un file di configurazione predefinito per il daemon che dovrebbe, ma non è strettamente necessario, essere modificato. Potresti volergli dare un occhiata, è il file <path>/etc/cups/cupsd.conf</path>.</impo>
<pre caption="Aggiungere CUPS al runlevel di default, e avvio di CUPS" >
# <c>rc-update add cupsd default</c>
# <c>/etc/init.d/cupsd start</c>
</pre>
<p>Il daemon CUPS ora dovrebbe essere avviato, quindi apri il tuo browser preferito e puntalo <uri link="http://127.0.0.1:631" >qui</uri>. 
				</p>
<p>Se tutto va bene, verrai accolto dalla schermata principale di configurazione di CUPS. Clicca su <i>administration</i> in cima alla pagina, ed inserisci la password di root o il nome di qualcuno che appartiene al gruppo <i>lp</i>. Una volta autenticato, cicca su <i>Add Printer</i> sotto la sezione <i>printers</i>. Inserisci il nome, la descrizione e la locazione della tua stampante. Devi inserire il nome della stampante in modo che sia uguale alla coda di stampa che hai specificato per foomatic. Ora devi scegliere il device al quale la tua stampante è collegata. Scegli la marca della stampante e continua. Nella prossima pagina scegli la tua stampante dalla lista.
				</p>
<p>La configurazione è completa! Clicca sul nome della tua stampante, quindi prova a stampare una pagina di prova. Voila, il setup della tua stampante è completo!
				</p>
<note>Se la stampante non funziona per un qualsiasi motivo, vai nella directory dove hai detto a CUPS di salvare i log, e cerca in <i>error_log</i>.
				</note>
</body>
</section>
</chapter>
<chapter>
<title>Configurare The GIMP, OpenOffice.org1.0, e Abiword per stampare con CUPS.</title>
<section>
<title>The GIMP</title>
<body>
<p>Prima di cominciare, dobbiamo installare le estensioni di stampa CUPS per The Gimp.
				</p>
<pre caption="Installazione di gimp-print-cups" >
# <c>emerge gimp-print-cups </c>
</pre>
<p>Ora, apri The GIMP, e apri una immagine esistente o semplicemente un'immagine vuota, non importa dato che stiamo cercando il suo menu <i>File</i>. Clicca col tasto destro sull'immagine e seleziona <i>File/Print</i> Il dialogo di stampa dovrebbe apparire e quando lo farà, clicca su new printer. Se la tua stampante non è già nella lista, inseriscine il nome, quindi seleziona il tipo di stampante. Ok, ora dovresti poter stampare da The GIMP. Gioca con i settaggi e divertiti.
				</p>
</body>
</section>
<section>
<title>OpenOffice.org1.0</title>
<body>
<p>Stampare con OpenOffice.org1.0 non è molto più difficile. Apri <path>OpenOffice.org1.0/program </path>, ed esegui <c>spadmin</c>. Crea una nuova stampante e quando apparirà la schermata <i>Choose a Driver</i>, clicca su <i>import</i> e cerca il PPD della tua stampante. Nel nostro caso dovrebbe essere <path>/etc/cups/ppd</path>. Usa i comandi di stampa predefiniti, dai un nome alla stampante, selezionala come stampante predefinita, e sei pronto per stampare! Avvia OpenOffice.org1.0 e vai alla schermata di stampa, e seleziona la tua stampante. Stampa una pagina di prova e hai finito.
				</p>
</body>
</section>
<section>
<title>Abiword</title>
<body>
<warn>Abiword fa un segfault ed un crash con CUPS-1.1.15-r2. Si raccomanda di usare la serie .14 per risolvere il problema.
				</warn>
<p>TODO: aggiungere il supporto per Abiword.</p>
</body>
</section>
<p>La stampa in locale è ora completata, adesso per aggiungere il supporto di rete.
			</p>
</chapter>
<chapter>
<title>Stampare in rete usando CUPS e SAMBA</title>
<section>
<title>Stampare con una Stampante Windows da una Macchina Linux</title>
<body>
<p>Innanzitutto, SAMBA deve essere installato perchè le prossime due opzioni funzionino. 
				</p>
<pre caption="Installazione di SAMBA" >
# <c>emerge samba</c>
</pre>
<note>Per ulteriori informazioni su SAMBA, il SAMBA HOWTO ufficiale è <uri link="http://www.tldp.org/HOWTO/SMB-HOWTO.html" >qui</uri>
</note>
<p>Prima, usiamo <i>foomatic</i> per generare il PPD per la stampante remota. Non dimenticare di controllare se la tua stampante è compatibile con Linux o meno con il database delle stampanti di <uri link="http://www.linuxprinting.org/printer_list.cgi" >linuxprinting.org</uri> Ora diremo a <i>foomatic</i> dov'è e di che tipo è la stampante, e quindi muoveremo il PPD generato nel posto corretto.
				</p>
<pre caption="Uso di foomatic con Samba" >
<codenote>Per favore aquisisci il modello della stampante e il nome del driver usando il passaggi menzionati prima. </codenote>
# <c>foomatic-configure -s cups -p $printer_model -c smb://user:password@server/share -n queue name -d hpijs </c>
</pre>
<p>Ora punta <uri link="http://localhost:631" >qui</uri> il tuo browser preferito per visualizzare la GUI di configurazione di CUPS. Segui i passaggi sopra per aggiungere una stampante, ma questa volta, quando viene chiesta la porta alla quale la stampante è collegata, specifica <i>smb://user:password@server/share</i>. Questo indirizzerà CUPS alla stampante della macchina Windows.
				</p>
</body>
</section>
<section>
<title>Uso di Linux come Server di Stampa Compatibile con Windows</title>
<body>
<p>Linux è un grande server di stampa, anzi, è un grande server di tutto. La prima cosa da fare è editare <path>/etc/samba/smb.conf</path> a seconda dei tuoi setting. Il file <i>smb.conf</i> contiene tutti i settaggi che faranno apparire il tuo linux come un server Windows NT ad ogni macchina Windows. Ho incluso un esempio molto utile di <i>smb.conf</i> sotto. Editalo a seconda delle necessita del tuo ambiente di rete. 
				</p>
<pre caption="smb.conf d'esempio" >
<c>[global]</c>
<c>workgroup = TUO_WORKGROUP</c>
<c>server string = Gentoo Linux Server</c>
<c>encrypt passwords = True</c>
<c>security = user</c>
<c>smb passwd file = /etc/samba/private/smbpasswd</c>
<c>log file = /var/log/samba/log.%m</c>
<c>socket options = IPTOS_LOWDELAY TCP_NODELAY</c>
<c>domain master = Yes</c>
<c>local master = Yes</c>
<c>preferred master = Yes</c>
<c>os level = 65</c>
<c>dns proxy = No</c>
<c>name resolve order = lmhosts host bcast</c>
<c>bind interfaces only = True</c>
<c>interfaces = eth0</c>
<c>hosts deny = ALL</c>
<c>hosts allow = 192.168.1.4 127.0.0.1 (lista di host permessi) </c>
<c>debug level = 1</c>
<c>create mask = 0644</c>
<c>directory mask = 0755</c>
<c>level2 oplocks = True</c>
<c>read raw = no</c>
<c>write cache size = 262144</c>
<c>[printers]</c>
<c>comment = All Printer</c>
<c>path = /var/spool/samba</c>
<c>browseable = no </c>
</pre>
<p>Ora che SAMBA è configurato, riavvialo, vai alla tua macchina Windows e installa una stampante di rete. Facile, eh?
				</p>
</body>
</section>
</chapter>
</guide>
