<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/gentoo-ppc-faq.xml,v 1.14 2012/04/18 18:30:26 swift Exp $ -->

<guide lang="it">
<title>Gentoo Linux/PowerPC: Domande frequenti (FAQ)</title>

<author title="Redazione">
  <mail link="rajiv@gentoo.org">Rajiv Manglani</mail>
</author>
<author title="Redazione">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Redazione">
  <mail link="sejo@gentoo.org">Jochen Maes </mail>
</author>
<author title="Redazione">
  <mail link="josejx@gentoo.org">Joseph Jezak</mail>
</author>
<author title="Redazione">
  <mail link="nightmorph"/>
</author>
<author title="Traduzione">
  <mail link="paolo@webgrapes.it">Paolo Gabrielli</mail>
</author>
<author title="Traduzione">
  <mail link="postmaster@sbisinger.net">Stéphane Bisinger</mail>
</author>
<author title="Traduzione">
  <mail link="scen@gentoo.org">Davide Cendron</mail>
</author>

<abstract>
Questo documento riguardante Gentoo/PPC è una raccolta di domande e risposte
raccolte dalla mailing list gentoo-ppc-dev e da IRC.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.41</version>
<date>2009-04-15</date>

<faqindex>
<title>Domande</title>
<section>
<title>Introduzione alle Domande frequenti (FAQ) per Gentoo/PPC</title>
<body>

<p>
Questo documento è una raccolta di domande e risposte raccolte dalla mailing
list gentoo-ppc-dev e da IRC; per qualsiasi domanda (o risposta!) da aggiungere,
si prega di contattare o un autore o un membro del team della documentazione.
</p>

</body>
</section>
</faqindex>

<chapter>
<title>Installazione</title>
<section id="powerpc">
<title>Che tipo di computer PowerPC possiedo e dove posso trovare maggiori
informazioni riguardo ad esso?</title>
<body>

<p>
Benvenuti su Gentoo PPC! Il processore PowerPC viene utilizzato in molti
popolari dispositivi computerizzati, perciò di seguito vengono proposti alcuni
collegamenti che possono aiutare a capire che tipo di hardware c'è nella
macchina sulla propria scrivania.
</p>

<ul>
  <li>
    <uri link="http://www.info.apple.com/support/applespec.html">
      Pagina Prodotti di Apple
    </uri>
  </li>
  <li>
    <uri link="http://lowendmac.com/profiles.htm">
      Cronologia e Dettagli Prodotti di Apple
    </uri>
  </li>
  <li>
    <uri link="http://www.pegasosppc.com/products.php">
      Informazioni sui Modelli Genesi
    </uri>
  </li>
  <li>
    <uri
link="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com
.ibm.pseries.doc/hardware_docs/selectbysystem.htm">
      Documentazione IBM per Modello
    </uri>
  </li>
  <li>
    <uri link="http://kurobox.com/">KuroBox</uri>
  </li>
  <li>
    <uri link="http://penguinppc.org/">
      PenguinPPC - Informazioni riguardanti Linux su PowerPC
    </uri>
  </li>
</ul>

</body>
</section>
<section id="osxverify">
<title>
Come posso verificare con OSX che la ISO scaricata non sia rovinata?
</title>
<body>

<p>
Come prima cosa assicurarsi di non aver fatto il mount del ftp-server con il
<e>Finder</e> e di non aver copiato l'immagine con il drag'n'drop. Questo
rovinerà l'immagineISO. Usare invece <c>curl</c> (con <c>curl -O
http://percorso/della/iso</c>).
</p>

<p>
È possibile controllare il proprio checksum MD5 servendosi dell'utilità
<c>md5sum</c> fornita con OSX. Sulle versioni di OSX senza md5sum, si può usare
la capacità di <c>openssl</c> di produrre un checksum md5.
</p>

<pre caption="Creare un md5sum con openssl">
<comment>(Questo potrà impiegare del tempo a seconda della dimensione della ISO e del proprio processore.)</comment>
$ <i>openssl md5 /percorso/della/iso</i>
</pre>

<p>
Ora confrontare questo output con il file appropriato situato sul server da
dov'è stata scaricata l'immagine ISO (il file ha estensione <path>.md5</path>).
Se corrispondono, la ISO è stata scaricata correttamente. Assicurarsi ancora di
<e>non</e> averla montata (p.e. con Disk Copy)!
</p>

</body>
</section>
<section id="dualboot">
<title>Posso avere un dual-boot con Gentoo Linux e Mac OS X?</title>
<body>

<p>
Sì, è possibile! Infatti, <e>yabootconfig</e> automaticamente troverà e
configurerà <path>/etc/yaboot.conf</path> con Linux, Mac OS X ed anche Mac OS
classic (consultare il <uri
link="/doc/it/handbook/handbook-ppc.xml?part=1&amp;chap=10">Manuale Gentoo Linux
PPC</uri> per i dettagli su yabootconfig). Il trucco sta nel partizionamento del
proprio disco fisso. Prima di installare Gentoo, avviare il computer con il CD
d'installazione Mac OS X. Usare <c>Disk Utility</c> per partizionare il proprio
disco in due o tre partizioni. Alternativamente usare <c>parted</c> da un
recente Disco di Installazione Gentoo, poiché è stato aggiornato per gestire le
partizioni HFS e HFS+. Parted è anche in grado di rimpicciolire una partizione
così non ci sarà bisogno di cancellare l'intero disco. La prima partizione
dovrebbe essere abbastanza grande da contenere tutte le partizioni Linux
(root+swap+home ecc.) che si intendete creare in seguito. Il formato di questa
partizione non importa. La seconda dovrebbe essere per OS X. La terza (e
opzionale) partizione dovrebbe essere per Mac OS Classic. È necessaria soltanto
se si vogliono mantenere i tre sistemi operativi, dato che Mac Os 9 deve stare
su una partizione separata da Mac OSX per far funzionare tutto questo.
</p>

<p>
Dopo aver partizionato, installare Mac OS X e Mac OS 9 sulle loro rispettive
partizioni. Una volta che l'installazione è completa, iniziare a seguire il <uri
link="/doc/it/handbook/handbook-ppc.xml">Manuale Gentoo Linux PPC</uri>.
Arrivati alla sezione sul partizionamento, usare <c>mac-fdisk</c> per
<e>cancellare</e> la grande partizione creata precedentemente per Gentoo. Al suo
posto, creare una partizione di bootstrap, una di root, una di swap, e qualsiasi
altra partizione che si vorrà usare con Gentoo.
</p>

<p>
Se si possiede un vecchio OldWorld Macintosh (pre-iMac), seguire una procedura
simile a quella descritta sopra. Comunque, usare il CD d'installazione del Mac
OS 9 e l'utilità <c>Drive Setup</c>. Le macchine OldWorld non hanno bisogno di
una partizione di bootstrap.
</p>

<note>
Se yabootconfig non rileva le proprie partizioni MacOS, è possibile aggiungerle
manualmente al proprio yaboot.config. Fare riferimento al yaboot.conf di esempio
nel <uri
link="/doc/it/handbook/handbook-ppc.xml?part=1&amp;chap=10#doc_chap2_pre6">
manuale</uri> per ulteriori dettagli.
</note>

</body>
</section>
<section id="bwof">
<title>
Possiedo uno dei primi NewWorld Mac come il Blue e White G3. Dovrebbe essere
compatibile con l'InstallCD, ma all'avvio mi ritorna l'errore "Unknown or
corrupt filesystem" (Filesystem sconosciuto o danneggiato).
</title>
<body>

<p>
Per aggirare il problema, avviare in Open Firmware tenendo premuti i tasti Apple
+ Option + O + F durante la procedura di avvio. Quando appare il prompt,
scrivere:
</p>

<pre caption="Soluzione con Open Firmware per i primi NewWorld Mac">
<i>boot cd:,\\yaboot</i>
</pre>

<p>
Il CD dovrebbe avviarsi come previsto ora; grazie a John Plesmid per questa
soluzione.
</p>

</body>
</section>
<section id="bootxarchive">
<title>
Possiedo un Macintosh OldWorld e devo usare BootX. Tuttavia, sto riscontrando
problemi ad aprire l'archivio d'installazione di BootX. Cosa posso fare?
</title>
<body>

<p>
C'è bisogno di una nuova versione di <e>StuffIt Expander</e> per aprire il file.
È possibile <uri
link="http://www.stuffit.com/expander/download.html">scaricarla</uri>
gratuitamente.
</p>

</body>
</section>
<section id="beigehd">
<title>
Ho una macchina G3 Beige. Posso installare Gentoo Linux/PPC su un secondo
hard drive IDE?
</title>
<body>

<p>
Le prime macchine G3 Beige (quelle con la scheda madre "Rev 1" con un chip
ATI RageII+) non supportano unità drive IDE slave. Per usare un secondo hard
drive con questa macchina, bisognerebbe attaccarlo al connettore SCSI interno o
esterno, oppure installare una scheda PCI IDE. Le macchine G3 successive non
hanno questa limitazione. Vedere
<uri>http://www.xlr8yourmac.com/G3-ZONE/IDE/index.html</uri> per ulteriori
informazioni.
</p>

</body>
</section>
<section id="gblimit">
<title>
Ho un iMac revisione A o B. Ho rimpiazzato il disco fisso con un altro più
grande e ora non riesco più ad avviare nulla!
</title>
<body>

<p>
C'è un limite di 8GB per la prima partizione su queste macchine. Assicurarsi che
la prima partizione sia meno di 8GB e dovrebbe funzionare come previsto. Questo
si applica anche a OS X e alle ultime versioni di OS 9.
</p>

</body>
</section>
<section id="fstabboot">
<title>
Il mio file /etc/fstab ha dentro il path /dev/BOOT. Devo correggere questa riga
per la mia partizione di bootstrap Apple?
</title>
<body>

<p>
No. Se non si sta usando una partizione di boot separata (<path>/boot</path>)
allora non c'è bisogno di questa riga e la si può cancellare tranquillamente da
<path>/etc/fstab</path>. La partizione di bootstrap Apple <e>non</e> è
<path>/boot</path> e non sono in relazione in alcun modo. In generale, le
macchine Apple PowerPC non necessitano di un partizione <path>/boot</path>
separata, e la partizione di bootstrap non dovrebbe essere montata od elencata
nel proprio fstab.
</p>

</body>
</section>
<section id="fixit">
<title>
Quando ho riavviato, yaboot non ha funzionato! Ora sono fermo. Come posso
risolvere il problema?
</title>
<body>

<p>
Probabilmente è solo un yaboot.conf mal configurato. Il metodo più semplice per
aggiustare la cosa è avviare nuovamente l'InstallCD, montare la partizione
Gentoo e controllare in yaboot.conf se vi sono errori. Sarà necessario eseguire
<c>ybin -v -C /mnt/gentoo/etc/yaboot.conf</c> per aggiornare il boot loader una
volta terminato. Tutto questo può essere fatto senza fare il chroot nella
cartella di installazione.
</p>

<note>
Se <e>davvero</e> si ha solamente bisogno di accedere a OS X, provare a tenere
premuto il tasto Option all'avvio. Questo dovrebbe proporre una selezione
grafica dei dischi avviabili. Scegliere OS X e ricordarsi di correggere i propri
problemi di avvio successivamente.
</note>

</body>
</section>

<section id="xfs">
<title>
Quando provo ad avviare, yaboot dice solamente "read error"! Perché non
riesco a fare il boot?
</title>
<body>

<p>
Probabilmente si sta utilizzando XFS per la propria partizione di root.
Nonostante sia un'opzione, yaboot ha qualche piccolo problema ad accedere a
file contenenti dei buchi. Per assicurarsi che il proprio kernel si avvii,
invece di copiare il file vmlinux in /boot, trasferirlo semplicemente tramite
il comando <c>cat</c> come mostrato nell'esempio seguente.
</p>

<pre caption="Correggere gli errori di lettura di yaboot su XFS tramite cat">
# <i>cat /usr/src/linux/vmlinux &gt; /boot/vmlinux</i>
</pre>

</body>
</section>
<section id="applebrokeit">
<title>
Ho installato un aggiornamento di OSX ed ora il mio computer si avvia solamente
in OSX! Come posso sistemarlo?
</title>
<body>

<p>
Tenere premuto il tasto Option all'avvio. Si verrà introdotti ad un'interfaccia
grafica per la selezione del dispositivo di boot. Attendere fino alla comparsa
di un disco fisso con un pinguino, quindi cliccare sull'icona. Ciò facendo verrà
avviata come al solito la propria installazione di linux. Una volta avviato il
sistema, rieseguire <c>ybin -v</c> per sistemare il bootloader.
</p>

</body>
</section>
<section id="stupidclock">
<title>
Non riesco ad avviare l'InstallCD! Si blocca mentre cerca di impostare
l'orologio hardware? Cosa devo fare?
</title>
<body>

<p>
Sfortunatamente, c'era un bug in alcune versioni degli script di baselayout.
Per riuscire ad avviare il sistema, bisogna impostare l'orologio hardware. Per
fare ciò avviare la macchina in Open Firmware (usando la combinazione di tasti
Apple + O + F). Una volta arrivati al prompt di Open Firmware, è possibile
impostare l'orologio usando il comando seguente:
</p>

<pre caption="Impostare l'orologio dal prompt di open firmware">
<comment># decimal dev rtc secondi minuti ore giorno mese anno set-time</comment>
<comment># L'esempio seguente imposta l'orologio alle ore 1:23:45 del 7 Giugno 20000</comment>
 ok
0 > decimal dev rtc 45 23 1 6 7 2000 set-time
 ok
1 >
</pre>

<p>
Open Firmware restituirà un ok dopo che l'orologio sarà stato impostato. Ora il
sistema dovrebbe avviarsi regolarmente. Digitare <c>mac-boot</c> per continuare
la fase di boot a seguito dell'impostazione dell'orologio.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Supporto Hardware</title>
<section id="laptoppkgs">
<title>
Sto eseguendo Gentoo su un computer laptop PowerPC. Che pacchetti dovrei
installare per abilitare le funzionalità specifiche per i laptop?
</title>
<body>

<p>
Ci sono quattro pacchetti principali che necessitano di essere installati.
</p>

<ul>
  <li>
    <e>pbbuttonsd</e> è uno strumento che abilita la luminosità e i tasti del
    volume, nonché altre funzionalità specifiche, sulla maggior parte dei laptop
    ppc. La versione attuale inoltre funziona da gestore energetico e rimpiazza
    <e>pmud</e>.
  </li>
  <li>
    <e>powerprefs</e> fornisce uno strumento grafico per la configurazione di
    pbbuttonsd incluse le impostazioni per la gestione energetica, le opzioni
    del trackpad e molte altre preferenze.
  </li>
  <li>
    <e>powernowd</e> permette di scalare la velocità della cpu in modo da
    allungare la vita della batteria. Altri pacchetti forniscono la stessa
    funzionalità, per esempio <e>cpudyn</e>, <e>cpufreqd</e> e <e>speedfreq</e>.
    Non è importante quale si sceglierà di usare, basta assicurarsi che il
    governor <e>userspace</e>, per lo scaling della frequenza della cpu, sia
    abilitato nel proprio kernel. Questo è l'unico governor che funzionerà su
    PPC.
  </li>
</ul>

<p>
Questi pacchetti possono essere installati eseguendo i comandi appropriati
mostrati di seguito:
</p>

<pre caption="Installare i pacchetti specifici per i laptop">
# <i>emerge pbbuttonsd</i>
# <i>emerge powerprefs</i>
# <i>emerge powernowd</i>
</pre>

<note>
È consigliabile modificare <path>/etc/pbbuttonsd.conf</path> o usare
<e>powerprefs</e> per adattare il sistema alle proprie esigenze. Il
comportamento dei tasti Fx può essere controllato qui come anche molte opzioni
di sleep. Per commutare i tasti Fx a comportarsi come in OSX, impostare KBDMode
a fkeyslast. È possibile disattivare il tapping del touchpad impostando TPMode a
notap. Sono disponibili molte altre opzioni, per i dettagli consultare la
pagina man di pbbuttonsd.conf.
</note>

<p>
È utile aggiungere pbbuttonsd e powernowd al proprio runlevel di boot in modo da
farli partire quando si avvia il computer. Per fare ciò:
</p>

<pre caption="Aggiungere pbbuttonsd e cpudyn al runlevel di boot">
# <i>rc-update add pbbuttonsd boot</i>
# <i>rc-update add powernowd boot</i>
</pre>

</body>
</section>
<section id="onebutton">
<title>
Ho solo un mouse ad un tasto. Come faccio ad usare il secondo e il terzo
bottone, visto che il tasto ctrl non funziona?
</title>
<body>

<p>
Non c'è modo di usare il tasto ctrl come in Mac OS X. Ma è possibile designare
praticamente qualsiasi tasto o combinazione di tasti per emulare il secondo e
terzo bottone del mouse. I valori possono essere ottenuti con l'utilità
<c>showkey</c> da console. È da notare che questo programma non funziona come
dovrebbe da X e deve essere eseguito da console. Per usare questa caratteristica
abilitare le seguenti opzioni nel proprio kernel:
</p>

<pre caption="Macintosh Device Drivers">
[*] Apple Desktop Bus (ADB) support
[*]    Use input layer for ADB devices
[*]      Support for mouse button 2+3 emulation
</pre>

<p>
È inoltre necessario impostare i valori dei bottoni del mouse in
<path>/etc/sysctl.conf</path>.  Questo è un esempio che usa F11 e F12:
</p>

<pre caption="Emulazione dei bottoni del mouse con F11 e F12">
<comment># Abilitare l'emulazione del bottone del mouse</comment>
dev.mac_hid.mouse_button_emulation = 1
<comment># Impostare il secondo bottone a 87 - F11</comment>
dev.mac_hid.mouse_button2_keycode = 87
<comment># Impostare il terzo bottone a 88 - F12</comment>
dev.mac_hid.mouse_button3_keycode = 88
</pre>

<note>
Altri valori di tasti comunemente usati sono 125 (il tasto Apple) e 96 (Invio
sul tastierino numerico.
</note>

<p>
Per attivare queste impostazioni:
</p>

<pre caption="Applicare i cambiamenti a sysctl">
# <i>sysctl -p /etc/sysctl.conf</i>
</pre>

</body>
</section>
<section id="airport">
<title>Come posso configurare la mia scheda Airport?</title>
<body>

<p>
La scheda Airport è un dispositivo 802.11b basato sul chipset Lucent Orinoco.
Per usare questa scheda in Linux, abilitare queste opzioni del kernel:
</p>

<pre caption="Wireless LAN">
[*] Wireless LAN Drivers &amp; Wireless Extensions
&lt;*&gt; Hermes chipset 802.11b support (Orinoco/Prism2/Symbol)
&lt;*&gt;   Apple Airport support (build-in)
</pre>

<p>
Una volta configurato il kernel, c'è bisogno inoltre di alcuni strumenti a
livello utente per configurare le impostazioni wireless. Installare
<c>wireless-tools</c> per avere a disposizione iwconfig ed altri strumenti
wireless.
</p>

<p>
Questo è un esempio di utilizzo di iwconfig, per impostare il proprio ESSID a
home_essid:
</p>

<pre caption="Impostare un ESSID">
# <i>iwconfig eth1 essid home_essid</i>
</pre>

<p>
Per una guida generica su come impostare il wireless con Gentoo si prega di
consultare la <uri link="/doc/it/handbook/handbook-ppc.xml?part=4&amp;chap=4">
Guida alle Reti Wireless su Gentoo</uri>.
</p>

</body>
</section>
<section id="airportextreme">
<title>Come posso configurare la mia scheda Airport Extreme?</title>
<body>

<p>
La Airport Extreme è una scheda 802.11b/g inclusa nei moderni computer
portatili Apple. Si basa sul chipset Broadcom 43xx, supportato nativamente dal
driver b43, fornito dall'omonimo progetto, incluso nel kernel dalla versione
2.6.24. Notare che il driver dovrebbe selezionare quello giusto tra il b43 e il
b43-legacy. Il firmware usato per questi due driver è differente, dove la
versione "legacy" supporta le vecchie schede 4306. Se si possiede una scheda
4306, compilare entrambi, altrimenti dovrebbe essere abbastanza sicuro compilare
solamente il b43. Inoltre, per abilitare uno dei due driver, bisogna selezionare
prima il supporto a mac80211.
</p>

<pre caption="Aggiungere il support a b43 nel kernel">
Networking --&gt; Wireless --&gt;
     &lt;M&gt;   Generic IEEE 802.11 Networking Stack (mac80211)

Device Drivers --&gt; Network device support --&gt;
     [*] Wireless LAN (IEEE 802.11)
     &lt;M&gt;   Broadcom 43xx wireless support (mac80211 stack)
     [*]     Broadcom 43xx debugging
     &lt;M&gt;   Broadcom 43xx-legacy wireless support (mac80211 stack)
     [*]     Broadcom 43xx-legacy debugging
</pre>

<p>
Dopo aver compilato il kernel, bisogna effettuare l'emerge di
<c>b43-fwcutter</c> per installare il firmware. Per ulteriori informazioni
leggere questo <uri
link="http://forums.gentoo.org/viewtopic-t-409194.html">messaggio del
forum.</uri>
</p>

<p>
Per una guida generica su come impostare il wireless con Gentoo si prega di
consultare la <uri link="/doc/it/handbook/handbook-ppc.xml?part=4&amp;chap=4">
Guida alle Reti Wireless su Gentoo</uri>.
</p>

</body>
</section>
<section id="modem">
<title>Il modem interno funzionerà?</title>
<body>

<p>
Sui vecchi Mac, il modem interno è un normale dispositivo seriale. Per usarlo,
in aggiunta al supporto a ppp e a i2c, abilitare questa opzione del kernel:
</p>

<pre caption="Driver Seriali">
&lt;*&gt; PowerMac z85c30 ESCC support (CONFIG_SERIAL_PMACZILOG)
</pre>

<p>
I Mac più recenti usano un dispositivo USB che possiede solamente un driver
fornito da Linuxant. A meno che non abbiate acquistato una chiave da
quest'ultimi, questo driver funzionerà solo a 14.4 e non supporterà il FAX. Per
installare il driver, emergere <c>net-dialin/hcfusbmodem</c>, il quale fornirà
<path>/dev/ttySHCF0</path>. Quindi impostare il ppp come al solito. Ulteriori
informazioni sull'installazione possono essere trovate su
<uri>http://www.linuxant.com/drivers/hcf/install.html</uri>
</p>

</body>
</section>
<section id="sleep">
<title>La sospensione funziona sul mio iBook/PowerBook?</title>
<body>

<p>
La sospensione funziona molto bene su tutti gli iBook G3 e TiBook. Di recente, è
stata rilasciata una patch per il kernel che aggiunge supporto per la
sospensione degli iBook G4 e AlBook basati su Radeon. Se si utilizza uno di
questi laptop, utilizzare gentoo-sources-2.6.11 (o versione successive) per il
supporto integrato.
</p>

<note>
Notare che il PowerBook 12" non è ancora supportato a causa del suo chipset
nVidia.
</note>

</body>
</section>
<section id="sound">
<title>Come faccio a far funzionare la riproduzione di suoni?</title>
<body>

<p>
Ci sono due approcci per il suono nei kernel moderni: OSS o ALSA. OSS è la più
vecchia delle due opzioni ed è stata deprecata, ma funziona ancora bene per
molti Mac più vecchi. ALSA è il metodo più moderno e continuerà ad essere
supportato in futuro. Si raccomanda di usare ALSA salvo non si abbiano problemi.
</p>

<note>
Se si include il driver OSS nel proprio kernel, il driver ALSA non si caricherà.
</note>

<p>
Oltre a configurare il kernel, gli utenti che dovranno avere accesso alle
periferiche audio dovranno essere aggiunti al gruppo appropriato con il comando:
</p>

<pre caption="Aggiungere utenti al gruppo audio">
# <i>gpasswd -a username audio</i>
</pre>

<p>
Se il kernel è configurato correttamente, ma non si riesce ad udire alcun suono,
assicurarsi che il volume del mixer principale sia alto e che la periferica non
sia impostata su muta!
</p>

<note>
La scheda audio sui Mac è collegata attraverso il bus i2c Keywest/PowerMac, non
tramite il bus PCI. La scheda non verrà elencata nella visualizzazione del bus
PCI o quando si utilizzerà alsaconf. Questo è un problema minore di quanto si
possa immaginare, poiché tutti i Mac usano lo stesso driver per il suono, ma
bisogna assicurarsi di avere abilitato il supporto i2c Keywest/PowerMac nel
proprio kernel.
</note>

<impo>
Se si compila il supporto ad ALSA, bisogna anche compilare il supporto a i2c
Keywest/PowerMac. Omettere questa operazione può comportare dei kernel panic
durante il boot!
</impo>

</body>
</section>
<section id="alsa">
<title>Impostare il suono con ALSA</title>
<body>

<p>
Per ALSA, verranno impostati sia i normali driver ALSA che il livello di
emulazione OSS in modo da poter utilizzare i programmi che usano ancora soltanto
OSS. In <c>make menuconfig</c> bisogna selezionare:
</p>

<pre caption="Opzione del kernel per ALSA">
Device Drivers - I2c support ---&gt;
  I2C Hardware Bus Support ---&gt;
    &lt;*&gt; Powermac I2C interface (Keywest su kernel 2.6.15 e precedenti)

Device Drivers - Sound ---&gt;
&lt;*&gt; Sound card support
    Advanced Linux Sound Architecture ---&gt;
    &lt; &gt;   PowerMac DMA sound support
      &lt;*&gt; Advanced Linux Sound Architecture
      &lt;*&gt; Sequencer support
      &lt;*&gt; Sequencer dummy client
      &lt;*&gt; OSS Mixer API
      &lt;*&gt; OSS PCM (digital audio) API
      [*] OSS Sequencer API
</pre>

<p>
A seconda dell'età della macchina, si dovrebbe abilitare anche il driver
corretto per il suono. Su macchine moderne come i PowerBook Aluminum, i nuovi
iBook o G5 dovrebbe essere usato il driver <c>Apple On-board Audio</c>. Per
macchine più vecchie, provare invece il driver ALSA PowerMac.
</p>

<pre caption="Driver ALSA - Selezionarne solo uno">
<comment>Macchine più vecchie</comment>
    ALSA PowerMac devices ---&gt;
        &lt;*&gt; PowerMac (AWACS, DACA, Burgundy, Tumbler, Keywest)
<comment>Macchine più recenti</comment>
    Apple Onboard Audio driver ---&gt;
        &lt;*&gt; Apple Onboard Audio driver
        &lt;*&gt;   layout-id fabric
        &lt;*&gt;   support Onyx chip
        &lt;*&gt;   support TAS chip
        &lt;*&gt;   support Toonie chip
</pre>

<p>
Si possono anche configurare come moduli ed assicurarsi che vengano caricati
all'avvio, ma è più facile compilarli tutti staticamente.
</p>

<note>
Assicurarsi che <c>PowerMac DMA sound support</c> sia disattivato, altrimenti il
modulo ALSA non sarà in grado di caricarsi.
</note>

<p>
Per maggiori informazioni sulla configurazione di ALSA si prega di consultare
la <uri link="/doc/it/alsa-guide.xml">Guida ad ALSA su
Gentoo Linux</uri>.
</p>

<note>
Se si sta usando il pacchetto alsa-driver invece di compilare quello all'interno
del kernel, la variabile ALSA_CARDS dovrebbe essere impostata a <c>powermac</c>
per i Mac più vecchie o a tutti i valori <c>aoa</c>, <c>aoa-fabric-layout</c>,
<c>aoa-soundbus</c>, <c>aoa-soundbus-i2c</c>, <c>aoa-onyx</c>, <c>aoa-tas</c> e
<c>aoa-toonie</c> per i Mac più nuovi.
</note>

</body>
</section>
<section id="oss">
<title>Impostare il suono con OSS</title>
<body>

<note>
Ancora una volta, usare questo solamente se non si sta usando ALSA.
</note>

<p>
In <c>make menuconfig</c> si dovrà selezionare:
</p>

<pre caption="Opzioni del kernel per OSS">
Device Drivers - I2c support ---&gt;
  I2C Hardware Bus Support ---&gt;
    &lt;*&gt; Powermac I2C interface (Keywest sui kernel 2.6.15 e precedenti)

Device Drivers - Sound ---&gt;
&lt;*&gt; Sound card support
  &lt;*&gt;   PowerMac DMA sound support
</pre>

<p>
(o configurarli come moduli ed assicurarsi che vengano caricati all'avvio).
</p>

<p>
Se il modulo <c>dmasound_pmac</c> non viene caricato, probabilmente bisogna
abilitare <c>i2c-core</c> nel kernel o come un modulo.
</p>

<note>
Se si sta ancora usando il suono tramite OSS, si prega invece di testare i
driver ALSA e riportare qualsiasi regressione sul bugzilla di ALSA. Grazie!
</note>

</body>
</section>
<section id="wakeon">
<title>Come posso far riaccendere il mio Mac dopo un'interruzione improvvisa
della corrente elettrica?</title>
<body>

<p>
L'Unità di Gestione Energetica ("Power Management Unit", o "PMU", ndT) sulla
maggior parte dei Mac riesce ad accendere il Mac a seguito della mancanza di
alimentazione. Questa caratteristica è controllata dalle opzioni di PMU che si
trovano in <path>/proc</path>. Per abilitarla, impostare <c>server_mode</c> a
1, per disabilitarla impostare <c>server_mode</c> a 0.
</p>

<pre caption="Abilitare la riaccensione dopo un'interruzione
dell'alimentazione">
# <i>echo "server_mode=1" > /proc/pmu/options</i>
</pre>

<p>
Sfortunatamente questa impostazione viene disabilitata nuovamente dopo il
riavvio della macchina. Per assicurare che il riavvio del proprio sistema dopo
un'interruzione dell'alimentazione sia sempre abilitato, aggiungere la riga
evidenziata in precedenza a <path>/etc/conf.d/local.start</path>.
</p>

</body>
</section>
<section id="infrombadport">
<title>
Vedo un sacco di errori "IN from bad port" nel dmesg del mio kernel, come posso
correggerli?
</title>
<body>

<p>
Questi errori sono causati da driver scritti per dispositivi che non sono
presenti nel proprio sistema. Questi messaggi sono solitamente innocui, è
comunque sempre meglio disabilitare i driver inutilizzati. Vedere l'elenco
seguente per individuare la corrispondenza dei numeri di porta con le opzioni di
configurazione del kernel. Tenere presente che anche se i numeri non combaciano,
è consigliabile provare a disabilitare in ogni caso queste opzioni del kernel,
la maggior parte delle macchine PPC non usano questi driver.
</p>

<pre caption="IN from bad port 61 - Disabilitare il supporto allo Speaker del
PC">
Device Drivers - Input device support ---&gt;
[*] Miscellanous devices ---&gt;
      &lt; &gt; PC Speaker Support
</pre>

<pre caption="IN from bad port 64 - Disabilitare il supporto alla tastiera
i8042">
Device Drivers - Input device support ---&gt;
Hardware I/O Ports ---&gt;
      &lt; &gt; Serial I/O support
        &lt; &gt; i8042 PC Keyboard controller
</pre>

<pre caption="IN from bad port 2E9,2F9,3E9,3F9 - Disabilitare il supporto alle
porte seriali 8250/16550">
Device Drivers - Character devices ---&gt;
Serial drivers ---&gt;
      &lt; &gt; 8250/16550 and compatible serial support
</pre>

<p>
Se si ricevono altri messaggi del tipo "IN from bad port" di cui non si è
sicuri, si prega di farlo sapere ai membri del team Gentoo PPC!
</p>

</body>
</section>
</chapter>

<chapter>
<title>Applicazioni</title>
<section id="masked">
<title>
Non posso fare l'emerge di un pacchetto, ottengo un errore che mi dice che il
pacchetto è "masked" ("mascherato" N.d.T.). Cosa dovrei fare?
</title>
<body>

<p>
Ci sono due ragioni comuni per cui un pacchetto non viene installato: o non è
stato testato su PPC, oppure è stato testato, ma non è stato ancora segnato
come stabile.
</p>

<pre caption="Il Pacchetto non è stato testato su PPC">
!!! All ebuilds that could satisfy "bar" have been masked.
!!! One of the following masked packages is required to complete your request:
- app-foo/bar-1.0 (masked by: missing keyword)
</pre>

<p>
Se il proprio pacchetto non è stato ancora testato su PPC, bisogna prima segnare
l'ebuild con la parola chiave ppc. Questo viene fatto usando lo strumento
ekeyword, il quale è parte del pacchetto gentoolkit-dev. Per segnare l'ebuild
ppc e rigenerare il file manifest in modo da riflettere le modifiche effettuate
eseguire il seguente comando:
</p>

<pre caption="Aggiungere la parola chiave ppc a app-foo/bar">
$ <i>ekeyword ppc /usr/portage/app-foo/bar/bar-1.0.ebuild</i>
# <i>ebuild /usr/portage/app-foo/bar/bar-1.0.ebuild manifest</i>
</pre>

<p>
Una volta che l'ebuild è stato segnato, si può farne l'emerge come al solito.
Provare l'applicazione e se funziona, <b>si prega</b> di segnalarlo con un bug
in modo che uno degli sviluppatori possa aggiungere la parola chiave.
</p>

<note>
Questa modifica durerà solo fino al prossimo sync. Se si necessita di una
soluzione permanente, è possibile mantenere un portage overlay. Fare riferimento
alla documentazione del portage per maggiori informazioni su come mantenere un
overlay.
</note>

<pre caption="Questo Pacchetto non è stato marcato Stabile su PPC">
!!! All ebuilds that could satisfy "bar" have been masked.
!!! One of the following masked packages is required to complete your request:
- app-foo/bar-1.0 (masked by: ~ppc keyword)
</pre>

<p>
Se il proprio pacchetto ha già la parola chiave ~ppc, ci sono due opzioni. O
seguire le istruzioni precedenti e sostituire la parola chiave ~ppc con ppc,
oppure usare /etc/portage per fare l'unmask di uno specifico pacchetto. La
seconda opzione è preferita semplicemente perché non viene annullata da un
emerge sync.
</p>

<pre caption="Utilizzare /etc/portage per fare l'unmask di app-foo/bar">
$ <i>echo "=app-foo/bar-1.0 ~ppc" > /etc/portage/package.keywords</i>
</pre>

<note>
Se la cartella /etc/portage non esiste, assicurarsi di crearla prima di eseguire
questo comando.
</note>

<p>
Ora fare l'emerge del pacchetto come al solito. Una volta che si è sicuri della
stabilità dell'applicazione, <b>si prega</b> di segnalarlo con un bug in modo
che gli sviluppatori possano aggiungere la parola chiave.
</p>

</body>
</section>
<section id="flash">
<title>Gentoo/PPC ha supporto per Flash?</title>
<body>

<p>
Non esattamente. Macromedia non ha fornito un binario linux/ppc e le
implementazioni open source al momento sono incomplete. Tuttavia ci sono due
progetti che possono visualizzare molti oggetti flash, <uri
link="http://www.gnu.org/software/gnash/">gnash</uri> e <uri
link="http://swfdec.freedesktop.org/">swfdec</uri>. Entrambi riescono a
riprodurre i filmati di Youtube e un sacco di altri contenuti popolari.
</p>

</body>
</section>
<section id="java">
<title>Esiste un plugin per Java su Gentoo/PPC?</title>
<body>

<p>
Sì, è ora disponibile un plugin Java con Java 1.5 e 1.6 di IBM. Notare che non
ancora tutte le applicazioni funzionano con questa versione di Java.
</p>

</body>
</section>
<section id="xorg">
<title>C'è un modo semplice per configurare X?</title>
<body>

<p>
Basta fate l'emerge di <c>xac</c>. Una volta installato il pacchetto, eseguire
<c>xac</c> per generare la configurazione per le proprie impostazioni. Se si
vuole impostare un layout di tastiera, si può usare l'opzione --kbd-layout.
Notare che sebbene <c>xac</c> non imposti il DRM per la maggior parte degli
utenti, probabilmente bisognerà cambiare la configurazione del kernel ed
emergere dei driver aggiuntivi per supportare la configurazione proposta. Per
ottenere prestazioni ottimali, assicurarsi di aver configurato il proprio kernel
come mostrato nella domanda seguente.
</p>

</body>
</section>
<section id="drm">
<title>Cos'è richiesto per far funzionare il DRM?</title>
<body>

<p>
Durante l'installazione di xorg-server, assicurarsi che la flag use dri sia
abilitata. Inoltre è consigliabile impostare anche la variabile VIDEO_CARDS in
make.conf per la propria scheda video, VIDEO_CARDS="radeon" per il supporto a
radeon, VIDEO_CARDS="nv" per il supporto ad nvidia, e così via. Come opzione di
scorta, aggiungere fbdev alla lista di VIDEO_CARDS, questo driver dovrebbe
sempre funzionare.
</p>

<p>
Assicurarsi che nella configurazione del proprio kernel siano attivate le
seguenti opzioni:
</p>

<pre caption="Configurazione del kernel per DRM Rage128">
Device Drivers - Character devices ---&gt;
  &lt;*&gt; /dev/agpgart (AGP Support)
  [*] Apple UniNorth support
  [*] Direct Rendering Manager (DRI support)
  &lt;*&gt;   ATI Rage 128
Device Drivers - Graphics Support ---&gt;
  &lt;*&gt;   ATI Rage 128 display support
</pre>

<pre caption="Configurazione del kernel per DRM Radeon">
Device Drivers - Character devices ---&gt;
  &lt;*&gt; /dev/agpgart (AGP Support)
  [*] Apple UniNorth support
  [*] Direct Rendering Manager (DRI support)
  &lt;*&gt;   ATI Radeon
Device Drivers - Graphics Support ---&gt;
 &lt;*&gt;   ATI Radeon display support
</pre>

<pre caption="Configurazione del kernel per nVidia">
Device Drivers - Graphics Support ---&gt;
  &lt;*&gt;   nVidia Framebuffer Support
</pre>

<note>
Attualmente non c'è nessun supporto al DRM per le schede nVidia in quando nVidia
non ha rilasciato nessun driver per PPC e non ci sono driver open per
l'accelerazione 3D.
</note>

<p>
Ricompilare ed installare il kernel se necessario. Dopo ciò, assicurarsi di aver
avviato con il framebuffer nativo (radeonfb o atyfb128 e <e>non</e> con offb o
ofonly), e avviare <c>xac</c>.
</p>

<impo>
Potreste essere necessario modificare <path>/etc/X11/xorg.conf</path> a seconda
della configurazione della propria scheda. Assicurarsi che il driver selezionato
per la periferica sia ati oppure il proprio driver specifico (r128 o radeon).
Controllare inoltre che le estensioni DRI siano caricate e non commentate.
</impo>

</body>
</section>
<section id="noati">
<title>
Ho installato X.org e l'ho configurato correttamente, ma manca il driver radeon.
Cos'ho sbagliato?
</title>
<body>

<p>
Si prega di aggiungere l'appropriata voce VIDEO_CARDS in
<path>/etc/make.conf</path> (specificare r128 o radeon) e ricompilare
<c>xorg-server</c> e <c>mesa</c> per reinstallare il driver.
 </p>

</body>
</section>
<section id="xorgerror">
<title>
Ho un errore VBIOS o "Invalid I/O allocation nel mio xorg.log. È un problema?
</title>
<body>

<p>
No, è solamente X.org che sta esaminando la scheda video. Cerca di aprire solo
il video BIOS x86 e fallisce, restituendo uno di questi messaggi. È innocuo, non
ci si deve preoccupare!
</p>

</body>
</section>
<section id="glfreeze">
<title>
Quando uso OpenGL DRI o guardo un film, il sistema a volte si blocca
inaspettatamente. Cosa posso fare?
</title>
<body>

<p>
Il proprio sistema potrebbe non interagire correttamente con il supporto AGP. La
soluzione più semplice è aggiungere la seguente riga nella sezione "Device" di
<path>/etc/X11/xorg.conf</path>:
</p>

<pre caption="Forzare la modalità PCI per le schede AGP">
Option       "ForcePCIMode"
</pre>

<p>
Inoltre, è noto che esistono problemi con l'estensione composite, è
consigliabile disabilitare queste estensioni se si riscontrano problemi.
</p>

<p>
Infine, se si continuano ad avere problemi, provare a disabilitare dri nel
proprio xorg.conf e vedere se il problema scompare.
</p>

</body>
</section>
<section id="keymap">
<title>
Ho recentemente installato Xorg. ma al momento di usarlo, il mio layout
internazionale della tastiera non funziona correttamente. I tasti principali
funzionano bene ma non riesco a comporre caratteri speciali come il simbolo
"at". L'output di startx dice qualcosa riguardo a "could not load keymap,
falling back to default keymap". Dov'è l'errore?
</title>
<body>

<p>
Verificare che i permessi su <path>/var/tmp</path> siano impostati a
<path>drwxrwxrwx</path>. Se così non fosse, cambiarli digitando <c>chmod a+rwx
/var/tmp</c>. Questo permetterà ad Xorg di caricare di nuovo le keymap in modo
appropriato.
</p>

</body>
</section>
<section id="audiocd">
<title>Come ascolto i CD Audio?</title>
<body>

<p>
Le macchine NewWorld non hanno una connessione audio tra il loro lettore
CD-ROM e la scheda audio. Quindi, le informazioni audio devono essere lette
come dati e poi inviati alla scheda audio. Questo è possibile usando
<e>Audacious</e>, che legge l'audio dal CD tramite il cavo ATA, lo decodifica
via software e lo manda alla scheda sonora tramite il bus PCI in formato
digitale.
</p>

<pre caption="Installare audacious">
# <i>emerge audacious</i>
</pre>

<p>
Per riprodurre un CD, basta lanciare <c>audacious</c>. Se si riscontrano
problemi nella riproduzione, andare nel menu Preferences-->Plugins-->CD Audio
Plugin e selezionare il proprio drive CD. Assicurarsi che "Digital audio
extraction" sia selezionato.
</p>

</body>
</section>
<section id="mol">
<title>Posso far funzionare Mac OS o Mac OS X sotto Gentoo Linux?</title>
<body>

<p>
Certo, a patto che si stia facendo girare Gentoo Linux/PPC su hardware PPC a
32bit. È possibile usare <uri
link="http://www.maconlinux.org/">Mac-on-Linux</uri>, il quale permette di
avviare un'istanza di OS 9, OS X o Linux come un processo su Linux.
Basta eseguire <c>emerge mol</c> per installare questo pacchetto. MOL supporta
Mac OS dalla 7.5.2 alla 9.2.2, così come tutte le versioni di OS X. Può essere
utilizzato tramite framebuffer da console oppure come una finestra su X.
</p>

<note>
Al momento l'esecuzione di MOL su processori PowerPC a 64 bit non è supportata.
</note>

<note>
Per avviare MOL a pieno schermo, bisogna compilare MOL con la USE flag fbcon
abilitata e avviarlo in un framebuffer da console.
</note>

<p>
Per l'uso della rete e del suono bisognerebbe installare i driver nella cartella
<path>MOL-Install</path> sul Desktop del proprio Mac OS X. Se si riscontrano
errori con la rete, assicurarsi di avere le seguenti opzioni abilitate nel
kernel:
</p>

<p>
Per le funzionalità di rete OSX:
</p>

<ul>
  <li>Universal TUN/TAP device driver support (CONFIG_TUN)</li>
</ul>

<p>
Per il server DHCP:
</p>

<ul>
  <li>Socket Filtering (CONFIG_FILTER)</li>
  <li>Packet Socket (CONFIG_PACKET)</li>
</ul>

<p>
Per la NAT:
</p>

<ul>
  <li>Network packet filtering (CONFIG_NETFILTER)</li>
  <li>Connection tracking (CONFIG_IP_NF_CONNTRACK)</li>
  <li>IP tables support (CONFIG_IP_NF_IPTABLES)</li>
  <li>Packet filtering (CONFIG_IP_NF_FILTER)</li>
  <li>Full NAT (CONFIG_IP_NF_NAT)</li>
  <li>MASQUERADE target support (CONFIG_IP_NF_TARGET_MASQUERADE)</li>
</ul>

</body>
</section>
<section id="ext">
<title>Posso accedere alle mie partizioni ext2/ext3 da OSX?</title>
<body>

<p>
OSX può supportare la lettura e scrittura di partizioni ext2/ext3 usando
l'estensione del kernel fornita dal <uri
link="http://sourceforge.net/projects/ext2fsx">progetto ext2fsx</uri>.
</p>

<note>
Mentre si sta usando MOL, non è possibile accedere ad una partizione in quel
momento utilizzata da Linux.
</note>

</body>
</section>
<section id="useflags">
<title>Quali opzioni USE di Portage non funzionano su macchine PowerPC?</title>
<body>

<p>
Se si sta usando un vecchio profilo piatto (deprecato, pre 2005.0), guardare in
<path>/etc/make.profile/use.mask</path> per una lista.
</p>

<p>
Se si sta usando un profilo a cascata (2005.0 e successivi), guardare in
<path>/usr/portage/profiles/default-linux/ppc/use.mask</path> per una lista.
</p>

</body>
</section>
<section id="distcc">
<title>Come posso impostare distcc con il mio computer x86?</title>
<body>

<p>
Se si dispone di un'altra macchina più veloce, è possibile impostare distcc in
modo che compili binari per la macchina ppc più lenta. È meglio compilare il più
possibile sulla macchina più veloce, se possibile addirittura non compilare mai
con il computer più lento. Per sapere cosa e come fare questo, leggere la <uri
link="/doc/it/cross-compiling-distcc.xml">Guida al cross-compiling con
DistCC</uri>. Per saperne di più riguardo alla cross-compilazione è
consigliabile leggere il <uri link="/proj/en/base/embedded/handbook/">Manuale di
Gentoo Embedded</uri> (in inglese, ndT)
</p>

</body>
</section>
<section id="gccsegfaults">
<title>Perché gcc continua ad andare in segfault durante gli ebuild?</title>
<body>

<p>
Se gcc va in segfault durante gli ebuild, probabilmente non è né un bug di gcc,
né un problema con il proprio hardware. La maggior parte delle volte questo
problema è dovuto al fatto che la kernel preemption è attivata. Nonostante
questa opzione sia sicura su x86, può causare la compromissione della cache su
PPC, il che spiega perché si nota più frequentemente quando si compila. Per
evitare che questo accada, basta ricompilare il kernel con la preemption
disabilitata. Per controllare se la preemption è abilitata:
</p>

<pre caption="Controllare se la preemption è abilitata">
$ <i>grep PREEMPT /usr/src/linux/.config</i>
</pre>

<p>
Se il comando ritorna: "# CONFIG_PREEMPT is not set", allora bisognerebbe
riportare la segfault aprendo un bug report.
</p>

<p>
Se ritorna: "CONFIG_PREEMPT=y", allora bisognerà disabilitarla e ricompilare il
proprio kernel.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Risorse</title>
<section id="cd">
<title>Posso comprare un CD della Gentoo Linux/PPC?</title>
<body>

<p>
Certamente! Gentoo viene venduto su CD-ROM nel <uri
link="http://store.gentoo.org/">Gentoo store</uri>.
</p>

</body>
</section>
<section id="notanswered">
<title>Questa FAQ non ha risposto alla mia domanda. Cosa faccio adesso?</title>
<body>

<p>
Un buon primo passo è di cercare attraverso la rilevante <uri
link="/doc/it/index.xml">documentazione su www.gentoo.org</uri>. Attualmente
esistono due <uri link="/main/it/lists.xml">mailing list</uri> specifiche per
ppc: gentoo-ppc-dev e gentoo-ppc-user. <uri
link="http://forums.gentoo.org/viewforum.php?f=24">Gentoo on PPC</uri> (su
forums.gentoo.org) è un forum aperto per tutte le discussioni su PowerPC. Spesso
c'è anche una discussione su IRC. Unitevi a noi in <c>#gentoo-ppc</c> su
<c>irc.freenode.net</c>.
</p>

<p>
Informazioni generali riguardo Linux su PowerPC possono essere trovate presso
<uri link="http://penguinppc.org/">penguinppc.org</uri>. Informazioni generali
su Linux sono disponibili presso <uri
link="http://www.linuxdoc.org/">www.linuxdoc.org</uri>.
</p>

</body>
</section>
</chapter>
</guide>
