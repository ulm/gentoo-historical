<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/gentoo-upgrading.xml,v 1.5 2005/02/25 11:57:16 so Exp $ -->

<guide link="/doc/it/gentoo-upgrading.xml" lang="it">
<title>Guida all'aggiornamento di Gentoo</title>

<author title="Autore">
  <mail link="greg_g@gentoo.org">Gregorio Guidi</mail>
</author>

<author title="Traduzione">
  <mail link="ludovico.poggioli@tiscali.it">Ludovico Poggioli</mail>
</author>

<abstract>
Questo documento spiega come una nuova release di Gentoo modifica le installazioni esistenti.
</abstract>

<!-- Il contenuto di questo documento è rilasciato sotto la licenza CC-BY-SA -->
<!-- Vedi http://creativecommons.org/licenses/by-sa/2.0 -->
<license/>

<version>2.8</version>
<date>2005-01-22</date>

<chapter>
<title>Gentoo e gli Aggiornamenti</title>
<section>
<title>Filosofia</title>
<body>

<p>
In Gentoo il concetto di aggiornamento differisce leggermente rispetto alle
altre distribuzioni Linux. Probabilmente è già noto che Gentoo non è mai
stato in linea con il metodo classico di aggiornare il software di una distribuzione
all'ultima versione: aspettare per una nuova versione, fare il download, masterizzarla,
inserire il cdrom e seguire le istruzioni per l'aggiornamento.
</p>

<p>
Si è già a conoscenza di quanto questo metodo sia estremamente frustrante
per quegli utenti avanzati che vogliono sempre avere l'ultima versione del software.
Anche gli utenti avanzati di altre distribuzioni condividono gli stessi sentimenti, dando popolarità
a strumenti come apt-rpm, che rendono possibili aggiornamenti frequenti e veloci.
Tuttavia nessuna distribuzione è più adatta di Gentoo a soddisfare questa categoria di utenti
poichè Gentoo è stata progettata sin dall'inizio attorno al concetto di aggionamenti rapidi,
incrementali.
</p>

<p>
Idealmente, una volta eseguita l'installazione non c'è più motivo di preoccuparsi
riguardo alla versione:
Si devono solamente seguire le istruzioni in
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=1">Introduzione a Portage</uri> del
<uri link="/doc/it/handbook/">Manuale Gentoo</uri> che spiega come tenere
aggiornato il proprio sistema. Sebbene questa sia la norma, può accadere che
talvolta gli sviluppatori inseriscano, con una nuova versione, degli aggiornamenti
che modificano il cuore del sistema, e che richiedono richiedono interventi manuali
 da parte dell'utente.
</p>

</body>
</section>
<section>
<title> Versioni e Profili</title>
<body>

<p>
Una domanda ricorrente riguardo al processo di rilascio di Gentoo è: "Perchè
rilasciare frequentemente nuove versioni, se non servono agli utenti per
aggiornare il software?".
Ci sono varie ragioni:
</p>

<ul>
  <li>
    Una nuova versione significa nuovi LiveCD con bug risolti e nuove feature.
  </li>
  <li>
    Una nuova versione fornisce un'inseme di pacchetti GRP aggiornato, così che
    gli utenti che scelgono "la via più veloce" per installare (stage3 + pacchetti precompilati)
    non si trovino con un sistema già vecchio.
  </li>
  <li>
    Infine, una nuova versione potrebbe, di quando in quando, implementare delle 
    caratteristiche incompatibili con le versioni precedenti.
  </li>
</ul>

<p>
Quando una nuova versione fornisce caratteristiche incompatibili, o un'insieme
di pacchetti e configurazioni  che modificano profondamente il comportamento
del sistema, diciamo che fornisce un nuovo <e>profilo</e>.
</p>

<p>
Un <e>profilo</e> è un'insieme di file di configurazione, allocati in una sottodirectory di
<path>/usr/portage/profiles/</path>, che descrive cose come gli ebuilds
che fanno parte dei pacchetti di <e>system</e>, le flag USE di default, 
lo schema di default dei pacchetti virtuali, e l'architettura su cui un sistema è installato.
</p>

<p>
Il profilo in uso è determinato dal link simbolico
<path>/etc/make.profile</path>, che punta alla sottodirectory di
<path>/usr/portage/profiles</path> nella quale sono contenuti i file
dei profili, ad esempio il profilo x86 2004.2 può essere trovato in 
<path>/usr/portage/profiles/default-x86-2004.2</path>, posizione vecchia maniera, 
oppure in <path>/usr/portage/profiles/default-linux/x86/2004.2</path> nuova posizione - 
da utilizzare solamente con Portage 2.0.51 e successivi.
In rispetto al nuovo stile delle directory dei profili, va notato che le 
sottodirectory sono parte del profilo (e quindi condivise da differenti sottoprofili).
</p>

<p>
I profili resi obsoleti dai nuovi sono mantenuti in <path>/usr/portage/profiles</path>
come i nuovi, ma sono marcati come deprecated. Quando ciò accade un file
evidenziato come <path>deprecated</path> viene inserito nella directory dei profili. Il 
contenuto di questo file è il nome del profilo che dove essere aggiornato; portage usa
questa informazione per avvisarvi automaticamente del nuovo profilo esistente.
</p>

<p>
Ci sono vari motivi che giustificano la creazione di un nuovo profilo; il 
rilascio di nuove versioni di pacchetti fondamentali (come ad esempio
<c>baselayout</c>, <c>gcc</c> o <c>glibc</c>) incompatibili con le versioni precedenti,
un cambiamento nelle flag USE di default, o nei pacchetti virtuali, oppure un 
cambiamento nei parametri fondamentali del sistema (come ad esempio la scelta
di udev come default manager per <path>/dev</path> al posto di devfs).
</p>

</body>
</section>
</chapter>

<chapter>
<title>Mantenersi aggiornati con le nuove versioni</title>
<section>
<title>Versioni senza cambiamento di profilo</title>
<body>

<p>
Se viene rilasciata una nuova versione di Gentoo che non include un nuovo
profilo (come la versione 2004.1 per x86), l'utente potrà stare tranquillo poichè 
accade niente.
</p>

<p>
Se si procede all'aggiornamento dei pacchetti installati
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=1">come spiegato nel
Gentoo Handbook</uri>, il sistema sarà esattamente come quello di chi ha
eseguito l'installazione utilizzando la nuova release.
</p>

</body>
</section>
<section>
<title>Versioni con cambio di profilo</title>
<body>

<p>
Se una nuova versione introduce un nuovo profilo, l'utente ha la possibilità
di scegliere se effettuare o meno il passaggio al nuovo profilo. 
</p>

<p>
Naturalmente non si è obbligati a farlo, e si può continuare ad utilizzare il vecchio
profilo semplicemente continuando ad aggiornare i pacchetti installati 
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=1">
come spiegato nel Gentoo Handbook</uri>.
</p>

<p>
In ogni modo, Gentoo raccomanda fortemente la migrazione se il profilo viene
evidenziato come deprecated. Quando questo accade significa che gli sviluppatori di Gentoo non pensano di supportare 
il profilo in futuro. Utilizzando la tabella sottostante, si può velocemente 
controllare quali profili sono attualmente supportati.
</p>

<p>
Se l'utente opta per la migrazione al nuovo profilo, potrebbe dover eseguire 
manualmente l'aggiornamento. Il modo in cui effettuare l'aggiornamento potrebbe
 variare molto da versione a versione, tutto dipende da quanto profondi saranno i cambiamenti 
apportati dal nuovo profilo.
</p>

<p>
Nel caso più semplice l'utente deve solamente cambiare il link <path>/etc/make.profile</path>, 
nel caso peggiore deve ricompilare il proprio sistema da zero. 
La migrazione è solitamente spiegata nelle note di rilascio 
(es. <uri 
link="/proj/en/releng/release/2004.3/x86-release-notes.xml"> the x86 2004.3 
release notes</uri>). Potrete anche trovare <uri 
link="#instructions">istruzioni</uri> alla fine di questa guida.
</p>

</body>
</section>
<section>
<title>Profili Supportati</title>
<body>

<p>
I seguenti profili sono ufficialmente supportati dagli sviluppatori Gentoo:
</p>

<table>
<tr>
  <th>Architettura</th>
  <th>Ultimo profilo</th>
  <th>Altri profili supportati</th>
</tr>
<tr>
  <th>alpha</th>
  <ti>2004.3</ti>
  <ti></ti>
</tr>
<tr>
  <th>arm</th>
  <ti>2004.3</ti>
  <ti></ti>
</tr>
<tr>
  <th>amd64</th>
  <ti>2004.3</ti>
  <ti>2004.2, 2004.0</ti>
</tr>
<tr>
  <th>hppa</th>
  <ti>2004.3</ti>
  <ti>2004.2</ti>
</tr>
<tr>
  <th>ia64</th>
  <ti>2004.3</ti>
  <ti></ti>
</tr>
<tr>
  <th>ppc</th>
  <ti>2004.3</ti>
  <ti>2004.0</ti>
</tr>
<tr>
  <th>mips</th>
  <ti>2004.2</ti>
  <ti></ti>
</tr>
<tr>
  <th>s390</th>
  <ti>2004.3</ti>
  <ti></ti>
</tr>
<tr>
  <th>sparc</th>
  <ti>2004.3</ti>
  <ti>2004.0</ti>
</tr>
<tr>
  <th>x86</th>
  <ti>2004.3</ti>
  <ti>2004.2, 2004.0</ti>
</tr>
</table>

</body>
</section>
</chapter>

<chapter id="instructions">
<title>Istruzioni per l'aggiornamento del profilo</title>
<section>
<title>Aggiornamento a 2004.3</title>
<body>

<p>
Con l'introduzione dei profili 2004.3, gli utenti non vedranno grandi
modifiche ai loro sistemi (vedere sotto per i dettagli). Comunque sia, gli 
sviluppatori di Gentoo hanno deciso di pubblicare questi nuovi profili e di 
marcare come deprecati alcuni dei vecchi profili per accellerare l'adozione 
degli <e>stacked profiles</e>,
che sono in sostanza i profili che seguono il nuovo layout della directory 
<path>/usr/portage/profiles</path>,
ad esempio, <path>/usr/portage/profiles/default-linux/x86/2004.3</path> (supportato da
Portage 2.0.51 o successivi).
</p>

<p>
Per effettuare l'aggiornamento al profilo 2004.3, fate puntare il symlink
<path>/etc/make.profile</path> alla nuova posizione:
</p>

<warn>
Non dimenticate di aggiornare Portage <e>prima</e> di cambiare il vostro profilo !
</warn>

<pre caption="Aggiornare il symlink /etc/make.profile">
<comment>sostituite &lt;arch&gt; con la vostra architettura</comment>
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-linux/&lt;arch&gt;/2004.3 /etc/make.profile</i>
</pre>

<p>
<b>Tutte le architetture</b> - Come detto in precedenza, non ci sono grandi
cambiamenti introdotti da questo profilo. Comunque, va fatto notare che 
<c>sys-apps/slocate</c> e <c>net-misc/dhcpcd</c> non sono più considerati
pacchetti di sistema. Questo significa che lanciando <c>emerge --depclean</c>, 
Portage tenterà cancellarli dal sistema. Se si desiderano tali pacchetti, essi 
andranno aggiunti a <path>/var/lib/portage/world</path> dopo il cambiamento 
di profilo, o si dovrà utilizzare manualmente emerge per installarli.
</p>

<p>
<b>ppc</b> - <c>sys-fs/udev</c> è attualmente la scelta di default in luogo di 
 <c>sys-fs/devfs</c> per le nuove installazioni. Questo non avrà comunque effetto 
per i sistemi già installati.
</p>

</body>
</section>
<section>
<title>Aggiornare a 2004.2</title>
<body>

<p>
Per effettuare l'aggiornamento al profilo 2004.2, fate puntare il symlink
<path>/etc/make.profile</path> alla nuova posizione:
</p>

<warn>
Non dimenticate di aggiornare Portage <e>prima</e> di cambiare il vostro profilo !
</warn>

<pre caption="Aggiornare il symlink /etc/make.profile">
<comment>sostituite &lt;arch&gt; con la vostra architettura</comment>
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-linux/&lt;arch&gt;/2004.2 /etc/make.profile</i>
</pre>

<p>
<b>x86</b> - Questo profilo cambia l'implementazione X11 di default da 
<c>x11-base/xfree</c> a <c>x11-base/xorg-x11</c>.Questa modifica tocca 
solamente il valore di <e>default</e>, ed è rilevante solamente per coloro che non 
hanno ancora installato un server X. Se l'utente ha già un server X installato, 
questo cambiamento non comporterà niente; l'utente sarà libero di cambiare da 
un server X a un altro esattamente come prima.
</p>

<p>
<b>amd64</b> - Non ci sono differenze fondamentali rispetto ai precedenti profili, ne 
azioni specifiche da intraprendere.
</p>

</body>
</section>
<section>
<title>Aggiornare a 2004.0</title>
<body>

<p>
Per effettuare l'aggiornamento al profilo 2004.0, fate puntare il symlink
<path>/etc/make.profile</path> alla nuova posizione:
</p>

<pre caption="Aggiornare il symlink /etc/make.profile">
<comment>sostituite &lt;arch&gt; con la vostra architettura</comment>
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-&lt;arch&gt;-2004.0 /etc/make.profile</i>
</pre>

<p>
<b>Tutte le architetture</b> - Non ci sono differenze fondamentali rispetto ai precedenti profili, ne 
azioni specifiche da intraprendere.
</p>

</body>
</section>
<section>
<title>Aggiornare da profili precedenti di 1.4 a 1.4</title>
<body>

<p>
Le istruzioni per questo aggiornamento sono abbastanza complesse, e possono essere consultate
<uri link="/doc/it/new-upgrade-to-gentoo-1.4.xml">qui</uri>.
</p>

</body>
</section>
</chapter>

</guide>
