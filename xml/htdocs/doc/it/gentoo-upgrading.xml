<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/gentoo-upgrading.xml,v 1.2 2004/09/06 20:40:23 mush Exp $ -->

<guide link="/doc/it/gentoo-upgrading.xml" lang="it">
<title>Guida all'aggiornamento di Gentoo</title>

<author title="Autore">
  <mail link="g.guidi@sns.it">Gregorio Guidi</mail>
</author>

<author title="Traduzione">
  <mail link="ludovico.poggioli@tiscali.it">Ludovico Poggioli</mail>
</author>

<abstract>
Questo documento spiega come i nuovi rilasci vadano a toccare le installazioni esistenti.
</abstract>

<!-- Il contenuto di questo documento è rilasciato sotto la licenza CC-BY-SA -->
<!-- Vedi http://creativecommons.org/licenses/by-sa/1.0 -->
<license/>

<version>2.2</version>
<date>13 Agosto 2004</date>

<chapter>
<title>Gentoo e gli Aggiornamenti</title>
<section>
<title>Filosofia</title>
<body>

<p>
In Gentoo il concetto di aggiornamento è diverso rispetto alle
altre distribuzioni Linux. Probabilmente è già  noto che Gentoo Linux non è mai
stato in linea con il metodo classico di aggiornare il software di una distribuzione
all'ultima versione: aspettare per una nuova versione, fare il download, masterizzarla,
inserire il cdrom e seguire le istruzioni.
</p>

<p>
Si è già  a conoscenza di quanto questo metodo sia estremamente frustrante
per quegli utenti avanzati che vogliono sempre avere l'ultima versione del software.
Anche gli utenti avanzati di altre distribuzioni condividono gli stessi sentimenti, dando popolarità 
a strumenti come apt-rpm, che rendono possibili aggiornamenti frequenti e veloci.
Tuttavia nessuna distribuzione è più adatta di Gentoo a soddisfare questa categoria di utenti
poichè Gentoo è stata progettata sin dall'inizio attorno al concetto di aggionamenti rapidi,
incrementali.
</p>

<p>
Idealmente, una volta eseguita l'installazione non c'è più motivo di preoccuparsi
riguardo alla versione:
Si devono solamente seguire le istruzioni in
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=2">Portage e
Software</uri> del
<uri link="/doc/it/handbook/">Manuale Gentoo</uri> che spiega come tenere
aggiornato il proprio sistema. Sebbene questa sia la norma, alcune volte 
vengono fatti cambiamenti che modificano profondamente le basi del sistema 
e che richiedono alcuni interventi manuali.
</p>

</body>
</section>
<section>
<title> Versioni e Profili</title>
<body>

<p>
Una domanda ricorrente riguardo al processo di rilascio di Gentoo è: "Perchè
rilasciare frequentemente nuove versioni, se non servono agli utenti per
aggiornare il software?".
Ci sono varie ragioni:
</p>

<ul>
  <li>
    Una nuova versione significa nuovi LiveCD con bugfix e con nuove caratteristiche.
  </li>
  <li>
    Una nuova versione fornisce un'inseme di pacchetti GRP aggiornato, così che
    gli utenti che scelgono "la via più veloce" per installare (stage3 + pacchetti precompilati)
    non si trovino con un sistema già  vecchio.
  </li>
  <li>
    Infine, una nuova versione potrebbe, di quando in quando, implementare delle 
    caratteristiche incompatibili con le versioni precedenti.
  </li>
</ul>

<p>
Quando una nuova versione fornisce caratteristiche incompatibili, o un'insieme
di pacchetti e configurazioni  che modificano profondamente il comportamento
del sistema, o semplicemente quando fa dei cambiamenti particolari ad alcuni
paramentri di default, si dice che fornisce un nuovo <e>profilo</e>.
</p>

<p>
Un <e>profilo</e> è un'insieme di file di configurazione, allocati in una sottodirectory di
<path>/usr/portage/profiles/</path>, che descrive cose come gli ebuilds
che fanno parte dei pacchetti di <e>system</e>, le flag USE di default, 
lo schema di default dei pacchetti virtuali, e l'architettura su cui il sistema è installato.
</p>

<p>
Il profilo in uso è determinato dal link simbolico
<path>/etc/make.profile</path>, che punta alla sottodirectory di
<path>/usr/portage/profiles</path> nella quale sono contenuti i file
dei profili, ad esempio il profilo x86 2004.2 può essere trovato in 
<path>/usr/portage/profiles/default-x86-2004.2</path>, (vecchia maniera) o in 
<path>/usr/portage/profiles/default-linux/x86/2004.2</path> (nuova maniera). 
Rispetto al "nuovo stile" della directory profile, si noti che i file nella directory 
principale sono parte del profilo (e quindi condivisi da diversi sottoprofili).
</p>

<p>
I profili resi obsoleti dai nuovi sono mantenuti in <path>/usr/portage/profiles</path>
assieme ai nuovi, ma sono marcati come deprecated. Quando ciò accade un file
evidenziato come <path>deprecated</path> viene inserito nella directory dei profili. Il 
contenuto di questo file è il nome del profilo che dovrebbe essere "aggiornato a"; portage usa
questa informazione per avvisare automaticamente l'utente di doversi aggiornare al nuovo profilo.
</p>

<p>
Ci sono vari motivi che giustificano la creazione di un nuovo profilo; il 
rilascio di nuove versioni di pacchetti fondamentali (come ad esempio
<c>baselayout</c>, <c>gcc</c> o <c>glibc</c>) incompatibili con le versioni precedenti,
un cambiamento nelle flag USE di default, o nei pacchetti virtuali, oppure un 
cambiamento nei parametri fondamentali del sistema (come ad esempio la scelta
di udev come default manager per <path>/dev</path> al posto di devfs).
</p>

</body>
</section>
</chapter>

<chapter>
<title>Mantenersi aggiornati con le nuove versioni</title>
<section>
<title>Versioni senza cambiamento di profilo</title>
<body>

<p>
Se viene rilasciata una nuova versione di Gentoo che non include un nuovo
profilo (come la versione 2004.1 per x86), l'utente potrà  stare tranquillo poichè 
non accade niente.
</p>

<p>
Se si procede all'aggiornamento dei pacchetti installati
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=2">come spiegato nel
Gentoo Handbook</uri>, il sistema è esattamente come quello di chi ha
eseguito l'installazione utilizzando la nuova versione.
</p>

</body>
</section>
<section>
<title>Versioni con cambio di profilo</title>
<body>

<p>
Se una nuova versione introduce un nuovo profilo, l'utente ha la possibilità 
di scegliere se effettuare o meno il passaggio al nuovo profilo. 
</p>

<p>
Naturalmente non si è obbligati a farlo, e si può continuare ad utilizzare il vecchio
profilo semplicemente continuando ad aggiornare i pacchetti installati 
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=2">
come spiegato nel Gentoo Handbook</uri>.
</p>

<p>
In ogni modo, Gentoo raccomanda fortemente la migrazione se il profilo viene
evidenziato come deprecated. Quando ciò accade significa che gli sviluppatori Gentoo non
continueranno a supportarlo.
Utilizzando la tebella sottostante, l'utente può vedere rapidamente i profili correntemente 
supportati.
</p>

<p>
Se l'utente opta per la migrazione al nuovo profilo, deve eseguire
manualmente alcune operazioni. Queste operazioni potranno variare molto da 
versione a versione, tutto dipende da quanto profondi saranno i cambiamenti 
apportati dal nuovo profilo.
</p>

<p>
Nel caso più semplice l'utente deve solamente cambiare il symlink <path>/etc/make.profile</path>, 
nel caso peggiore deve ricompilare il proprio sistema da zero. In ogni caso 
vengono pubblicate istruzioni dettagliate sulla migrazione verso il nuovo profilo insieme 
alla nuova versione. E' possibile trovare queste istruzioni anche alla fine di questa guida. 

</p>

</body>
</section>
<section>
<title>Profili Supportati</title>
<body>

<p>
I seguenti profili sono ufficialmente supportati dagli sviluppatori Gentoo:
</p>

<table>
<tr>
  <th>Architettura</th>
  <th>Ultimo profilo</th>
  <th>Altri profili supportati</th>
</tr>
<tr>
  <th>arm</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
<tr>
  <th>amd64</th>
  <ti>2004.2</ti>
  <ti>2004.0</ti>
</tr>
<tr>
  <th>hardened-x86</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
<tr>
  <th>hppa</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
<tr>
  <th>ppc</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
<tr>
  <th>mips</th>
  <ti>2004.1</ti>
  <ti>1.4</ti>
</tr>
<tr>
  <th>sparc</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
<tr>
  <th>sparc64</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
<tr>
  <th>x86</th>
  <ti>2004.2</ti>
  <ti>2004.0, 1.4</ti>
</tr>
</table>

</body>
</section>
</chapter>

<chapter>
<title>Istruzioni per l'aggiornamento del profilo</title>
<section>
<title>Aggiornamento a 2004.2</title>
<body>

<p>
Per aggiornare al profilo 2004.2, puntare il symlink <path>/etc/make.profile</path> 
alla nuova posizione:
</p>

<pre caption="Aggiornare il symlink /etc/make.profile">
<comment>sostituire &lt;arch&gt; con l'architettura utilizzata</comment>
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-linux/&lt;arch&gt;/2004.2 /etc/make.profile</i>
</pre>

<p>
<b>x86</b> - Questo profilo cambia l'implementazione X11 di default da 
<c>x11-base/xfree</c> a <c>x11-base/xorg-x11</c>.  Questo cambiamento tocca solamente 
il valore <e>default</e>, ed è rilevante solamente per coloro che non hanno ancora installato 
un server X.  Se l'utente ha già installato un server X questo non cambierà niente; l'utente 
sarà libero di cambiare da un server X all'altro esattamente come prima.
</p>

<p>
<b>amd64</b> - Non ci sono cambiamenti fondamentali dai precedenti profili, nessuna azione 
particolare dovrà essere intrapresa dagi utenti.
</p>

</body>
</section>
<section>
<title>Aggiornamento 2004.0</title>
<body>

<p>
Per cambiare al profilo 2004.0 L'utente deve solamente puntare il symlink <path>/etc/make.profile</path> 
alla nuova posizione:
</p>

<pre caption="Aggiornare il symlink /etc/make.profile">
<comment>sostituire &lt;arch&gt; con l'architettura utilizzata</comment>
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-&lt;arch&gt;-2004.0 /etc/make.profile</i>
</pre>

<p>
<b>Tutte le Architetture</b> - Non ci sono cambiamenti fondamentali dai precedenti profili, nessuna azione 
particolare dovrà essere intrapresa dagi utenti.
</p>

</body>
</section>
<section>
<title>Aggiornamento da profili precedenti a 1.4 al profilo 1.4</title>
<body>

<p>
Le istruzioni per questo aggiornamento sono abbastanza complesse, e possono
essere consultate <uri link="/doc/it/new-upgrade-to-gentoo-1.4.xml">qui</uri>.
</p>

</body>
</section>
</chapter>

</guide>

