<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/gentoo-upgrading.xml,v 1.1 2004/05/22 09:51:26 mush Exp $ -->

<guide link="/doc/it/gentoo-upgrading.xml" lang="it">
<title>Guida all'aggiornamento di Gentoo</title>

<author title="Autore">
  <mail link="g.guidi@sns.it">Gregorio Guidi</mail>
</author>

<author title="Traduzione">
  <mail link="ludovico.poggioli@tiscali.it">Ludovico Poggioli</mail>
</author>

<abstract>
Questo documento spiega come comportarsi quando viene annunciata una nuova release di Gentoo.
</abstract>

<!-- Il contenuto di questo documento è rilasciato sotto la licenza CC-BY-SA -->
<!-- Vedi http://creativecommons.org/licenses/by-sa/1.0 -->
<license/>

<version>1.1</version>
<date>12 Maggio 2004</date>

<chapter>
<title>Gentoo e gli Aggiornamenti</title>
<section>
<title>Filosofia</title>
<body>

<p>
In Gentoo il concetto di aggiornamento differisce leggermente rispetto alle
altre distribuzioni Linux. Probabilmente è già noto che Gentoo non è mai
stato in linea con il metodo classico di aggiornare il software di una distribuzione
all'ultima versione: aspettare per una nuova versione, fare il download, masterizzarla,
inserire il cdrom e seguire le istruzioni.
</p>

<p>
Si è già a conoscenza di quanto questo metodo sia estremamente frustrante
per quegli utenti avanzati che vogliono sempre avere l'ultima versione del software.
Anche gli utenti avanzati di altre distribuzioni condividono gli stessi sentimenti, dando popolarità
a strumenti come apt-rpm, che rendono possibili aggiornamenti frequenti e veloci.
Tuttavia nessuna distribuzione è più adatta di Gentoo a soddisfare questa categoria di utenti
poichè Gentoo è stata progettata sin dall'inizio attorno al concetto di aggionamenti rapidi,
incrementali.
</p>

<p>
Idealmente, una volta eseguita l'installazione non c'è più motivo di preoccuparsi
riguardo alla versione:
Si devono solamente seguire le istruzioni in
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=2">Portage e
Software</uri> del
<uri link="/doc/it/handbook/">Manuale Gentoo</uri> che spiega come tenere
aggiornato il proprio sistema. Sebbene questa sia la norma, può accadere che
talvolta gli sviluppatori inseriscano, con una nuova versione, degli aggiornamenti
che modificano profondamente le basi del sistema. Questi casi vengono affrontati
successivamente, quando si tratta dei profili. 
</p>

</body>
</section>
<section>
<title> Versioni e Profili</title>
<body>

<p>
Una domanda ricorrente riguardo al processo di rilascio di Gentoo è: "Perchè
rilasciare frequentemente nuove versioni, se non servono agli utenti per
aggiornare il software?".
Ci sono varie ragioni:
</p>

<ul>
  <li>
    Una nuova versione significa un LiveCD migliore e più ricco.
  </li>
  <li>
    Una nuova versione fornisce un'inseme di pacchetti GRP aggiornato, così che
    gli utenti che scelgono "la via più veloce" per installare, stage3 + pacchetti precompilati,
    non si trovino con un sistema già vecchio.
  </li>
  <li>
    Infine, una nuova versione potrebbe (caso non frequente) implementare delle 
    caratteristiche incompatibili con le versioni precedenti.
  </li>
</ul>

<p>
Quando una nuova versione fornisce caratteristiche incompatibili, o un'insieme
di pacchetti e configurazioni  che modificano profondamente il comportamento
del sistema, o semplicemente quando fa dei cambiamenti particolari ad alcuni
paramentri di default, si dice che fornisce un nuovo <e>profilo</e>.
</p>

<p>
Un <e>profilo</e> è un'insieme di file di configurazione, allocati in una sottodirectory di
<path>/usr/portage/profiles/</path>, che descrive cose come gli ebuilds
che fanno parte dei pacchetti di <e>system</e>, le flag USE di default, 
lo schema di default dei pacchetti virtuali.
</p>

<p>
Il profilo in uso è determinato dal link simbolico
<path>/etc/make.profile</path>, che punta alla sottodirectory di
<path>/usr/portage/profiles</path> nella quale sono contenuti i file
dei profili, ad esempio <path>/usr/portage/profiles/default-x86-2004.0</path>.
</p>

<p>
I profili resi obsoleti dai nuovi sono mantenuti in <path>/usr/portage/profiles</path>
come i nuovi, ma sono marcati come deprecated. Quando ciò accade un file
evidenziato come <path>deprecated</path> viene inserito nella directory dei profili. Il 
contenuto di questo file è il nome del profilo che dovrebbe sostituirlo; portage usa
questa informazione per avvisarvi automaticamente del nuovo profilo esistente.
</p>

<p>
Ci sono vari motivi che giustificano la creazione di un nuovo profilo; il 
rilascio di nuove versioni di pacchetti fondamentali (come ad esempio
<c>baselayout</c>, <c>gcc</c> o <c>glibc</c>) incompatibili con le versioni precedenti,
un cambiamento nelle flag USE di default, o nei pacchetti virtuali, oppure un 
cambiamento nei parametri fondamentali del sistema (come ad esempio la scelta
di udev come default manager per <path>/dev</path> al posto di devfs).
</p>

</body>
</section>
</chapter>

<chapter>
<title>Mantenersi aggiornati con le nuove versioni</title>
<section>
<title>Versioni senza cambiamento di profilo</title>
<body>

<p>
Se viene rilasciata una nuova versione di Gentoo che non include un nuovo
profilo (come la versione 2004.1 per x86), l'utente potrà stare tranquillo poichè 
accade niente.
</p>

<p>
Se si procede all'aggiornamento dei pacchetti installati
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=2">come spiegato nel
Gentoo Handbook</uri>, il sistema è esattamente come quello di chi ha
eseguito l'installazione utilizzando la nuova versione.
</p>

</body>
</section>
<section>
<title>Versioni con cambio di profilo</title>
<body>

<p>
Se una nuova versione introduce un nuovo profilo, l'utente ha la possibilità
di scegliere se effettuare o meno il passaggio al nuovo profilo. 
</p>

<p>
Naturalmente non si è obbligati a farlo, e si può continuare ad utilizzare il vecchio
profilo semplicemente continuando ad aggiornare i pacchetti installati 
<uri link="/doc/it/handbook/handbook-x86.xml?part=2&amp;chap=2">
come spiegato nel Gentoo Handbook</uri> (o si può non aggiornare niente).
</p>

<p>
In ogni modo, Gentoo raccomanda fortemente la migrazione se il profilo viene
evidenziato come deprecated e non più supportato dagli sviluppatori di Gentoo, 
il che significa che il profilo non sarà più elencato nella tabella sottostante.
</p>

<p>
Se l'utente opta per la migrazione al nuovo profilo, deve eseguire
manualmente alcune operazioni. Queste operazioni potranno variare molto da 
versione a versione, tutto dipende da quanto profondi saranno i cambiamenti 
apportati dal nuovo profilo.
</p>

<p>
Nel caso più semplice l'utente deve solamente cambiare il link <path>/etc/make.profile</path>, 
nel caso peggiore deve ricompilare il proprio sistema da zero. In ogni caso 
vengono pubblicate istruzioni dettagliate sulla migrazione verso il nuovo profilo insieme 
alla nuova versione. E' possibile trovare queste istruzioni anche alla fine di questa guida. 

</p>

</body>
</section>
<section>
<title>Profili Supportati</title>
<body>

<p>
I seguenti profili sono ufficialmente supportati dagli sviluppatori Gentoo:
</p>

<table>
<tr>
  <th>Architettura</th>
  <th>Ultimo profilo</th>
  <th>Altri profili supportati</th>
</tr>
<tr>
  <th>x86</th>
  <ti>2004.0</ti>
  <ti>1.4</ti>
</tr>
<tr>
  <th>hardened-x86</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
<tr>
  <th>amd64</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
<tr>
  <th>ppc</th>
  <ti>2004.0</ti>
  <ti>1.4</ti>
</tr>
<tr>
  <th>sparc</th>
  <ti>2004.0</ti>
  <ti>1.4</ti>
</tr>
<tr>
  <th>mips</th>
  <ti>2004.0</ti>
  <ti>1.4</ti>
</tr>
<tr>
  <th>hppa</th>
  <ti>2004.0</ti>
  <ti></ti>
</tr>
</table>

</body>
</section>
</chapter>

<chapter>
<title>Istruzioni per l'aggiornamento del profilo</title>
<section>
<title>Aggiornamento da 1.4 a 2004.0 (tutte le architetture)</title>
<body>

<p>
Non ci sono cambiamenti fondamentali tra i profili 1.4 e 2004.0. L'utente
deve semplicemente cambiare il link <path>/etc/make.profile</path> :
</p>

<pre caption="Aggiornare il  link /etc/make.profile">
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-x86-2004.0 /etc/make.profile</i>
</pre>

</body>
</section>
<section>
<title>Aggiornamento da profili precedenti a 1.4 al profilo 1.4</title>
<body>

<p>
Le istruzioni per questo aggiornamento sono abbastanza complesse, e possono
essere consultate <uri link="/doc/it/new-upgrade-to-gentoo-1.4.xml">qui</uri>.
</p>

</body>
</section>
</chapter>

</guide>

