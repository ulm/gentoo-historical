<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/handbook/hb-install-x86+amd64-medium.xml,v 1.5 2007/07/03 18:26:45 scen Exp $ -->

<sections>

<abstract>
Gentoo Linux può essere installato in vari modi: in questo capitolo si illustra
come installare Gentoo con il CD di installazione minimale sebbene sia possibile
l'installazione con il LiveCD di installazione.
</abstract>

<version>5.2</version>
<date>2007-06-29</date>

<section>
<title>Richieste Hardware</title>
<subsection>
<title>Introduzione</title>
<body>

<p>
Prima ancora di cominciare vengono elencate le richieste hardware necessarie per
installare Gentoo sulla propria macchina.
</p>

</body>
</subsection>
<subsection>
<title>Requisiti Hardware</title>
<body test="func:keyval('arch')='x86'">

<table>
<tr>
  <ti/>
    <th>CD Minimale</th>
    <th>LiveCD</th>
</tr>
<tr>
  <th>CPU</th>
  <ti>i486 o successivo</ti>
  <ti><b>i686</b> o successivo</ti>
</tr>
<tr>
  <th>Memoria</th>
  <ti>64 MB</ti>
  <ti>256 MB</ti>
</tr>
<tr>
  <th>Spazio su disco</th>
  <ti colspan="2">1.5 GB (escluso lo swap)</ti>
</tr>
<tr>
  <th>Spazio per lo swap</th>
  <ti colspan="2">Almeno 256 MB</ti>
</tr>
</table>

</body>
<body test="func:keyval('arch')='AMD64'">

<table>
<tr>
<ti/>
  <th>CD Minimale</th>
  <th>LiveCD</th>
</tr>
<tr>
  <th>CPU</th>
  <ti colspan="2">Tutte le CPU AMD64 o EM64T</ti>
</tr>
<tr>
  <th>Memoria</th>
  <ti>64 MB</ti>
  <ti>256 MB</ti>
</tr>
<tr>
  <th>Spazio su disco</th>
  <ti colspan="2">1.5 GB (escluso lo spazio per swap)</ti>
</tr>
<tr>
  <th>Spazio per swap</th>
  <ti colspan="2">Almeno 256 MB</ti>
</tr>
</table>

<p>
Si dovrebbe controllare la <uri link="/proj/en/base/amd64/">Gentoo AMD64 Project
Page</uri> prima di continuare.
</p>

</body>

</subsection>
</section>
<section>
<title>I CD di Installazione Gentoo</title>
<subsection>
<title>Introduzione</title>
<body>

<p>
I <e>CD di Installazione Gentoo</e> sono CD avviabili che contengono un ambiente
Gentoo autonomo. Consentono di avviare Linux da CD. Durante il processo di boot
viene rilevato l'hardware e vengono caricati i relativi driver. I CD vengono
mantenuti dagli sviluppatori Gentoo.
</p>

<p>
Tutti i CD di Installazione consentono di avviare, configurare la rete,
inizializzare le partizioni e iniziare l'installazione di Gentoo da Internet. Al
momento vengono resi disponibili due CD di Installazione che sono entrambi
adatti per l'installazione nel momento in cui si desideri effettuare
un'installazione con supporto di rete e installando le ultime versioni dei
pacchetti.
</p>

<impo>
Se si desidera installare Gentoo senza la necessità di una connessione ad
Internet è possibile utilizzare le istruzioni comprese nel <uri
link="2007.0/">manuale Gentoo 2007.0</uri>.
</impo>

<p>
I due CD di Installazione sono:
</p>

<ul>
  <li>
    Il CD di Installazione Gentoo <e>Minimale</e>, un CD bootabile molto snello
    il cui unico scopo è di avviare il sistema, configurare la rete e continuare
    con l'installazione Gentoo.
  </li>
  <li>
    Il <e>LiveCD di Installazione</e> contiene tutto il necesessario per in
    installare Gentoo. Offre un ambiente grafico, una procedura di installazione
    sia grafica, sia da console che esegue l'installazione autonomamente ed
    ovviamente le istruzioni per l'installazione per la propria architettura.
  </li>
</ul>

<p>
Per seguire l'utente nella scelta del CD di Installazione è stata stilata una
lista dei principali vantaggi e svantaggi di ciascun CD di Installazione.
</p>

</body>
</subsection>
<subsection>
<title>CD di Installazione Gentoo Minimale</title>
<body>

<p>
L'immagine del CD di Installazione minimale si chiama <c><keyval
id="min-cd-name"/></c> ed occupa solo <keyval id="min-cd-size"/>MB di spazio. È
possibile utilizzarlo per installare Gentoo ma <e>solo</e> nel caso si disponga
di una connessione ad Internet.
</p>

<table>
<tr>
  <th>CD di Installazione Minimale</th>
  <th>Pro e Contro</th>
</tr>
<tr>
  <th>+</th>
  <ti>Brevissimo download</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Non contiene nè lo stage3, nè snapshot di portage, nè pacchetti GRP, quindi
    non è adatto ad installazioni senza collegamento ad Internet
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>LiveCD di Installazione Gentoo</title>
<body>

<p>
Il LiveCD di installazione è contenuto nell'immagine <c><keyval
id="live-cd-name"/></c> ed occupa <keyval id="live-cd-size"/>MB in un CD. È
possibile utilizzare questo CD di Installazione per installare Gentoo, anche
senza una connessione ad Internet.
</p>

<table>
<tr>
  <th>LiveCD di Installazione</th>
  <th>Pro e Contro</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Contiene tutto ciò di cui c'è bisogno; si può anche fare a meno di un
    collegamento ad Internet per l'installazione.
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Download enorme</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Lo Stage3</title>
<body>

<p>
Un archivio stage3 è un tar che contiene un ambiente Gentoo minimale, fatto
apposta per continuare l'installazione Gentoo, come indicato in questo manuale.
In precedenza il Manuale Gentoo descriveva l'installazione mediante l'utilizzo
di uno dei tre stage disponibili. Adesso però, pur continuando ad essere
disponibili tutti e tre gli stage, il metodo ufficiale di installazione adotta
lo stage3. Se si è interessati a condurre una installazione Gentoo utilizzando
un archivio stage1 o stage2 è possibile consultare le Domande frequenti (FAQ) su
Gentoo alla voce <uri link="/doc/it/faq.xml#stage12">Come installare Gentoo
mediante uno stage1 o stage2</uri>.</p>

<p>
Gli archivi stage3 possono essere scaricati da <path><keyval
id="release-dir"/>stages/</path> in uno qualsiasi dei <uri
link="/main/en/mirrors.xml">Mirror ufficiali Gentoo</uri> e non vengono forniti
sul LiveCD.
</p>

</body>
</subsection>
</section>

<section>
<title>Scaricare, masterizzare ed avviare un CD di Installazione Gentoo</title>
<subsection>
<title>Scaricare e masterizzare i CD di Installazione</title>
<body>

<p>
Questa è la sezione che tratta l'utilizzo di un CD di Installazione Gentoo. Si
inizia scaricando uno dei differenti set di CD a cui si è accennato.
</p>

<p>
È possibile scaricare qualsiasi CD di Installazione da uno dei <uri
link="/main/en/mirrors.xml">mirror</uri> di Gentoo. Il CD di Installazione
risiedono nella directory <path><keyval id="release-dir"/>installcd</path>.
</p>

<p>
All'interno della directory segnalata si possono trovare le ISO. Si tratta di
immagini complete di CD che si possono masterizzare.
</p>

<p>
Nel caso che si voglia controllare l'integrità del file che si è scaricato, è
possibile controllare il checksum MD5 e confrontarlo con quelli forniti (come
<path><keyval id="min-cd-name"/>.DIGESTS</path>). Si può controllare il checksum
con lo strumento <c>md5sum</c> sotto Linux/Unix o con <uri
link="http://www.etree.org/md5com.html">md5sum</uri> per Windows.
</p>

<p>
Un altro modo di controllare la validità del file scaricato è di utilizzare
GnuPG per verificare la firma che viene fornita insieme ad esso. (il file con
estensione <path>.asc</path>). Scaricare il file con la firma e procurarsi la
chiave pubblica:
</p>

<pre caption="Otteneree la chiave pubblica">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Verificare la firma:
</p>

<pre caption="Verifica della firma">
$ <i>gpg --verify &lt;file con la firma&gt; &lt;file iso scaricato&gt;</i>
</pre>

<p>
Per masterizzare l'immagine ISO scelta è necessario scegliere la modalità RAW.
Come impostarla dipende dal programma: seguono le istruzioni per <c>cdrecord</c>
e <c>K3B</c>; ulterori informazioni possono essere reperite nelle <uri
link="/doc/it/faq.xml#isoburning">Domande frequenti su Gentoo</uri>.
</p>

<ul>
  <li>
    Con cdrecord, scrivere semplicemente <c>cdrecord dev=/dev/hdc &lt;file iso
    scaricato&gt;</c> (dove <path>/dev/hdc</path> è la periferica del
    masterizzatore)
  </li>
  <li>
    Con K3B, selezionare <c>Tools</c> &gt; <c>Burn CD Image</c>
    (<c>Strumenti</c> &gt; <c>Scrivi immagine CD</c> se localizzato in italiano,
    ndt). Si può individuare il file ISO nell'area 'Image to Burn' ('Immagine
    da scrivere', ndt). Poi cliccare su <c>Start</c> (<c>Avvia</c>, ndt).
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Avviare i CD di Installazione</title>
<body>

<p>
Una volta masterizzati i CD di installazione è tempo di avviare. Riavviare il
sistema ed entrare nel BIOS, di solito premendo i tasti DEL, F1 o ESC a seconda
della marca del BIOS. All'interno del BIOS cambiare l'ordine del boot in modo
tale che il CD-ROM preceda l'hard disk. Spesso questa opzione si trova sotto
"CMOS Setup". Nella maggior parte dei casi saltare questo passo porta a non
poter bootare direttamente da CD.
</p>

<p>
Inserire il CD di installazione nel lettore CD-ROM e riavviare il sistema.
Dovrebbe comparire una graziosa schermata con il logo di Gentoo Linux. A questo
punto, premendo invio è possibile far partire il processo di boot con le opzioni
predefinite oppure far avviare il CD di Installazione con opzioni personalizzate
specificando un kernel seguito dalle opzioni desiderate e premendo invio.
</p>

<p>
Vengono forniti diversi kernel sui CD di Installazione. Quello predefinito è
<c>gentoo</c>. Esistono altri kernel per esigenze hardware specifiche e la
variante <c>-nofb</c> che disabilita il framebuffer.
</p>

<p>
Di seguito è possibile consultare una breve descrizione per ognuno dei kernel
disponibili:
</p>

</body>
<body test="func:keyval('arch')='x86'">

<table>
<tr>
  <th>Kernel</th>
  <th>Descrizione</th>
</tr>
<tr>
  <ti>gentoo</ti>
  <ti>Kernel 2.6 predefinito con supporto per CPU multiple</ti>
</tr>
<tr>
  <ti>gentoo-nofb</ti>
  <ti>Come <c>gentoo</c> ma senza supporto framebuffer</ti>
</tr>
<tr>
  <ti>memtest86</ti>
  <ti>Avvia un controllo della memoria RAM</ti>
</tr>
</table>

</body>
<body test="func:keyval('arch')='AMD64'">

<table>
<tr>
  <th>Kernel</th>
  <th>Descrizione</th>
</tr>
<tr>
  <ti>gentoo</ti>
  <ti>Kernel predefinito con supporto per CPU K8 con NUMA ed EM64T</ti>
</tr>
<tr>
  <ti>memtest86</ti>
  <ti>Avvia un controllo della memoria RAM</ti>
</tr>
</table>

</body>
<body>

<p>
È possibile anche selezionare opzioni per il kernel. Si tratta di direttive
particolari che possono essere attivate o meno a piacere. La seguente lista
descrive tutte le opzioni del kernel disponibili quando si preme F2.
</p>

<pre caption="Opzioni disponibili per il kernel scelto">
- agpgart       carica agpgart (da utilizzare in caso di problemi con la scheda grafica)
- acpi=on       carica il supporto ACPI
- ide=nodma     disabilita a forza il DMA (da usare nel caso di malfunzionamenti)
- doscsi        ricerca periferiche scsi (disabilita alcune schede ethernet)
- dopcmcia      avvia il servizio pcmcia per i cdrom PCMCIA
- nofirewire    disabilita il supporto firewire in initrd (per cdroms firewire, ecc)
- nokeymap      disabilita la selezione della tastiera per configurazione non US
- docache       memorizza in cache l'ambiente consentendo di smontare /mnt/cdrom
- nodetect      disabilita l'avvio di hwsetup/kudzu e hotplug
- nousb         disabilita il modulo usb da initrd e disabilita hotplug
- nodhcp        dhcp non viene avviato nel caso si rilevi un nic
- nohotplug     disabilita il caricamento di hotplug
- noapic        disabilita apic (da provare nel caso di problemi hardware)
- noevms        disabilita il caricamento dei moduli EVMS2
- nolvm2        disabilita il caricamento dei moduli LVM2
- hdx=stroke    consente di partizionare il drive anche nel caso che il BIOS non supporti dischi fissi grandi
- noload=module1,[module2,[...]]
                disabilita il caricamento di specific moduli
</pre>

<p>
Adesso è possibile avviare il CD selezionando il kernel (se non si vuole
utilizzare quello predefinito) e le opzioni di boot. Ad esempio ecco come
avviare il kernel <c>gentoo</c>, con il parametro <c>dopcmcia</c>:
</p>

<pre caption="Avviare un CD di Installazione">
boot: <i>gentoo dopcmcia</i>
</pre>

<p>
Si dovrebbe presentare ora un altra schermata con una barra che indica lo
svolgersi delle operazioni. Se si sta installando Gentoo su un sistema privo di
tastiera statunitense, assicurarsi di premere Alt-F1 per passare alla modalità
testuale e seguire le operazioni. Se non viene selezionato nulla, dopo 10
secondi viene automaticamente scelta la tastiera statunitense ed il boot
continua. Una volta completato il processo di boot si è automaticamente
nell'ambiente Live di Gentoo come "root", l'utente amministratore. Ci dovrebbe
essere un prompt di root a schermo ("#") e dovrebbe essere possibile passare
ad altre console premendo Alt-F2, Alt-F3 e Alt-F4 e tornare alla precedente
premendo Alt-F1.
</p>

<p>
Continuare ora con la <uri link="#hardware">Configurazione dell'Hardware</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Configurazione dell'hardware</title>
<body>

<p>
Al momento del boot il CD prova a rilevare tutte le periferiche hardware e
caricare i corrispondenti moduli del kernel di supporto. Nella grande maggior
parte dei casi l'operazione va a buon fine. A volte però potrebbero non essere
caricati tutti i moduli necessari. Se la rilevazione automatica PCI ha saltato
qualche periferica, è necessario caricare manualmente il modulo corrispondente.
</p>

<p>
Nel seguente esempio si prova a caricare il modulo <c>8139too</c> (che supporta
un certo tipo di interfacce di rete):
</p>

<pre caption="Caricamento dei moduli del kernel">
# <i>modprobe 8139too</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opzionale: Ottimizzazione delle prestazioni dell'hard disk</title>
<body>

<p>
Alcuni utenti esperti potrebbero voler ottimizzare le prestazioni del proprio
hard disk tramite <c>hdparm</c>. Con le opzioni <c>-tT</c> è possibile testare
le prestazioni del proprio disco (eseguire il test alcune volte per avere
risultati più precisi):
</p>

<pre caption="Test delle prestazioni del disco">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Per l'ottimizzazzione è possibile utilizzare uno dei seguenti esempi (o una
configurazione personalizzata) che usano <path>/dev/hda</path> come disco
(sostituirlo con il proprio):
</p>

<pre caption="Ottimizzazione delle prestazioni del disco">
<comment>Attivare il DMA:</comment>
# <i>hdparm -d 1 /dev/hda</i>

<comment>Attivare il DMA e altre opzioni sicure di ottimizzazione:</comment>
# <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Opzionale: Account utente</title>
<body>

<p>
Se si pensa di dare accesso ad altri al proprio ambiente di installazione o si
desidera chattare usando <c>irssi</c> senza i privilegi di amministrazione per
motivi di sicurezza, è necessario creare gli opportuni account utente e cambiare
la password di root.
</p>

<p>
Per cambiare la password di root utilizzare l'utilità <c>passwd</c>:
</p>

<pre caption="Cambiare la password di root">
# <i>passwd</i>
New password: <comment>(Inserire la nuova password)</comment>
Re-enter password: <comment>(Inserire nuovamente la nuova password)</comment>
</pre>

<p>
Per creare un account utente è necessario inserire i suoi dati seguiti dalla sua
password. È possibile utilizzare  <c>useradd</c> e <c>passwd</c> per farlo, come
mostra il prossimo esempio in cui si crea l'utente &quot;john&quot;.
</p>

<pre caption="Creare un account utente">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Inserire la password di john)</comment>
Re-enter password: <comment>(Inserire nuovamente la password di john)</comment>
</pre>

<p>
È possibile dunque cambiare utente da root al nuovo utente tramite <c>su</c>:
</p>

<pre caption="Cambiare utente">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opzionale: Consultare la documentazione durante l'installazione</title>
<body>

<p>
Se si desidera visualizzare il manuale Gentoo (da CD o online) durante
l'installazione, bisogna assicurarsi di aver creato un account utente
(consultare la sezione <uri link="#useraccounts">Opzionale: Account
utente</uri>), premere poi <c>Alt-F2</c> per passare ad un nuovo terminale ed
inserire le credenziali.
</p>

<p>
Per consultare la documentazione disponibile sul CD è possibile utilizzare
<c>links2</c> così:
</p>

<pre caption="Visualizzare la documentazione sul CD">
# <i>links2 /mnt/cdrom/docs/html/index.html</i>
</pre>

<p>
È in ogni caso preferibile consultare il manuale online, visto che
probabilmente sarà più aggiornato di quello disponibile sul CD. È possibile
visualizzarlo con <c>links</c>, ma solo dopo aver completato le fasi descritte
nel capitolo riguardante la <e>Configurazione di rete</e> (in caso contrario
potrebbe non essere disponibile la connessione):
</p>

<pre caption="Visualizzare la documentazione online">
# <i>links http://www.gentoo.org/doc/it/handbook/<keyval id="online-book"/></i>
</pre>

<p>
È ora possibile tornare al terminale originale premendo <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Opzionale: Avviare un demone SSH</title>
<body>

<p>
Se si desidera consentire ad altri utenti l'accesso al pc durante
l'installazione di Gentoo (magari perchè qualcuno di essi potrebbe essere di
aiuto o addirittura condurre personalmente l'installazione), è necessario creare
un account per ciascuno di essi o condividere con loro la password di root
(<e>solo se si confida pienamente</e> in tale utente).
</p>

<p>
Per avviare il demone SSH, eseguire il seguente comando:
</p>

<pre caption="Avviare il demone SSH">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Per utilizzare sshd è però prima necessario configurare la rete. Passare ora al
capitolo riguardante la <uri link="?part=1&amp;chap=3">Configurazione della
rete</uri>.
</p>

</body>
</subsection>
</section>
</sections>