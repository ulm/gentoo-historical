<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/handbook/hb-portage-branches.xml,v 1.2 2004/11/29 21:12:35 mush Exp $ -->

<sections>

<version>1.1</version>
<date>21 Ottobre 2004</date>

<section>
<title>Usare una branca</title>
<subsection>
<title>La branca stabile</title>
<body>

<p>
La variabile ACCEPT_KEYWORDS definisce la branca usata dal sistema. Il suo valore
predefinito è la branca stabile per l'architettura del sistema in uso, per
esempio <c>x86</c>
</p>

<p>
La raccomandazione è di usare solo la branca stabile, comunque, se non si
è preoccupati eccessivamente per la stabilità e si vuole aiutare Gentoo
sottomettendo rapporti di problemi su
 <uri>http://bugs.gentoo.org</uri>, si può proseguire con la lettura.
</p>

</body>
</subsection>
<subsection>
<title>La branca di test</title>
<body>

<p>
Se si vogliono usare i software più recenti si può considerare l'uso 
della branca test. Per far usare al Portage la branca di test occorre aggiungere
il simbolo ~ prima dell'architettura del sistema in uso.
</p>

<p>
Per esempio, per selezionare la branca di test per architetture x86, editare
<path>/etc/make.conf</path> e definire:
</p>

<pre caption="Definire la variabile ACCEPT_KEYWORDS">
ACCEPT_KEYWORDS="~x86"
</pre>

<p>
Se si aggiorna il sistema dopo questa modifica, si avranno <e>molti</e>  pacchetti
da aggiornare. Una cosa da tenere bene in mente è che se si aggiorna il sistema
in uso alla branca di test non c'è un modo semplice per tornare alla branca
stabile (eccetto l'uso di backup naturalmente).
</p>

</body>
</subsection>
</section>
<section>
<title>Miscelare branche stabili e test</title>
<subsection>
<title>Il file package.keywords</title>
<body>

<p>
Si può chiedere al Portage di permettere la branca di test per particolari
pacchetti ma usare la branca stabile per il resto del sistema.
Per questo, si deve aggiungere la categoria ed il nome del pacchetto che
si vuole usare dalla branca di test al file <path>/etc/portage/package.keywords</path>. 
Per esempio, per usare la branca di test di  <c>gnumeric</c>:
</p>

<pre caption="Definizione di /etc/portage/package.keywords per gnumeric">
app-office/gnumeric
</pre>

<p>
La stessa cosa può essere ottenuta aggiungendo la keyword corretta alla fine
della linea, per esempio per l'architettura x86:
</p>

<pre caption="Definizione di /etc/portage/package.keywords per gnumeric, linea completa">
app-office/gnumeric ~x86
</pre>

</body>
</subsection>
<subsection>
<title>Sperimentare versioni particolari</title>
<body>

<p>
Se si vuole usare una versione specifica di software dalla branca di  test
ma non si vuole che Portage usi la branca di test per le versioni successive,
si può aggiungere la versione nel file
 <path>package.keywords</path>.
In questo caso si <e>deve</e> usare l'operatore =. Si può anche inserire
un intervallo di versioni usando gli operatori
 &lt;=, &lt;, &gt; o &gt;=.
</p>

<p>
In ogni caso, volendo aggiungere una versione si <e>deve</e> usare un operatore.
Se non si specifica alcuna versione <e>non si possono</e> usare operatori.
</p>

<p>
Il seguente esempio mostra come accettare gnumeric-1.2.13:
</p>

<pre caption="Usare una particolare versione di gnumeric">
=app-office/gnumeric-1.2.13 
</pre>

</body>
</subsection>
</section>
<section>
<title>Usare pacchetti mascherati</title>
<subsection>
<title>Il file package.unmask</title>
<body>

<p>
Quando un pacchetto è stato mascherato dagli sviluppatori di Gentoo e si
vuole comunque installare il file a dispetto della ragione menzionata
nel file  <path>package.mask</path> (ubicato di default in <path>/usr/portage/profiles</path>), aggiungere la stessa <e>identica</e> linea in <path>/etc/portage/package.unmask</path>. 
</p>

<p>
Per esempio, se <c>=net-mail/hotwayd-0.8</c> è mascherato, si può comunque
installarlo aggiungendo la stessa identica linea nel file
 <path>package.unmask</path>:
</p>

<pre caption="/etc/portage/package.unmask">
=net-mail/hotwayd-0.8
</pre>

</body>
</subsection>
<subsection>
<title>Il file package.mask</title>
<body>

<p>
Se non si vuole che Portage installi un certo pacchetto o una specifica versione
di un pacchetto, lo si può mascherare autonomamente aggiungendo una riga
appropriata in
<path>/etc/portage/package.mask</path>.
</p>

<p>
Per esempio, se non si vuole che Portage installi nuove versioni del kernel dopo
<c>development-sources-2.6.8.1</c>, si aggiunga la seguente linea a
<path>package.mask</path>:
</p>

<pre caption="/etc/portage/package.mask esempio">
&gt;sys-kernel/development-sources-2.6.8.1
</pre>

</body>
</subsection>
</section>
</sections>
