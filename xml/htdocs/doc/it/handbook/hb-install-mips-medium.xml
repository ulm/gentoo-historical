<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/handbook/hb-install-mips-medium.xml,v 1.1 2004/12/16 20:46:10 mush Exp $ -->

<sections>

<version>1.3</version>
<date>2004-05-09</date>

<section>
<title>Richieste Hardware</title>
<subsection>
<title>Introduzione</title>
<body>

<p>
Prima ancora di cominciare vengono elencate le richieste hardware necessarie per installare Gentoo sulla propria macchina. Naturalmente dipendono dalla propria architettura.
</p>

</body>
</subsection>
<subsection>
<title>L'architettura MIPS</title>
<body>

<p>
Controllare i seguenti requisiti prima di iniziare l'installazione di Gentoo:
</p>

<ul>
<li>
  E' necessario almeno 1 GB di spazio su disco
</li>
<li>
  Per l'<e>architettura MIPS</e>, si dovrebbe controllare <uri link="/doc/en/mips-requirements.xml">MIPS Hardware Requirements</uri>
</li>
</ul>

</body>
</subsection>
</section>
<section>
<title>La scelta</title>
<subsection>
<title>Introduzione</title>
<body>

<p>
A questo punto è tempo di scegliere la modalità con cui condurre l'installazione.
</p>

<p>
I metodi di installazione descritti sono:
</p>

<ul>
<li>Net Booting</li>
</ul>

<p>
Ma prima di continuare bisogna spiegare cosa è il "metodo di installazione con stage".
</p>

</body>
</subsection>
<subsection>
<title>I tre Stage</title>
<body>

<p>
Gentoo Linux può essere installato tramite uno dei tre <e>stage</e>, che sono archivi tar. La scelta di uno dei tre dipende da quanto del sistema si desidera compilare personalmente. Lo <e>stage1</e> viene utilizzato quando si desidera fare il bootstrap e compilare tutto il sistema da zero. Lo <e>stage2</e> serve per compilare l'intero sistema da uno stato di semi-compilazione dopo il bootstrap. Lo <e>stage3</e> invece contiene già un sistema Gentoo di base compilato in precedenza. Come viene spiegato in seguito è anche possibile installare Gentoo senza compilare nulla (tranne il kernel e alcuni pacchetti opzionali). Se si preferisce quest'ultima strada è possibile utilizzare lo <e>stage3</e>.
</p>

<p>
Che stage scegliere?
</p>

<p>
Iniziare dallo <e>stage1</e> consente di avere un controllo totale sui parametri di ottimizzazione e sulle funzionalità opzionali che possono essere attivate sul sistema. Questo è ciò che rende lo <e>stage1</e> un ottimo strumento di installazione per gli utenti esperti che sanno perfettamente ciò che stanno facendo. E' anche un comodo metodo per coloro che desiderino conoscere meglio il funzionamento di Gentoo Linux.
</p>

<p>
L'installazione dallo <e>stage1</e> può essere effettuata solo se si ha una connessione a Internet.
</p>

<table>
<tr>
  <th>Stage1</th>
  <th>Pro e Contro</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Consente di avere completo controllo sulle opzioni di ottimizzazione e sull'eventuale installazione del supporto a funzionalità aggiuntive
  </ti>
</tr>
<tr>
  <th>+</th>
  <ti>Adatto ad utenti esperti che sanno ciò che stanno facendo</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Consente di apprendere molto del funzionamento interno di Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Impiega molto tempo a terminare l'installazione</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Se non si desidera configurare le opzioni è semplicemente una perdita di tempo
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Non adatto ad installazioni senza rete
    </ti>
</tr>
</table>

<p>
Lo <e>Stage2</e> evita all'utente il processo di bootstrap, il che è un vantaggio se le opzioni di ottimizzazione scelte per lo <e>stage2</e>
 sono già soddisfacenti per il sistema.
</p>

<p>
L'installazione dallo <e>stage2</e> può essere effettuata solo se si ha una connessione a Internet.
</p>

<table>
<tr>
  <th>Stage2</th>
  <th>Pro e Contro</th>
</tr>
<tr>
  <th>+</th>
  <ti>Non c'è bisogno di bootstrap</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Più rapido dello stage1</ti>
</tr>
<tr>
  <th>+</th>
  <ti>E' ancora possibile adattare la configurazione</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Non è possibile configurare ogni parametro come nello stage1</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Non è la via più rapida di installare Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bisogna accettare le ottimizzazioni già presenti nel bootstrap</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Non adatto ad installazioni senza rete
  </ti>
</tr>
</table>

<p>
La scelta dello <e>stage3</e> consente la più rapida installazione possibile di Gentoo Linux, ma implica anche l'accettazione di tutte le configurazioni di default per il sistema (che comunque sono state accuratamente selezionate per ottimizzare le performance e garantire la stabilità). Lo <e>stage3</e> è necessario anche per installare Gentoo tramite pacchetti precompilati o senza connessione di rete.
</p>

<table>
<tr>
  <th>Stage3</th>
  <th>Pro e Contro</th>
</tr>
<tr>
  <th>+</th>
  <ti>E' il metodo più veloce di avere un sistema base Gentoo</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Adatto ad installazioni senza rete</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Non è possibile adattare il sistema, è già compilato</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Non si può vantarsi di aver usato lo stage1 o lo stage2</ti>
</tr>
</table>

<p>
Annotarsi (o ricordarsi) qual'è lo stage che si desidera usare. Se ne avrà bisogno più avanti quando si deciderà quale LiveCD (o quale altro mezzo di installazione) sarà usato. E' interessante sapere che se si decide di utilizzare impostazioni di ottimizzazione differenti dopo l'installazione di Gentoo, è possibile ricompilare il sistema per intero con le nuove impostazioni.
</p>

<p>
Seguono ora i metodi disponibili per l'installazione.
</p>

</body>
</subsection>
<subsection>
<title>Net Booting</title>
<body>

<p>
In alcuni casi non si ha la possibilità di avviare da un CD o da una installazione esistente, per installare Gentoo. Nel caso si avesse un sistema con una interfaccia di rete e un BIOS/ROM capace di effettuare un netboot (PXE), si può scaricare un piccolo sistema al boot e cominciare l'installazione da questo sistema.
</p>

<p>
In caso si decida di usare il metodo net boot, si dovrebbe avere già funzionanti server DHCP e TFTP. Come impostare un <uri link="/doc/it/diskless-howto.xml#doc_chap3">server DHCP</uri> e <uri link="/doc/it/diskless-howto.xml#doc_chap4">server TFTP</uri>, è possibile vederlo nel <uri link="/doc/it/diskless-howto.xml">Diskless-HOWTO</uri>.
</p>

<p>
Dipende dal proprio setup, se si ha bisogno di creare o scaricare un'immagine del kernel per il sistema.
</p>

</body>
</subsection>
</section>
<section>
<title>Net Booting MIPS System</title>
<subsection>
<body>

<p>
Per poter installare Gentoo, l'immagine che si scarica dal server TFTP dovrebbe fornire i tool necessari per creare i filesystem, creare e montare le partizioni, estrarre un tar e effettuare il chroot. Si possono scaricare immagini net boot esistenti, che hanno già tutti questi tool.
</p>

<p>
Per prima cosa si scarichi una delle immagini net boot disponibili, da <uri>http://dev.gentoo.org/~kumba/mips/netboot/</uri>.
</p>

<p>
Ora si configuri il server DHCP per mandare questo file al client di boot. Macchine SGI hanno bisogno di alcune ottimizzazioni secondarie sul sistema host, per far funzionare correttamente TFTP:
</p>

<pre caption="Alcune ottimizzazioni per macchine SGI con lo scopo di far funzionare correttamente TFTP">
<comment>(Disabilitare "Path Maximum Transfer Unit", altrimenti SGI Prom non trova il kernel)</comment>
# <i>echo 1 &gt; /proc/sys/net/ipv4/ip_no_pmtu_disc</i>
<comment>(Impostare il port range utilizzabile dal SGI Prom)</comment>
# <i>echo "2048 32767" &gt; /proc/sys/net/ipv4/ip_local_port_range</i>
</pre>

<p>
Andare nel PROM monitor e editare il comando per avviare il kernel sulla rete:
</p>

<pre caption="Net booting di un MIPS">
Running power-on diagnostics

System Maintenance Menu

1) Start System
2) Install System Software
3) Run Diagnostics
4) Recover System
5) Enter Command Monitor

Option? <i>5</i>
Command Monitor. Type "exit" to return to the menu.
&gt;&gt; <i>bootp(): root=/dev/ram0</i>
</pre>

<note>
Si dovrebbe premere Esc per andare nel menu sopra, altrimenti il sistema si avvierà direttamente.
</note>

<p>
Alcune volte netbooting è un pò ingannevole. I seguenti comandi PROM possono essere di aiuto, ma non è garantito. Se la macchina rifiuta il netboot, ricontrollare le cose sulla macchina host TFTP, per assicurarsi che:
</p>

<ul>
  <li>dhcpd sta dando un indirizzo IP alla macchina SGI</li>
  <li>
    I permessi sono impostati correttamente in tftp (<path>/tftpboot</path>)
  </li>
  <li>
    Controllare i log del sistema per vedere cosa sta riportando il server tftp (se ci sono errori)
  </li>
  <li>
    Pregare un Tux plushie (questa potrebbe non funzionare, e non è supportata)
  </li>
</ul>

<pre caption="Suggerimenti per net booting">
&gt;&gt; <i>resetenv</i>
&gt;&gt; <i>unsetenv netaddr</i>
&gt;&gt; <i>unsetenv dlserver</i>
&gt;&gt; <i>init</i>
&gt;&gt; <i>bootp(): root=/dev/ram0</i>
</pre>

<p>
Se tutto è andato bene, si è dentro una shell <c>ash</c> della propria macchina. Si può continuare con la <uri link="?part=1&amp;chap=3">Configurazione della rete</uri>.
</p>

</body>
</subsection>
</section>
</sections>
