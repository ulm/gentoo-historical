<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/handbook/hb-net-start.xml,v 1.3 2006/09/13 19:17:20 so Exp $ -->

<sections>

<version>7.0</version>
<date>2006-08-30</date>

<section>
<title>Iniziare</title>
<body>

<note>
Questo documento assume che si è configurato correttamente il kernel, i suoi
moduli per l'hardware e si conosca il nome dell'interfaccia dell'hardware.
Si assume anche che si è configurato <c>eth0</c>, o anche <c>eth1</c>,
<c>wlan0</c>, etc.
</note>

<note>
Questo documento richiede che si esegue <c>baselayout-1.11.11</c> o superiore.
</note>

<p>
Per iniziare la configurazione della scheda di rete, si deve far conoscere
questa ultima al sistema Gentoo RC. Si fa questo creando un link simbolico
da <path>net.lo</path> a <path>net.eth0</path> in <path>/etc/init.d</path>.
</p>

<pre caption="Link simbolico di net.eth0 a net.lo">
# <i>cd /etc/init.d</i>
# <i>ln -s net.lo net.eth0</i>
</pre>

<p>
Ora il sistema Gentoo RC conosce questa interfaccia. Si deve anche sapere
come configurare la nuova interfaccia. Tutte le interfacce di rete sono
configurate in <path>/etc/conf.d/net</path>. Segue un esempio di
configurazione per DHCP e indirizzi statici.
</p>

<pre caption="Esempi per /etc/conf.d/net">
<comment># Per DHCP</comment>
config_eth0=( "dhcp" )

<comment># Per IP statico usando la notazione CIDR</comment>
config_eth0=( "192.168.0.7/24" )
routes_eth0=( "default via 192.168.0.1" )

<comment># Per IP statico con la notazione netmask</comment>
config_eth0=( "192.168.0.7 netmask 255.255.255.0" )
routes_eth0=( "default gw 192.168.0.1" )
</pre>

<note>
Se non si specifica una configurazione per l'interfaccia, si assume che sia
DHCP.
</note>

<note>
CIDR è Classless InterDomain Routing. In origine, gli indirizzi IPv4 erano
classificati come A, B, o C. Questo sistema di classificazione non prevedeva la
grande popolarità di Internet, e è un pericolo eseguire nuovi indirizzi
unici. CIDR è uno schema di indirizzo che permette a un indirizzo IP di
designare molti indirizzi IP. Un indirizzo CIDR IP sembra come un indirizzo IP
normale tranne per il fatto che finisce con uno slash seguito da un numero;
per esempio, 192.168.0.0/16. CIDR è descritto in 
<uri link="http://rfc.net/rfc1519.html">RFC 1519</uri>.
</note>

<p>
Ora che si è configurata la interfaccia, si può avviarla e chiuderla con
i comandi qui sotto.
</p>

<pre caption="Avviare e chiudere gli script di rete">
# <i>/etc/init.d/net.eth0 start</i>
# <i>/etc/init.d/net.eth0 stop</i>
</pre>

<impo>
Quando si hanno problemi con la rete, è raccomandato impostare
<c>RC_VERBOSE="yes"</c> in <path>/etc/conf.d/rc</path> così si ottengono più
informazioni su quello che succede.
</impo>

<p>
Si è avviata e chiusa con successo l'interfaccia di rete, si potrebbe volere
avviarla quando Gentoo parte. Ecco come farlo. L'ultimo comando "rc"
dice a Gentoo di avviare qualsiasi script nel runlevel attuale che non è
ancora partito.
</p>

<pre caption="Configurare una interfaccia di rete che si carica al boot">
# <i>rc-update add net.eth0 default</i>
# <i>rc</i>
</pre>

</body>
</section>

</sections>
