<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->


<sections>
<section>
<title>Gestione utente</title>
<subsection>
<title>Impostare una password di root</title>
<body>

<p>
Prima di dimenticarsene, è necessario impostare la password di root digitando:
</p>

<pre caption="Impostare la password di root">
# <i>passwd</i>
</pre>

<p>
Se si desidera che l'utente root possa loggarsi su console seriale, aggiungere <c>ttyS0</c> a <path>/etc/securetty</path>.
</p>

<pre caption="Aggiungere ttyS0 a /etc/securetty">
# <i>echo "ttyS0" &gt;&gt; /etc/securetty</i>
</pre>

</body>
</subsection>
<subsection>
<title>Aggiungere un utente per l'uso quotidiano</title>
<body>

<p>
Lavorare come root su un sistema Unix/Linux è <e>pericoloso</e> e andrebbe evitato per quanto possibile. Per questo è <e>fortemente</e> raccomandato aggiungere un utente per l'uso quotidiano.
</p>

<p>
Per esempio, per creare un utente chiamato <c>john</c>, che è membro del gruppo <c>wheel</c> (che può diventare root usando <c>su</c>), del gruppo <c>users</c> (default per tutti gli utenti) e del gruppo <c>audio</c> (che può usare i dispositivi audio):
</p>

<pre caption="Aggiungere un utente per l'uso quotidiano">
# <i>useradd john -m -G users,wheel,audio -s /bin/bash</i>
# <i>passwd john</i>
Password: <comment>(Digitare la password per john)</comment>
Re-enter password: <comment>(Ridigitare la password per verificare)</comment>
</pre>

<p>
Se questo utente dovesse effettuare qualche operazione come root, può usare <c>su -</c> per ricevere temporaneamente i privilegi di root. Un altro modo è quello di usare il pacchetto <c>sudo</c>, che è molto sicuro, se configurato correttamente.
</p>

</body>
</subsection>
</section>
<section>
<title>Riavviare e buon divertimento</title>
<subsection>
<title>Riavviare</title>
<body>

<p>
Congratulazioni! Gentoo è pronto. Eseguire <c>etc-update</c> per aggiornare i file di configurazione (se necessario), uscire dall'ambiente chroot e fare l'unmount di tutte le partizioni montate, e nel caso si sia effettuato il bind-mount di <path>/mnt/gentoo/dev</path>, non dimenticare di fare l'unmount adesso. Poi si digiti il comando <c>reboot</c>.
</p>

<pre caption="Riavviare il sistema">
# <i>etc-update</i>
# <i>exit</i>
# <i>cd /</i>
# <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
# <i>reboot</i>
</pre>

<p>
Ricordarsi di togliere il CD di avvio, altrimenti si avvierà di nuovo il CD e non Gentoo.
</p>

<p>
Gli utenti di OldWorld PPC riavviano in MacOS, poichè non è ancora installato il bootloader. Questi utenti dovrebbero leggere il capitolo <uri link="#doc_chap2_sect2">Opzionale: Configurare BootX</uri>. Gli utenti MIPS devono invece fare qualche ottimizzazione in più nel MIPS PROM per far funzionare Gentoo. Questi utenti dovrebbero leggere <uri link="#doc_chap2_sect3">Opzionale : Fare funzionare Gentoo/MIPS</uri>. Gli utenti che hanno usato i GRP, possono continuare con <uri link="#doc_chap2_sect4">Opzionale: Installare i pacchetti extra</uri>, tutti gli altri utenti possono infine leggere <uri link="?part=1&amp;chap=12">Cosa fare adesso?</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Opzionale: Configurare BootX</title>
<body>

<impo>
Questa sezione è <e>solo</e> per gli utenti PPC che vogliono usare BootX come bootloader. Tutti gli altri possono saltarla.
</impo>

<p>
Dopo che la macchina si è avviata in MacOS, aprire il pannello di controllo di BootX. Selezionare <c>Options</c>, e deselezionare <c>Used specified RAM disk</c>. Quando si ritorna allo schermo principale di BootX, si trova un'opzione, nella quale si deve specificare il disco di root e la partizione della macchina. Inserire i valori appropriati.
</p>

<p>
BootX può essere configurato per far partire Linux al boot. Se si fa così, la macchina dovrebbe caricare prima MacOS, poi, durante lo startup, BootX caricare e far partire Linux. Per ulteriori informazioni consultare la <uri link="http://penguinppc.org/projects/bootx/">BootX home page</uri>.
</p>

<p>
Gli utenti di GRP possono continuare con <uri link="#doc_chap2_sect4">Opzionale: Installare i pacchetti GRP</uri>, altrimenti continuare con <uri link="?part=1&amp;chap=12">Cosa fare adesso?</uri>
</p>

</body>
</subsection>
<subsection>
<title>Opzionale: Far funzionare Gentoo/MIPS</title>
<body>

<p>
Dopo aver riavviato, andare al <e>System Maintenance Menu</e> e selezionare <e>Enter Command Monitor</e> (<c>5</c>). Se si desidera testare l'installazione di Gentoo, si può eseguire <c>boot -f &lt;kernel name&gt;</c>. Per avviare il sistema con Gentoo, si devono impostare alcune variabili nel MIPS PROM:
</p>

<pre caption="Configurare PROM per avviare Gentoo">
1) Start System
2) Install System Software
3) Run Diagnostics
4) Recover System
5) Enter Command Monitor

Option? <i>5</i>
Command Monitor.  Type "exit" to return to the menu.

<comment>(&lt;root device&gt; = partizione di root di Gentoo, per esempio /dev/sda3)</comment>
&gt;&gt; <i>setenv OSLoadPartition &lt;root device&gt;</i>

<comment>(Per elencare i kernel disponibili, digitare "ls")</comment>
&gt;&gt; <i>setenv OSLoader &lt;kernel name&gt;</i>
&gt;&gt; <i>setenv OSLoadFilename &lt;kernel name&gt;</i>

<comment>(Dichiarare i parametri del kernel che si vogliono passare)</comment>
&gt;&gt; <i>setenv OSLoadOptions &lt;kernel parameters&gt;</i>

<comment>(Fornire la locazione del Volume Header)</comment>
&gt;&gt; <i>setenv SystemPartition scsi(0)disk(1)rdisk(0)partition(8)</i>

<comment>(Avvio automatico di Gentoo)</comment>
&gt;&gt; <i>setenv AutoLoad Yes</i>

<comment>(Impostare la timezone)</comment>
&gt;&gt; <i>setenv TimeZone EST5EDT</i>

<comment>(Usare la console seriale, gli utenti che usano l'adattatore grafico dovrebbero avere "g" anzichè "d1")</comment>
&gt;&gt; <i>setenv console d1</i>
</pre>

<p>
Ora si è pronti per usare Gentoo!
</p>

</body>
</subsection>
<subsection>
<title>Opzionale: Installare i pacchetti GRP</title>
<body>

<impo>
Questa parte è solo per gli utenti GRP. Gli altri utenti dovrebbero saltarla e continuare con <uri link="?part=1&amp;chap=12">Cosa fare adesso?</uri>.
</impo>

<p>
Ora che il sistema è avviato, entrare con le credenziali  dell'utente creato (per esempio, <c>john</c>) e usare <c>su -</c> per ottenere i privilegi di root:
</p>

<pre caption="Ottenere i privilegi di root">
$ <i>su -</i>
Password: <comment>(Digitare la password di root)</comment>
</pre>

<p>
Adesso si devono copiare i binari precompilati dal secondo CD (CD-2), se lo si ha. Innanzitutto, montare il CD:
</p>

<pre caption="Montare il CD-2">
# <i>mkdir /mnt/cdrom</i>
<comment>(Inserire il CD-2)</comment>
# <i>mount /mnt/cdrom</i>
</pre>

<p>
Copiare tutti i binari precompilati dal CD a <path>/usr/portage/packages</path>. Assicurarsi di usare il seguente comando per copiare:
</p>

<pre caption="Copiare i binari precompilati">
# <i>cp /mnt/cdrom/packages/All/* /usr/portage/packages/All/</i>
</pre>

<p>
Installare i pacchetti che si desiderano. Il CD-2 contiene molti binari precompilati, per esempio KDE:
</p>

<pre caption="Installare KDE">
# <i>emerge --usepkg kde</i>
</pre>

<p>
Assicurarsi di installare ora i binari. Quando si esegue <c>emerge sync</c> per aggiornare Portage (più avanti), i binari precompilati potrebbero non essere abbinati agli ebuild della verione di Portage aggiornata. Si può provare a aggirare questo problema, usando <c>emerge --usepkgonly</c> anzichè <c>emerge --usepkg</c>.
</p>

<p>
Congratulazioni, il sistema è completamente pronto! Continuare con  <uri link="?part=1&amp;chap=12">Cosa fare adesso?</uri> per imparare altro su Gentoo.
</p>

</body>
</subsection>
</section>
</sections>
