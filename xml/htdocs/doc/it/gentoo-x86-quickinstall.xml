<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/it/gentoo-x86-quickinstall.xml,v 1.12 2005/09/07 11:40:56 so Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/it/gentoo-x86-quickinstall.xml" lang="it">
<title>Guida rapida all'installazione di Gentoo Linux x86</title>

<author title="Author">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Author">Steven Wagner</author>

<author title="Traduzione">
  <mail link="richard77@libero.it">Federico Della Ricca</mail>
</author>


<abstract>
La guida rapida di installazione copre il processo di installazione in maniera 
non prolissa. Per seguire questa guida Ã¨ richiesta una precedente esperienza nell'installazione di 
Gentoo Linux.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>2.7</version>
<date>2005-08-20</date>

<chapter>
<title>Guida rapida per l'installazione</title>
<section>
<title>Supporti per l'Installazione</title>
<body>


<p>
Effettuare il download del CD da uno dei nostri <uri link="/main/en/mirrors.xml">mirrors</uri>. 
Potrete trovare le ISO in <path>releases/&lt;architecture&gt;/&lt;release&gt;/installcd</path>. 
Il <e>minimal</e> CD e' utilizzabile solamente per installazioni via internet; con l' <e>universal</e> 
CD potrete effettuare l'installazione anche in assenza di un collegamento ad internet.
</p>

<p>
<uri link="/doc/en/faq.xml#isoburning">Masterizzare</uri> il CD ed effettuare il boot. Premere 
<c>F2</c> per vedere le opzioni di avvio disponibili. 
Una volta terminato il processo di avvio, l'utente dovra' avviare lo script di 
init <c>pcmcia</c> se necessita del supporto PCMCIA.
</p>

<p>
Il CD di installazione permettera' di avviare un server <c>sshd</c>, aggiungere utenti, 
avviare <c>irssi</c> (un client per chat da linea di comando) e navigare sul web utilizzando 
<c>lynx</c> o <c>links2</c>.
</p>

</body>
</section>
<section>
<title>Configurazione della rete</title>
<body>

<p>
Se la connessione alla rete non e' ancora funzionante, potrete utilizzare <c>net-setup</c> per 
configurarla. Potreste aver bisogno di caricare i driver per la vostra scheda di rete con 
<c>modprobe</c> prima di cominciare. Se si utilizza un collegamento ADSL, si potra' utilizzare 
<c>adsl-setup</c> e <c>adsl-start</c>. Per il supporto PPTP, editare <path>/etc/ppp/chap-secrets</path> 
e <path>/etc/ppp/options.pptp</path> quindi utilizzare <c>pptp &lt;server ip&gt;</c>.
</p>

<p>
Per quanto riguarda l'accesso wireless, utilizzare <c>iwconfig</c> per settare i parametri del 
collegamento, quindi, utilizzare ancora <c>net-setup</c> oppure <c>ifconfig</c>, <c>dhcpcd</c> e/o 
<c>route</c> manualmente.
</p>

<p>
Se l'utente si trova dietro ad un proxy, non dimentichi di inizializzare il sistema utilizzando 
<c>export http_proxy</c>, <c>ftp_proxy</c> e <c>RSYNC_PROXY</c>.
</p>

</body>
</section>
<section>
<title>Preparazione dei dischi</title>
<body>

<p>
Utilizzare <c>fdisk</c> o <c>cfdisk</c> per creare lo schema delle partizioni, si dovra' avere, 
come minimo, una partizione di swap (tipo 82) ed una partizione Linux (tipo 83).
</p>

<p>
Utilizzare <c>mke2fs</c>, <c>mke2fs -j</c>, <c>mkreiserfs</c>, <c>mkfs.xfs</c>, e <c>mkfs.jfs</c> 
per creare i filesystem sulle partizioni. Inizializzare la partizione di swap utilizzando <c>mkswap</c> 
e <c>swapon</c>.
</p>

<p>
Montare i filesystem appena creati su <path>/mnt/gentoo</path>. Se necessario creare le directory 
per gli altri mount point (Es. <path>/mnt/gentoo/boot</path>.
</p>
</body>
</section>
<section>
<title>Preparare lo Stage</title>
<body>

<p>
Assicurarsi che la data sia settata correttamente utilizzando <c>date MMDDhhmmYYYY</c>. Quindi, 
scaricare uno stage da uno dei nostri <uri link="/main/en/mirrors.xml">mirrors</uri> o 
utilizzare uno degli stage disponibili sul CD di installazione (<path>/mnt/cdrom/stages</path>). 
Spostarsi in <path>/mnt/gentoo</path> e estrarre lo stage utilizzando 
<c>tar -xvjpf &lt;stage tarball&gt;</c>.
</p>

<p>
Se si sta effettuando l'installazione senza l'accesso alla rete si dovra' installare uno snapshot 
di Portage: spostarsi in <path>/mnt/gentoo/usr</path> ed utilizzare <c>tar -xvjf /mnt/cdrom/snapshots/&lt;snapshot&gt;</c>. 
Gli altri utenti potranno scaricare uno snapshot di portage ed installarlo nello stesso modo.
</p>

<p> 
Per l'installazione senza accesso alla rete, si copi il codice sorgente da 
<path>/mnt/cdrom/distfiles/</path> a <path>/mnt/gentoo/usr/portage/distfiles/</path>.
</p>

<p>
Modificare <path>/mnt/gentoo/etc/make.conf</path> per le proprie necessita' (USE flag, CFLAGS 
e CXXFLAGS). Si potra' utilizzare per questo l'editor <c>nano</c>.
</p>

</body>
</section>
<section>
<title>Installazione del Sistema Base di Gentoo</title>
<body>
<p>
Montare prima il filesystem <path>/proc</path>, copiare il file <path>/etc/resolv.conf</path> e
quindi effettuare il chroot nel nuovo ambiente Gentoo.
</p>

<pre caption="Preparazione e chroot">
# <i>mount -t proc none /mnt/gentoo/proc</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/etc/</i>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update</i> &amp;&amp; <i>source /etc/profile</i>
</pre>

<p>
Se non si sta effettuando un'installazione senza rete, utilizzare <c>emerge --sync</c> per 
aggiornare l'albero di Portage.
</p>

<p>
Assicurarsi che il link <path>/etc/make.profile</path> punti il profilo giusto. Il profilo di 
default andra' bene per la maggior parte degli utenti; sono disponibili sottoprofili per 
kernel differenti (come <path>2.4/</path> per profili basati sui kernel della serie 2.4). 
Cambiare il profilo utilizzando <c>ln -sf</c>.
</p>
<ul>
 <li>
 Il bootstrap (non disponibile per installazioni senza rete) ha inizio utilizzando <c>scripts/bootstrap.sh</c> 
 nella directory <path>/usr/portage</path>.
 </li>
 <li>
 L'installazione del sistema base (non disponibile per installazioni senza rete) ha inizio 
 utilizzando <c>emerge -e system</c> (o <c>-N</c> se non si sono modificate le CFLAGS/CXXFLAGS 
 di default).
 </li>
</ul>

</body>
</section>
<section>
<title>Configurazione del Kernel</title>
<body>
<p>
Installare i sorgenti del kernel (<c>gentoo-sources</c> e <c>vanilla-sources</c> sono 
disponibili per installazioni denza rete) e configurarli utilizzando <c>make menuconfig</c> 
seguito da <c>make &amp;&amp;make modules_install</c> dalla directory 
<path>/usr/src/linux</path>. Oppure si potra' utilizzare <c>emerge genkernel</c> 
<c>genkernel all</c>.
</p>

<p>
Gli utenti che utilizzeranno genkernel dovranno utilizzare <c>emerge coldplug</c> e 
quindi <c>rc-update add coldplug default</c>.
</p>

</body>
</section>
<section>
<title>Configurare il Sistema</title>
<body>

<p>
Modificare il file <path>/etc/fstab</path>; segue un esempio:
</p>

<pre caption="/etc/fstab">
/dev/hda1       	/boot           ext2            defaults,noatime        1 2
/dev/hda2       	none            swap            sw                      0 0
/dev/hda3       	/               ext3	        noatime                 0 1
none            	/proc           proc            defaults                0 0
none            	/dev/shm        tmpfs           nodev,nosuid,noexec     0 0
/dev/cdroms/cdrom0 	/mnt/cdrom   	auto            noauto,user             0 0
</pre>

<p>
Editare <path>/etc/conf.d/hostname</path> e <path>/etc/conf.d/domainname</path>, quindi 
effettuare <c>rc-update add domainname default</c> editare 
<path>/etc/conf.d/net</path> per configurare la rete. Aggiungere lo script di init 
<c>net.eth0</c> al runlevel default. Se si utilizzano piu' schede di rete, si aggiunga 
un link allo script di init <c>net.eth0</c> per ognuna di esse e si aggiungano al runlevel 
default.
</p>

<p>
Editare <path>/etc/hosts</path>; segue un esempio:
</p>

<pre caption="Esempio di /etc/hosts">
<comment>(For static IPs)</comment>
127.0.0.1     localhost
192.168.0.5   jenny.homenetwork jenny
192.168.0.6   benny.homenetwork benny
192.168.0.7   tux.homenetwork tux

<comment>(For a dynamic IP)</comment>
127.0.0.1     localhost.homenetwork tux localhost
</pre>

<p>
Se si ha necessita' di utilizzare periferiche PCMCIA utilizzare emerge <c>pcmcia-cs</c> ed 
aggiungerlo al runlevel default.
</p>

<p>
Impostare la password di root utilizzando <c>passwd</c>.
</p>

<p>
Impostare le configurazioni di sistema in <path>/etc/rc.conf</path>, 
<path>/etc/conf.d/rc</path>, <path>/etc/conf.d/keymaps</path>, 
<path>/etc/conf.d/clock</path>.
</p>

</body>
</section>
<section>
<title>Installare i Tool di Sistema</title>
<body>

<p>
Gli utenti che utilizzano i kernel della serie 2.4 dovranno utilizzare devfs alposto di udev 
<c>emerge --unmerge udev</c>, <c>emerge devfsd</c>.
</p>

<p>
Installare un logger di sistema come <c>syslog-ng</c> ed 
aggiungerlo al runlevel di default. Installare per il demone di cron come <c>vixie-cron</c> (optional).
</p>

<p>
Installare i tool di sistema necessari (<c>xfsprogs</c>, <c>reiserfsprogs</c> o 
<c>jfsutils</c>) ed i tool di rete (<c>dhcpcd</c> or <c>rp-pppoe</c>).
</p>

</body>
</section>
<section>
<title>Configurare il Bootloader</title>
<body>

<p>
Emergere <c>grub</c> o <c>lilo</c>. Editare <path>/boot/grub/grub.conf</path> o 
<path>/etc/lilo.conf</path>. Di seguito troverete un esempio per ognuno.
</p>

<pre caption="Esempio di grub.conf">

default 0
timeout 30
splashimage=(hd0,0)/grub/splash.xpm.gz

<comment># genkernel users</comment>
title=Gentoo Linux 2.6.11-r3
root (hd0,0)
kernel /kernel-genkernel-x86-2.6.11-gentoo-r3 root=/dev/ram0 init=/linuxrc ramdisk=8192
real_root=/dev/hda3 udev
initrd /initramfs-genkernel-x86-2.6.11-gentoo-r3

<comment># non-genkernel users (no initrd)</comment>
title=Gentoo Linux 2.6.11 r3
root (hd0,0)
kernel /kernel-2.6.11-gentoo-r3 root=/dev/hda3

<comment># Only in case you want to dual-boot</comment>
title=Windows XP
root (hd0,5)
makeactive
chainloader +1
</pre>

<pre caption="Example lilo.conf">

boot=/dev/hda
prompt
timeout=50
default=gentoo

<comment># For non-genkernel users</comment>
image=/boot/kernel-2.6.11-gentoo-r3
label=gentoo
read-only
root=/dev/hda3

<comment># For genkernel users</comment>
image=/boot/kernel-genkernel-x86-2.6.11-gentoo-r3
label=gentoo
read-only
root=/dev/ram0
append="init=/linuxrc ramdisk=8192 real_root=/dev/hda3 udev"
initrd=/boot/initramfs-genkernel-x86-2.6.11-gentoo-r3

<comment># For dual-booting</comment>
other=/dev/hda6
label=windows
</pre>

<p>
Gli utenti che utilizzeranno GRUB dovranno installare GRUB nell'MBR utilizzando 
<c>grub-install /dev/hda</c> dopo aver copiato <path>/proc/mounts</path> in 
<path>/etc/mtab</path>. Coloro che utilizzeranno LILO dovranno lanciare 
<c>/sbin/lilo</c>.
</p> 

<p>
Uscire dall'ambiente chroot, smontare tutti i filesystem e riavviare.
</p>

</body>
</section>
<section>
<title> Finalizzare l'Installazione</title>
<body>

<p>
Loggarsi come <c>root</c>, aggingere uno o piu' utenti per l'utilizzo quotidiano 
utilizzando <c>useradd -m -G &lt;groups&gt; &lt;username&gt;</c>.
</p>

<p>
Se si e' efettata un'installazione senza rete, effettuare il mount del packages CD su 
<path>/mnt/cdrom</path> e <c>export PKGDIR="/mnt/cdrom"</c> dopodiche' si 
potra' installare il software addizionale come <c>kde</c> con il comando 
<c>emerge -k &lt;package&gt;</c>.
</p>

<p>
Grazie per aver installato Gentoo!
</p>

</body>
</section>
</chapter>
</guide>
