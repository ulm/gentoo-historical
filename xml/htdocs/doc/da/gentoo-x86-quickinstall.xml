<?xml version='1.0' encoding="iso-8859-1"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/da/gentoo-x86-quickinstall.xml,v 1.1 2004/01/02 13:24:36 aaby Exp $ -->
<guide link="/doc/da/quickinstall.xml">
<title>Gentoo Linux installationsreference</title>
<author title="Forfatter">Steven Wagner</author>
<author title="Redaktør">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Oversætter">
  <mail link="aaby@gentoo.org">Arne Mejlholm</mail>
</author>
<author title="Korrektur">
  <mail link="broeman@gentoo.org">Jesper Brodersen</mail>
</author>

<abstract>
Den hurtige installationsreference dækker alle detaljer omkring
installationsprocessen, men ikke på en uddybende måde. Brugere bør
allerede have tidligere erfaring, med at installere Gentoo Linux, hvis
de vil følge denne vejledning.
</abstract>

<license/>

<version>1.2</version>
<date>1. December 2003</date>

<chapter>
<title>Hurtig installationsreference</title>
<section>
<body>

<p>
Installations-ISO'erne er på <uri link=
"http://www.gentoo.org/main/en/mirrors.xml">Gento-filspejlene</uri>.
Detaljerede beskrivelser af de forskellige CD'er er tilgængelige i
<uri link="http://store.gentoo.org">Gentoo Butikken</uri>. CD 1
indeholder alt du har brug for, til at installere Gentoo Linux hurtigt
og uden en forbindelse til Internettet. CD 2 er valgfri og indeholder
præ-kompilerede pakker som KDE, GNOME, OpenOffice, Mozilla, Evolution
og andet.
</p>

<p>
Start op fra den første Gentoo CD. Tryk &lt;F1&gt; og/eller &lt;F2&gt;
for at se hvilke opstartsmuligheder der er tilgængelige. Tryk
&lt;ENTER&gt; ved bootskærmen for at fortsætte med standardkernen. Du
får med tiden en prompt.
</p>

<pre caption="Begyndende opsætning">
# <i>date</i>  (Vær sikker på at din tid og dato er korrekt. Hvis forkert, sæt den med <i>date MMDDhhmmCCYY</i> )
# <i>modprobe modul_navn</i>  (Valgfri - hent nødvendige moduler)
# <i>net-setup eth0</i> (Konfigurér netværket)
# <i>fdisk /dev/hda</i> (Partitioner dit drev)
</pre>

<p>
Den anbefalede opsætning er 64 MB boot drev med ext2, en swap-partition
med den dobbelte størrelse af dine tilgængelige RAM og
resten til din root partition med ReiserFS.
</p>

<p>
Initialiser dine partitioner ved brug af <c>mke2fs</c> (Ext2), <c>mke2fs
-j</c> (Ext3), <c>mkreiserfs</c> (ReiserFS), <c>mkfs.xfs</c> (XFS),
<c>mkfs.jfs</c> (JFS) og <c>mkswap</c> (swap partition). F.eks.:
<c>mke2fs -j /dev/hda3</c>.
</p>

<p>
Fortsæt ved at mounte partitioner og hente den passende stage fil.
</p>

<pre caption="Preparing the Installation">
(Aktivér swap partitionen)                       # <i>swapon /dev/hdax</i>
(Mount root partitionen)                         # <i>mount /dev/hdax /mnt/gentoo</i>
(Lav boot mountpointet)                          # <i>mkdir /mnt/gentoo/boot</i>
(Mount boot partitionen)                         # <i>mount /dev/hdax /mnt/gentoo/boot</i>
(Gå til mountpointet)                            # <i>cd /mnt/gentoo</i>
(Pak en stage tarball ud...)                     # <i>tar -xvjpf /mnt/cdrom/stages/stage?-*.tar.bz2</i>
(<comment>eller</comment> download den nyeste tarball...)              # <i>links http://gentoo.oregonstate.edu/releases/x86/1.4/</i>
(                  ... og pak den ud)            # <i>tar -xvjpf stage*</i>
(Kun-GRP: pak et portage træ ud)                 # <i>tar -xvjf /mnt/cdrom/snapshots/portage-*.tar.bz2 -C /mnt/gentoo/usr</i>
(Kun-GRP: kopier distfiles over)                 # <i>cp -R /mnt/cdrom/distfiles /mnt/gentoo/usr/portage/distfiles</i>
(Kun-GRP: kopier pakker over)                    # <i>cp -a /mnt/cdrom/packages /mnt/gentoo/usr/portage/packages</i>
(Vælg et filspejl)                               # <i>mirrorselect -i -o &gt;&gt; /mnt/gentoo/etc/make.conf</i>
(Kopier nameserver information over)             # <i>cp /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
(Mount proc filesystemet)                        # <i>mount -t proc proc /mnt/gentoo/proc</i>
(Chroot ind i det nye miljø)                     # <i>chroot /mnt/gentoo /bin/bash</i>
(Hent de nødvendige variabler)                   # <i>env-update; source /etc/profile</i>
(Kun netværk, ikke-GRP: opdatér Portage)         # <i>emerge sync</i>
</pre>

<p>
Nu installerer vi Gentoo:
</p>

<pre caption = "At installere Gentoo">
(Ændre USE, CFLAGS og CXXFLAGS. Stage1 kan også ændre CHOST)     # <i>nano -w /etc/make.conf</i>
(Kun Stage1: bootstrap system)                                   # <i>cd /usr/portage; scripts/bootstrap.sh</i>
(Kun Stage1, Kun Stage2: installér det basale system)            # <i>emerge system</i>
</pre>

<p>
Herefter sætter vi det nødvendige information:
</p>

<pre caption = "At sætte opsætningsfiler op">
(Sæt tidszone information)                            # <i>ln -sf /usr/share/zoneinfo/path/to/timezonefile /etc/localtime</i>
(Redigér fstab filen)                                 # <i>nano -w /etc/fstab</i>
</pre>

<p>
Brug det følgende som en <e>arbejdskopi</e> (kopiér ikke verbatim) for
<path>/etc/fstab</path>:
</p>

<pre caption="/etc/fstab">
# &lt;fs&gt;                  &lt;mountpoint&gt;    &lt;type&gt;          &lt;opts&gt;                  &lt;dump/pass&gt;
/dev/hdax               /boot           ext3            noauto,noatime          1 2
/dev/hdax               /               reiserfs        noatime                 0 1
/dev/hdax               none            swap            sw                      0 0
/dev/cdroms/cdrom0      /mnt/cdrom      iso9660         noauto,ro,user          0 0
none                    /proc           proc            defaults                0 0
none                    /dev/shm        tmpfs           defaults                0 0
/dev/hdax               /mnt/dosc       ntfs            ro,noatime,umask=0222   0 0
</pre>

<p>
Forsæt ved at installere Linux kernen:
</p>

<pre caption="Installation af kernen">
(Installér kerne koden)                                    # <i>emerge -k gentoo-sources</i>
(Konfigurér din kerne med genkernel...)                    # <i>emerge -k genkernel; genkernel</i>
(<comment>eller</comment> (1) byg manuelt din kerne)       # <i>cd /usr/src/linux; make menuconfig;</i>
(   (2) Inkludér VM fs, /proc fs, /dev fs,  /dev fs auto mount ved boot)
(   (3) Kompilér din kerne)                                # <i>make dep &amp;&amp; make clean bzImage modules modules_install</i>
(   (4) Kopiér kernen over)                                # <i>cp arch/i386/boot/bzImage /boot; cp System.map /boot</i>
</pre>

<p>
Installér nu andre værktøjer du måtte ønske:
</p>

<pre caption = "At installere vigtige system værktøjer">
(Installér system logger; valg: sysklogd, metalog, msyslog, syslog-ng) # <i>emerge -k syslog-ng </i>
(Få systemloggeren til automatisk at starte ved boot)                  # <i>rc-update add syslog-ng default</i>
(Installér cron daemon; valg: vcron, dcron, fcron)                     # <i>emerge -k vcron</i>
(Få cron daemonen til automatisk at starte ved boot)                   # <i>rc-update add vcron default</i>   
(kun genkernel brugere: installér hotplug)                             # <i>emerge -k hotplug</i>
(kun genkernel brugere: få hotplug til automatisk at starte ved boot)  # <i>rc-update add hotplug default</i>
(Ikke-ext2 og ext3 brugere; valg: reiserfsprogs, xfsprogs, jfsutils)   # <i>emerge -k reiserfsprogs</i>
</pre>

<p>
Hvis du har brug for specialicerede kerne ebuilds, så er nu et godt
tidspunkt at installere dem:
</p>

<pre caption = "At installere specialicerede kerne ebuilds">
# <i>emerge -k pcmcia-cs</i> (or <i>emu10k1</i>, <i>nforce-net</i>, <i>nforce-audio</i>, <i>e100</i>, <i>e1000</i>, <i>ati-drivers</i>, <i>rp-pppoe</i>)
# <i>VIDEO_CARDS="ditkort" emerge xfree-drm</i>   (for ATI Radeon op til 9200, Rage128, Matrox, Voodoo og andre kort)
</pre>

<p>
Færdiggør opsætningen for dit Gentoo system:
</p>

<pre caption = "Færdiggørelse af Konfigurations opsætningerne">
(Sæt root password)                                      # <i>passwd</i>
(Lav en bruger)                                          # <i>useradd din_bruger -m -G users,wheel,audio -s /bin/bash</i>
(Sæt password for den bruger)                            # <i>passwd din_bruger</i>
(Sæt systemets hostname)                                 # <i>echo minmaskine &gt; /etc/hostname</i>
(Sæt systemets domainname)                               # <i>echo minmaskine.dk &gt; /etc/dnsdomainname</i>
(Sæt hosts filen, sæt minimum "127.0.0.1 minmaskine")    # <i>nano -w /etc/hosts</i>
</pre>

<pre caption = "At sætte netværk op">
(At sætte netværk op; dhcp-brugere bør sætte iface_eth0="dhcp")    # <i>nano -w /etc/conf.d/net</i>
(List de moduler der skal hentes ved opstart)                      # <i>nano -w /etc/modules.autoload.d/kernel-2.4</i>
(Konfigurér basale system indstillinger; følg kommentarerne)       # <i>nano -w /etc/rc.conf</i>
(Kun Ikke-PCMCIA: start netværk automatisk ved boot)               # <i>rc-update add net.eth0 default</i>
(Kun hvis du har flere netværkskort:)
   (1) Lav initscripts til hvert kort)                             # <i>ln -s /etc/init.d/net.eth0 /etc/init.d/net.ethx</i>
   (2) Start automatisk ved opstart, ikke-PCMCIA)                  # <i>rc-update add net.ethx default</i>
(Kun PCMCIA: verificer /etc/conf.d/pcmcia og hent PCMCIA ved boot) # <i>rc-update add pcmcia boot</i>
</pre>

<p>
Installér nu en boot-loader. Den venstre er for grub, den højre er for lilo:
</p>

<pre caption = "At installere og opsætte en boot-loader">
# <i>emerge -k grub</i>                                          | # <i>emerge -k lilo</i>
# <i>grub</i>                                                    | # <i>nano -w /etc/lilo.conf</i>
grub&gt; <i>root (hd0,0)</i>   (Boot partition)                     |  boot=/dev/hda
grub&gt; <i>setup (hd0)</i>    (Install on MBR)                     |  prompt 
grub&gt; <i>quit</i>                                                |  timeout=50
# <i>nano -w /boot/grub/grub.conf</i>                            |  default=gentoo
  default 0                                               |  
  timeout 15                                              |  <comment>#Kun Genkernel:</comment>
  splashimage=(hd0,0)/grub/splash.xpm.gz                  |  image=/boot/kernel-<comment>&lt;kerne version&gt;</comment>
                                                          |    root=/dev/hda3
  title=Gentoo Linux                                      |    label=gentoo
    root (hd0,0)                                          |  
  <comment># Kun Genkernel:</comment>                                       |  <comment># Kun ikke-genkernel:</comment>
    kernel (hd0,0)/kernel-<comment>&lt;kerne version&gt;</comment> root=/dev/hda3 |  image=/boot/bzImage
    initrd (hd0,0)/initrd-<comment>&lt;kerne version&gt;</comment>                |    root=/dev/hda3
  <comment># Kun ikke-genkernel:</comment>                                   |    label=gentoo
    kernel (hd0,0)/bzImage                                | 
                                                          |  <comment># For at dualboote:</comment>
  <comment># For at dualboote:</comment>                                      |  other=/dev/hda<comment>X</comment>
  title=Windows XP                                        |    label=windows
    root (hd0,5)                                          | 
    chainloader (hd0,5)+1                                 | # <i>/sbin/lilo</i> 
</pre>

<p>
Unmount nu alle partitioner og genstart ind i dit nye system:
</p>

<pre caption="Færdiggør og installér GUI">
(Opdatér konfigurationsfiler)                   # <i>etc-update</i>
(Forlad chroot)                                 # <i>exit; cd /</i>
(Unmounte partitioner)                          # <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
(Genstart; Fjern installations CD)              # <i>reboot</i>
(Efter opstart:)
(Kun ADSL-brugere)                              # <i>adsl-setup</i>
(Kun GRP-brugere, valgfri brug af CD2)
(  (1) Mount CD2)                               # <i>mount /dev/cdrom /mnt/cdrom</i>  
(  (2) Kopier pakker over)                      # <i>cp -a /mnt/cdrom/packages/* /usr/portage/packages/</i>
(  (3) Installér ekstra software)               # <i>emerge -k xfree gnome kde mozilla openoffice-bin</i>
(  (4) Konfigurér din Xserver)                  # <i>/usr/X11R6/bin/xf86config</i>
</pre>

<p>
Du kan få mere information fra <uri link="http://www.gentoo.org/doc/da/index.xml">Gentoo Dokumentationen</uri>.
</p>
</body>
</section>
</chapter>
</guide>

