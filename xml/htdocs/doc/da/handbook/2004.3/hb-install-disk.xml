<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/da/handbook/2004.3/Attic/hb-install-disk.xml,v 1.1 2005/01/08 22:26:03 broeman Exp $ -->

<sections>
<section>
<title>Introduktion til blok-enheder</title>
<subsection>
<title>Blok-enheder</title>
<body>

<p>
Vi vil tage et godt kig på disk-orienterede aspekter af Gentoo Linux
og Linux generelt, inklusiv Linux filesystemer, partitioner og blok-enheder.
Så, når du er blevet godt kendt med diske og filsystemer,
vil du blive vejledt igennem processen af at opsætte partioner og filsystemer
til din Gentoo Linux installation.
</p>

<p>
For at begynde, vil vi introducere begrebet <e>blok-enheder</e>. Den
mest kendte blok-enhed er sikkert den, som repræsenterer den første
IDE-harddisk på et Linux system, med navnet
<path>/dev/hda</path>. Hvis dit system bruger SCSI-drev, så vil din
første harddisk være <path>/dev/sda</path>.
</p>

<p>
Blok-enhederne ovenover repræsenterer en abstrakt grænseflade til
harddisken.  Brugerprogrammer kan bruge disse blok-enheder, til at
interagere med din harddisk, uden at skulle bekymre sig om at dine drev
er IDE, SCSI eller noget andet. Programmet kan simpelthen adressere
lageret på harddisken, som et bundt af tilstødende,
vilkårlige-tilgængelige 512-byte blokke.
</p>

</body>
</subsection>
<subsection>
<title>Partitioner og portioner</title>
<body>

<p>
Selvom det er teoretisk muligt at bruge hele harddisken til dit Linux
system, er det næsten aldrig gjort i praksis. I stedet for er hele
hardiskens blok-enheder opsplittet i mindre, mere håndgribelige
blok-enheder. På de fleste systemer er disse kaldet
<e>partitioner</e>. Andre arkitekturer bruger en lignende teknik,
kaldet <e>portioner (slices)</e>.
</p>

</body>
</subsection>
<subsection>
<title>Partitioner</title>
<body>

<note>
Denne (teoretiske) forklaring er kun relevant til x86-arktitekturen.
</note>

<p>
Partitioner er opdelt i tre typer:
<e>primære</e>, <e>udvidet</e> og <e>logiske</e>.
</p>

<p>
En <e>primær</e> partition er en partition, som har dens informationer gemt på
MBR (master boot record). Da en MBR er meget lille (512 bytes) kan kun fire
primære partitioner blive defineret (f.eks. <path>/dev/hda1</path> til
<path>/dev/hda4</path>).
</p>

<p>
En <e>udvidet</e> partition er en speciel primær partition (som
betyder, at den udvidede partition skal være én af de første fire mulige
primære partitioner) som indeholder flere partitioner. Sådan en
partition eksisterede ikke oprindeligt, men da fire partitioner var
for lidt, kom nogen med idéen om at udvide formateringsskemaet uden at tabe
bagud-kompatibilitet.
</p>

<p>
En <e>logisk</e> partition er en partition inden i den udvidet partition. Deres
definitioner er ikke placeret inde i MBR, men er erklæret inde i den udvidet
partition. 
</p>

</body>
</subsection>
<subsection>
<title>Advanceret lagring</title>
<body>

<p>
Nogle arkitekturer (inklusiv x86) leverer understøttelse til EVMS eller LVM2, hvis du har startet op fra en Gentoo LiveCD. EVMS eller LVM2 forøger fleksibiliteten, givet af din partitionsopsætning. Igennem installationsinstruktionerne, vil vi fokusere på "normale" partitioner, men det er stadigvæk godt at vide at EVMS og LVM2 også er understøttet.
</p>

</body>
</subsection>
</section>
<section>
<title>Design af et partitionsskema</title>
<subsection>
<title>Standard partitionsskema</title>
<body>

<p>
Hvis du ikke er interesseret i at tegne en partitionsoversigt selv,
til dit system, kan du bruge vores (non-LVM) partitionsskema, som vi
bruger igennem denne bog:
</p>

<p>
Til x86 eller amd64:
</p>

<table>
<tr>
  <th>Partitioner</th>
  <th>Filsystem</th>
  <th>Størrelse</th>
  <th>Beskrivelse</th>
</tr>
<tr>
  <ti><path>/dev/hda1</path></ti>
  <ti>ext2</ti>
  <ti>32M</ti>
  <ti>Boot partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda2</path></ti>
  <ti>(swap)</ti>
  <ti>512M</ti>
  <ti>Swap partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda3</path></ti>
  <ti>ext3</ti>
  <ti>Resten af harddisken</ti>
  <ti>Root partition</ti>
</tr>
</table>

<p>
Til ppc:
</p>

<table>
<tr>
  <th>Partition NewWorld</th>
  <th>Partition OldWorld</th>
  <th>Filsystem</th>
  <th>Størrelse</th>
  <th>Beskrivelse</th>
</tr>
<tr>
  <ti><path>/dev/hda1</path></ti>
  <ti>(Ikke nødvendigt)</ti>
  <ti>(bootstrap)</ti>
  <ti>800k</ti>
  <ti>Apple_Bootstrap</ti>
</tr>
<tr>
  <ti><path>/dev/hda2</path></ti>
  <ti><path>/dev/hda1</path></ti>
  <ti>(swap)</ti>
  <ti>512M</ti>
  <ti>Swap partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda3</path></ti>
  <ti><path>/dev/hda2</path></ti>
  <ti>ext3</ti>
  <ti>Resten af harddisken</ti>
  <ti>Root partition</ti>
</tr>
</table>

<p>
Til Sparc:
</p>

<table>
<tr>
  <th>Sun Disklabel</th>
  <th>Filsystem</th>
  <th>Størrelse</th>
  <th>Beskrivelse</th>
</tr>
<tr>
  <ti><path>/dev/hda1</path></ti>
  <ti>ext2</ti>
  <ti>32M</ti>
  <ti>Boot partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda2</path></ti>
  <ti>(swap)</ti>
  <ti>512M</ti>
  <ti>Swap partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda3</path></ti>
  <ti>(none)</ti>
  <ti>Hele harddisken</ti>
  <ti>Sun Disk Label (krævet)</ti>
</tr>
<tr>
  <ti><path>/dev/hda4</path></ti>
  <ti>ext3</ti>
  <ti>Resten af harddisken</ti>
  <ti>Root partition</ti>
</tr>
</table>

<p>
Hvis du er ved at installere Gentoo fra en eksisterende distribution,
burde du først ændre størrelsen på dine eksisterende partitioner (hvis
du ikke har noget plads fri) for at kunne installere Gentoo. Du kan
bruge <uri link="http://www.gnu.org/software/parted">GNU/Parted</uri>
til at ændre størrelsen på partitioner.
</p>

<p>
Hvis du er interesseret i at vide hvor stor en partition (eller logical 
volume) burde være, eller hvor mange partitioner (eller volumes) du behøver, læs videre. 
Ellers fortsæt nu med at partitionere din harddisk:
</p>

<ul>
<li>
  <uri link="#doc_chap3">Brug af fdisk på x86 eller amd64 for at partitionere din 
  harddisk</uri>
</li>
<li>
  <uri link="#doc_chap4">Brug af fdisk på Alpha for at partitionere din harddisk</uri>
</li>
<li>
  <uri link="#doc_chap5">Brug af fdisk på SPARC for at partitionere din harddisk</uri>
</li>
<li>
  <uri link="#doc_chap6">Brug af mac-fdisk på PPC for at partitionere din harddisk</uri>
</li>
<li>
  <uri link="#doc_chap7">Brug af fdisk på HPPA for at partitionere din harddisk</uri>
</li>
<li>
  <uri link="#doc_chap8">Brug af fdisk på MIPS for at partitionere din harddisk</uri>
</li>
</ul>

</body>
</subsection>
<subsection>
<title>Hvor mange og hvor stort?</title>
<body>

<p>
Antallet af partitioner er meget afhængigt af dit miljø. F.eks., hvis
du har en hel del brugere, vil det være nærmest at lave dit
<path>/home</path> separat, idet at det forøger sikkerheden og gør det
nemmere at lave backup.  Hvis du installerer Gentoo for at arbejde som
en mail-server, burde din <path>/var</path> være separat, idet alle
emails er gemt inde i <path>/var</path>. Et godt valg af filsystem vil
derefter maksimere din ydelse. Spil-servere bør have en separat
<path>/opt</path>, idet at de fleste spil-servere bliver installeret
der. Forklaringen er den samme som for <path>/home</path>: sikkerhed
og backup.
</p>

<p>
Som du kan se, afhænger det meget af hvad du vil opnå. Separate
partitioner eller volumes har følgende fordele:
</p>

<ul>
<li>
  Du kan vælge det mest ydelsesstærke filsystem til hver partition eller volume
</li>
<li>
  Hele dit system bør ikke løbe tør for fri harddisk-plads, hvis et ødelagt værktøj bliver
  ved med at skrive filer til en partition eller volume
</li>
<li>
  Hvis nødvendigt, et filsystem-tjek er reduceret i tid, idet flere tjek kan blive
  gjort parallelt (selvom denne fordel er større med flere harddiske
  end med flere partitioner)
</li>
<li>
  Sikkerhed kan blive forøget ved at mounte nogle partitioner eller volumes read-only (kun-læs), 
  nosuid (setuid bits er ignoreret), noexec (executable bits er ignoreret) osv.
</li>
</ul>

<p>
Dog har flere partitioner en stor ulempe: hvis det ikke er opsat
ordentligt, kan det betyde at have et system med masser
af fri plads på én partition og intet på en anden.
</p>

<p>
Som et eksempel på partitionering, viser vi dig en til en 20GB harddisk, brugt som
demonstrationsbærbar (som indeholder webserver, mailserver, gnome, ...):
</p>

<pre caption="Brug af filsystem eksempel">
Filesystem    Type    Size  Used Avail Use% Mounted on
/dev/hda5     ext3    509M  132M  351M  28% /
/dev/hda2     ext3    5.0G  3.0G  1.8G  63% /home
/dev/hda7     ext3    7.9G  6.2G  1.3G  83% /usr
/dev/hda8     ext3   1011M  483M  477M  51% /opt
/dev/hda9     ext3    2.0G  607M  1.3G  32% /var
/dev/hda1     ext2     51M   17M   31M  36% /boot
/dev/hda6     swap    516M   12M  504M   2% &lt;not mounted&gt;
<comment>(Upartitioneret plads til fremtidig brug: 2 GB)</comment>
</pre>

<p>
<path>/usr</path> er pænt fyldt op (83% brugt) her, men når først alt
softwaren er installeret, vil tendensen være at <path>/usr</path> ikke
gror særligt meget.  Til <path>/var</path> kan folk måske tro at der
er blevet afsat for meget plads. Dog kompilerer Gentoo alle programmer
inde i <path>/var/tmp/portage</path>, så du burde have
<path>/var</path> med minimum 1GB fri plads, hvis du ikke vil
kompilere store programmer, op til 3GB fri plads, så kompileringen
af KDE og OpenOffice.org på samme tid ikke bliver til et problem.
</p>

<p>
Partitioner nu din(e) harddisk(e) ved brug af instruktionerne, som er tilgængeligt til din
arkitektur, som eksempel:
</p>

<ul>
<li>
  <uri link="#doc_chap3">Brug af fdisk på x86 eller amd64 for at partitionere din 
  harddisk</uri>
</li>
<li>
  <uri link="#doc_chap4">Brug af fdisk på Alpha for at partitionere din harddisk</uri>
</li>
<li>
  <uri link="#doc_chap5">Brug af fdisk på SPARC for at partitionere din harddisk</uri>
</li>
<li>
  <uri link="#doc_chap6">Brug af mac-fdisk på PPC for at partitionere din harddisk</uri>
</li>
<li>
  <uri link="#doc_chap7">Brug af fdisk på HPPA for at partitionere din harddisk</uri>
</li>
<li>
  <uri link="#doc_chap8">Brug af fdisk på MIPS for at partitionere din harddisk</uri>
</li>
</ul>

</body>
</subsection>
</section>
<section>
<title>Brug af fdisk på x86 eller amd64 for at partitionere din harddisk</title>
<subsection>
<body>

<impo>
Kun brugere med <e>x86</e> eller <e>amd64</e> baserede systemer bør læse denne
sektion.
</impo>

<p>
De følgende dele forklarer hvordan man laver partitionslayoutet, som
beskrevet førhen, nemlig:
</p>

<table>
<tr>
  <th>Partition</th>
  <th>Beskrivelse</th>
</tr>
<tr>
  <ti><path>/dev/hda1</path></ti>
  <ti>Boot partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda2</path></ti>
  <ti>Swap partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda3</path></ti>
  <ti>Root partition</ti>
</tr>
</table>

<p>
Du kan ændre partitionslayoutet som du ønsker det.
</p>

</body>
</subsection>
<subsection>
<title>Et kig på den nuværende partitionslayout</title>
<body>

<p>
<c>fdisk</c> er et populært og et kraftfuld værktøj til at splitte din
harddisk ind i partitioner.  Fyr op for din <c>fdisk</c> på din
harddisk (i vores eksempel, bruger vi <path>/dev/hda</path>):
</p>

<pre caption="Start af fdisk">
# <i>fdisk /dev/hda</i>
</pre>

<p>
Når du er i <c>fdisk</c>, vil du blive hilst af en prompt, som ligner dette:
</p>

<pre caption="fdisk prompt">
Command (m for help): 
</pre>

<p>
Tast <c>p</c> for at vise din harddisks nuværende opsætning:
</p>

<pre caption="Et eksempel på en partitionsopsætning">
Command (m for help): <i>p</i>

Disk /dev/hda: 240 heads, 63 sectors, 2184 cylinders
Units = cylinders of 15120 * 512 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda2            15        49    264600   82  Linux swap
/dev/hda3            50        70    158760   83  Linux
/dev/hda4            71      2184  15981840    5  Extended
/dev/hda5            71       209   1050808+  83  Linux
/dev/hda6           210       348   1050808+  83  Linux
/dev/hda7           349       626   2101648+  83  Linux
/dev/hda8           627       904   2101648+  83  Linux
/dev/hda9           905      2184   9676768+  83  Linux

Command (m for help): 
</pre>

<p>
Denne specifikke harddisk er opsat til at huse syv Linux filesystemer (partitionerne,
hver især, er vist som "Linux") samt en swap-partition (vist
som "Linux swap"). 
</p>

</body>
</subsection>
<subsection>
<title>At slette alle partitioner</title>
<body>

<p>
Vi vil først slette alle de eksisterende partitioner fra harddisken. Tast <c>d</c> for
at slette en partition. F.eks. for at slette en eksisterende <path>/dev/hda1</path>:
</p>

<pre caption="Slette en partition">
Command (m for help): <i>d</i>
Partition number (1-4): <i>1</i>
</pre>

<p>
Partitionen er blevet planlagt til at blive slettet. Den vil nu ikke
længere blive vist, når du taster <c>p</c>, men den er ikke slettet
før dine ændringer er blevet gemt. Hvis du har lavet en fejl og vil
afbryde uden at gemme, tast <c>q</c> med det samme, tryk Enter og
din partition vil ikke blive slettet.
</p>

<p>
Forudsat at du nu virkelig vil udslette alle partitioner på dit
system, tast gentagne gange <c>p</c> for at udskrive partitionslisten og tast
<c>d</c> og nummeret på partitionen, for at slette den. Til sidst vil
du ende med en partitionstabel uden noget i:
</p>

<pre caption="En tom partitionstabel">
Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System

Command (m for help):
</pre>

<p>
Nu da partitionstabellen, som ligger i hukommelsen, er tom, er det nu
tid til at lave partitioner. Vi vil bruge standard partitionsskemaet,
som diskuteret tidligere.  Selvfølgelig, følg ikke disse instruktioner
til punkt og prikke, hvis du ikke vil have det samme partitionsskema!
</p>

</body>
</subsection>
<subsection>
<title>Oprettelse af boot-partition</title>
<body>

<p>
Først vil vi lave en lille boot-partition. Tast <c>n</c> for at oprette en
ny partition, så <c>p</c> for at vælge en primær partition, fulgt af
<c>1</c> for at vælge den første primære partition. Når du bliver
spurgt om den første cylinder, tryk Enter. Når du bliver spurgt om den
sidste cylinder, tast <c>+32M</c> for at lave en partition på 32 Mbyte
i størrelse:
</p>

<pre caption="Oprettelse af boot-partition">
Command (m for help): <i>n</i>
Command action
  e   extended
  p   primary partition (1-4)
<i>p</i>
Partition number (1-4): <i>1</i>
First cylinder (1-3876, default 1): <comment>(Tryk Enter)</comment>
Using default value 1
Last cylinder or +size or +sizeM or +sizeK (1-3876, default 3876): <i>+32M</i>
</pre>

<p>
Når du nu taster <c>p</c>, vil du se følgende partitionsudskrift:
</p>

<pre caption="Oprettet boot-partition">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1          1        14    105808+  83  Linux
</pre>

<p>
Vi mangler at gøre denne partition startbar. Tast <c>a</c> for at skifte opstartsflag
på denne partition. Hvis du taster <c>p</c> igen, vil du se at
<path>*</path> er placeret i "Boot"-kolonnen.
</p>

</body>
</subsection>
<subsection>
<title>Oprettelse af swap-partition</title>
<body>

<p>
Lad os nu lave en swap-partition. For at gøre dette, tast <c>n</c> for
at lave en ny partition, så <c>p</c> for at fortælle fdisk, at du vil
have en primær partition. Tast så <c>2</c> for at lave den anden
primære partition, <path>/dev/hda2</path> i vores eksempel. Når du
bliver spurgt om den første cylinder, så tryk Enter. Når du bliver spurgt
om den sidste cylinder, tast <c>+512M</c> for at oprette en partition
på 512MB i størrelse. Efter at du har gjort det, tast <c>t</c> for at
indstille partitionstypen, <c>2</c> for at vælge partitionen, som du
lige har oprettet, og tast så <c>82</c> for at indstille
partitionenstypen til "Linux Swap". Efter afslutningen af disse trin,
ved at taste <c>p</c>, burde vise en partitionstabel, som ser ud som
dette:
</p>

<pre caption="Partitionsliste efter oprettelse af en swap-partition">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1 *        1        14    105808+  83  Linux
/dev/hda2         15        81    506520   82  Linux swap
</pre>

</body>
</subsection>
<subsection>
<title>Oprettelse af root-partition</title>
<body>

<p>
Lad os nu, til sidst, oprette root-partitionen. For at gøre dette, tast
<c>n</c> for at oprette en ny partition, så <c>p</c> for at fortælle
fdisk, at du vil have en primær partition.  så tast <c>3</c> for at
oprette den tredje primære partition, <path>/dev/hda3</path> i vores
tilfælde. Når du bliver spurgt om den første cylinder, tryk Enter. Når
du bliver spurgt om den sidste cylinder, tryk Enter for at oprette en
partition, som tager resten af den frie plads der er tilbage på din
harddisk. Efter at have afsluttet disse trin, ved at taste <c>p</c>
burde vise en partitionstabel, som ser ud som dette:
</p>

<pre caption="Partitionsliste efter oprettelsen af root-partition">
Command (m for help): <i>p</i>

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1 *        1        14    105808+  83  Linux
/dev/hda2         15        81    506520   82  Linux swap
/dev/hda3         82      3876  28690200   83  Linux
</pre>


</body>
</subsection>
<subsection>
<title>At gemme partitionslayout</title>
<body>

<p>
For at gemme partitionslayoutet og afslutte <c>fdisk</c>, tast <c>w</c>.
</p>

<pre caption="Gem og afslut fdisk">
Command (m for help): <i>w</i>
</pre>

<p>
Nu da dine partitioner er oprette, kan du nu fortsætte med <uri
link="#filesystems">Oprettelse af filsystemer</uri>.
</p>

</body>
</subsection>
</section>
<section>
<title>Brug af fdisk på Alpha for at partitionere din harddisk</title>
<subsection>
<body>

<impo>
Kun brugere af <e>Alpha</e> baserede systemer burde læse denne sektion.
</impo>

<p>
De følgende dele vil forklare hvordan man opretter portionslayout-eksemplet, beskrevet
tidligere, nemlig:
</p>

<table>
<tr>
  <th>Portion</th>
  <th>Beskrivelse</th>
</tr>
<tr>
  <ti><path>/dev/sdaa</path></ti>
  <ti>Swap portion</ti>
</tr>
<tr>
  <ti><path>/dev/sdab</path></ti>
  <ti>Root portion</ti>
</tr>
<tr>
  <ti><path>/dev/sdac</path></ti>
  <ti>Hele harddisken (krævet)</ti>
</tr>
</table>

<p>
Du kan ændre dit portionslayout efter dit eget valg.
</p>


</body>
</subsection>
<subsection>
<title>Identifikation af tilrådige harddiske</title>
<body>

<p>
For at finde ud af hvilke harddiske, som kører, brug de følgende kommandoer:
</p>

<pre caption="Identifikation af tilrådige harddiske">
<comment>(Til IDE-harddiske)</comment>      # <i>dmesg | grep 'drive$'</i>
<comment>(Til SCSI-harddiske)</comment>     # <i>dmesg | grep 'scsi'</i>
</pre>

<p>
Fra dette output, burde du kunne se hvilke diske, som er blevet fundet og deres
respektive <path>/dev</path> postering. I de følgende dele, forventer vi at
harddisken er en SCSI-harddisk på <path>/dev/sda</path>.
</p>

<p>
Fyr nu op for <c>fdisk</c>:
</p>

<pre caption="Start af fdisk">
# <i>fdisk /dev/sda</i>
</pre>

</body>
</subsection>
<subsection>
<title>AT slette alle portioner</title>
<body>

<p>
Vi starter med at slette alle portioner <e>undtagen</e> 'c'-portionen. Det følgende
viser hvordan man sletter en portion (i eksemplet bruger vi 'a'). Gentag processen for at
slette alle de andre portioner (igen, undtagen 'c'-portionen).
</p>

<p>
Brug <c>p</c> for at se alle eksisterende portioner. <c>d</c> bruges til at slette en portion.
</p>

<pre caption="Slette en portion">
BSD disklabel command (m for help): <i>p</i>

8 partitions:
#       start       end      size     fstype   [fsize bsize   cpg]                                    
  a:        1       235*      234*    4.2BSD     1024  8192    16
  b:      235*      469*      234*      swap
  c:        1      5290*     5289*    unused        0     0
  d:      469*     2076*     1607*    unused        0     0
  e:     2076*     3683*     1607*    unused        0     0
  f:     3683*     5290*     1607*    unused        0     0
  g:      469*     1749*     1280     4.2BSD     1024  8192    16
  h:     1749*     5290*     3541*    unused        0     0

BSD disklabel command (m for help): <i>d</i>
Partition (a-h): <i>a</i>
</pre>

<p>
Efter at gentage denne process for alle portioner, burde en liste vise dig noget
lignende dette:
</p>

<pre caption="Se et tomt skema">
BSD disklabel command (m for help): <i>p</i>

3 partitions:
#       start       end      size     fstype   [fsize bsize   cpg]                                    
  c:        1      5290*     5289*    unused        0     0
</pre>

</body>
</subsection>
<subsection>
<title>Oprettelse af swap-portion</title>
<body>

<p>
På Alpha baserede systemer behøver du ikke at separere boot-partitionen. Dog kan den
første cylinder ikke blive brugt, da <c>aboot</c>-billedfilen vil blive placeret her.
</p>

<p>
Vi vil oprette en swap-portion, som starter på den tredje cylinder, med en total
størrelse på 1 GByte. Brug <c>n</c> til at oprette en ny portion. Efter at have oprettet portionen,
vil vi ændre dens type til <c>1</c>, som betyder <e>swap</e>.
</p>

<pre caption="Oprettelse af swap-portion">
BSD disklabel command (m for help): <i>n</i>
Partition (a-p): <i>a</i>
First cylinder (1-5290, default 1): <i>3</i>
Last cylinder or +size or +sizeM or +sizeK (3-5290, default 5290): <i>+1024M</i>

BSD disklabel command (m for help): <i>t</i>
Partition (a-c): <i>a</i>
Hex code (type L to list codes): <i>1</i>
</pre>

<p>
Efter disse trin, burde du se et layout lignende til det følgende:
</p>

<pre caption="Portionslayout efter oprettelse af swap-portion">
BSD disklabel command (m for help): <i>p</i>

3 partitions:
#       start       end      size     fstype   [fsize bsize   cpg]                                    
  a:        3      1003      1001       swap
  c:        1      5290*     5289*    unused        0     0
</pre>

</body>
</subsection>
<subsection>
<title>Oprettelse af root-portion</title>
<body>

<p>
Vi vil nu oprette root-portionen, som starter fra den første cylinder
<e>efter</e> swap-portionen. Brug <c>p</c>-kommandoen for at se hvor
swap-portionen slutter. I vores eksempel, er dette ved 1003, som gør
at root-portionen starter ved 1004.
</p>

<p>
Et andet problem er at der på nuværende tidspunkt er en fejl i
<c>fdisk</c>, som gør at den tror at antallet af tilrådige cylindere
er højere det reelle antal af cylindere. Med andre ord, når du bliver
spurgt om den sidste cylinder, formindsk cylinder-nummeret (i vores
eksempel: 5290) med én.
</p>

<p>
Når portionen er oprettet, ændrer vi typen til <c>8</c>, som er <e>ext2</e>.
</p>

<pre caption="Oprettelse af root-portion">
D disklabel command (m for help): <i>n</i>
Partition (a-p): <i>b</i>
First cylinder (1-5290, default 1): <i>1004</i>
Last cylinder or +size or +sizeM or +sizeK (1004-5290, default 5290): <i>5289</i>

BSD disklabel command (m for help): <i>t</i>
Partition (a-c): <i>b</i>
Hex code (type L to list codes): <i>8</i>
</pre>

<p>
Dit portionslayout bør nu se ud som dette her:
</p>

<pre caption="Se portionslayout">
BSD disklabel command (m for help): <i>p</i>

3 partitions:
#       start       end      size     fstype   [fsize bsize   cpg]                                    
  a:        3      1003      1001       swap
  b:     1004      5289      4286       ext2
  c:        1      5290*     5289*    unused        0     0
</pre>

</body>
</subsection>
<subsection>
<title>Gem portionslayoutet og afslut</title>
<body>

<p>
Gem <c>fdisk</c> ved at taste <c>w</c>. Dette vil også gemme dit
portionslayout.
</p>

<pre caption="Gem og afslut fdisk">
Command (m for help): <i>w</i>
</pre>

<p>
Nu da dine portioner er oprette, kan du nu fortsætte med <uri
link="#filesystems">Oprettelse af filsystemer</uri>.
</p>

</body>
</subsection>
</section>
<section>
<title>Brug af fdisk på SPARC for at partitionere din harddisk</title>
<subsection>
<body>

<impo>
Kun brugere på <e>SPARC</e> baserede systemer burde læse denne sektion.
</impo>

<p>
De følgende dele forklarer hvordan man opretter
partitionslayout-eksemplet, beskrevet tidligere, nemlig:
</p>

<table>
<tr>
  <th>Partition</th>
  <th>Beskrivelse</th>
</tr>
<tr>
  <ti><path>/dev/hda1</path></ti>
  <ti>Boot-partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda2</path></ti>
  <ti>Swap-partition</ti>
</tr>
<tr>
  <ti><path>/dev/hda3</path></ti>
  <ti>Sun Disk Label (krævet)</ti>
</tr>
<tr>
  <ti><path>/dev/hda4</path></ti>
  <ti>Root-partition</ti>
</tr>
</table>

<p>
Du kan ændre din partitionslayout efter dine egne ønsker.
</p>


</body>
</subsection>
<subsection>
<title>Fyr op for fdisk</title>
<body>

<p>
Start <c>fdisk</c> med din harddisk som tilføjelse:
</p>

<pre caption="Start af fdisk">
# <i>fdisk /dev/hda</i>
</pre>

<p>
Du burde blive hilst af en fdisk-prompt:
</p>

<pre caption="fdisk-prompten">
Command (m for help):
</pre>

<p>
For at se de tilrådige partitioner, tryk <c>p</c>:
</p>

<pre caption="Liste af tilrådige partitioner">
Command (m for help): <i>p</i>

Disk /dev/hda (Sun disk label): 240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 bytes

Device Flag    Start       End    Blocks   Id  System
/dev/hda1   *         1        14    105808+  83  Linux
/dev/hda2            15        81    506520   82  Linux swap
/dev/hda3             0      3876  29302528    5  Whole Disk
/dev/hda4            82      3876  28690200   83  Linux
</pre>

<p>
Noter at <c>Sun disk label</c> er med i output. Hvis den mangler,
bruger harddisken DOS-partitionering, ikke Sun-partitionering. I dette
tilfælde, brug <c>s</c> for at sikre at harddisken har en Sun
partitionstabel.
</p>

</body>
</subsection>
<subsection>
<title>Slette eksisterende partitioner</title>
<body>

<p>
Det er tid til at slette alle eksisterende partitioner. For at gøre
dette, tast <c>d</c> og tryk Enter. Du vil blive spurgt efter det
partitionsnummer, som du ønsker at slette. For at slette en
eksisterende <path>/dev/hda1</path>, skal du taste:
</p>

<pre caption="Slette en partition">
Command (m for help): <i>d</i>
Partition number (1-4): <i>1</i>
</pre>

<p>
Da vi forventer at du vil slette alle eksisterende partitioner, tast
<c>p</c> for at se tilrådige partitioner, og <c>d</c> for at slette
disse, én efter én. Hvis du føler at du har lavet en fejl, tast
<c>q</c> med det samme -- <c>fdisk</c> gemmer ikke ændringer, lavet her
og nu, på partitionerne, men holder det i hukommelsen. Først når du
taster <c>w</c> er alle partitioner gemt.
</p>

<p>
Efter at have slette alle partitioner, bør du have en
partitionslayout lignende til det følgende:
</p>

<pre caption="Se et tomt partitionsskema">
Command (m for help): <i>p</i>

Disk /dev/hda (Sun disk label): 240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 bytes

Device Flag    Start       End    Blocks   Id  System
</pre>


</body>
</subsection>
<subsection>
<title>Oprettelse af Sun Disk Label'en</title>
<body>

<p>
Nu da partitionstabellen, som er holdt i hukommelsen, er tom, er vi
klar til at oprette 'Sun Disk Label'-partitionen. For at gøre dette,
tast <c>n</c> for at oprette en ny partition, så tast <c>3</c> for at
oprette partitionen. Når der bliver spurgt om den første cylinder,
tast Enter. Når der bliver spurgt om den sidste cylinder, tast
Enter. Efter at du har gjort dette, tast <c>t</c> for at indstille
partitionstypen, og tast derefter <c>5</c> for at indstille
partitionstypen til "Whole disk" (hele disken).
</p>

<pre caption="Trin til at oprette en Sun Disk Label">
Command (m for help): <i>n</i>
Partition number (1-4): <i>3</i>
First cylinder (1-3876, default 0): <i>0</i>
Last cylinder or +size or +sizeM or +sizeK (1-3876, default 3876): <comment>(Tryk Enter)</comment>
Using default value 3876

Command (m for help): <i>t</i>
Partition number (1-8): <i>3</i>
Hex code (type L to list codes): <i>5</i>
</pre>

<p>
Efter at have afsluttet disse trin, ved at taste <c>p</c> burde vise en partitionstabel,
som ser ud som dette:
</p>

<pre caption="Se partitionslayout">
Command (m for help): <i>p</i>

Disk /dev/hda (Sun disk lable): 240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 bytes

Device Flag    Start       End    Blocks   Id  System
/dev/hda3             0      3876  29302528    5  Whole disk
</pre>

</body>
</subsection>
<subsection>
<title>Oprettelse af boot-partition</title>
<body>

<p>
Vi er klar til at oprette boot-partitionen. For at gøre dette, tast
<c>n</c> for at oprette en ny partition, tast da <c>1</c> for at
oprette partitionen. Når der bliver spurgt efter den første cylinder,
tryk Enter. Når der bliver spurgt efter den sidste cylinder, tast
<c>+32M</c> for at oprette en partition på <c>32MB</c> i
størrelse. Vær sikker på at hele boot-partitionen er holdt inde for de
første 2GB af harddisken.  Du kan se output fra disse trin, forneden:
</p>

<pre caption="Oprettelse af boot-partition">
Command (m for help): <i>n</i>
Partition number (1-4): <i>1</i>
First cylinder (1-3876, default 1): <comment>(Tryk Enter)</comment>
Using default value 1
Last cylinder or +size or +sizeM or +sizeK (1-3876, default 3876): <i>+32M</i>
</pre>

<p>
Når du nu taster <c>p</c>, burde du se følgende partition-udskrift:
</p>

<pre caption="Liste af partitionslayout">
Command (m for help): <i>p</i>

Disk /dev/hda (Sun disk label): 240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 bytes

Device Flag    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda3             0      3876  29302528    5  Whole disk
</pre>
</body>
</subsection>
<subsection>
<title>Oprettelse af swap-partition</title>
<body>

<p>
Herefter, lad os nu oprette swap-partitionen. For at gøre dette, tast
<c>n</c> for at oprette en ny partition, så <c>2</c> for at oprette en
anden partition, <path>/dev/hda2</path> i vores tilfælde. Når der
bliver spurgt efter den første cylinder, tryk Enter. Når der bliver
spurgt efter den sidste cylinder, tast <c>+512M</c> for at oprette en
partition på 512MB i størrelse. Efter at du har gjort dette, tast
<c>t</c> for at indstille partitionstypen, og indtast derefter
<c>82</c> for at indstille partitionstype til "Linux Swap". Efter at have afsluttet disse
trin, indtastningen af <c>p</c> burde vise en partitionstabel, som ser ud som 
dette:
</p>

<pre caption="Liste af tilrådige partitioner">
Command (m for help): <i>p</i>

Disk /dev/hda (Sun disk label): 240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 bytes

Device Flag    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda2            15        81    506520   82  Linux swap
/dev/hda3             0      3876  29302528    5  Whole disk
</pre>

</body>
</subsection>
<subsection>
<title>Oprettelse af root-partition</title>
<body>

<p>
Til sidst, lad os oprette root-partitionen. For at gøre dette, tast
<c>n</c> for at oprette en ny partition, derefter tast <c>4</c> for at
oprette en tredje partition, <path>/dev/hda4</path> i vores
tilfælde. Når der bliver spurgt efter den første cylinder, tryk
Enter. Når der bliver spurgt efter den sidste cylinder, tryk Enter for
at oprette en partition, som optager resten af den frie
harddisk-plads. Efter at have afsluttet disse trin, ved at taste
<c>p</c> burde vise en partitionstabel, som ser ud som dette her:
</p>

<pre caption="Liste af komplet partitionstabel">
Command (m for help): <i>p</i>

Disk /dev/hda (Sun disk label): 240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 bytes

Device Flag    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda2            15        81    506520   82  Linux swap
/dev/hda3             0      3876  29302528    5  Whole disk
/dev/hda4            82      3876  28690200   83  Linux
</pre>

</body>
</subsection>
<subsection>
<title>Gem og afslut</title>
<body>

<p>
For at gemme dit partitionslayout og afslutte <c>fdisk</c>, tast <c>w</c>:
</p>

<pre caption="Gem og afslut fdisk">
Command (m for help): <i>w</i>
</pre>

<p>
Nu da dine partitioner er oprettet, kan du fortsætte med <uri
link="#filesystems">Oprettelse af filsystemer</uri>.
</p>

</body>
</subsection>
</section>


<section>
<title>At bruge mac-fdisk på PPC for at partitionere din disk</title>
<body>

<p>
Nu skal du lave dine partitioner med <c>mac-fdisk</c>:
</p>

<pre caption="At starte mac-fdisk">
# <i>mac-fdisk /dev/hda</i>
</pre>

<p>
Først skal du slette de partitioner, som du før har klargjort, for at lave
plads til dine Linux partitioner. Brug <c>d</c> i <c>mac-fdisk</c> for
at slette denne/disse partition(er). Den vil spørge efter nummeret på
den partition der skal slettes.
</p>

<p>
Derefter skal du lave en <e>Apple_Bootstrap</e> partition ved brug af
<c>b</c>. Den vil spørge efter hvilken blok du vil starte fra. Hvis du
før har valgt <c>3</c> for partitionsnummeret, tryk da <c>3p</c>.
</p>

<note>
Denne partition er <e>ikke</e> en "boot" partition. Den bruges ikke af
Linux overhovedet; du behøves ikke placere noget filsystem på den og
du bør aldrig mounte din. PPC-brugere har ikke brug for en boot
partition.  
</note>

<p>
Lav nu en swap-partition ved at trykke <c>c</c>. <c>mac-fdisk</c> vil
igen spørge efter hvilken blok du vil starte denne partition fra. Da
vi før brugte <c>3</c> til at lave Apple_Bootstrap-partitionen, så
skal du nu taste <c>4p</c>. Når du bliver spurgt om størrelsen, tast
da <c>512M</c> (eller den størrelse du nu ønsker -- 512 anbefales
dog).  Når du bliver spurgt efter et navn, tast <c>swap</c> (krævet).
</p>

<p>
For at lave root-partitionen, tryk <c>c</c>, efterfulgt af <c>5p</c>
for at vælge hvilken blok, root-partitionen skal starte ved. Når du
bliver spurgt efter størrelsen, tast <c>5p</c> igen. <c>mac-fdisk</c>
vil fortolke dette som "Brug den plads der er tilgængelig". Når du
bliver spurgt efter et navn, tast <c>root</c> (krævet).
</p>

<p>
For at færdiggøre, skriv partitionen til disken ved at bruge <c>w</c>
og <c>q</c> til at forlade <c>mac-fdisk</c>.
</p>

<p>
Nu hvor dine partitioner er lavet, kan du forsætte med <uri
link="#filesystems">Oprettelse af filsystemer</uri>.
<!-- TODO reactivate when LVM2 instructions are boarded 
, unless you have chosen to use LVM
in which case you should first read <uri link="#lvm">Optional: Using
LVM</uri>.
-->
</p>

</body>
</section>
<section>
<title>At bruge fdisk på HPPA for at partitionere din disk</title>
<body>

<p>
Brug <c>fdisk</c> til at lave de partitioner du ønsker:
</p>

<pre caption="At partitionere disken">
# <i>fdisk /dev/sda</i>
</pre>

<p>
PALO har brug for en speciel partition for at virke. Du bliver nødt
til at lave en partition med minimum 16Mb i starten af din disk. Denne
partition skal være af typen <e>f0</e> (Linux/PA-RISC boot).
</p>

<impo>
Hvis du ignorer dette og fortsætter uden en speciel PALO partition, så
vil dit system holde op med at elske dig og ikke være i stand til at starte.
</impo>

<p>
Hvis din disk er større end 2Gb, så skal du også være sikker på at
boot partitionen er indenfor de første 2Gb af din disk. PALO er ikke i
stand til at læse en kerne efter grænsen på 2Gb.
</p>

<p>
Nu hvor dine partitioner er lavet, så kan du fortsætte med <uri
link="#filesystems">Oprettelse af filsystemer</uri>.
</p>

</body>
</section>
<section>
<title>At bruge fdisk på MIPS for at partitionere din disk</title>
<!-- This entire section is copy/pasted from Kumba's original text. It should
     probably be rewritten, but it seems a bit complicated.
     Someone donate me a MIPS? :) 

       ~SwifT
-->
<subsection>
<title>At lave en SGI Disk Label</title>
<body>

<p>
Alle diske i et SGI system kræver en <e>SGI Disk Label</e>, hvilken
fungerer som noget der ligner Sun &amp; MS-DOS disklabels -- Den gemmer
information omkring diskens partitioner. At lave en SGI Disk Label vil
skabe to specielle partitioner på disken:
</p>

<ul>
  <li>
    <e>SGI Volume Header</e> (den niende partition): Denne partition er
    vigtig. Det er her kerne billed-filerne skal hen. For at gemme
    kerne billed-filer, vil du bruge værktøjet kendt som
    <c>dvhtool</c> til at kopiere kerne billed-filer til denne
    partition. Du vil derefter være i stand til at opstarte fra kerner
    på denne partition via SGI PROM Monitor.
  </li>
  <li>
    <e>SGI Volume</e> (den 11. partition): Denne partitions formål
    minder om Sun Disklabel's tredje partition af "Hele disken". Denne
    partition dækker hele disken, og bør forblive uberørt. Den tjener
    ikke noget specielt formål andet end at hjælpe PROM på en ikke
    dokumenteret facon (eller den bliver brugt af IRIX på en eller
    anden måde).
  </li>
</ul>

<warn>
SGI Volume Headeren <e>skal</e> begynde ved cylinder 0. Hvis dette
fejler, så vil du ikke være i stand til at starte op fra disken.
</warn>

<p>
Det følgende er et eksempel udsnit fra en <c>fdisk</c> session. Læs
det og ret det til efter dine behov...
</p>

<pre caption="At lave en SGI Disklabel">
# <i>fdisk /dev/sda</i>

Command (m for help): <i>x</i>

Expert command (m for help): <i>m</i>
Command action
   b   move beginning of data in a partition
   c   change number of cylinders
   d   print the raw data in the partition table
   e   list extended partitions
   f   fix partition order
   g   create an IRIX (SGI) partition table
   h   change number of heads
   m   print this menu
   p   print the partition table
   q   quit without saving changes
   r   return to main menu
   s   change number of sectors/track
   v   verify the partition table
   w   write table to disk and exit

Expert command (m for help): <i>g</i>
Building a new SGI disklabel. Changes will remain in memory only,
until you decide to write them. After that, of course, the previous
content will be unrecoverably lost.

Expert command (m for help): <i>r</i>

Command (m for help): <i>p</i>

Disk /dev/sda (SGI disk label): 64 heads, 32 sectors, 17482 cylinders
Units = cylinders of 2048 * 512 bytes

----- partitions -----
Pt#     Device  Info     Start       End   Sectors  Id  System
 9:  /dev/sda1               0         4     10240   0  SGI volhdr
11:  /dev/sda2               0     17481  35803136   6  SGI volume
----- Bootinfo -----
Bootfile: /unix
----- Directory Entries -----

Command (m for help):
</pre>

<note>
Hvis din harddisk allerede har en eksisterende SGI Disklabel, så vil fdisk
ikke tillade at lave en ny label. Der er to måder at komme omkring
dette på. En er at lave en Sun eller MS-DOS disklabel, skrive
ændringerne til disken og genstarte fdisk. Den anden er at overskrive
partitionstabellen med null data via den følgende kommando: <c>dd
if=/dev/zero of=/dev/sda bs=512 count=1</c>.  
</note>

</body>
</subsection>
<subsection>
<title>At få SGI Volume Header til at justere den rigtige størrelse</title>
<body>

<p>
Nu hvor en SGI Disklabel er blevet lavet, så kan partitioner
defineres. I det ovenfor nævnte eksempel, er der allerede defineret to
partitioner for dig. Disse er de to specielle partitioner nævnt
ovenfor og bør normalt ikke ændres. For at installere Gentoo, bliver
vi, imidlertidig nødt til at hente adskillige kerne billed-filer
direkte ind i volume headeren, da der ikke er nogen understøttet SGI
Boot-loader tilgængelig i Portage, endnu. Volumeheaderen selv kan
indeholde op til <e>otte</e> billed-filer af enhver størrelse, med
navne på otte karakterer.
</p>

<p>
Processen at lave volumeheaderen større er ikke ligefrem nemt -- der er en fidus ved det.
Man kan ikke bare slette og tilføje volumeheaderen igen pga. mærkelig
opførsel fra fdisk. I det eksempel der vises nedenfor, laver vi en
Volumeheader på 50MB sammen med en 50MB /boot partition. Det faktiske
layout af din disk kan variere, men dette er kun for at illustrere.
</p>

<pre caption="At lave om på størrelsen af SGI Volume Header korrekt">
Command (m for help): <i>n</i>
Partition number (1-16): <i>1</i>
First cylinder (5-8682, default 5): <i>51</i>
 Last cylinder (51-8682, default 8682): <i>101</i>
<comment>(Bemærk hvordan fdisk kun tillader at Partition #1 bliver genskabt med en minimum cylinder på 5)</comment>
<comment>(Hvis du havde forsøgt at slette &amp; Så skal du genskabe
SGI Volume Headeren på denne måde, dette er det samme problem, som du ville være løbet ind i.)</comment>
<comment>(I vores eksempel, vil vi have /boot til at være 50MB, med
den ved cylinder 51 (Volume Headeren skal starte ved cylinder 0, hvis
du kan huske det?), og at sætte dens sluttende cylinder til 101,
hvilket groft set vil være 50MB (+/- 1-5MB))</comment>

Command (m for help): <i>d</i>
Partition number (1-16): <i>9</i>
<comment>(Slet partition #9 (SGI Volume Header))</comment>

Command (m for help): <i>n</i>
Partition number (1-16): <i>9</i>
First cylinder (0-50, default 0): <i>0</i>
 Last cylinder (0-50, default 50): <i>50</i>
<comment>(Genskab partition #9, til at slutte lige inden partition #1)</comment>
</pre>

</body>
</subsection>
<subsection>
<title>Endeligt layout af partitioner</title>
<body>

<p>
Efter at dette er gjort, så kan du sikkert lave resten af dine
partitioner som du ser det passende. Efter at alle dine partitioner er
lagt ud, så skal du være sikker på at sætte partitions ID på dine swap
partition til <c>82</c>, hvilken er Linux Swap. Den vil være <c>83</c>, Linux Native. 
</p>

<p>
Nu hvor dine partitioner er lavet, kan du fortsætte med <uri
link="#filesystems">Oprettelse af filsystemer</uri>.
</p>

</body>
</subsection>
</section>

<section id="filesystems">
<title>Oprettelse af filsystemer</title>
<subsection>
<title>Introduktion</title>
<body>

<p>
Nu da dine partitioner er lavet, er det tid til at lave filsystemer på
dem. Hvis du er ligeglad med hvilket filsystem du vælger og er
tilfreds med hvad vi bruger som standard her i denne håndbog, så kan
du fortsætte med <uri link="#filesystems-apply">At anvende et filsystem på en
partition</uri>. Ellers kan du fortsætte for at lære mere om de
tilgængelige filsystemer...
</p>

</body>
</subsection>
<subsection>
<title>Filsystemer?</title>
<body>

<p>
Der er adskillige filsystemer til rådighed. Nogle af dem er markeret
stabil til alle arkitekturer, andre er kun på nogle enkelte. Den
følgende tabel lister de tilgængelige filsystemer og de arkitekturer,
som vi ved at de virker med. Hvis en arkitektur er indeholdt i en
"(...)" så bør filsystemet virke, men det er ikke testet.
</p>

<table>
<tr>
  <th>Filsystem</th>
  <th>Journaliseret</th>
  <th>Arkitektur</th>
</tr>
<tr>
  <ti>ext2</ti>
  <ti>nej</ti>
  <ti>Alle arkitekturer</ti>
</tr>
<tr>
  <ti>ext3</ti>
  <ti>ja</ti>
  <ti>Alle arkitekturer</ti>
</tr>
<tr>
  <ti>reiserfs</ti>
  <ti>ja</ti>
  <ti>x86, hppa, alpha, (mips), (pcc), (amd64)</ti>
</tr>
<tr>
  <ti>xfs</ti>
  <ti>ja</ti>
  <ti>x86, alpha, (ppc)</ti> <!-- TODO when xfs is in mips-sources, add "(mips)" -->
</tr>
<tr>
  <ti>jfs</ti>
  <ti>ja</ti>
  <ti>x86, alpha, (mips), (amd64)</ti>
</tr>
</table>

<p>
<b>ext2</b> er det afprøvede og sande Linux filsystem, men det har
ikke metadata journaler, hvilket betyder at rutinemæssige tjek af
filsystemer ved opstart kan tage en del tid. Der er nu et udvalg af
filsystemer af nyere generation med journal, der kan tjekkes for
konsekvens meget hurtigt og er derfor at foretrække fremfor deres
tilsvarende uden journal. Filsystemer med journal kan afskaffe lange
ventetider når dit system starter op og dine filsystemer er i en ikke
konsekvent tilstand.
</p>

<p>
<b>ext3</b> er den journaliserede udgave af ext2 filsystemet, der
giver metadata journaler til hurtig genskabelse og yderligere andre
ydelse fremmende journal muligheder så fuld data og ordnet data
journal. ext3 er meget godt og et pålideligt filsystem. Det har en ekstra
mulighed for at bruge hashede b-træer til at indeksere, hvilket giver høj
ydelse i næsten alle situationer. For at sige det kort, ext3 er et
fremragende filsystem.
</p>

<p>
<b>ReiserFS</b> er et filsystem baseret på B*-træer der har en god
alsidig ydelse og slår både ext2 og ext3 stor når det kommer til at
håndtere små filer (filer mindre end 4k), ofte med en faktor på
10x-15x. ReiserFS skalerer også ekstremt godt og har metadata
journaler. Fra og med kerne 2.4.18+ er ReiserFS solid og brugbart til
både et formål som alment filsystem, og til ekstreme tilfælde
hvor man laver store filsystemer, brugen af mange små filer,
meget store filer og biblioteker, der indeholder titusinder af filer.
</p>

<p>
<b>XFS</b> er et filsystem med metadata journaler der er fuld
understøttet af Gentoo Linuxses xfs-sources kerne. Det kommer med et
robust sæt af muligheder og er optimeret til skalerbarhed. Vi
anbefaler kun at bruge dette filsystem til Linux systemer med high-end
SCSI og/eller fiberkanal lager og en uafbrydbar strømforsyning. Fordi
XFS aggressivt cachér indkommende data i RAM, kan dårligt designede
programmer (dem der ikke tager fornuftige forholdregler, når de
skriver filer til disken og der er faktisk en del af dem) miste en hel
del data, hvis systemet uventet går ned.
</p>

<p>
<b>JFS</b> er IBM's høj-ydelses filsystem med journal. Det er
fornyligt blevet klar til produktion og der har ikke være
tilstrækkelige optegnelser til at kommentere positivt eller negativt
omkring dets stabilitet pt.
</p>

</body>
</subsection>
<subsection id="filesystems-apply">
<title>At anvende et filsystem på en partition</title> 
<body>

<p>
For at lave et filsystem på en partition eller enhed, så er der
værktøjer til rådighed for hvert filsystem:
</p>

<table>
<tr>
  <th>Filsystem</th>
  <th>Kommando til at lave</th>
</tr>
<tr>
  <ti>ext2</ti>
  <ti><c>mke2fs</c></ti>
</tr>
<tr>
  <ti>ext3</ti>
  <ti><c>mke2fs -j</c></ti>
</tr>
<tr>
  <ti>reiserfs</ti>
  <ti><c>mkreiserfs</c></ti>
</tr>
<tr>
  <ti>xfs</ti>
  <ti><c>mkfs.xfs</c></ti>
</tr>
<tr>
  <ti>jfs</ti>
  <ti><c>mkfs.jfs</c></ti>
</tr>
</table>

<p>
F.eks. for at få boot partitionen (<path>/dev/hda1</path> i vores
tilfælde) i ext2 og root partitionen (<path>/dev/hda3</path> i vores
tilfælde) i ext3 (som i vores tilfælde), ville vi bruge:
</p>

<pre caption="At anvende et filsystem på en partition">
# <i>mke2fs /dev/hda1</i>
# <i>mke2fs -j /dev/hda3</i>
</pre>

<p>
Lav nu filsystemerne på dine for nyligt skabte partitioner (eller
logiske enheder).
</p>

</body>
</subsection>
<subsection>
<title>At aktivere swap-partitionen</title>
<body>

<p>
<c>mkswap</c> er kommandoen der bruges til at initialisere swap partitioner:
</p>

<pre caption="At lave en swap signatur">
# <i>mkswap /dev/hda2</i>
</pre>

<p>
For at aktivere swap-partitionen, brug <c>swapon</c>:
</p>
	 
<pre caption="At aktivere swap-partitionen">
# <i>swapon /dev/hda2</i>
</pre>

<p>
Lav og aktiver swap nu.
</p>

</body>
</subsection>
</section>
<section>
<title>At mounte</title>
<body>

<p>
Nu hvor dine partitioner er initialiserede og huser et filsystem, er
det tid til at mounte disse partitioner. Brug <c>mount</c>
kommandoen. Glem ikke at lave de nødvendige mount-biblioteker til hver partition, som du har oprettet. Som et eksempel vil vi mounte root og boot-partionerne:
</p>

<pre caption="At mounte partitioner">
# <i>mount /dev/hda3 /mnt/gentoo</i>
# <i>mkdir /mnt/gentoo/boot</i>
# <i>mount /dev/hda1 /mnt/gentoo/boot</i>
</pre>

<note>
Hvis du vil have din <path>/tmp</path> til at være på en separat
partition, så vær sikker på at ændre dens rettigheder efter at være
blevet mountet: <c>chmod 1777 /mnt/gentoo/tmp</c>. Dette gælder også
for <path>/var/tmp</path>.
</note>

<p>
Vi bliver også nødt til at mounte proc filsystemet (en virtuel
grænseflade til kernen) på <path>/proc</path>. Vi laver først <path>/mnt/gentoo/proc</path> 
mountpunktet og derefter mounte filsystemet:
</p>

<pre caption="At lave /mnt/gentoo/proc mountpunktet">
# <i>mkdir /mnt/gentoo/proc</i>
</pre>

<p>
Hvis du installerer Gentoo fra en LiveCD, så behøves du bare at mounte
<path>proc</path>:
</p>

<pre caption="AT mounte proc">
# <i>mount -t proc none /mnt/gentoo/proc</i>
# <i>mount -o bind /proc /mnt/gentoo/proc</i>
</pre>

</body>
</section>
</sections>
