<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/en/ati-faq.xml,v 1.37 2006/05/02 18:43:53 nightmorph Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/en/ati-faq.xml">
<title>Gentoo Linux ATI FAQ</title>

<author title="Author">
  <mail link="lu_zero@gentoo.org">Luca Barbato</mail>
</author>
<author title="Editor">
  <mail link="peesh@gentoo.org">Jorge Paulo</mail>
</author>
<author title="Editor">
  <mail link="blubber@gentoo.org">Tiemo Kieft</mail>
</author>

<abstract>
This FAQ should help users avoid some common installation and configuration
issues related to DRI and X11 for ATI boards.
</abstract>


<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.0.18</version>
<date>2006-05-02</date>

<chapter>
<title>Hardware Support</title>
<section>
<title>Is my ATI board supported?</title>
<body>

<p>
Many ATI boards (but not all) are supported by <uri
link="http://www.freedesktop.org/Software/xorg">xorg-x11</uri>, at least for the
2D accelerated features.  The 3D support is provided either by <uri
link="http://dri.sf.net">the DRI project</uri> which is part of xorg-x11, or by
ATI's <uri
link="http://mirror.ati.com/support/drivers/linux/radeon-linux.html">closed
source drivers</uri>.
</p>

<table>
<tr>
  <th>GPU</th>
  <th>Common Name</th>
  <th>Support</th>
</tr>
<tr>
  <ti>Rage128</ti>
  <ti>Rage128</ti>
  <ti>xorg DRI</ti>
</tr>
<tr>
  <ti>R100</ti>
  <ti>Radeon7xxx, Radeon64</ti>
  <ti>xorg DRI</ti>
</tr>
<tr>
  <ti>R200, R250, R280</ti>
  <ti>Radeon8500, Radeon9000, Radeon9200</ti>
  <ti>xorg DRI, ATI DRI</ti>
</tr>
<tr>
  <ti>R300, R400, R500</ti>
  <ti>Radeon 9500 - x800</ti>
  <ti>xorg 2D, ATI DRI</ti>
</tr>
</table>

</body>
</section>
<section>
<title>
  I have an All-In-Wonder/Vivo board.  Are the multimedia features supported?
</title>
<body>

<p>
The board's multimedia features are supported by <uri 
link="http://gatos.sf.net">the GATOS project</uri>. These drivers will be 
merged into the xorg tree shortly.
</p>

</body>
</section>
<section>
<title>I'm not using an x86-based architecture.  What are my options?</title>
<body>

<p>
X11 support on the PPC or Alpha platforms is quite similar to x86 X11 support.
However, ATI's closed source drivers are not supported on the PPC or Alpha, so
you cannot use the 3D features of the R300 Graphics Processing Unit (GPU). If
you have such a board and want it supported by X11, contact
<uri link="http://www.ati.com">ATI</uri> and ask them to release the
specifications for your system's GPU. The closed source driver for the AMD64
was released, so AMD64 users can now enjoy the same features as x86 users.
</p>

<impo>
To enable agpgart support for certain AMD64 chip sets, you have to disable 
support for the K8 IOMMU.
</impo>

</body>
</section>
<section>
<title>I have a laptop.  Is my ATI Mobility model supported?</title>
<body>

<p>
It should be, but you may have a configuration issue due to the OEM PCI id that 
such chips may have. In most cases, you may have to write the configuration file
yourself or use the <c>xorgconfig</c> utility.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Installation</title>
<section>
<title>Packages</title>
<body>

<ul>
  <li>The <c>xorg-x11</c> ebuild provides the X11 implementation</li>
  <li>
    For a 2.6.x kernel the DRI modules can be built with the kernel or be
    provided by the <c>x11-drm</c> ebuild
  </li>
  <li>
    For a 2.4.x kernel series you must use the <c>x11-drm</c> ebuild
  </li>
  <li>
    The <c>ati-drivers</c> ebuild provides the ATI closed source X drivers
    and kernel modules, for both the 2.4 and 2.6 series kernels
  </li>
</ul>

<p>
If you want to use ATI's <e>internal</e> agpgart support instead of the Linux
kernel one, the agpgart driver and the chip set specific driver (in your kernel
configuration) must be built as modules or not at all.
</p>

<pre caption="Installing drivers">
<comment>(If you want just the Rage128 drivers and modules installed with X11)</comment>
# <i>VIDEO_CARDS="rage128" emerge x11-drm</i>

<comment>(To have just the Radeon support)</comment>
<comment>(R100, R200, R250, R280, but not R300 yet)</comment>
# <i>VIDEO_CARDS="radeon" emerge x11-drm</i>

<comment>(To install the ATI closed source drivers)</comment>
<comment>(R200, R250, R280 and R300 only)</comment>
# <i>emerge ati-drivers</i>

<comment>(To install X11 without any kernel modules)</comment>
# <i>emerge xorg-x11</i>
</pre>

</body>
</section>
<section>
<title>Configuration</title>
<body>

<p>
The use of <c>xorgcfg</c> or <c>xorgconfig</c> to generate the 
<path>xorg.conf</path> configuration file is suggested. Alternatively, you
may use the Xorg auto configuration option:
</p>

<pre caption="Autoconfiguring X">
# <i>X -configure</i>
</pre>

<p>
For more information on how to get a basic <c>xorg.conf</c> configuration file,
please refer to the <uri link="/doc/en/xorg-config.xml">Gentoo X Server
HowTo</uri>.
</p>

<note>
You can use <c>fglrxconfig</c> if you have installed the <c>ati-drivers</c>
package.
</note>

<impo>
PPC users could use the <c>Xorgautoconfig</c> stand-alone configuration tool by
emerging the <c>Xorgautoconfig</c> ebuild, but isn't required.
</impo>

</body>
</section>
<section>
<title>Switching to OpenGL</title>
<body>

<p>
Once X is installed, configured, and running, it can use the ATI OpenGL
libraries:
</p>

<pre caption="Running eselect">
# <i>eselect opengl set ati</i>
</pre>

</body>
</section>
</chapter>
<chapter>
<title>More Resources</title>
<section>
<body>

<p>
More information on Gentoo Linux and the ATI Radeon binary drivers can be found
on the <uri
link="http://odin.prohosting.com/wedge01/gentoo-radeon-faq.html">Wedge
Unofficial Gentoo ATI Radeon FAQ</uri>.
</p>

</body>
</section>
</chapter>
</guide>
