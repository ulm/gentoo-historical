<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/en/gentoo-alpha-faq.xml,v 1.1 2006/01/12 21:32:14 neysx Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link="/doc/en/gentoo-alpha-faq.xml">

<title>Gentoo Linux/Alpha Frequently Asked Questions</title>
<author title="Author">
  <mail link="tcort@cs.ubishops.ca">Thomas Cort</mail>
</author>

<abstract>
This FAQ is intended to answer some of the most frequently asked questions
relating to Gentoo/Alpha and Linux/Alpha in general.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.0</version>
<date>2006-01-12</date>

<chapter>
<title>About this Document</title>

<section>
<title>Introduction</title>
<body>

<p>
This document contains answers to the most commonly asked questions about
Gentoo/Alpha and Alpha/Linux. It's aimed at both new users and experienced
users alike.
</p>


</body>
</section>

<section>
<title>Content</title>
<body>

<p>
<b>About the Gentoo/Alpha Project</b>
</p>

<ul>
  <li><uri link="#what">What is Gentoo/Alpha?</uri></li>
  <li>
    <uri link="#status">
      What is the current status of the Gentoo/Alpha Project?
    </uri>
  </li>
</ul>

<p>
<b>The Alpha Architecture</b>
</p>

<ul>
  <li><uri link="#dead">Isn't the Alpha architecture dead?</uri></li>
  <li><uri link="#32bit">Can I run 32-bit applications?</uri></li>
  <li><uri link="#endian">Is Alpha big endian or little endian?</uri></li>
  <li><uri link="#i386">Can I run Linux/x86 applications on Alpha?</uri></li>
  <li><uri link="#why">Why install Gentoo on Alpha?</uri></li>
  <li><uri link="#where">Where can I buy Alpha hardware?</uri></li>
</ul>

<p>
<b>Alpha Specific Compiler Flags</b>
</p>

<ul>
  <li>
    <uri link="#CFLAGS">
      Is the use of Alpha specific compiler flags recommended?
    </uri>
  </li>
  <li>
    <uri link="#MCPU">
      How do I optimize for a specific instruction set and scheduling model?
    </uri>
  </li>
  <li>
    <uri link="#MTUNE">
      How do I specify the scheduling model without changing the instruction set?
    </uri>
  </li>
  <li>
    <uri link="#mieee">
      How do I enable software assisted floating point numbers?
    </uri>
  </li>
  <li>
    <uri link="#MEMLAT">How do I specify the memory latency of my system?</uri>
  </li>
  <li>
    <uri link="#SMALLDATA">
      How do I specify that static data should be placed in the small data area?
    </uri>
  </li>
  <li>
    <uri link="#SMALLTEXT">
      How do I specify that object code should be placed in the small text area?
    </uri>
  </li>
  <li>
    <uri link="#CFLAGSERR">
      What do I do if any of these compiler flags cause a compile, linker, or
      runtime error?
    </uri>
  </li>
</ul>

<p>
<b>Alpha Booting and Bootloaders</b>
</p>

<ul>
  <li><uri link="#SRM">What is SRM?</uri></li>
  <li><uri link="#ARC">What is ARC?</uri></li>
  <li>
    <uri link="#ARCvsSRM">
      How can I tell if which firmware my Alpha has, ARC or SRM?
    </uri>
  </li>
  <li><uri link="#whichbootloader">Which bootloader do I use?</uri></li>
</ul>

<p>
<b>Java on Gentoo/Alpha</b>
</p>

<ul>
  <li><uri link="#javasupport">How is Java support in Gentoo/Alpha?</uri></li>
  <li><uri link="#compaqjava">What's wrong with compaq-jdk?</uri></li>
  <li><uri link="#currentjava">Will there ever be working Java support?</uri></li>
</ul>

<p>
<b>Alpha Linux Kernel</b>
</p>

<ul>
  <li><uri link="#whichkernel">Which kernel sources should I use?</uri></li>
  <li><uri link="#selinux">Are hardened-sources supported?</uri></li>
  <li><uri link="#smpkernel">Does the 2.6 kernel support Alpha SMP?</uri></li>
</ul>

<p>
<b>Helping out the Gentoo/Alpha Project</b>
</p>

<ul>
  <li><uri link="#bugs">How do I report bugs?</uri></li>
  <li><uri link="#project">How can I help the Gentoo/Alpha Project?</uri></li>
  <li><uri link="#archtest">Is there an Alpha Arch Testers Project?</uri></li>
</ul>

<p>
<b>Other Resources</b>
</p>

<ul>
  <li><uri link="#noforum">Why is there no Gentoo on Alpha forum?</uri></li>
  <li>
    <uri link="#othergentoo">
      Where can I get more help or information about Gentoo/Alpha?
    </uri>
  </li>
  <li>
    <uri link="#other">
      Where can I get more help or information about Alpha/Linux?
    </uri>
  </li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>About the Gentoo/Alpha Project</title>
<section id="what">
<title>What is Gentoo/Alpha?</title>
<body>

<p>
The Gentoo/Alpha project is responsible for keeping the Gentoo distribution
updated and current for the Alpha platform. This primarily includes keywording
and new releases. The Gentoo/Alpha project aims to provide a usable environment
for both desktop and server usage.
</p>

</body>
</section>
<section id="status">
<title>What is the current status of the Gentoo/Alpha Project?</title>
<body>

<p>
You can find out about the current status of the Gentoo/Alpha project in our
status reports. Jose Luis Rivero (<mail
link="yoswink@gentoo.org">yoswink</mail>) plans on releasing a Gentoo/Alpha
status report about once every 6 months. The current status report can be found
<uri link="/proj/en/base/alpha/status/status-20051207.xml"> here</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>The Alpha Architecture</title>
<section id="dead">
<title>Isn't the Alpha architecture dead?</title>
<body>

<p>
Not yet! HP will be taking orders for new Alpha systems until October 27, 2006
and Alpha options and upgrades until November 2, 2007. See their <uri
link="http://h18002.www1.hp.com/alphaserver/planning2005.html">planning
page</uri> for more details.
</p>

</body>
</section>
<section id="32bit">
<title>Can I run 32-bit applications?</title>
<body>

<p>
No, all Alpha systems use a pure 64 bit kernel and a pure 64 bit userland. You
cannot even force gcc to output 32 bit code using the <c>-m32</c> compiler
flag.
</p>

</body>
</section>
<section id="endian">
<title>Is Alpha big endian or little endian?</title>
<body>

<p>
All Alpha systems support both little and big endian. However, Linux only uses
little endian.
</p>

</body>
</section>
<section id="i386">
<title>Can I run Linux/x86 applications on Alpha?</title>
<body>

<p>
No, not without a full x86 system emulator like <uri
link="http://bochs.sourceforge.net/">bochs</uri>. In the past DEC/Compaq/HP
maintained a program called <c>em86</c> which allowed Linux/x86 applications to
be run on Linux/Alpha systems. However, the program is closed source and no
longer maintained upstream. There are no <c>em86</c> binaries available that
are compatible with gcc3's ABI.
</p>

</body>
</section>
<section id="why">
<title>Why install Gentoo on Alpha?</title>
<body>

<p>
Admittedly, you can find faster 64-bit systems out there, like amd64. However,
that doesn't mean that Alpha systems are useless. The following are a few good
reasons why you'd want to install Linux on this sort of hardware:
</p>

<ul>
  <li>
    You can turn an old computer into something useful. Older Alphas make great
    routers and servers. Their desktop performance isn't that bad either.
  </li>
  <li>You will learn about unusual computer hardware.</li>
  <li>
    It's cool. How many people can say they've got Linux running on an Alpha?
  </li>
</ul>

</body>
</section>
<section id="where">
<title>Where can I buy Alpha hardware?</title>
<body>

<p>
Alpha hardware generally isn't available at your local computer store.  If you
want a new Alpha you're going to have to contact <uri
link="http://h18002.www1.hp.com/alphaserver/">HP</uri>. If you want a used
Alpha (more economical), <uri link="http://ebay.com">eBay</uri> is usually a
good option, assuming that the shipping doesn't cost you too much.  There are
several used equipment dealers that can be found via google, however most of
them charge too much.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Alpha Specific Compiler Flags</title>
<section id="CFLAGS">
<title>Is the use of Alpha specific compiler flags recommended?</title>
<body>

<p>
As with all compiler optimizations, don't over do it. Use these flags with care
and they will give you a stable, speedy system; use them too aggressively and
you could seriously break your system. When in doubt, leave it out. If you need
further clarification, check the <c>gcc</c> man page.
</p>

</body>
</section>
<section id="MCPU">
<title>
  How do I optimize for a specific instruction set and scheduling model?
</title>
<body>

<p>
You can optimize for a specific instruction set and scheduling model with
<c>-mcpu=XXX</c>, where XXX is your cpu type. Valid cpu types are <c>ev4</c>,
<c>ev45</c>, <c>ev5</c>, <c>ev56</c>, <c>pca56</c>, <c>ev6</c> and <c>ev67</c>.
If you do not use the <c>-mcpu=XXX</c> flag, then <c>gcc</c> will  default to
the cpu type of the machine it was compiled on. <c>-mcpu=</c> is equivalent to
the <c>-march=</c> flag on x86.
</p>

</body>
</section>
<section id="MTUNE">
<title>
  How do I specify the scheduling model without changing the instruction set?
</title>
<body>

<p>
You can specify the scheduling model without changing the instruction set with
<c>-mtune=XXX</c>, where XXX is your cpu type. Valid cpu types are <c>ev4</c>,
<c>ev45</c>, <c>ev5</c>, <c>ev56</c>, <c>pca56</c>, <c>ev6</c> and <c>ev67</c>.
<c>-mtune=</c> is implied by <c>-mcpu=</c>, so you don't need to specify this
with if you set <c>-mcpu=</c>. <c>-mtune=</c> is equivalent to the
<c>-mcpu=</c> flag on x86.
</p>

</body>
</section>
<section id="mieee">
<title>How do I enable software assisted floating point numbers?</title>
<body>

<p>
You can enable software assisted floating point numbers with <c>-mieee</c>.
This will enable software assistance to correctly support denormalized numbers
and exceptional IEEE values such as not-a-number and plus/minus infinity.
</p>

<p>
This should be in your global <c>CFLAGS</c> unless you really know what you are
doing.
</p>

</body>
</section>
<section id="MEMLAT">
<title>How do I specify the memory latency of my system?</title>
<body>

<p>
You can specify the memory latency of your system with
<c>-mmemory-latency=XXX</c>, where XXX is the number of clock cycles. This sets
the latency time that the scheduler should assume for memory references.
<c>gcc</c> has some predefined "typical" values that are also accepted by
<c>-mmemory-latency=XXX</c>. Those values are <c>L1</c> for Dcache, <c>L2</c>
for Scache, <c>L3</c> for Bcache, and <c>main</c> for main memory.
</p>

<p>
This flag should probably not be use in your global <c>CFLAGS</c> as the value
you choose is highly dependent on the memory access pattern of the application
you are compiling.
</p>

</body>
</section>
<section id="SMALLDATA">
<title>
  How do I specify that static data should be placed in the small data area?
</title>
<body>

<p>
You can specify that static data should be placed in the small data area with
<c>-msmall-data</c>. This will cause <c>gcc</c> to take advantage of some
features of the Alpha architecture by storing heavily used pieces of data in
specific sections called the small memory sections. The sections are limited to
64kb which means accessing anything stored in them will only take one
instruction.
</p>

<p>
<c>-fPIC</c> will override <c>-msmall-data</c>, so you should use the
<c>-fpic</c> flag instead if you do not want <c>-msmall-data</c> to be
overridden.
</p>

<p>
This flag should probably not be used in your global <c>CFLAGS</c> as some
objects require more than 64kb to be stored, and this will cause a gp_overflow
ld error.
</p>

</body>
</section>
<section id="SMALLTEXT">
<title>
  How do I specify that object code should be placed in the small text area?
</title>
<body>

<p>
You can specify that object code should be placed in the small text area with
<c>-msmall-text</c>. This will cause <c>gcc</c> to assume that the entire
program (or library) fits in 4MB, and is thus reachable with a branch
instruction.  This reduces the number of instructions required for a function
call from 4 to 1.
</p>

<p>
This flag should probably not be used in your global <c>CFLAGS</c> as some
programs (or libraries) are larger than 4MB, and this will cause an ld error.
</p>

</body>
</section>
<section id="CFLAGSERR">
<title>
  What do I do if any of these compiler flags cause a compile, linker, or
  runtime error?
</title>
<body>

<p>
As <uri link="#CFLAGS">already mentioned</uri>, please use these <c>CFLAGS</c>
cautiously. They may break your system. If you experience problems, try using
less aggressive <c>CFLAGS</c> before <uri link="#bugs">filing a bug
report</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Alpha Booting and Bootloaders</title>
<section id="SRM">
<title>What is SRM?</title>
<body>

<p>
SRM is based on the Alpha Console Subsystem specification, which provides an
operating environment for OpenVMS, Tru64 UNIX, and Linux operating systems. See
the <uri link="http://www.alphalinux.org/faq/SRM-HOWTO/"> SRM Howto</uri> for
more information about SRM.
</p>

</body>
</section>
<section id="ARC">
<title>What is ARC?</title>
<body>

<p>
ARC is based on the Advanced RISC Computing (ARC) specification, which provides
an operating environment for Windows NT.
</p>

</body>
</section>
<section id="ARCvsSRM">
<title>How can I tell if which firmware my Alpha has, ARC or SRM?</title>
<body>

<p>
When you power your system on you will see a screen with a blue background and
white text if it is using SRM. You will see a graphical boot system if it is
using ARC.
</p>

</body>
</section>
<section id="whichbootloader">
<title>Which bootloader do I use?</title>
<body>

<p>
If your Alpha system supports SRM, then you should use aboot. If your system
supports both SRM and ARCs (ARC, AlphaBIOS, ARCSBIOS), then you should follow
<uri link="http://www.alphalinux.org/faq/x31.html">the SRM Firmware Howto</uri>
for switching to SRM and use aboot. If your system can only use ARCs (Ruffian,
nautilus, xl, etc.) then you will need to choose milo.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Java on Gentoo/Alpha</title>

<section id="javasupport">
<title>How is Java support in Gentoo/Alpha?</title>
<body>

<p>
Currently, there is only one option for Java VM and Java SDK on Gentoo/Alpha.
The packages are called <c>compaq-jre</c> and <c>compaq-jdk</c>.
</p>

</body>
</section>
<section id="compaqjava">
<title>What's wrong with compaq-jdk?</title>
<body>

<p>
<c>compaq-jre</c> and <c>compaq-jdk</c> are not very desirable because they are
unsupported upstream and obsolete. They only provide Java 1.3.1 and are binary
only. The binaries are compiled against an older glibc which causes some
unexpected results when you are using a recent glibc. See <uri
link="https://bugs.gentoo.org/84306">bug #84306</uri> for our attempts at
workarounds.
</p>

</body>
</section>
<section id="currentjava">
<title>Will there ever be working Java support?</title>
<body>

<p>
We really hope so. We are following the development of the jdk from <uri
link="http://sablevm.org">SableVM</uri>. It isn't ready yet, but we hope with
time that it will be a full drop in replacement jdk.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Alpha Linux Kernel</title>
<section id="whichkernel">
<title>Which kernel sources should I use?</title>
<body>

<p>
<c>gentoo-sources</c> and <c>vanilla-sources</c> are both supported.  You
should read the <uri link="/doc/en/gentoo-kernel.xml">Gentoo Kernel Guide</uri>
to determine which one is right for your needs.
</p>

</body>
</section>
<section id="selinux">
<title>Are hardened-sources supported?</title>
<body>

<p>
<c>hardened-sources</c> and SELinux support is being worked on by Stephen
Bennett (<mail link="spb@gentoo.org">spb</mail>). We hope to see an SELinux
profile for Alpha in the tree as soon as we feel confident about it.
</p>

</body>
</section>
<section id="smpkernel">
<title>Does the 2.6 kernel support Alpha SMP?</title>
<body>

<p>
Working SMP for Alpha with the 2.6 Linux kernel varies from version to version.
If you find that it is broken and want SMP support you will need to use a 2.4
kernel. If you really need to run a 2.6 kernel on an SMP box and you don't care
that only one of your processors is getting used, then you could configure the
2.6 kernel without SMP support.
</p>

<p>
The 2.6 Linux kernel runs fine on uniprocessor Alpha systems.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Helping out the Gentoo/Alpha Project</title>
<section id="bugs">
<title>How do I report bugs?</title>
<body>

<p>
If you find a bug or you want to send us patches, then you need to file a bug
report. It only takes you a little while, and your help is really appreciated.
Please follow the <uri link="/doc/en/bugzilla-howto.xml">Gentoo Bug Reporting
Guide</uri>.
</p>

</body>
</section>
<section id="project">
<title>How can I help the Gentoo/Alpha Project?</title>
<body>

<p>
Users can help us by:
</p>

<ul>
  <li>Filing clear and concise <uri link="#bugs">bug reports</uri>.</li>
  <li>Testing software that does not yet have the <c>~alpha</c> keyword.</li>
  <li>
    Answering questions on the <uri link="/main/en/lists.xml">mailing
    lists</uri>, <uri link="http://forums.gentoo.org/viewforum-f-32.html">
    forum</uri> and IRC channel.
  </li>
  <li>Sending patches</li>
</ul>

</body>
</section>
<section id="archtest">
<title>Is there an Alpha Arch Testers Project?</title>
<body>

<p>
At the moment there is no arch testers project for Gentoo/Alpha. However, there
will be one in the future. Fernando J. Pereda (<mail
link="ferdy@gentoo.org">ferdy</mail>) has been working on getting the project
off the ground.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Other Resources</title>
<section id="noforum">
<title>Why is there no Gentoo on Alpha forum?</title>
<body>

<p>
On the <uri link="http://forums.gentoo.org">Gentoo Forums</uri> there are
several arch specific categories like <uri
link="http://forums.gentoo.org/viewforum-f-24.html">Gentoo on PPC</uri> and
<uri link="http://forums.gentoo.org/viewforum-f-24.html">Gentoo on Sparc</uri>.
There is no Gentoo on Alpha category because there simply isn't enough
Gentoo/Alpha activity on the forums to warrant one. All Alpha related posts
should go in the <uri link="http://forums.gentoo.org/viewforum-f-32.html">
Gentoo on Alternative Architectures</uri> category.
</p>

</body>
</section>
<section id="othergentoo">
<title>Where can I get more help or information about Gentoo/Alpha?</title>
<body>

<p>
If any of your questions weren't answered here, you can try other resources
like the <uri link="/doc/en/handbook/handbook-alpha.xml">Alpha Handbook</uri>
or <uri link="/proj/en/base/alpha/">our project homepage</uri>. You can also
ask us at <c>#gentoo-alpha</c> on <c>irc.freenode.net</c>, <uri
link="http://forums.gentoo.org/viewforum-f-32.html">Gentoo on Alternative
Architectures Forum</uri>, or on the <mail>gentoo-alpha@lists.gentoo.org</mail>
mailing list.
</p>

</body>
</section>
<section id="other">
<title>Where can I get more help or information about Alpha/Linux?</title>
<body>

<p>
<uri link="http://alphalinux.org/">AlphaLinux.org</uri> is a central repository
for all things Alpha/Linux.
</p>

</body>
</section>
</chapter>
</guide>
