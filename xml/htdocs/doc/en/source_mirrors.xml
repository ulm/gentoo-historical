<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/en/source_mirrors.xml,v 1.15 2004/02/19 15:20:54 swift Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/en/source_mirrors.xml">
<title>Gentoo Linux Source Mirrors Policy</title>
<author title="Author"><mail link="klieber@gentoo.org">Kurt Lieber</mail></author>

<abstract>
This document explains the requirements for source mirrors.
</abstract>
<license/>
<version>1.1</version>
<date>17 Feb 2003</date>


<chapter>
<title>Requirements</title>
<section>
<title>Minimum Bandwidth</title>
<body>
<p> To properly host a source mirror you should have a minimum of 5Mbps upstream bandwidth.  
ADSL and cable connections do not generally make adequate connections for distfile hosts due to their limited upstream performance.</p>
</body>
</section>
<section>
<title>Minimum User Count</title>
<body>
<p>We ask that you support a minimum of 15 and preferrably 30 concurrent user connections.</p>
</body>
</section>
<section>
<title>Update Frequency</title>
<body>
<p>All mirrors must be synchronized every four hours, starting at midnight in your local time zone.  This helps distribute the load out over a period of time, rather than having all mirrors synchronize at the same time.</p>
</body>
</section>
</chapter>
<chapter>
<title>Implementation details</title>
<section>
<body>
<p>for new source mirror requests, the procedure will be as follows:</p>
<p>Set up your server to rsync with www.ibiblio.org::gentoo.  Once you have a complete mirror of that server, please file a bug report on bugs.gentoo.org under the "rsync" category stating that you have a new mirror and wish it to be added to the list of official mirrors.</p>
<p>We will then verify that the mirror exists and we can connect to it properly. Then, in the next 48-72 hours we will determine if your mirror is syncing correctly and in accordance with this policy.</p>

<p>If all steps went smoothly, we will then add you to our list of <uri link="http://www.gentoo.org/main/en/mirrors.xml">download mirrors</uri> on the main web site.  We will also send you the login information for our private master distfile mirror which is only available to official Gentoo Linux source mirrors.</p> 

<p>Additionally, you, the mirror admin will be added to the gentoo-mirrors mailing list (low traffic) so that you can follow all issues associated with source mirrors.
</p>
<note>
Thanks for helping out Gentoo Linux users and developers! :) For any mirror administration issues or problems, please contact <mail link="mirror-admin@gentoo.org">mirror-admin@gentoo.org</mail>.
</note>
</body>
</section>
</chapter>
<chapter>
<title>Short FAQ</title>
<section>
<title>Q: Who should I contact regarding new mirrors or to get my mirror added to the Gentoo web site?</title>
<body>
<p>A: Please file a bug on bugs.gentoo.org under the rsync category.</p>
</body>
</section>
<section>
<title>Q: Who should I contact regarding mirror issues and maintenance?</title>
<body>
<p>A: Please file a bug on bugs.gentoo.org under the rsync category.</p> 
</body>
</section>
<section>
<title>Q: I run a private source mirror for my company.  Can I still access the private master source mirror?</title>
<body>
<p>A: Because our resources are limited, we need to ensure we allocate them in such a way
to provide the maximum amount of benefit to our users.  As such, we limit connections
to our master rsync and distfile mirrors to public mirrors only.  Users are welcome to use our regular mirror system to establish a private source mirror.
</p>
</body>
</section>

<section>
<title>Q: How do I find the mirror nearest to me?</title>
<body>
<p>A: mirrorselect was designed to do this for you. If you haven't already run <c>emerge mirrorselect</c> then do it.
Then run: <c>mirrorselect</c>. An ncurses-based menu will display allowing you to select a mirror close to you.
</p>
</body>
</section>
<section>
<title>Q: How much space does a full source mirror require?</title>
<body>
<p>A: At the moment, a full mirror requires between 30GB and 40GB of disk space and comprises the following four directories.
</p>
<ul>
	<li>/release</li>
	<li>/experimental</li>
	<li>/distfiles</li>
	<li>/snapshots</li>
</ul>
<p>In order to be a full Gentoo Linux source mirror, we ask that you mirror all four of these directories in their entirety.</p>
</body>
</section>
<section>
<title>Q: I don't have that much disk space.  Can I mirror part of the sources?</title>
<body>
<p>A: Yes, if you are unable to mirror our full sources, you can elect to mirror the following two directories only:</p>
<ul>
	<li>/distfiles</li>
	<li>/snapshots</li>
</ul>
<p>These two directories will require approximately 20GB of space and you will be listed on our site as a distfiles-only mirror.</p>
</body>
</section>
<section>
<title>Q: Do I have to turn on Directory Indexing for directories served up via HTTP?</title>
<body>
<p>A: Directory Indexing is required for the /releases and /experimental directories, but can be turned off for all other directories (including /distfiles) if you wish. 
</p>
</body>
</section>
</chapter>
</guide>
