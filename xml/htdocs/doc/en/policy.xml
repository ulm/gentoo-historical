<?xml version='1.0' encoding="UTF-8"?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide>
<title>Gentoo Linux Development Policy</title>
<author title="Author"><mail link="karltk@gentoo.org">Karl Trygve Kalleberg</mail></author> 
<author title="Author/Editor"><mail link="drobbins@gentoo.org">Daniel Robbins</mail></author> 
<author title="Editor"><mail link="seemant@gentoo.org">Seemant Kulleen</mail></author> 
<abstract>
This guide is meant to be the authoritative written reference on Gentoo Linux development policy.
It will be updated periodically to reflect new developer procedures.
</abstract>

<version>1.0</version>
<date>14 Nov 2002</date>

<chapter>
<title>General guidelines</title>
<section>
<body>
<p>Here are some general development guidelines to follow:</p>
<ul>

<li>Always check in your changes with repoman; use repoman commit instead of cvs commit.</li>

<li>If a package is either broken in its current version or it has a really
nasty build/install process, take a look at how other distributions do it: <ul>
<li><uri>http://cvs.mandrakesoft.com/cgi-bin/cvsweb.cgi/SPECS/</uri></li>
<li><uri>http://www.debian.org/distrib/packages</uri></li> </ul> </li>
   
<li>Your package, when complete and unmasked, is supposed to "just work" for
the end-user. Tweaking the installed product to get it to work should be
optional; thus you need to install the package with reasonable default
settings.</li>

<li>Don't be afraid to consult our on-line documentation and ebuilds written
and maintained by more senior developers.</li>
</ul>
</body>
</section>
</chapter>
<chapter>
<title>Ebuild policy</title>
<section>
<title>Naming policy</title>
<body>

<p>Ebuild file names consist of four logical sections:</p>

<p><c>pkg-ver{_suf{#}}{-r#}.ebuild</c></p>

<note>The brackets (<c>{}</c>) deliniate optional fields and do not appear in
the literal package name. <c>#</c> represents any non-zero positive
integer.</note>

<p>The first <c>pkg</c> section is the package name, which should only contain
lowercase letters, the digits 0-9, and any number of single hyphen (<c>-</c>)
characters. Examples: <c>util-linux</c>, <c>sysklogd</c>, <c>glibc</c>. We have
some packages in Portage that don't follow these rules, but <i>your</i>
packages should.</p>

<p>The <c>ver</c> second section is the version of the package, which should
normally be same as the version on the main source tarball. The version is
normally made up of two or three (or more) numbers separated by periods, such
as <c>1.2</c> or <c>4.5.2</c>, and may have a single letter immediately
following the last digit, e.g., <c>1.4b</c> or <c>2.6h</c>. The package version
is joined to the package name with a hyphen. Examples: <c>foo-1.0</c>,
<c>bar-2.4.6</c>.</p>

<p>The third <c>{_suf{#}}</c> section is optional may contain one of these
predefined suffixes, listed in least-recent to most-recent order:</p>

<table>
<tr><th>Suffix</th><th>Meaning</th></tr>
<tr><ti><c>_alpha</c></ti><ti>Alpha release</ti></tr>
<tr><ti><c>_beta</c></ti><ti>Beta release</ti></tr>
<tr><ti><c>_pre</c></ti><ti>Prerelease</ti></tr>
<tr><ti><c>_rc</c></ti><ti>Release candidate</ti></tr>
<tr><ti>(none)</ti><ti>Normal release</ti></tr>
<tr><ti><c>_p</c></ti><ti>Patch level (normally accompanied by trailing integer</ti></tr>
</table>

<p> Any of these suffixes may be immediately followed by a non-zero positive
integer, e.g., <c>linux-2.4.0_pre10</c>. Assuming identical version parts, the
suffixes are ordered as follows (lower means older): <c>_alpha</c> &lt;
<c>_beta</c> &lt; <c>_pre</c> &lt; <c>_rc</c> &lt; (no suffix) &lt;
<c>_p</c></p>
       
<p>When comparing identical suffixes with trailing integers, the one with the
larger integer will be considered most recent. Example: <c>foo-1.0_alpha4</c>
is more recent than <c>foo-1.0_alpha3</c>.</p>

<p>The fourth section of the package name is the Gentoo Linux-specific revision
number (<c>{-r#}</c>). This section, like the suffix, is also optional.
<c>#</c> is a non-zero positive integer, e.g.  <c>package-4.5.3-r3</c>. </p>

<p>This revision number is independent of the version of the source tarball and
is used to inform people that a new and improved Gentoo Linux revision of a
particular package is available. Initial releases of ebuilds must have no
revision number, e.g. <c>package-4.5.3</c> and are considered by Portage to
have a revision number of zero. This means that counting goes as follows:
<c>1.0</c> (initial version), <c>1.0-r1</c>, <c>1.0-r2</c>, etc. Revision
numbers should be incremented by Gentoo Linux developers when the ebuild has
changed to the point where users would want to upgrade. Typically, this is the
case when fixes are made to an ebuild that affect the resultant installed
files, but the ebuild uses the same source tarball as the previous release.</p>
</body> </section> </chapter> </guide>
