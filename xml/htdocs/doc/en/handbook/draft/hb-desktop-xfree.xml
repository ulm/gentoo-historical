<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/en/handbook/draft/Attic/hb-desktop-xfree.xml,v 1.3 2004/03/22 17:57:19 swift Exp $ -->

<sections>
<section>
<title>What is the X Window Server?</title>
<subsection>
<title>Graphical vs Command-Line</title>
<body>

<p>
The average user may be frightened at the thought of having to type in commands.
Why wouldn't he be able to point and click his way through the freedom provided
by Gentoo (and Linux in general)? Well, *big smile*, of course you are able to
do this :-) Linux offers a wide variety of flashy user interfaces and 
environments which you can install on top of your existing installation.
</p>

<p>
This is one of the biggest surprises new users come across: a graphical user
interface is nothing more than an application which runs on your system. It is
<e>not</e> part of the Linux kernel or any other internals of the system. It is
a powerful tool that fully enables the graphical abilities of your workstation.
</p>

<p>
As standards are important, a standard for drawing and moving windows on a
screen, interacting with the user through mouse and keyboard and other basic yet
important aspects has been created and named the <e>X Window System</e>,
commonly abbreviated as <e>X11</e> or just <e>X</e>. It is used on Unix, Linux
and Unix-like operating systems throughout the world.
</p>

<p>
The application that provides Linux users with the ability to run graphical user
interfaces and that uses the X11 standard is XFree86.
</p>

</body>
</subsection>
<subsection>
<title>The XFree86 Project</title>
<body>

<p>
The <uri link="http://www.xfree86.org">XFree86</uri> project created and
maintains a freely redistributable open-source implementation of the X11 system.
It is an open source X11-based desktop infrastructure. 
</p>

<p>
XFree86 provides an interface between your hardware and the graphical software
you want to run. Besides that, XFree86 is also fully network-aware, meaning you
are able to run an application on one system while viewing it on a different
one. 
</p>

</body>
</subsection>
</section>
<section>
<title>Installing XFree86</title>
<subsection>
<title>Using emerge</title>
<body>

<p>
Enough chitchat, let's get to business shall we? To install XFree, you just need
to run <c>emerge xfree</c>. Installing XFree86 does take a while though, so you
might want to grab a snack while you are waiting.
</p>

<pre caption="Installing XFree86">
# <i>emerge xfree</i>
</pre>

<p>
When the installation is finished, you might need to reinitialise some
environment variables before you continue. Just run <c>env-update</c> followed
by <c>source /etc/profile</c> and you're all set. This doesn't harm your system
in any way if you aren't certain you have to.
</p>

<pre caption="Reinitialising the environment variables">
# <i>env-update</i>
# <i>source /etc/profile</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Configuring XFree86</title>
<subsection>
<title>The XF86Config File</title>
<body>

<p>
The configurationfile of XFree86 is called <path>XF86Config</path> and it
resides in <path>/etc/X11</path>. The XFree86 package provides an example
configuration as <path>/etc/X11/XF86Config.example</path> which you can use to
create your own configuration. It is heavily commented, but if you are in need
of more documentation regarding the syntax, don't hesitate to read the man page:
</p>

<pre caption="Reading the XF86Config man page">
# <i>man 5 XF86Config</i>
</pre>

<p>
Happy reading for those of you willing to. We surely don't so we'll continue
with checking out how we can create the file automatically.
</p>

</body>
</subsection>
<subsection>
<title>Automatic Generation of XF86Config</title>
<body>

<p>
XFree86 itself is able to guess most parameters for you. In most cases, you will
only have to change some lines to get the resolution you want up and running. If
you are interested in more in-depth tweaking, be sure to check the resources at
the end of this chapter. But first, let us generate a (hopefully working)
XFree86 configuration file. 
</p>

<pre caption="Generating an XF86Config file">
# <i>XFree86 -configure</i>
</pre>

<p>
Be sure to read the last lines printed on your screen when XFree86 has finished
probing your hardware. If it tells you it failed at some point, you're forced to
manually write an <path>XF86Config</path> file. Assuming that it didn't fail, it
will have told you that it has written <path>/root/XF86Config.new</path> ready
for you to test. So let's test :)
</p>

<pre caption="Testing the XF86Config.new file">
# <i>XFree86 -xf86config /root/XF86Config.new</i>
</pre>

<p>
If all goes well, you should see an ugly, loathsome, repulsive, deformed
window manager called <c>twm</c>, probably the smallest window manager
available. Try moving your mouse and see if your keyboard and such is working.
In the next section we will optimize our <path>XF86Config</path> so it fits your
hardware. Now go into one of the terminals you see on your screen and type in
<c>exit</c> (or press Ctrl-D) until XFree86 shuts down.
</p>

</body>
</subsection>
</section>
<section>
<title>Tweaking XF86Config</title>
<subsection>
<title>Copying over XF86Config</title>
<body>

<p>
Let us first copy over the <path>XF86Config.new</path> to
<path>/etc/X11/XF86Config</path> so we won't have to continuously run <c>XFree86
-xf86config</c> -- typing <c>startx</c> is far more easy :)
</p>

<pre caption="Copying over XF86Config">
# <i>cp /root/XF86Config.new /etc/X11/XF86Config</i>
</pre>

</body>
</subsection>
<subsection>
<title>Setting your Resolution</title>
<body>

</body>
</subsection>
<subsection>
<title>Configuring your Keyboard</title>
<body>

</body>
</subsection>
<subsection>
<title>Configuring your Mouse</title>
<body>

</body>
</subsection>
</section>
<section>
<title>Resources</title>
<subsection>
<title>Creating and Tweaking XF86Config</title>
<body>

</body>
</subsection>
</section>
</sections>
