<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/en/handbook/draft/Attic/hb-install-hppa-medium.xml,v 1.29 2008/03/01 08:21:56 nightmorph Exp $ -->

<sections>

<version>9.0</version>
<date>2007-06-29</date>

<section>
<title>Hardware Requirements</title>
<subsection>
<title>Introduction</title>
<body>

<p>
Before we start, we first list what hardware requirements you need to
successfully install Gentoo on your box. 
</p>

</body>
</subsection>
<subsection>
<title>Hardware Requirements</title>
<body>

<p>
A list of supported hardware can be found on the <uri
link="http://www.pateam.org/list.html">PA Team website</uri>. You may find
additional information about your box in the <uri
link="http://hwdb.parisc-linux.org">Parisc-Linux Hardware Database</uri> and
the <uri link="http://www.openpa.net/cpu.html">processor list</uri> on
<uri link="http://www.openpa.net">www.openpa.net</uri>.
</p>

<p>
If you don't know which version of PA-RISC your box is using, please check the
links above to find out whether you're using version 1.1 or 2.0. You will need
this information later on.
</p>

<table>
<tr>
  <th>Memory</th>
  <ti>64 MB</ti>
</tr>
<tr>
  <th>Diskspace</th>
  <ti>1.5 GB (excluding swap space)</ti>
</tr>
<tr>
  <th>Swap space</th>
  <ti>At least 256 MB</ti>
</tr>
</table>

</body>
</subsection>
</section>

<!-- START -->
<section>
<title>The Gentoo Installation CDs</title>
<subsection>
<title>Introduction</title>
<body>

<p>
The <e>Gentoo Installation CDs</e> are bootable CDs which contain a
self-sustained Gentoo environment. They allow you to boot Linux from the CD.
During the boot process your hardware is detected and the appropriate drivers
are loaded. They are maintained by Gentoo developers.
</p>

<p>
All Installation CDs allow you to boot, set up networking, initialize your
partitions and start installing Gentoo from the Internet. We currently provide
two Installation CDs which are equally suitable to install Gentoo from, as long 
as you're planning on performing an Internet-based installation using the 
latest version of the available packages.
</p>

<p>
If you wish to install Gentoo without a working Internet connection, please use
the installation instructions described in the <uri
link="2008.0/index.xml">Gentoo 2008.0 Handbooks</uri>.
</p>

<p>
The two Installation CDs that we currently provide are:
</p>

<ul>
  <li>
    The Gentoo <e>Minimal</e> Installation CD, a small, no-nonsense, bootable 
    CD which sole purpose is to boot the system, prepare the networking and 
    continue with the Gentoo installation.
  </li>
  <li>
    The Gentoo <e>Universal</e> Installation CD, a bootable CD with the same 
    abilities as the Minimal Installation CD. Additionally, it contains 
    several stage3 tarballs (optimized for the individual subarchitectures). 
  </li>
</ul>

<p>
To help you decide which Installation CD you need, we have written down the 
major advantages and disadvantages of each Installation CD.
</p>

</body>
</subsection>
<subsection>
<title>Gentoo's Minimal Installation CD</title>
<body>

<p>
The Minimal Installation CD is called <c><keyval id="min-cd-name"/></c> 
and takes up only 75 MB of diskspace. You can use this Installation CD to 
install Gentoo, but always with a working Internet connection only.
</p>

<table>
<tr>
  <th>Minimal Installation CD</th>
  <th>Pros and Cons</th>
</tr>
<tr>
  <th>+</th>
  <ti>Smallest download</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Contains no stage3 tarball, no Portage snapshot, no prebuilt packages and is
    therefore not suitable for networkless installation
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Gentoo's Universal Installation CD</title>
<body>

<p>
The Universal Installation CD is called <c>install-hppa-universal-2008.0.iso</c>
and consumes about 339 MB on a CD. You can use this Installation CD to install
Gentoo, and you can even use it to install Gentoo without a working internet
connection, just in case you want to bring Gentoo to another PC than the one
you are currently installing Gentoo on :)
</p>

<table>
<tr>
  <th>Universal Installation CD</th>
  <th>Pros and Cons</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Contains everything you need. You can even install without a network
    connection.
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Huge download</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Other CDs</title>
<body>

<p>
You might find a <e>Package CD</e> on one of our mirrors. This CD is not an
Installation CD but an additional resource that can be exploited during a
networkless installation. It contains prebuilt packages (also known as the GRP
set) that allow you to easily and quickly install additional applications (such
as OpenOffice.org, KDE, GNOME, ...) immediately after the networkless Gentoo
installation.
</p>

<p>
If you intend to use the Packages CD to quickly install additional software,
make sure that you use the same subarchitecture as the stage3 tarball you use.
</p>

</body>
</subsection>
<subsection>
<title>The Stage3 Tarball</title>
<body>

<p>
A stage3 tarball is an archive containing a minimal Gentoo environment, suitable
to continue the Gentoo installation using the instructions in this manual.
Previously, the Gentoo Handbook described the installation using one of three 
stage tarballs. While Gentoo still offers stage1 and stage2 tarballs, the 
official installation method uses the stage3 tarball. If you are interested in
performing a Gentoo installation using a stage1 or stage2 tarball, please read
the Gentoo FAQ on <uri link="/doc/en/faq.xml#stage12">How do I Install Gentoo
Using a Stage1 or Stage2 Tarball?</uri>
</p>

</body>
</subsection>
</section>
<!-- STOP -->
<section>
<title>Download, Burn and Boot the Gentoo Universal Installation CD</title>
<subsection>
<title>Downloading and Burning the Installation CD</title>
<body>

<p>
You have chosen to use a Gentoo Installation CD. We'll first start by 
downloading and burning the chosen Installation CD. We previously discussed 
the several available Installation CDs, but where can you find them? 
</p>

<p>
You can download any of the Installation CDs (and, if you want to, a Packages 
CD as well) from one of our <uri link="/main/en/mirrors.xml">mirrors</uri>. The
Installation CDs are located in the <path><keyval id="release-dir"/>installcd</path> 
directory.
</p>

<p>
Inside that directory you'll find ISO files. Those are full CD images which you
can write on a CD-R.
</p>

<p>
After downloading the file, you can verify its integrity to see if it is 
corrupted or not:
</p>

<ul>
  <li>
    You can check its MD5 checksum and compare it with the MD5 checksum we 
    provide (for instance with the <c>md5sum</c> tool under Linux/Unix or 
    <uri link="http://www.etree.org/md5com.html">md5sum</uri> for Windows)
  </li>
  <li>
    You can verify the cryptographic signature that we provide. You need to
    obtain the public key we use (17072058) before you proceed though.
  </li>
</ul>

<p>
To fetch our public key using the GnuPG application, run the following command:
</p>

<pre caption="Obtaining the public key">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Now verify the signature:
</p>

<pre caption="Verify the cryptographic signature">
$ <i>gpg --verify &lt;signature file&gt; &lt;downloaded iso&gt;</i>
</pre>

<p>
To burn the downloaded ISO(s), you have to select raw-burning. How you
do this is highly program-dependent. We will discuss <c>cdrecord</c> and
<c>K3B</c> here; more information can be found in our <uri
link="/doc/en/faq.xml#isoburning">Gentoo FAQ</uri>.
</p>

<ul>
  <li>
    With cdrecord, you simply type <c>cdrecord dev=/dev/hdc &lt;downloaded iso
    file&gt;</c> (replace <path>/dev/hdc</path> with your CD-RW drive's device
    path).
  </li>
  <li>
    With K3B, select <c>Tools</c> &gt; <c>Burn CD Image</c>. Then you can locate
    your ISO file within the 'Image to Burn' area. Finally click <c>Start</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Booting the Installation CD</title>
<body>

<note>
If you have problems booting the Installation CD or any other media, please 
read the <uri 
link="http://www.tldp.org/HOWTO/PA-RISC-Linux-Boot-HOWTO/index.html">
PA-RISC Linux Boot HOWTO</uri>.
</note>

<p>
Boot your HPPA system. During the boot process, you will see a message similar
to the following:
</p>

<pre caption="HPPA boot message">
Searching for Potential Boot Devices.
To terminate search, press and hold the ESCAPE key.
</pre>

<p>
When this message appears, press and hold the Esc-key until an option menu
appears. This can take a while, be patient. By default, you should enter the
BOOT_ADMIN console. If you receive an option menu, choose <c>Enter Boot
Administration mode</c> to enter the BOOT_ADMIN console. You should now have an
'&gt;' prompt.
</p>

<p>
Put the Gentoo Installation CD in the CD-ROM. If you do not know the SCSI ID of 
your CD-ROM drive, your PA-RISC station will search for it when you issue the 
<c>search</c> command.
</p>

<pre caption="Searching for SCSI ID">
&gt; <i>search</i>
Searching for Devices with Bootable Media.
To terminate search, please press and hold the ESCAPE key.
</pre>

<p>
Your PA-RISC station will now display all the available boot media. This is an
example result of this command:
</p>

<pre caption="Available boot media">
Device Selection      Device Path             Device Type and Utilities
---------------------------------------------------------------------------

P0                    scsi.5.0                TOSHIBA CD-ROM XM-3301TA
                                                  IPL
P1                    scsi.2.0                COMPAQ ST32550N
                                                  IPL
P2                    lan.0010a7-06d1b6.3.6   server
                                                  IPL
</pre>

<p>
To boot from a CD-ROM you need the accompanying Device Path. For instance, if we
want to boot from the TOSHIBA CD-ROM in the above example, we would need to type
the following command:
</p>

<pre caption="Booting from a CD-ROM">
&gt; <i>boot scsi.5.0 ipl</i>

Trying scsi.5.0
</pre>

<p>
The <c>ipl</c> keyword (Initial Program Loader) tells palo (the PA-RISC boot
LOader) to enter interactive mode. This will allow you to change, for example,
the kernel boot parameters.
</p>

<p>
When the boot is successful, palo will start in interactive mode:
</p>

<pre caption="PALO Interactive Mode">
Boot path initialized.
Attempting to load IPL.


HARD Booted.
palo ipl 1.5 root@hope Sat Apr 23 18:06:47 CEST 2005

Boot image contains:
    0/vmlinux32 6241293 bytes @ 0x3904000
    0/vmlinux64 8352719 bytes @ 0x3ef8000
    0/ramdisk 1007589 bytes @ 0x105800

Information: No console specified on kernel command line. This is normal.
PALO will choose the console currently used by firmware (serial).Current command line:
0/vmlinux initrd=initrd TERM=linux root=/dev/ram0 init=/linuxrc cdroot looptype=squashfs loop=/livecd.squashfs hda=scsi console=ttyS0
 0: 0/vmlinux
 1: initrd=initrd
 2: TERM=linux
 3: root=/dev/ram0
 4: init=/linuxrc
 5: cdroot
 6: looptype=squashfs
 7: loop=/livecd.squashfs
 8: hda=scsi
 9: console=ttyS0

&lt;#&gt;    edit the numbered field
'b'    boot with this command line
'r'    restore command line
'l'    list dir
</pre>

<p>
These parameters are suitable for most situations.
</p>

<p>
If you need extra features you must add the appropriate keyword(s) to the end of
the command line. To add a keyword, edit the last field, add a space and type 
your keyword. The only implemented keywords as of now are <c>cdcache</c> which 
tells the Installation CD to load itself into RAM, allowing you to unmount the
CD, and <c>noload=module1[,module2[,...]]</c> which allows you to explicitly 
disable loading of particular modules.
</p>

<pre caption="Adding hdb=scsi as boot option">
(or 'b' to boot with this command line)? <i>9</i>
console=ttyS0 <i>hdb=scsi</i>
</pre>

<p>
Now that you have tweaked your kernel boot params, boot it.
</p>

<pre caption="Booting the kernel">
(or 'b' to boot with this command line)? <i>b</i>
</pre>

<p>
You should have a root ("#") prompt on the current console and can also switch
to other consoles by pressing Alt-F2, Alt-F3 and Alt-F4. Get back to the one you
started on by pressing Alt-F1.
</p>

<p>
Now continue with <uri link="#hardware">Extra Hardware 
Configuration</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Extra Hardware Configuration</title>
<body>

<p>
Most hppa machines have an onboard ethernet card. Old ones use the lasi driver
which is compiled in the kernel. Newer ones need the tulip driver which is
compiled as a module. To use the latter, you need to load its driver.
</p>

<p>
In the next example, we try to load the <c>tulip</c> module (support for 
certain kinds of network interfaces):
</p>

<pre caption="Loading kernel modules">
# <i>modprobe tulip</i>
</pre>

</body>
</subsection>

<subsection id="useraccounts">
<title>Optional: User Accounts</title>
<body>

<p>
If you plan on giving other people access to your installation
environment or you want to chat using <c>irssi</c> without root privileges (for
security reasons), you need to create the necessary user accounts and change 
the root password.
</p>

<p>
To change the root password, use the <c>passwd</c> utility:
</p>

<pre caption="Changing the root password">
# <i>passwd</i>
New password: <comment>(Enter your new password)</comment>
Re-enter password: <comment>(Re-enter your password)</comment>
</pre>

<p>
To create a user account, we first enter their credentials, followed by
its password. We use <c>useradd</c> and <c>passwd</c> for these tasks.
In the next example, we create a user called &quot;john&quot;.
</p>

<pre caption="Creating a user account">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Enter john's password)</comment>
Re-enter password: <comment>(Re-enter john's password)</comment>
</pre>

<p>
You can change your user id from root to the newly created user by using
<c>su</c>:
</p>

<pre caption="Changing user id">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Optional: Viewing Documentation while Installing</title>
<body>

<p>
If you want to view the Gentoo Handbook (either from-CD or online) during the
installation, make sure you have created a user account (see <uri
link="#useraccounts">Optional: User Accounts</uri>). Then press <c>Alt-F2</c> to
go to a new terminal and log in.
</p>

<p>
If you want to view the documentation on the CD you can immediately run
<c>links</c> to read it:
</p>

<pre caption="Viewing the on-CD documentation">
# <i>links /mnt/cdrom/docs/handbook/html/index.html</i>
</pre>

<p>
However, it is preferred that you use the online Gentoo Handbook as it will be
more recent than the one provided on the CD. You can view it using <c>links</c>
as well, but only after having completed the <e>Configuring your Network</e>
chapter (otherwise you won't be able to go on the Internet to view the
document):
</p>

<pre caption="Viewing the Online Documentation">
# <i>links http://www.gentoo.org/doc/en/handbook/<keyval id="online-book"/></i>
</pre>

<p>
You can go back to your original terminal by pressing <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Optional: Starting the SSH Daemon</title>
<body>

<p>
If you want to allow other users to access your computer during the
Gentoo installation (perhaps because those users are going to help you
install Gentoo, or even do it for you), you need to create a user
account for them and perhaps even provide them with your root password 
(<e>only</e> do that <e>if</e> you <b>fully trust</b> that user).
</p>

<p>
To fire up the SSH daemon, execute the following command:
</p>

<pre caption="Starting the SSH daemon">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
To be able to use sshd, you first need to set up your networking. Continue with
the chapter on <uri link="?part=1&amp;chap=3">Configuring your Network</uri>.
</p>

</body>
</subsection>
</section>
</sections>
