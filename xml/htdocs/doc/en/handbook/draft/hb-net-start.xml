<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->

<sections>

<version>0.2</version>
<date>2005-04-06</date>

<section>
<title>Getting started</title>
<body>

<note>
This document assumes that you have correctly configured your kernel, its
modules for your hardware and you know the interface name of your hardware.
We also assume that you are configuring eth0, but it could also be
eth1, wlan0, etc.
</note>

<note>
This document requires you are running baselayout-1.11.10-r6 or better.
</note>

<p>
To get started configuring your network card, you need to tell the Gentoo RC
system about it. This is done by creating a symbolic link from <c>net.lo</c>
to <c>net.eth0</c> in <path>/etc/init.d</path>
</p>

<pre>
# <i>cd /etc/init.d</i>
# <i>ln -s net.lo net.eth0</i>
</pre>

<p>
Gentoo's RC system now knows about that interface. It also needs to know how
to configure the new interface. All the network interfaces are configured in
<path>/etc/conf.d/net</path>.<br/>
Below is a sample configuration for DHCP and static addresses.
</p>

<pre caption="Examples for /etc/conf.d/net">
<comment># For DHCP</comment>
config_eth0=( "dhcp" )

<comment># For static IP using CIDR notation</comment>
config_eth0=( "192.168.0.7/24" )
routes_eth0=( "default via 192.168.0.1" )

<comment># For static IP using netmask notation</comment>
config_eth0=( "192.168.0.7 netmask 255.255.255.0" )
routes_eth0=( "default gw 192.168.0.1" )
</pre>

<note>
If you do not specify a configuration for your interface then DHCP is assumed.
</note>

<note>
CIDR stands for Classless InterDomain Routing.<br/>
Originally, IPv4 addresses were classified as A, B, or C.
The early classification system did not envision the massive popularity of the
Internet, and is in danger of running out of new unique addresses. CIDR is an
addressing scheme that allows one IP address to designate many IP addresses.
A CIDR IP address looks like a normal IP address except that it ends with a
slash followed by a number; for example, 192.168.0.0/16.
CIDR is described in <uri link="http://rfc.net/rfc1519.html">RFC 1519</uri>.
</note>

<p>
Now that we have configured our interface, we can start and stop it using the
below commands
</p>

<pre caption="Starting and stopping network scripts">
# <i>/etc/init.d/net.eth0 start</i>
# <i>/etc/init.d/net.eth0 stop</i>
</pre>

<impo>
When troubleshooting networking, it is recommended to set RC_VERBOSE="yes"
in <path>/etc/conf.d/rc</path> so that you get more information about what's
happening
</impo>

<p>
Now that you have successfully started and stopped your network interface, you
may wish to get it to start when Gentoo boots. Here's how to do this. The last
"rc" command instructs Gentoo to start any scripts in the current runlevel
that have not yet been started.
</p>

<pre caption="Configuring a network interface to load at boot time">
# <i>rc-update add net.eth0 default</i>
# <i>rc</i>
</pre>

</body>
</section>

</sections>
