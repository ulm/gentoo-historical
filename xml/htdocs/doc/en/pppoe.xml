<?xml version='1.0'?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pppoe.xml">

<title>Setting up PPPoE for a Gentoo Linux 1.4_rc1 Installation</title>
<author title = "Author"><mail link = "zhen@gentoo.org">John P. Davis</mail></author>

<abstract>This guide will assist an ADSL subscriber in setting up a PPPoE connection
for installation of Gentoo Linux. </abstract>

<version>1.2</version>
<date>07 October 2002</date>

<chapter>
<title>Building and Installing PPPoE</title>

<section>
<title>Package Extraction and Configuration</title>
<body>
<p>First, since you don't have access to the Portage tree, or to the internet, it is
important that you have the sources for <uri link = "ftp://cs.anu.edu.au/pub/software/ppp/">
PPP</uri> and <uri link = "http://www.roaringpenguin.com/pppoe/">PPPoE</uri> on CD. Once these sources
are obtained, the next step is to copy them off of the CDROM and onto your new Gentoo Partition.
For the sake of standardization, I am going to copy the files to <path>/usr/local/pppoe</path>.
Once the sources are copied to your hard drive, it is time to configure and build them. </p>

<note>It is important that you are chrooted into your Gentoo Environment at this juncture. Please
refer to the <uri link = "http://www.gentoo.org/doc/build.html">Install</uri> document. </note>

<warn>PPP and PPPoe must be either modularized or compiled into the kernel! Nothing will work if you do not
do so. </warn>

<pre caption = "Configuring and Installing PPP">
<c># mknod /dev/ppp c 108 0 </c>
<c># chmod 600 /dev/ppp </c>
<c># cd /usr/local/pppoe/ </c>
<c># tar -zvxf ppp-2.4.1.tar.gz </c>
<c># cd ppp-2.4.1 </c>
./configure --prefix=/usr --sysconfdir=/etc

<c># make </c>
<c># make install </c>
</pre>

<p>Now that PPP is installed and ready to go, it is time to install and configure PPPoE. </p>

<pre caption = "Configuring and Installing PPPoE">
<c># tar -xvzf rp-pppoe-3.5.tar.gz </c>
<c># cd rp-pppoe-3.5 </c>
<c>./go </c>
<comment>Follow the instructions given by the setup program from here on out. </comment>
</pre>

<note>You can also use the <c>./go-gui</c> command to get a nice GUI setup interface. </note>

</body>
</section>

<section>
<title>Final Steps</title>
<body>
<p>After you have completed the above steps, exit from the chrooted shell, and issue an <c>ifconfig eth0 up</c>.
Chroot back into your Gentoo Linux installation, and issue an <c>adsl-start</c>. After that,
exit from the shell again and try to ping something. If all went well, there should be no problem! Continue
on with your Gentoo installation from here. </p>

</body>
</section>
</chapter>

</guide>
