<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/vi/handbook/hb-install-mips-medium.xml,v 1.1 2005/04/07 22:23:43 neysx Exp $ -->

<sections>

<version>1.3</version>
<date>2004-05-09</date>

<section>
<title>Yêu cầu phần cứng</title>
<subsection>
<title>Giới thiệu</title>
<body>

<p>
Trước khi bắt đầu, chúng tôi sẽ liệt kê yêu cầu phần cứng bạn cần có
để cài đặt Gentoo vào máy của bạn. Dĩ nhiên nó phụ thuộc vào kiến trúc
của bạn.
</p>

</body>
</subsection>
<subsection>
<title>Kiến trúc máy tính MIPS</title>
<body>

<p>
Hãy kiểm tra những yêu cầu sau trước khi tiếp tục cài đặt Gentoo:
</p>

<ul>
<li>
  Bạn cần ít nhất 1 GB đĩa trống
</li>
<li>
  Với <e>kiến trúc MIPS</e>, bạn nên kiểm tra tài liệu <uri
  link="/doc/en/mips-requirements.xml">MIPS Hardware Requirements</uri>
</li>
</ul>

</body>
</subsection>
</section>
<section>
<title>Hãy lựa chọn</title>
<subsection>
<title>Giới thiệu</title>
<body>

<p>
Vẫn còn muốn thử Gentoo chứ? Vậy thì đây là lúc để chọn phương tiện
cài đặt bạn muốn dùng.
</p>

<p>
Phương tiện cài đặt chúng tôi sẽ mô tả là:
</p>

<ul>
<li>Net Booting</li>
</ul>

<p>
Nhưng trước hết hãy xem qua "cách cài đặt stage" của chúng ta.
</p>

</body>
</subsection>
<subsection>
<title>Ba stage</title>
<body>

<p>
Gentoo Linux có thể được cài đặt bằng một trong ba tập tin
<e>stage</e> tarball. Cái bạn chọn phụ thuộc vào mức độ biên dịch bạn
muốn thực hiện. Tarball <e>stage1</e> được dùng khi bạn muốn bootstrap
và xây dựng một hệ thống hoàn chỉnh từ số không. Tarball <e>stage2</e>
được dùng để xây dựng hệ thống hoàn chỉnh từ một hệ thống &quot;đã
biên dịch gần hết&quot;. Tarball <e>stage3</e> chứa sẵn một hệ thống
Gentoo Linux cơ bản, được biên dịch sẵn cho bạn. Như chúng tôi sẽ giải
thích sau, bạn còn có thể cài đặt Gentoo không biên dịch gì cả (trừ
kernel của bạn và vài gói tùy chọn). Nếu bạn muốn thế, bạn phải dùng
tarball <e>stage3</e>.
</p>

<p>
Vậy bạn chọn stage nào?
</p>

<p>
Bắt đầu từ <e>stage1</e> cho phép bạn có toàn quyền điều khiển các
thiết lập tối ưu hệ thống và các tính năng tùy chọn lúc biên dịch để
thích hợp nhất với máy của bạn. Điều này làm cho <e>stage1</e> rất tốt
cho người dùng thành thạo, những người biết rõ họ đang làm gì. Nó cũng
là cách cài đặt tuyệt vời cho những người muốn hiểu rõ hơn về hoạt
động bên trong của Gentoo Linux.
</p>

<p>
Cài đặt <e>stage1</e> chỉ có thể được thực hiện khi bạn có kết nối
Internet.
</p>

<table>
<tr>
  <th>Stage1</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Cho phép bạn nắm toàn quyền điều khiển các tuỳ chọn tối ưu và các
    tính năng lúc biên dịch phù hợp nhất với máy của bạn
  </ti>
</tr>
<tr>
  <th>+</th>
  <ti>Thích hợp cho người dùng thành thạo, biết mình đang làm gì</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Cho phép bạn tìm hiểu thêm về hoạt động bên trong của Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Mất nhiều thời gian để hoàn tất cài đặt</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Nếu bạn không dự định tinh chỉnh các thiết lập thì có lẽ bạn đang
    lãng phí thời gian
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Không thích hợp cho cài đặt không có mạng
  </ti>
</tr>
</table>

<p>
Cài đặt <e>Stage2</e> cho phép bạn bỏ qua quá trình bootstrap và làm
thế là tốt nếu bạn hài lòng với các thiết lập tối ưu chúng tôi chọn
cho tarball <e>stage2</e>.
</p>

<p>
Cài đặt <e>stage2</e> chỉ có thể thực hiện nếu bạn có kết nối Internet.
</p>

<table>
<tr>
  <th>Stage2</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Bạn không cần bootstrap</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Nhanh hơn stage1</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Bạn vẫn có thể tinh chỉnh các thiết lập</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bạn không thể tinh chỉnh nhiều như stage1</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Không phải là cách nhanh nhất để cài đặt Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bạn phải chấp nhận các thiết lập tối ưu chúng tôi đã chọn cho bootstrap</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Không thích hợp cho cài đặt không có mạng
  </ti>
</tr>
</table>

<p>
Chọn <e>stage3</e> cho phép bạn cài đặt Gentoo Linux nhanh nhất, nhưng
cũng có nghĩa là hệ thống cơ bản sẽ sử dụng những thiết lập tối ưu
chúng tôi chọn cho bạn (thành thật mà nói, đây là những thiết lập tốt
và chúng tôi đã chọn cẩn thận để nâng cao hiệu năng mà vẫn ổn định).
<e>stage3</e> là bắt buộc nếu bạn cài đặt Gentoo bằng các gói biên
dịch sẵn hoặc không có kết nối mạng.
</p>

<table>
<tr>
  <th>Stage3</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Cách nhanh nhất để có hệ thống Gentoo cơ bản</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Thích hợp cho cài đặt không có mạng</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Không thể tinh chỉnh hệ thống cơ bản</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bạn không thể khoe khoang rằng mình đã dùng stage1 hoặc stage2</ti>
</tr>
</table>

<p>
Hãy ghi lại (hoặc nhớ) stage nào bạn định dùng. Bạn sẽ cần đến nó chốc
nữa khi bạn quyết định LiveCD nào (hoặc phương tiện cài đặt khác) bạn
muốn dùng. Bạn có thể sẽ thích nghe điều này. Nếu bạn quyết định dùng
các thiết lập tối ưu khác sau khi đã cài đặt Gentoo, bạn sẽ có thể
biên dịch lại toàn bộ hệ thống với các thiết lập tối ưu mới.
</p>

<p>
Bây giờ hãy lướt qua các phương tiện cài đặt.
</p>

</body>
</subsection>
<subsection>
<title>Net Booting</title>
<body>

<p>
Trong vài trường hợp, bạn không thể khởi động từ CD hoặc dùng bản cài
đặt đã có để cài đặt Gentoo. Trong trường hợp hệ thống của bạn có card
mạng và BIOS/ROM có khả năng thực hiện netboot (PXE), bạn có thể  tải
về một hệ thống nhỏ lúc khởi động và cài đặt từ đó.
</p>

<p>
Trong trường hợp bạn dùng cách khởi động mạng, bạn cần có DHCP và TFTP
server. Thông tin thiết lập <uri
link="/doc/en/diskless-howto.xml#doc_chap3">DHCP server</uri> và <uri
link="/doc/en/diskless-howto.xml#doc_chap4">TFTP server</uri> có trong
<uri link="/doc/en/diskless-howto.xml">Diskless-HOWTO</uri>.
</p>

<p>
Tùy thuộc vào các thiết lập, bạn có thể cần tạo hoặc tải về kernel
image cho hệ thống của bạn.
</p>

</body>
</subsection>
</section>
<section>
<title>Khởi động mạng trên hệ thống MIPS</title>
<subsection>
<body>

<p>
Để có thể cài đặt Gentoo, image tải về từ TFTP server phải cung cấp
những công cụ cần thiết để tạo hệ tập tin, tạo và mount các phân vùng,
bung tarball và chroot. Bạn có thể tải về net boot image, chứa những
công cụ đó bên trong...
</p>

<p>
Trước hết, hãy tải về một trong những net boot image từ
<uri>http://dev.gentoo.org/~kumba/mips/netboot/</uri>.
</p>

<p>
Bây giờ cấu hình DHCP Server của bạn gửi tập tin này đến máy client.
Tuy nhiên máy SGI cần vài tinh chỉnh để chứa hệ thống, để TFTP có thể
hoạt động đúng:
</p>

<pre caption="Sửa lỗi đển TFTP trên SGI hoạt động">
<comment>(Tắt "Path Maximum Transfer Unit", SGI Prom khác sẽ không tìm thấy kernel)</comment>
# <i>echo 1 &gt; /proc/sys/net/ipv4/ip_no_pmtu_disc</i>
<comment>(Đặt phạm vi cổng có thể dùng với SGI Prom)</comment>
# <i>echo "2048 32767" &gt; /proc/sys/net/ipv4/ip_local_port_range</i>
</pre>

<p>
Giờ hãy bật máy của bạn, vào PROM monitor và phát lệnh để khởi động
kernel qua mạng:
</p>

<pre caption="Khởi động MIPS qua mạng">
        Running power-on diagnostics

System Maintenance Menu

1) Start System
2) Install System Software
3) Run Diagnostics
4) Recover System
5) Enter Command Monitor

Option? <i>5</i>
Command Monitor. Type "exit" to return to the menu.
&gt;&gt; <i>bootp(): root=/dev/ram0</i>
</pre>

<note>
Bạn có thể cần nhấn Esc để vào menu trên, nếu không, hệ thống sẽ khởi
động trực tiếp.
</note>

<p>
Đôi khi khởi động là thử thách gian nan. Những lệnh PROM sau có lẽ sẽ
giúp được bạn, nhưng không đảm bảo đâu. Nếu máy bạn từ chối khởi động
mạn, hãy kiểm tra kỹ lại máy chứa TFTP để bảo đảm rằng:
</p>

<ul>
  <li>dhcpd đưa cho máy SGI địa chỉ IP</li>
  <li>
    Quyền truy cập được thiết lập đúng trên thư mục tftp (thường là 
    <path>/tftpboot</path>)
  </li>
  <li>
    Kiểm tra system log để xem tftp server có thông báo gì không
    (thông báo lỗi chẳng hạn)
  </li>
  <li>
    <!--TODO-->
    Pray to a Tux plushie (this may or may not work, and is not an officially
    supported troubleshooting technique)
  </li>
</ul>

<pre caption="Mẹo khởi động mạng">
&gt;&gt; <i>resetenv</i>
&gt;&gt; <i>unsetenv netaddr</i>
&gt;&gt; <i>unsetenv dlserver</i>
&gt;&gt; <i>init</i>
&gt;&gt; <i>bootp(): root=/dev/ram0</i>
</pre>

<p>
Nếu mọi thứ ổn, bạn sẽ nằm trong shell <c>ash</c> của busybox. Bạn có
thể tiếp tục với <uri link="?part=1&amp;chap=3">Cài đặt mạng</uri>.
</p>

</body>
</subsection>
</section>
</sections>
