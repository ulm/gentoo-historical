<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/vi/handbook/hb-install-alpha-medium.xml,v 1.2 2005/04/24 09:59:43 neysx Exp $ -->

<sections>

<version>2.2</version>
<date>2005-04-09</date>

<section>
<title>Yêu cầu phần cứng</title>
<subsection>
<title>Giới thiệu</title>
<body>

<p>
Trước khi bắt đầu, chúng tôi sẽ liệt kê yêu cầu phần cứng bạn cần có
để cài đặt Gentoo vào máy của bạn.
</p>

</body>
</subsection>
<subsection>
<title>Yêu cầu phần cứng</title>
<body>

<table>
<tr>
  <th>CPU</th>
  <ti>
    Hãy xem <uri
    link="http://www.alphalinux.org/faq/FAQ-5.html">Alpha/Linux FAQ</uri>
  </ti>
</tr>
<tr>
  <th>Bộ nhớ</th>
  <ti>64 MB</ti>
</tr>
<tr>
  <th>Đĩa cứng</th>
  <ti>1.5 GB (không tính swap)</ti>
</tr>
<tr>
  <th>Swap</th>
  <ti>Ít nhất 256 MB</ti>
</tr>
</table>

</body>
</subsection>
</section>
<!-- Copy/paste from the hb-install-x86-medium.xml file.  -->
<!-- START -->
<section>
<title>Các cách cài đặt Gentoo</title>
<subsection>
<title>Giới thiệu</title>
<body>

<p>
Gentoo Linux chỉ có thể cài đặt bằng một trong ba tập tin <e>stage</e>
tarball. Tập tin stage là một tập tin nén chứa môi trường hoạt động tí
hon.
</p>

<ul>
  <li>
    Stage1 không chứa gì hơn một trình biên dịch, Portage (hệ thống quản
    lý phần mềm của Gentoo) và một vài gói cơ bản cần cho trình biên
    dịch hoặc Portage.
  </li>
  <li>
    Stage2 chứa một hế thống gọi là hệ thống bootstrap, một môi trường
    thu nhỏ mà từ đó bạn có thể xây dựng các ứng dụng khác để tạo ra
    một hệ thống Gentoo hoàn chỉnh.
  </li>
  <li>
    Stage3 chứa một hệ thống nhỏ dựng sẵn, hầu như có thể sử dụng được
    ngay. Nó chỉ thiếu vài ứng dụng mà bạn cần chọn ra cái bạn muốn
    cài.
  </li>
</ul>

<p>
Để giúp bạn quyết định dùng tập tin stage nào, chúng tôi sẽ liệt kê
những ưu và khuyết điểm của từng stage.
</p>

</body>
</subsection>
<subsection>
<title>Stage 1</title>
<body>

<p>
<e>stage1</e> được dùng khi bạn muốn bootstrap hệ thống và xây dựng
toàn bộ hệ thống từ số không.
</p>

<p>
Bắt đầu từ <e>stage1</e> cho phép bạn có toàn quyền điều khiển các
thiết lập tối ưu hệ thống và các tính năng tùy chọn lúc biên dịch để
thích hợp nhất với máy của bạn. Điều này làm cho <e>stage1</e> rất tốt
cho người dùng thành thạo, những người biết rõ họ đang làm gì. Nó cũng
là cách cài đặt tuyệt vời cho những người muốn hiểu rõ hơn về hoạt
động bên trong của Gentoo Linux.
</p>

<table>
<tr>
  <th>Stage1</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Cho phép bạn nắm toàn quyền điều khiển các tuỳ chọn tối ưu và các
    tính năng lúc biên dịch phù hợp nhất với máy của bạn
  </ti>
</tr>
<tr>
  <th>+</th>
  <ti>Thích hợp cho người dùng thành thạo, biết mình đang làm gì</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Cho phép bạn tìm hiểu thêm về hoạt động bên trong của Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Mất nhiều thời gian để hoàn tất cài đặt</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Nếu bạn không dự định tinh chỉnh các thiết lập thì có lẽ bạn đang
    lãng phí thời gian
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Stage 2</title>
<body>

<p>
<e>stage2</e> được dùng để xây dựng hệ thống từ một hệ thống đã được
bootstrap, được biên dịch một phần.
</p>

<p>
Cài đặt <e>stage2</e>, bạn có thể bỏ qua quá trình bootstrap. Điều đó
tốt nếu bạn hài lòng với những thiết lập chúng tôi đã chọn cho stage2
của bạn.
</p>

<table>
<tr>
  <th>Stage2</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Bạn không cần bootstrap</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Nhanh hơn stage1</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Bạn vẫn có thể tinh chỉnh các thiết lập</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bạn không thể tinh chỉnh nhiều như stage1</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Vẫn không phải là cách nhanh nhất để cài đặt Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bạn phải chấp nhận các thiết lập tối ưu chúng tôi đã chọn cho bootstrap</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Stage 3</title>
<body>

<p>
<e>stage3</e> chứa hệ thống Gentoo Linux cơ bản dành cho bạn. Bạn chỉ
cần tạo thêm một số gói mà chúng tôi không thể quyết định giùm bạn.
</p>

<p>
Chọn stage3 cho phép bạn cài đặt Gentoo Linux nhanh nhất, nhưng
cũng có nghĩa là hệ thống cơ bản sẽ sử dụng những thiết lập tối ưu
chúng tôi chọn cho bạn (thành thật mà nói, đây là những thiết lập tốt
và chúng tôi đã chọn cẩn thận để nâng cao hiệu năng mà vẫn ổn định).
stage3 là bắt buộc nếu bạn cài đặt Gentoo bằng các gói biên
dịch sẵn hoặc không có kết nối mạng.
</p>

<table>
<tr>
  <th>Stage3</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Cách nhanh nhất để có hệ thống Gentoo cơ bản</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Không thể tinh chỉnh hệ thống cơ bản</ti>
</tr>
</table>

<p>
Bạn có thể sẽ thích nghe điều này. Nếu bạn quyết định dùng
các thiết lập tối ưu khác sau khi đã cài đặt Gentoo, bạn sẽ có thể
biên dịch lại toàn bộ hệ thống với các thiết lập tối ưu mới.
</p>

</body>
</subsection>
</section>
<section>
<title>CD Cài đặt Gentoo</title>
<subsection>
<title>Giới thiệu</title>
<body>

<p>
<e>CD Cài đặt Gentoo</e> là những CD có thể khởi động được, chứa một
môi trường Gentoo tự hoạt động. Chúng cho phép bạn khởi động Linux từ
CD. Trong quá trình khởi động, phần cứng của bạn sẽ được nhận dạng và
những driver thích hợp sẽ được nạp. Những CD này được quản lý bởi các
Gentoo developer.
</p>

<p>
Mọi CD Cài đặt đều cho phép bạn khởi động, thiết lập mạng, khởi động
phân vùng và bắt đầu cài đặt Gentoo từ Internet. Chúng tôi cung cấp
hai CD Cài đặt để cài đặt Gentoo từ Internet, chừng nào bạn còn muốn
thực hiện cài đặt bằng Internet để có những phiên bản phần mềm mới
nhất.
</p>

<p>
Nếu bạn muốn cài đặt Gentoo không cần kết nối Internet, vui lòng
theo những hướng dẫn cài đặt trong <uri link="2005.0/index.xml">Cẩm
nang Gentoo 2005.0</uri>.
</p>

<p>
Hai CD Cài đặt chúng tôi cung cấp là:
</p>

<ul>
  <li>
    CD Cài đặt Tối thiểu (Gentoo Minimal Installation CD), một CD nhỏ,
    vừa đủ để khởi động hệ thống, thiết lập mạng và cài đặt Gentoo.
  </li>
  <li>
    CD Cài đặt Đầy đủ (Gentoo Universal Installation CD), có cùng tính
    năng với CD trên nhưng chứa stage1 và vài stage3 (tối ưu cho mỗi
    kiến trúc).
  </li>
</ul>

<p>
Để giúp bạn quyết định chọn CD Cài đặt nào, chúng tôi sẽ liệt kê những
ưu và khuyết điểm của từng cái.
</p>

</body>
</subsection>
<subsection>
<title>CD Cài đặt Tối thiểu</title>
<body>

<p>
CD Cài đặt Tối thiểu tên <c>install-alpha-minimal-2005.0.iso</c> chỉ
chiếm 54 MB. Bạn có thể dùng CD này để cài đặt Gentoo, nhưng bạn phải
có kết nối Internet.
</p>

<table>
<tr>
  <th>CD Cài đặt Tối thiểu</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Tải về nhẹ nhất</ti>
</tr>
<tr>
  <th>+</th>
  <ti>
    Bạn có thể chọn cài đặt từ stage1, stage2 hoặc stage3 bằng cách
    lấy từ Internet
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Không chứa stage, Portage snapshot, gói GRP nên không thích hợp cho cài đặt
    không có mạng
  </ti>
</tr>
</table>

<p>
CD Cài đặt Đầy đủ tên <c>install-alpha-universal-2005.0.iso</c> chiếm
một CD 650 MB. Bạn có thể dùng nó để cài đặt Gentoo, bất kể có hoặc
không có kết nối Internet.
</p>

<table>
<tr>
  <th>CD Cài đặt Đầy đủ</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Chứa mọi thứ bạn cần. Bạn thậm chí có thể cài đặt không cần mạng
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Tải về nặng</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Những CD khác</title>
<body>

<p>
Bạn có thể tìm thấy CD gọi là Package CD trên mirror của chúng tôi. CD
này không dùng để cài đặt mà chứa các tài nguyên bổ sung có thể được
tận dụng trong quá trình cài đặt không mạng. Nó chứa những gói biên
dịch sẵn (còn gọi là bộ GRP) cho phép bạn cài đặt nhanh và dễ dàng một
số ứng dụng bổ sung (như OpenOffice.org, KDE, GNOME ...) ngay sau khi
cài đặt hệ Gentoo cơ bản.
</p>

</body>
</subsection>
</section>
<!-- STOP -->
<section>
<title>Tải về, tạo và  khởi động CD Cài đặt</title>
<subsection>
<title>Tải về và tạo CD Cài đặt</title>
<body>

<p>
Bạn đã chọn dùng CD Cài đặt. Trước hết chúng ta sẽ tải về và tạo CD
Cài đặt đã chọn. Nhưng tìm chúng ở đâu?
</p>

<p>
Bạn có thể tải về bất kỳ CD Cài đặt nào (và cả Package CD nếu bạn
thích) từ một trong những <uri
link="/main/en/mirrors.xml">mirror</uri> của chúng tôi. CD Cài đặt nằm
trong thư mục  <path>releases/alpha/2005.0/installcd</path>.
</p>

<p>
Thư mục này chứa các tập tin gọi là tập tin ISO. Nó được dùng để ghi
CD trên CD-R.
</p>

<p>
Nếu bạn không biết tập tin đã tải về có bị hư hay không, bạn có thể kiểm tra MD5
checksum của nó và so sánh với MD5 checksum chúng tôi cung cấp (như
<path>install-alpha-minimal-2005.0.iso.md5</path>). Bạn có thể tạo MD5 checksum 
bằng lệnh <c>md5sum</c> trong Linux/Unix hoặc <uri
link="http://www.etree.org/md5com.html">md5sum</uri> cho Windows.
</p>

<p>
Cách khác để kiểm tra tính hợp lệ của tập tin tải về là dùng GnuPG để xác minh
chữ ký điện tử chúng tôi cung cấp (tập tin kết thúc bằng <path>.asc</path>). Hãy
tải về tập tin chữ ký và lấy khóa công khai:
</p>

<pre caption="Lấy khóa công khai">
$ <i>gpg --keyserver pgp.mit.edu --recv-keys 17072058</i>
</pre>

<p>
Rồi xác minh chữ ký:
</p>

<pre caption="Xác minh chữ ký điện tử">
$ <i>gpg --verify &lt;signature file&gt; &lt;downloaded iso&gt;</i>
</pre>

<p>
Để tạo CD từ tập tin ISO đã tải về, bạn cần chọn raw-burning. Chọn như thế nào
tùy thuộc vào chương trình sử dụng. Chúng ta sẽ thảo luận về <c>cdrecord</c> và
<c>K3B</c>; thông tin chi tiết hơn nằm trong <uri
link="/doc/en/faq.xml#isoburning">Gentoo FAQ</uri>.
</p>

<ul>
  <li>
    Với cdrecord, bạn chỉ cần gõ <c>cdrecord dev=/dev/hdc &lt;tập tin
    iso đã tải về&gt;</c> (thay
    <path>/dev/hdc</path> bằng đường dần đến device của ổ CD-RW của bạn)
  </li>
  <li>
    Với K3B, chọn <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn Image</c>. Sau đó bạn
    có thể chọn tập tin ISO trong vùng 'Image to Burn'. Cuối cùng nhấn
    <c>Start</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Khởi động CD Cài đặt</title>
<body>

<p>
Khi hệ thống Alpha của bạn được bật lên, cái đầu tiên hoạt động là
firmware. Nó gần giống như BIOS trên các hệ thống PC. Có hai loại
firmware trên hệ Alpha: SRM (<e>Systems Reference Manual</e>) và ARC
(<e>Advanced Risc Console</e>).
</p>

<p>
SRM dựa trên đặc tả Alpha Console Subsystem, cung cấp môi trường cho
hệ điều hành OpenVMS, Tru64 UNIX và Linux. ARC dựa trên đặc tả
Advanced RISC Computing (ARC), cung cấp môi trường cho Windows NT. Bạn
có thể tìm hiểu <uri
link="http://www.alphalinux.org/faq/SRM-HOWTO/">hướng dẫn chi
tiết</uri> về cách dùng SRM thông qua trang web của Alpha Linux.
</p>

<p>
Nếu hệ Alpha của bạn hỗ trợ cả SRM và ARC (ARC, AlphaBIOS, ARCSBIOS)
bạn nên theo <uri link="http://www.alphalinux.org/faq/x31.html">những
hướng dẫn này</uri> để chuyển qua dùng SRM. Nếu hệ thống của bạn đã
dùng SRM, bạn đã sẵn sàng. Nếu hệ thống của bạn chỉ dùng ARC (Ruffian,
nautilus, x1 ...), bạn cần chọn <c>MILO</c> lát sau khi cài
bootloader.
</p>

<p>
Giờ để khởi động CD Cài đặt, hãy đặt CD-ROM vào khay và khởi động
lại hệ thống. Bạn có thể dùng SRM để khởi động CD Cài đặt. Nếu bạn không
thể làm như vậy, bạn phải dùng <c>MILO</c>. Nếu bạn chưa cài
<c>MILO</c>, bạn có thể dùng một trong những <c>MILO</c> image có tại
<uri link="http://dev.gentoo.org/~taviso/milo/">trang web của
taviso</uri>.
</p>

<pre caption="Khởi động CD-ROM bằng SRM">
<comment>(Liệt kê danh sách các ổ cứng)</comment>
&gt;&gt;&gt; <i>show device</i>
dkb0.0.1.4.0        DKB0       TOSHIBA CDROM
<comment>(...)</comment>
<comment>(Thay dkb0 bằng ổ CD-ROM của bạn)</comment>
&gt;&gt;&gt; <i>boot dkb0 -flags 0</i>
</pre>

<pre caption="Khởi động CD-ROM bằng MILO">
<comment>(Thay hdb bằng ổ CD-ROM của bạn)</comment>
MILO&gt; <i>boot hdb:/boot/gentoo initrd=/boot/gentoo.igz
root=/dev/ram0 init=/linuxrc looptype=zisofs loop=/zisofs cdroot</i>
</pre>

<p>
Bạn sẽ thấy dấu nhắc root ("#") trên console và có thể chuyển sang
console khác bằng cách nhấn Alt-F2, Alt-F3 và Alt-F4. Quay về console
đầu tiên bằng cách nhấn Alt-F1.
</p>

<p>
Nào tiếp tục với <uri link="#hardware">Cấu hình phần cứng bổ sung</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Cấu hình phần cứng bổ sung</title>
<body>

<p>
Khi CD Cài đặt khởi động, nó cố dò tìm mọi phần cứng và nạp các kernel module thích
hợp để hỗ trợ phần cứng đó. Trong hầu hết các trường hợp, nó hoạt động rất
tốt. Tuy nhiên, trong vài trường hợp, nó không thể tự động nạp kernel module bạn cần. Nếu quá trình tự
động dò tìm PCI thiếu vài phần cứng, bạn sẽ phải tự tay nạp kernel module thích
hợp.
</p>

<p>
Trong ví dụ sau chúng tôi sẽ nạp module <c>8139too</c>  (hỗ trợ một số
giao tiếp mạng):
</p>

<pre caption="Nạp kernel module">
# <i>modprobe 8139too</i>
</pre>

</body>
</subsection>
<subsection>
<title>Tùy chọn: Tinh chỉnh hiệu năng đĩa cứng</title>
<body>

<p>
Nếu bạn là người dùng thành thạo, bạn có thể muốn tinh chỉnh hiệu năng đĩa cứng
IDE bằng <c>hdparm</c>. Với tùy chọn <c>-tT</c> bạn có thể kiểm tra hiệu năng
của đĩa cứng (gọi nó vài lần để cho kết quả chính xác hơn):
</p>

<pre caption="Kiểm tra hiệu năng đĩa">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Để tinh chỉnh, bạn có thể dùng bất kỳ ví dụ nào sau đây (hoặc tự tìm hiểu), nhớ
thay <path>/dev/hda</path> bằng được dẫn đĩa của bạn:
</p>

<pre caption="Tinh chỉnh hiệu năng đĩa">
<comment>Kích hoạt DMA:</comment>                                       # <i>hdparm -d 1 /dev/hda</i>
<comment>Kích hoạt DMA + Tùy chọn Safe Performance-enhancing:</comment> # <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Tùy chọn: User Account</title>
<body>

<p>
Nếu bạn định cho phép người dùng khác truy cập vào môi trường cài đặt hoặc bạn
muốn tán gẫu bằng <c>irssi</c> không dùng root (vì lý do an toàn), bạn cần tạo
user account và đổi password của root.
</p>

<p>
Để thay đổi password của root, dùng tiện ích <c>passwd</c>:
</p>

<pre caption="Đổi password của root">
# <i>passwd</i>
New password: <comment>(Nhập password mới)</comment>
Re-enter password: <comment>(Nhập lại password)</comment>
</pre>

<p>
Để tạo user account, trước hết nhập username, theo sau là password. Chúng ta
sẽ dùng <c>useradd</c> và <c>passwd</c> để thực hiện điều này.
Trong ví dụ kế, chúng tôi tạo user tên &quot;john&quot;.
</p>

<pre caption="Tạo user account">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Nhập password của join)</comment>
Re-enter password: <comment>(Nhập password của join lần nữa)</comment>
</pre>

<p>
Bạn có thể chuyển user id của bạn từ root sang user mới tạo bằng cách dùng
<c>su</c>:
</p>

<pre caption="Đổi user id">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Tùy chọn: Xem tài liệu khi cài đặt</title>
<body>

<p>
Nếu bạn muốn xem Cẩm nang Gentoo (hoặc trong CD hoặc xem online) trong khi cài
đặt, hãy đảm bảo đã tạo user account (xem <uri link="#useraccounts">Tùy chọn:
User Account</uri>). Sau đó nhấn <c>Alt-F2</c> để chuyển sang terminal khác và
đăng nhập.
</p>

<p>
Nếu bạn muốn xem tài liệu từ CD, bạn có thể chạy <c>links2</c> ngay để đọc:
</p>

<pre caption="Xem tài liệu trên CD">
# <i>links2 /mnt/cdrom/docs/html/index.html</i>
</pre>

<p>
Tuy nhiên, bạn nên dùng Cẩm nang Gentoo online vì nó được cập nhật
thường xuyên hơn cái trên CD. Bạn cũng có thể xem bằng <c>links2</c>,
nhưng chỉ khi hoàn tất chương <e>Cài đặt mạng</e> (nếu không bạn không
thể ra Internet để xem tài liệu):
</p>

<pre caption="Xem tài liệu trực tuyến">
# <i>links2 http://www.gentoo.org/doc/en/handbook/handbook-x86.xml</i>
</pre>

<p>
Bạn có thể quay về terminal gốc bằng cách nhấn <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Tùy chọn: Khởi động SSH Daemon</title>
<body>

<p>
Nếu bạn muốn cho phép người khác truy cập môi trường cài đặt Gentoo
(có thể vì người đó sẽ giúp bạn cài đặt Gentoo, hoặc làm vì chính
bạn), bạn cần tạo user account cho họ và thậm chí cung cấp password
của root (<e>chỉ</e> làm vậy <e>nếu</e> bạn <b>hoàn toàn tin cậy</b>
người đó).
</p>

<p>
Để khởi động SSH daemon, thực hiện lệnh sau:
</p>

<pre caption="Khởi động SSH daemon">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Để có thể chạy sshd, bạn cần cài đặt mạng trước. Hãy xem chương <uri
link="?part=1&amp;chap=3">Cài đặt mạng</uri>.
</p>

</body>
</subsection>
</section>
</sections>
