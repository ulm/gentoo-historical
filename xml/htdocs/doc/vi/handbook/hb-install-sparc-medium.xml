<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/vi/handbook/hb-install-sparc-medium.xml,v 1.1 2005/04/07 22:23:43 neysx Exp $ -->

<sections>

<version>1.21</version>
<date>2004-12-26</date>

<section>
<title>Yêu cầu phần cứng</title>
<subsection>
<title>Giới thiệu</title>
<body>

<p>
Trước khi bắt đầu, chúng tôi sẽ liệt kê yêu cầu phần cứng bạn cần có
để cài đặt Gentoo vào máy của bạn. Điều này phụ thuộc vào kiến trúc
máy tính của bạn.
</p>

</body>
</subsection>
<subsection>
<title>Kiến trúc máy tính SPARC</title>
<body>

<p>
Hãy kiểm tra những yêu cầu sau trước khi tiếp tục cài đặt Gentoo:
</p>

<ul>
<li>
  Bạn cần ít nhất 1 GB đĩa trống
</li>
<li>
  Nếu không dùng các gói biên dịch sẵn, bạn cần ít nhất 300 MB bộ nhớ
  (RAM + swap)
</li>
<li>
  Với <e>kiến trúc SPARC</e>, bạn nên kiểm tra <uri
  link="http://www.ultralinux.org/faq.html#s_2">UltraLinux FAQ</uri>
</li>
</ul>

</body>
</subsection>
</section>
<section>
<title>Lựa chọn</title>
<subsection>
<title>Giới thiệu</title>
<body>

<p>
Vẫn còn muốn thử Gentoo chứ? Vậy thì đây là lúc để chọn phương tiện
cài đặt bạn muốn dùng. Phải, bạn được lựa chọn, không, chúng không
hoàn toàn như nhau, và dĩ nhiên kết quả luôn như nhau: một hệ thống
Gentoo cơ bản.
</p>

<p>
Phương tiện cài đặt chúng tôi sẽ mô tả là:
</p>

<ul>
<li>Gentoo Minimal LiveCD</li>
<li>Gentoo Universal LiveCD</li>
</ul>

<p>
Mỗi cái có điểm mạnh và yếu của nó. Chúng tôi sẽ liệt kê ưu và khuyết
điểm của mỗi loại để bạn có đủ thông tin để quyết định. Nhưng trước
khi tiếp tục, chúng ta hãy tìm hiểu quy trình cài đặt ba stage của
chúng tôi.
</p>

</body>
</subsection>
<subsection>
<title>Ba stage</title>
<body>

<p>
Gentoo Linux có thể được cài đặt bằng một trong ba tập tin
<e>stage</e> tarball. Cái bạn chọn phụ thuộc vào mức độ biên dịch bạn
muốn thực hiện. Tarball <e>stage1</e> được dùng khi bạn muốn bootstrap
và xây dựng một hệ thống hoàn chỉnh từ số không. Tarball <e>stage2</e>
được dùng để xây dựng hệ thống hoàn chỉnh từ một hệ thống &quot;đã
biên dịch gần hết&quot;. Tarball <e>stage3</e> chứa sẵn một hệ thống
Gentoo Linux cơ bản, được biên dịch sẵn cho bạn. Như chúng tôi sẽ giải
thích sau, bạn còn có thể cài đặt Gentoo không biên dịch gì cả (trừ
kernel của bạn và vài gói tùy chọn). Nếu bạn muốn thế, bạn phải dùng
tarball <e>stage3</e>.
</p>

<p>
Vậy bạn chọn stage nào?
</p>

<p>
Bắt đầu từ <e>stage1</e> cho phép bạn có toàn quyền điều khiển các
thiết lập tối ưu hệ thống và các tính năng tùy chọn lúc biên dịch để
thích hợp nhất với máy của bạn. Điều này làm cho <e>stage1</e> rất tốt
cho người dùng thành thạo, những người biết rõ họ đang làm gì. Nó cũng
là cách cài đặt tuyệt vời cho những người muốn hiểu rõ hơn về hoạt
động bên trong của Gentoo Linux.
</p>

<p>
Cài đặt <e>stage1</e> chỉ có thể được thực hiện khi bạn có kết nối
Internet.
</p>

<table>
<tr>
  <th>Stage1</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Cho phép bạn nắm toàn quyền điều khiển các tuỳ chọn tối ưu và các
    tính năng lúc biên dịch phù hợp nhất với máy của bạn
  </ti>
</tr>
<tr>
  <th>+</th>
  <ti>Thích hợp cho người dùng thành thạo, biết mình đang làm gì</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Cho phép bạn tìm hiểu thêm về hoạt động bên trong của Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Mất nhiều thời gian để hoàn tất cài đặt</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Nếu bạn không dự định tinh chỉnh các thiết lập thì có lẽ bạn đang
    lãng phí thời gian
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Không thích hợp cho cài đặt không có mạng
  </ti>
</tr>
</table>

<p>
Cài đặt <e>Stage2</e> cho phép bạn bỏ qua quá trình bootstrap và làm
thế là tốt nếu bạn hài lòng với các thiết lập tối ưu chúng tôi chọn
cho tarball <e>stage2</e>.
</p>

<p>
Cài đặt <e>stage2</e> chỉ có thể thực hiện nếu bạn có kết nối Internet.
</p>

<table>
<tr>
  <th>Stage2</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Bạn không cần bootstrap</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Nhanh hơn stage1</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Bạn vẫn có thể tinh chỉnh các thiết lập</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bạn không thể tinh chỉnh nhiều như stage1</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Không phải là cách nhanh nhất để cài đặt Gentoo</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bạn phải chấp nhận các thiết lập tối ưu chúng tôi đã chọn cho bootstrap</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Không thích hợp cho cài đặt không có mạng
  </ti>
</tr>
</table>

<p>
Chọn <e>stage3</e> cho phép bạn cài đặt Gentoo Linux nhanh nhất, nhưng
cũng có nghĩa là hệ thống cơ bản sẽ sử dụng những thiết lập tối ưu
chúng tôi chọn cho bạn (thành thật mà nói, đây là những thiết lập tốt
và chúng tôi đã chọn cẩn thận để nâng cao hiệu năng mà vẫn ổn định).
<e>stage3</e> là bắt buộc nếu bạn cài đặt Gentoo bằng các gói biên
dịch sẵn hoặc không có kết nối mạng.
</p>

<table>
<tr>
  <th>Stage3</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Cách nhanh nhất để có hệ thống Gentoo cơ bản</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Thích hợp cho cài đặt không có mạng</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Không thể tinh chỉnh hệ thống cơ bản</ti>
</tr>
<tr>
  <th>-</th>
  <ti>Bạn không thể khoe khoang rằng mình đã dùng stage1 hoặc stage2</ti>
</tr>
</table>

<p>
Hãy ghi lại (hoặc nhớ) stage bạn chọn. Bạn sẽ cần đến nó lát nữa khi
bạn chọn LiveCD (hoặc phương tiện khác) dùng để cài đặt.
Bạn có thể sẽ thích nghe điều này. Nếu bạn quyết định dùng các thiết
lập tối ưu khác sau khi đã cài đặt Gentoo, bạn sẽ có thể biên dịch lại
toàn bộ hệ thống với các thiết lập tối ưu mới.
</p>

<p>
Bây giờ hãy lướt qua các phương tiện cài đặt.
</p>

</body>
</subsection>
<subsection>
<title>Gentoo LiveCD</title>
<body>

<p>
<e>Gentoo LiveCD</e> là đĩa CD khởi động chứa môi trường Gentoo đủ để
hoạt động. Nó cho phép bạn khởi động Linux từ CD. Trong qua trình khởi
động, nó sẽ dò tìm phần cứng và nạp các driver thích hợp. Nó được các
Gentoo developer quản lý.
</p>

<p>
Mọi LiveCD đều cho phép bạn khởi động, cài đặt mạng, tiến hành phân
vùng đĩa và cài đặt Gentoo từ Internet. Tuy nhiên vài LiveCD còn chứa
mã nguồn để bạn có thể cài đặt Gentoo không cần mạng.
</p>

<p>
Vậy những LiveCD này chứa gì?
</p>

</body>
</subsection>
<subsection>
<title>Gentoo Minimal LiveCD</title>
<body>

<p>
Đây là CD khởi động tí hon, mục đích duy nhất là để khởi động hệ
thống, cài đặt mạng và tiếp tục cài đặt Gentoo. Nó không chứa bất kỳ
stage nào (hoặc, trong vài trường hợp, nó chứa stage1), mã nguồn hoặc
các gói biên dịch sẵn nào. Ví dụ, phiên bản cho sparc64 của LiveCD này nằm
ở thư mục <path>sparc64/</path> và được gọi là
<c>install-sparc64-minimal-2004.3.iso</c>.
</p>

<table>
<tr>
  <th>Minimal LiveCD</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Nhỏ nhất (tải về nhẹ nhất)</ti>
</tr>
<tr>
  <th>+</th>
  <ti>Thích hợp cho kiến trúc hoàn chỉnh</ti>
</tr>
<tr>
  <th>+</th>
  <ti>
    Bạn có thể chọn  stage1, stage2 hoặc stage3 bằng cách lấy stage tarball từ
    trên mạng
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Không chứa stage, Portage snapshot, gói GRP nên không thích hợp cho cài đặt
    không có mạng
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Gentoo Universal LiveCD</title>
<body>

<p>
Gentoo Universal LiveCD là CD khởi động thích hợp để cài đặt Gentoo
không cần mạng. Nó chứa stage1 và vài tarball stage3 (tối ưu cho từng
kiến trúc con). Ví dụ, phiên bản cho sparc64 của CD này gọi là
<c>install-sparc64-universal-2004.3.iso</c> nằm ở thư mục
<path>sparc64/</path>.
</p>

<p>
Nếu bạn xem kỹ bạn sẽ thấy rằng chúng tôi còn cung cấp <e>Gentoo
Package CD</e>. CD này (không dùng để khởi động) chứa những gói đã
biên dịch sẵn và có thể được dùng để cài đặt sau khi cài đặt xong
Gentoo. Để cài đặt Gentoo, bạn sẽ chỉ cần Universal LiveCD. Nhưng nếu
bạn muốn OpenOffice.org, Mozilla, KDE, GNOME v.v.. mà không cần biên
dịch, bạn cần Packages CD. Ví dụ, phiên bản sparc64 của Packages CD
tên là <c>packages-sparc64-2004.3.iso</c>.
</p>

<p>
Bạn chỉ cần Packages CD nếu bạn thực hiện stage3 với cài đặt GRP.
</p>

<table>
<tr>
  <th>Universal LiveCD với Packages CD</th>
  <th>Ưu và khuyết</th>
</tr>
<tr>
  <th>+</th>
  <ti>Packages CD được tối ưu cho kiến trúc con của bạn</ti>
</tr>
<tr>
  <th>+</th>
  <ti>
    Packages CD cung cấp các gói biên dịch sẵn để cài đặt nhanh Gentoo
  </ti>
</tr>
<tr>
  <th>+</th>
  <ti>
    Chứa mọi thứ bạn cần. Bạn thậm chí có thể cài đặt không cần mạng
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>To (tải về nặng)</ti>
</tr>
</table>

</body>
</subsection>
</section>
<section>
<title>Tải về, tạo và  khởi động Gentoo LiveCD</title>
<subsection>
<title>Tải về và tạo LiveCD</title>
<body>

<p>
Bạn đã chọn dùng  Gentoo LiveCD. Trước hết chúng ta sẽ tải về và tạo LiveCD đã
chọn. Chúng ta đã nói về các loại LiveCD ở phần trước, nhưng tìm chúng ở đâu?
</p>

<p>
Hãy vào <uri link="/main/en/mirrors.xml">mirror</uri> của chúng tôi và
đến thư mục <path>releases/sparc/2004.3/livecd</path>, nơi chứa các CD
cho bạn chọn. Trong thư mục con <path>sparc32</path> và
<path>sparc64</path>, bạn sẽ tìm thấy những tập tin gọi là tập tin
ISO. Những tập tin này chứa toàn bộ CD và có thể ghi bằng đầu ghi
CD-R.
</p>

<p>
Nếu bạn không biết tập tin đã tải về có bị hư hay không, bạn có thể
kiểm tra MD5 checksum của nó và so sánh với MD5 checksum chúng tôi
cung cấp (như <path>install-sparc64-minimal-2004.3.iso.md5</path>). Bạn có
thể tạo MD5 checksum bằng lệnh <c>md5sum</c> trong Linux/Unix hoặc
<uri link="http://www.etree.org/md5com.html">md5sum</uri> cho Windows.
</p>

<p>
Cách khác để kiểm tra tính hợp lệ của tập tin tải về là dùng GnuPG để
xác minh chữ ký điện tử chúng tôi cung cấp (tập tin kết thúc bằng
<path>.asc</path>). Hãy tải về tập tin chữ ký và lấy khóa công khai:
</p>

<pre caption="Lấy khóa công khai">
$ <i>gpg --keyserver pgp.mit.edu --recv-keys 17072058</i>
</pre>

<p>
Rồi xác minh chữ ký:
</p>

<pre caption="Xác minh chữ ký điện tử">
$ <i>gpg --verify &lt;tập tin chữ ký&gt; &lt;iso đã tải về&gt;</i>
</pre>

<p>
Để tạo CD từ tập tin ISO đã tải về, bạn cần chọn raw-burning. Chọn như thế nào
tùy thuộc vào chương trình sử dụng. Chúng ta sẽ thảo luận về <c>cdrecord</c> và
<c>K3B</c>; thông tin chi tiết hơn nằm trong <uri
link="/doc/en/faq.xml#isoburning">Gentoo FAQ</uri>.
</p>

<ul>
  <li>
    Với cdrecord, bạn chỉ cần gõ <c>cdrecord dev=/dev/hdc</c> (thay
    <path>/dev/hdc</path> bằng đường dần đến device của ổ CD-RW của bạn) theo
    sau là đường dẫn của tập tin ISO :)
  </li>
  <li>
    Với K3B, chọn <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn Image</c>. Sau đó bạn
    có thể chọn tập tin ISO trong vùng 'Image to Burn'. Cuối cùng nhấn
    <c>Start</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Khởi động SPARC LiveCD</title>
<body>

<p>
Hãy cho Gentoo LiveCD vào CD-ROM và khởi động hệ thống. Trong khi khởi
động, nhấn Stop-A để vào OpenBootPROM (OBP). Khi đã vào OBP, khởi động
từ CD-ROM:
</p>

<pre caption="Khởi động LiveCD">
ok <i>boot cdrom</i>
</pre>

<p>
Bạn sẽ thấy trình quản lý khởi động SILO (trên LiveCD). Hãy nhập
<c>gentoo-2.4</c> (kernel 1 CPU) hoặc <c>gentoo-2.4-smp</c> 
(kernel nhiều CPU) và nhấn Enter để tiếp tục khởi động. Trong ví dụ
sau, chúng ta sẽ khởi động từ kernel <c>gentoo-2.4</c>.
</p>

<pre caption="Tiếp tục khởi động từ LiveCD">
boot: <i>gentoo-2.4</i>
</pre>

<p>
Khi đã khởi động xong, bạn sẽ thấy dấu nhắc đăng nhập <e>nếu</e> không
có đăng nhập tự động. Nếu vậy, hãy đăng nhập bằng <c>root</c>. Không
có mật khẩu, nên bạn chỉ cần nhấn Enter.
</p>

<pre caption="Đăng nhập vào LiveCD">
login: <i>root</i>
password: <comment>(Nhấn Enter)</comment>
</pre>

<p>
Bạn sẽ thấy dấu nhắc root ("#") trên console hiện thời và có thể
chuyển sang console khác bằng Alt-F2, Alt-F3 và Alt-F4. Để quay về
console đầu tiên, nhấn Alt-F1.
</p>

<p>
Nào tiếp tục với <uri link="#hardware">Cấu hình phần cứng bổ sung</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Cấu hình phần cứng bổ sung</title>
<body>

<p>
Nếu không phải mọi phần cứng đều chạy tốt, bạn sẽ cần nạp kernel
module thích hợp.
</p>

<p>
Trong ví dụ, chúng ta sẽ nạp module <c>8139too</c> (hỗ trợ một số loại
card mạng):
</p>

<pre caption="Nạp kernel module">
# <i>modprobe 8139too</i>
</pre>

</body>
</subsection>
<subsection>
<title>Tùy chọn: Tinh chỉnh hiệu năng đĩa cứng</title>
<body>

<p>
Nếu bạn là người dùng thành thạo, bạn có thể muốn tinh chỉnh hiệu năng
đĩa cứng IDE bằng <c>hdparm</c>. Với tùy chọn <c>-tT</c> bạn có thể
kiểm tra hiệu năng của đĩa cứng (gọi nó vài lần để cho kết quả chính
xác hơn):
</p>

<pre caption="Kiểm tra hiệu năng đĩa">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Để tinh chỉnh, bạn có thể dùng bất kỳ ví dụ nào sau đây (hoặc tự tìm
hiểu), nhớ thay <path>/dev/hda</path> bằng được dẫn đĩa của bạn:
</p>

<pre caption="Tinh chỉnh hiệu năng đĩa">
<comment>Kích hoạt DMA:</comment>                                       # <i>hdparm -d 1 /dev/hda</i>
<comment>Kích hoạt DMA + Tùy chọn Safe Performance-enhancing:</comment> # <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Tùy chọn: User Account</title>
<body>

<p>
Nếu bạn định cho phép người dùng khác truy cập vào môi trường cài đặt
hoặc bạn muốn tán gẫu bằng <c>irssi</c> không dùng root (vì lý do an
toàn), bạn cần tạo user account và đổi password của root.
</p>

<p>
Để thay đổi password của root, dùng tiện ích <c>passwd</c>:
</p>

<pre caption="Đổi password của root">
# <i>passwd</i>
New password: <comment>(Nhập password mới)</comment>
Re-enter password: <comment>(Nhập lại password)</comment>
</pre>

<p>
Để tạo user account, trước hết nhập username, theo sau là password.
Chúng ta sẽ dùng <c>useradd</c> và <c>passwd</c> để thực hiện điều
này.  Trong ví dụ kế, chúng tôi tạo user tên &quot;john&quot;.
</p>

<pre caption="Tạo user account">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Nhập password của join)</comment>
Re-enter password: <comment>(Nhập password của join lần nữa)</comment>
</pre>

<p>
Bạn có thể chuyển user id của bạn từ root sang user mới tạo bằng cách
dùng <c>su</c>:
</p>

<pre caption="Đổi user id">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Tùy chọn: Xem tài liệu khi cài đặt</title>
<body>

<p>
Nếu bạn muốn xem Cẩm nang Gentoo (hoặc trong CD hoặc xem online) trong
khi cài đặt, hãy đảm bảo đã tạo user account (xem <uri
link="#useraccounts">Tùy chọn: User Account</uri>). Sau đó nhấn
<c>Alt-F2</c> để chuyển sang terminal khác và đăng nhập.
</p>

<p>
Nếu bạn muốn xem tài liệu từ CD, bạn có thể chạy <c>links2</c> ngay để
đọc:
</p>

<pre caption="Xem tài liệu trên CD">
# <i>links2 /mnt/cdrom/docs/html/index.html</i>
</pre>

<p>
Tuy nhiên, bạn nên dùng Cẩm nang Gentoo online vì nó được cập nhật
thường xuyên hơn cái trên CD. Bạn cũng có thể xem bằng <c>links2</c>,
nhưng chỉ khi hoàn tất chương <e>Cài đặt mạng</e> (nếu không bạn không
thể ra Internet để xem tài liệu):
</p>

<pre caption="Xem tài liệu trực tuyến">
# <i>links2 http://www.gentoo.org/doc/en/handbook/handbook-sparc.xml</i>
</pre>

<p>
Bạn có thể quay về terminal gốc bằng cách nhấn <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Tùy chọn: Khởi động SSH Daemon</title>
<body>

<p>
Nếu bạn muốn cho phép người khác truy cập môi trường cài đặt Gentoo
(có thể vì người đó sẽ giúp bạn cài đặt Gentoo, hoặc làm vì chính
bạn), bạn cần tạo user account cho họ và thậm chí cung cấp password
của root (<e>chỉ</e> làm vậy <e>nếu</e> bạn <b>hoàn toàn tin cậy</b>
người đó).
</p>

<p>
Để khởi động SSH daemon, thực hiện lệnh sau:
</p>

<pre caption="Khởi động SSH daemon">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Để có thể chạy sshd, bạn cần cài đặt mạng trước. Hãy xem chương <uri
link="?part=1&amp;chap=3">Cài đặt mạng</uri>.
</p>

</body>
</subsection>
</section>
</sections>
