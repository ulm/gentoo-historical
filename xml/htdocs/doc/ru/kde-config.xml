<?xml version='1.0' encoding='UTF-8'?>
<!-- REV: 1.22 -->
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/kde-config.xml,v 1.6 2012/04/18 18:30:37 swift Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide>

<title>Руководство по настройке KDE</title>

<author title="автор">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="переводчик">
  <mail link="selecter@spray.se">Антон Кузьмин</mail>
</author>
<author title="переводчик">
  <mail link="tolich.arz@gmail.com">Анатолий Аржников</mail>
</author>

<abstract>
KDE - один из самых используемых оболочек рабочего стола. Я постараюсь описать 
все аспекты KDE, включая установку, конфигурацию, использование и т.д.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.22</version>
<date>2007-06-23</date>

<chapter>
<title>Что же такое K Desktop Environment?</title>
<section>
<title>Проект</title>
<body>

<p>
<uri link="http://www.kde.org">Проект KDE</uri> - проект открытого программного 
обеспечения посвящённый разработке KDE, графической рабочей среде для рабочих 
станций Linux и Unix. Разработкой занимаются несколько сотен разработчиков со 
всего мира, преданных разработке бесплатного программного обеспечения. Смотрите 
также <uri link="http://www.kde.org/whatiskde/project.php">Что из себя 
представляет проект KDE</uri>.
</p>

</body>
</section>
<section>
<title>Программное обеспечение</title>
<body>

<p>
K Desktop Environment - это простая рабочая среда построенная на хорошо 
продуманной прикладной структуре (application framework), которая предоставляет 
функциональную совместимость, drag 'n drop и многое другое.
Кроме необходимых компонентов, KDE предоставляет готовые к использованию
приложения для всех мыслимых задач: файловый менеджер, интернет-браузер, офис 
приложения, email-клиент и т.д. И всё это относится к KDE проекту.
</p>

<p>
KDE доступен более чем на 70 языках и охватывает огромное количество 
пользователей. Для тех, кто интересуется, есть много <uri 
link="http://www.kde.org/screenshots/">скриншотов</uri>. Для большей информации 
о KDE, читайте статью <uri link="http://www.kde.org/whatiskde/">Что такое 
KDE?</uri> на <uri link="http://www.kde.org">KDE.org</uri>. 
</p>

</body>
</section>
<section>
<title>Сообщество</title>
<body>

<p>
Существует много сайтов KDE сообществ. На <uri 
link="http://www.kdenews.org">KDEnews.org</uri> вы найдёте последние новости 
про KDE вообще. <uri 
link="http://www.kdedevelopers.org">KDEdevelopers.org</uri> специализируется на 
разработке KDE, а <uri link="http://www.kde-forum.org">KDE-форум</uri> больше 
подходит для широкой массы. Больше ссылок можно найти на <uri 
link="http://www.kde.org/family/">Странице семейства KDE</uri>.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Установка KDE</title>
<section>
<title>Что вам нужно?</title>
<body>

<p>
Прежде всего, если вы заинтересованы в установке KDE (или поддержке kde), вам 
придётся убедиться, что переменная USE содержит флаги <c>kde</c>, а также <c>qt3</c>
или <c>qt4</c> (или оба). Qt - графическая библиотека элементов управления, которую
использует KDE, и <c>qt3</c> для версий 3.x, в то время как <c>qt4</c> соберет 
поддержку для новых библиотек Qt 4.x. Для самой KDE все равно, какой из флагов 
установлен, однако существует некоторое количество пакетов предоставляют возможность
выбрать между библиотеками <c>qt3</c> и <c>qt4</c>.
</p>

<p>
Вы также должны добавить <c>hal</c> к переменной USE, если вам нужна поддержка
автоматического монтирования устройств, описанная ниже, в секции 
<uri link="#kde_device_mounting">Настройка KDE для монтирования устройств</uri>.
</p>

<p>
Если вы не хотите использовать <uri link="http://www.arts-project.org/">aRts</uri>
во всех ваших мультимедиа-приложениях, отмените USE флаг <c>arts</c> (он установлен
по умолчанию).
</p>

<note>
В выпуске Gentoo 2006.1 появились некоторые новые профили, включая субпрофиль
<c>desktop</c>. Вы можете перейти на этот субпрофиль, если он существует для
вашей архитектуры. Он содержит большое число изменений USE флагов по умолчанию.
Прочитайте <uri link="/doc/ru/gentoo-upgrading.xml">Руководство по обновлению
Gentoo</uri>, чтобы узнать, как переключаться между профилями.
</note>

</body>
</section>

<section>
<title>Установка KDE Разделенными Пакетами</title>
<body>

<note>
Мы рекомендуем использовать разделенные пакеты для установки KDE (заместо
монолитных пакетов, хотя оба метода будут описаны), как показано ниже.
</note>

<p>
Если вы хотите лучше контролировать, какие части KDE вы устанавливаете, у вас
есть возможность устанавливать отдельные приложения KDE, которые вам нужны.
Чтобы узнать больше о сборочных файлах для отдельных приложений KDE, прочитайте
<uri link="/doc/ru/kde-split-ebuilds.xml">Руководство по Разделенным 
Сборочным Файлам KDE</uri>.
</p>

<p>
Понимание того, что устанавливать, а что нет, немного сложнее при использовании
разделенных сборочных файлов. Однако, Gentoo предоставляет несколько мета-пакетов,
которые содержат определенный набор пакетов KDE для вас:
</p>

<ul>
  <li>
    Если вам нужна полная сборка KDE, установите пакет <c>kde-meta</c>.
    Этот пакет включает все приложения KDE как зависимости.
  </li>
  <li>
    Если вам нужна базовая сборка KDE, установите <c>kdebase-startkde</c>. Вы
    всегда сможете установить дополнительные приложения, когда захотите.
  </li>
  <li>
    Если вам нужно что-то между <c>kde-meta</c> и <c>kdebase-startkde</c>,
    установите <c>kdebase-meta</c>. Вы получите некоторые дополнительные
    приложения, вроде <c>konsole</c> и <c>kdm</c>.
  </li>
</ul>

<p>
Эти три возможности есть крайности; вероятно вам интересна безопасная смесь 
каких-либо двух :) Чтобы немного облегчить ваше решение, приводится следующая
таблица, которая показывает короткий, совсем не полный пока что, полезный 
список некоторых пакетов KDE.
</p>

<p>
Это пакеты <e>не являются</e> частью <c>kdebase-startkde</c>.
</p>

<table>
<tr>
  <th>Пакет</th>
  <th>Описание</th>
</tr>
<tr>
  <ti><c>akregator</c></ti>
  <ti>
    Приложение для удобного управления и просмотра закладок RSS.
  </ti>
</tr>
<tr>
  <ti><c>juk</c></ti>
  <ti>
    Ориентированный на список воспоризведения медиаплеер, похожий на Apple'овский
    iTunes.
  </ti>
</tr>
<tr>
  <ti><c>kate</c></ti>
  <ti>
    <uri link="http://kate.kde.org/">Расширенный Текстовый Редактор KDE 
    (KDE Advanced Text Editor)</uri>, редактор, с поддержкой большого числа 
    открытых документов, подсветки синтаксиса, распознования блоков кода и еще 
    много чего.
  </ti>
</tr>
<tr>
  <ti><c>kmail</c></ti>
  <ti>
    Организуйте вашу электронную почту эффективно с <uri
    link="http://kmail.kde.org/">KMail</uri>.
  </ti>
</tr>
<tr>
  <ti><c>knetattach</c></ti>
  <ti>
    С KNetAttach (также известным как <e>Мастер Добавления Сетевой Папки</e>), 
    вы сможете просто добавлять дополнительные сетевые папки на рабочий стол
    KDE.
  </ti>
</tr>
<tr>
  <ti><c>knode</c></ti>
  <ti>
    KNode это мощная программа для чтения новостей для KDE.
  </ti>
</tr>
<tr>
  <ti><c>konsole</c></ti>
  <ti>
    <uri link="http://konsole.kde.org/">Konsole</uri> это эмулятор терминала
    для KDE.
  </ti>
</tr>
<tr>
  <ti><c>kontact</c></ti>
  <ti>
    <uri link="http://kontact.kde.org/">Kontact</uri> &mdash; менеджер
    Персональной Информации KDE, помогает легче управлять связями,
    организовывать работу быстрее и проще работать в команде.
  </ti>
</tr>
<tr>
  <ti><c>kopete</c></ti>
  <ti>
    <uri link="http://kopete.kde.org/index.php">Kopete</uri> &mdash; клиент для
    служб мгновенных сообщений, поддерживает все известные протоколы обмена
    сообщениями.
  </ti>
</tr>
<tr>
  <ti><c>korganizer</c></ti>
  <ti>
    <uri link="http://korganizer.kde.org/">Korganizer</uri> это календарь и 
    расписание для KDE.
  </ti>
</tr>
<tr>
  <ti><c>kpdf</c></ti>
  <ti>
    С <uri link="http://kpdf.kde.org/">KPDF</uri> вы можете просматривать
    PDF файлы. Он имеет уникальнуе возможности, которые делают просмотр намного
    приятнее.
  </ti>
</tr>
<tr>
  <ti><c>kscd</c></ti>
  <ti>
    kscd это графический CD плеер для KDE.
  </ti>
</tr>
<tr>
  <ti><c>ksnapshot</c></ti>
  <ti>
    С ksnapshot вы можете делать снимки рабочего стола.
  </ti>
</tr>
<tr>
  <ti><c>kuickshow</c></ti>
  <ti>
    KDE kuickshow это приложение для обзора и просмотра многих форматов
    изображений.
  </ti>
</tr>
</table>

<p>
Это всего лишь вершина айсберга. Если вы хотите узнать больше о приложениях
KDE, посмотрите содержимое <uri
link="http://packages.gentoo.org/packages/?category=kde-base">категории
kde-base</uri>. Их функциональность есть в описании.
</p>

<p>
Чтобы посмотреть, что собралось ставить emerge, используйте <c>emerge -p</c>
совместно с просмотрщиком <c>less</c>, иначе вы можете не увидеть всех пакетов.
</p>

<pre caption="Предпросмотр установки KDE">
<comment>(Замените вашим выбором пакета(ов).)</comment>
# <i>emerge -p kdebase-startkde | less</i>
</pre>

<p>
Если вы довольны результатом, уберите <c>-p</c>. Процесс сборки займет
некоторое время, так как KDE большая среда. Не удивляйтесь, если
ваша система не справится с этим быстро.
</p>

</body>
</section>
<section>
<title>Установка KDE Монолитными пакетами</title>
<body>

<p>
Хотя рекомендуется установка из разделенных пакетов, у вас есть возможность
использовать монолитные сборочные файлы.
</p>

<p>
Проект KDE выпускает новые версии их оболочки как набор из 16 больших пакетов,
каждый из которых содержит большое количество приложений (потому они и называются
"монолитными"), и вы должны выбрать, какие из этих пакетов вы хотите установить.
</p>

<p>
Если вы хотите увидеть, как выглядит перспектива установки всех этих пакетов,
посмотрите сами:
</p>

<pre caption="Перечисляем все пакеты KDE">
# <i>emerge --pretend kde | less</i>
</pre>

<p>
Если вы не заинтересованы в установке всех этих пакетов, вы можете поставить 
лишь некоторые из них. Очевидно, что вам понадобится <c>kdebase</c>, так как он 
содержит основные и необходимые программы. Следующая таблица показывает 
несколько пакетов, которые вы можете установить.
</p>

<table>
<tr>
  <th>Пакет</th>
  <th>Описание</th>
</tr>
<tr>
  <ti>kdeaccessibility</ti>
  <ti>
    Программы для людей с ограниченными возможностями разрабатываются <uri
    link="http://accessibility.kde.org">Проектом KDE Accessibility</uri>
  </ti>
</tr>
<tr>
  <ti>kdeadmin</ti>
  <ti>
    Административные утилиты, такие как <c>KCron</c> (Планирование задач),
    <c>KUser</c> (Управление пользователями) и <c>KDat</c> (Управление 
    резервными копиями) 
  </ti>
</tr>
<tr>
  <ti>kdeartwork</ti>
  <ti>
    Некоторые программы, связанные с искусством, включая хранители экрана и 
    темы. Также смотрите <uri link="http://artist.kde.org">artist.kde.org</uri>.
  </ti>
</tr>
<tr>
  <ti>kdeedu</ti>
  <ti>
    Образовательные KDE приложения для школьников от 3 до 18 лет. Также 
    смотрите <uri link="http://edu.kde.org">Проект KDE Edu</uri>. 
  </ti>
</tr>
<tr>
  <ti>kdegames</ti>
  <ti>
    KDE игры. Больше информации можно найти по ссылке <uri 
    link="http://games.kde.org">KDE центр игр</uri>. 
  </ti>
</tr>
<tr>
  <ti>kdegraphics</ti>
  <ti>
    Графические приложения для KDE, плюс <c>KSnapshot</c> (Программа для снятия 
    скриншотов), <c>KPain</c> (Простой графический редактор), <c>Kpdf</c> (Для 
    просмотра PDF), <c>KIconEdit</c> (Icon Editor) и <c>KPovModeler</c> 
    (Создание 3D моделей).
  </ti>
</tr>
<tr>
  <ti>kdemultimedia</ti>
  <ti>
    Мультимедийные приложения, включая поддержку CD, MP3, DVD, форматов, 
    звуковых и видео приложений. Больше информации по ссылке <uri 
    link="http://multimedia.kde.org">Проект KDE Multimedia</uri> website.
  </ti>
</tr>
<tr>
  <ti>kdenetwork</ti>
  <ti>
    Сетевые приложения, такие как <c>kppp</c> (Dial-In) и <c>lisa</c> 
    (networking). Заметьте, что <c>konqueror</c> (файловый менеджер <e>и</e>
    веб-браузер) часть пакета <c>kdebase</c>!
  </ti>
</tr>
<tr>
  <ti>kdepim</ti>
  <ti>
    Личные Информационные инструментальные средства Управления, такие как 
    <c>KOrganizer</c> (Журнал), <c>KAddressbook</c> (Адресная книга), 
    <c>Kontact</c> (Программное обеспечение для коллективной работы) и
    <c>KMail</c> (E-mail). Больше информации по ссылке <uri 
    link="http://pim.kde.org">Проект KDE PIM</uri>. 
  </ti>
</tr>
<tr>
  <ti>kdesdk</ti>
  <ti>
    Основные инструменты разработки, включая <c>KBabel</c> (Утилита для 
    перевода), <c>KBugBuster</c> (Front end для отслеживания ошибок KDE) и 
    <c>Kompare</c> (GUI для просмотра разницы между файлами). 
  </ti>
</tr>
<tr>
  <ti>kdetoys</ti>
  <ti>
    Различные безделушки, которыми можно позабавится, в ожидании, пока доставят 
    вашу пиццу. В этом пакете вы найдёте такие апплеты, как <c>eyesapplet</c> и 
    <c>fifteenapplet</c>, а также стильные утилиты как <c>amor</c>, которые 
    ничего не делают, кроме как пожирают ресурсы :) 
  </ti>
</tr>
<tr>
  <ti>kdeutils</ti>
  <ti>
    Графические системные утилиты как <c>kcalc</c> (Калькулятор), <c>kdessh</c> 
    (SSH терминал), <c>kfloppy</c> (производит действия связанные с floppy), и 
    другие. 
  </ti>
</tr>
<tr>
  <ti>kde-i18n</ti>
  <ti>
    Этот пакет включает поддержку для многих языков (также валют, форматов 
    чисел и дат, ...) и документации. Больше информации по ссылке <uri 
    link="http://i18n.kde.org">Проект KDE i18n</uri>. 
  </ti>
</tr>
</table>

<p>
К примеру, чтобы поставить KDE только с сетевыми и административными 
приложениями:
</p>

<pre caption="Пример установки индивидуальных компонентов KDE">
# <i>emerge kdebase kdenetwork kdeadmin</i>
</pre>

<p>
Если вам интересно знать: компиляция KDE занимает очень много времени :)
</p>

</body>
</section>
<section>
<title>Внешние приложения KDE</title>
<body>

<p>
Число приложений KDE не ограничивается теми, что поставляются в официальных
выпусках KDE, оно включает сотни других приложений, которые используют
среду разработки KDE и ее библиотеки. Здесь приведены некоторые из особо
популярных.
</p>

<table>
<tr>
  <th>Пакет</th>
  <th>Описание</th>
</tr>
<tr>
  <ti><c>koffice</c></ti>
  <ti>
    <uri link="http://www.koffice.org/">KOffice</uri> это всеобъемлющее офисное
    решение KDE, содержащее приложения для работы с текстом (KWord),
    табличный калькулятор (KSpread), программы для работы с презентациями 
    (KPresenter), для работы с изображениями (Krita), систему управления базами
    данных (Kexi) и многое другое.
    Так же, как  KDE может быть установлено через сборочные файлы <c>kde</c> 
    или <c>kde-meta</c>, вы можете устанановить KOffice как один пакет 
    (<c>koffice</c>), или же как набор пакетов (<c>koffice-meta</c>).
  </ti>
</tr>
<tr>
  <ti><c>amarok</c></ti>
  <ti>
    <uri link="http://amarok.kde.org/">amaroK</uri> это многофункциональный
    проигрыватель для Unix/Linux.
  </ti>
</tr>
<tr>
  <ti><c>k3b</c></ti>
  <ti>
    <uri link="http://www.k3b.org/">K3B</uri> это программа для записи
    записи CD/DVD с поддержкой Аудио. Запись дисков никогда не была проще.
  </ti>
</tr>
<tr>
  <ti><c>kaffeine</c></ti>
  <ti>
    <uri link="http://kaffeine.sourceforge.net/">Kaffeine</uri> это мощный
    мультимедиа-плеер для KDE.
  </ti>
</tr>
</table>

</body>
</section>
<section>
<title>Первые ощущения</title>
<body>

<p>
Теперь давайте взглянем на результаты. Твоя мама наверное говорила тебе никогда 
не работать под root-ом. Ну что ж, последуем маминому совету и запустим KDE под 
пользователем. Зайдите под вашим пользователем и настройте вашу сессию так, 
чтобы загружался KDE после выполнения команды <c>startx</c>. Вы можете это 
сделать добавив строчку <c>exec startkde</c> в <path>~/.xinitrc</path>
(смотрите также
<uri link="/doc/ru/xorg-config.xml#using_startx">Использование startx</uri>
в <uri link="/doc/ru/xorg-config.xml">Описании настройки X-сервера</uri>):
</p>

<pre caption="Настраиваем локальную сессию">
$ <i>echo "exec startkde" &gt; ~/.xinitrc</i>
</pre>

<p>
Теперь выполните команду <c>startx</c> для загрузки вашей графической среды.
</p>

<pre caption="Запускаем KDE">
$ <i>startx</i>
</pre>

<p>
Вас встретит приложение под названием <c>KPersonalizer</c>. Поздравляем, теперь 
давайте посмотрим, как можно настроить KDE...
</p>

</body>
</section>
</chapter>

<chapter>
<title>Настройка KDE</title>
<section>
<title>KPersonalizer</title>
<body>

<p>
KPersonalizer - приложение, которое настроит KDE за вас. Это очень полезный 
мастер, который помогает быстро изменить KDE под ваши нужды. KPersonalizer 
автоматически появится при первой загрузке KDE.
</p>

<p>
Первое, о чём спросит вас KPersonalizer будет страна и язык на ваш выбор. Так
как мы не устанавливали никаких языковых пакетов, выбор языков будет небольшим
&mdash; очевидно в списке будет только английский. Не волнуйтесь, мы сменим язык
позже (если вы конечно захотите этого).
</p>

<p>
Потом вам нужно будет выбрать <e>System Behaviour</e>. Эта настройка включает в 
себя активацию окна, выбор мыши, и другое. При выборе определённого поведения, 
можно увидеть его описание. Если вы не уверены что выбрать, не паникуйте &mdash; 
всегда можно будет поменять настройки.
</p>

<p>
Далее KPersonalizer спросит о количестве разнообразных эффектов. Чем больше 
эффектов вы активируете, тем моднее будет KDE, но и процессор будет более 
загружен. Однако, не стоит так переживать из-за этого &mdash; на компьютере с 
процессором в 600 Mhz с 128 Mb памяти разрешение всех эффектов не особо не 
повлияет на быстродействие системы.
</p>

<p>
Наконец, остаётся выбрать стиль. Стиль определяет декорацию окон, тему, вид 
кнопок, и другое. Попробуйте несколько стилей, чтобы выбрать тот, который вам 
понравится. Я ещё не говорил вам, что KDE полностью настраиваемый? 
</p>

<p>
Откиньтесь на спинку кресла и наслаждайтесь &mdash; запустится KDE и вас встретит 
милая, чистая и функциональная интерактивная рабочая среда.
</p>

</body>
</section>
<section>
<title>Установка языковых пакетов</title>
<body>

<p>
Если ваш родной язык не английский или вы хотите работать в KDE на другом 
языке, тогда читайте дальше. Мы установим языковые пакеты для языков, которые 
вам нужны.
</p>

<p>
Все языковые пакеты содержатся в одном <c>kde-i18n</c> пакете. Чтобы поставить 
только нужные пакеты, а не все, нужно присвоить значение переменной 
<c>LINGUAS</c>. Рекомендуется прописать переменную в 
<path>/etc/make.conf</path>.
</p>

<pre caption="Прописываем переменную LINGUAS в /etc/make.conf">
# <i>nano -w /etc/make.conf</i>
<comment>(К примеру, мы поставим языковые пакеты для русского (ru) 
 и французского (fr))</comment>
LINGUAS="ru fr"
</pre>

<p>
Теперь выполните команду <c>emerge kde-i18n</c>. Когда установка закончится, 
запускайте KDE и KDE центр управления (Control Center) (K-menu &gt; Settings 
&gt; Control Center). Это приложение, где можно изменить намного больше 
настроек KDE, чем в KPersonalizer.
</p>

<p>
Чтобы изменить язык, идите в <c>Regional &amp; Accessibility</c>, 
<c>Country/Region &amp; Languages</c>. Потом добавьте язык на ваш выбор и 
перезагрузите KDE.
</p>

</body>
</section>
<section>
<title>Графический вход в систему</title>
<body>

<p>
Если вы хотите использовать <c>kdm</c> как менеджер графического входа в 
систему (что значит, что вам не придётся каждый раз набивать на клавиатуре 
команду <c>startx</c>) для начала установите его, а затем подправьте
файл настроек, чтобы заставить вашу систему запускать графическую оболочку
после загрузки, как описано ниже.
</p>

<note>
Возможно, у вас уже установлен <c>kdm</c> по каким-либо причинам.
Если вы видите ошибку блокирования <c>kde-base/kdm</c>, переходите к
следующей секции.
</note>

<pre caption="Установка kdm">
# <i>emerge --ask kdm</i>
</pre>

<p>
В <path>/etc/conf.d/xdm</path>, установите переменную <c>DISPLAYMANAGER</c>
в значение <c>kdm</c>.
</p>

<pre caption="Установка DISPLAYMANAGER в /etc/conf.d/xdm">
# <i>nano -w /etc/conf.d/xdm</i>
<comment>(Поправьте следующую переменную)</comment>
DISPLAYMANAGER="kdm"
</pre>

<p>
Завершаем добавив <c>xdm</c> в уровень запуска default:
</p>

<pre caption="Добавляем xdm в уровень запуска default:">
# <i>rc-update add xdm default</i>
</pre>

<p>
После перезагрузки системы, как графический вход в систему будет использоваться 
KDM.
</p>

<p>
KDM will provide a list of available sessions to choose from, including KDE -
of course - and including all the other sessions installed on your system,
which KDM finds by looking in <path>/usr/share/xsessions/</path>. Thus, if you
use KDM, you don't need to edit <path>~/.xinitrc</path>.
</p>

</body>
</section>
<section id="kde_device_mounting">
<title>Настройка KDE для монтирования устройств</title>
<body>

<!-- TODO add pmount package when pmount is in arch.
     Also, add pmount to the default runlevel -->

<p>
KDE дает возможность монтировать устройства, такие как CD-ROM или USB носитель
одним кликом в графическом интерфейсе. Чтобы получить такую возможность,
вам необходима сборка KDE с USE флагом <c>hal</c>, а также установленные
пакеты <c>dbus</c> и <c>hal</c>. Вам также необходимо добавить <c>dbus</c> и
<c>hal</c> в уровень запуска default, и добавить себя в группу <c>plugdev</c>.
</p>

<pre caption="Настройка монтирования устройств">
# <i>emerge --ask dbus hal</i>
# <i>rc-update add dbus default</i>
# <i>rc-update add hald default</i>
<comment>Добавление учетной записи &lt;user&gt; в группу plugdev</comment>
# <i>gpasswd -a &lt;user&gt; plugdev</i>
</pre>

</body>
</section>
</chapter>
<chapter>
<title>Управление установкой KDE</title>
<section>
<title>Несколько сборок</title>
<body>

<p>
Одна особенность работы Gentoo со сборками KDE, это то, что новые серии KDE
(к примеру 3.5.х, которые замещают серии 3.4.x) будут установлены рядом с
предыдущими, не перезаписывая их. Так если у вас установлена KDE 3.4, и вы
ставите KDE 3.5, у вас будет две сборки KDE в системе, одна в 
<path>/usr/kde/3.4/</path>, а другая в <path>/usr/kde/3.5/</path>.
</p>

<p>
Важно помнить, что настройки для каждой сборки KDE хранятся раздельно в 
домашнем каталоге. KDE 3.4 берет настройки из каталога <path>/home/&lt;user&gt;/.kde3.4</path>, и когда вы первый раз запустите
KDE 3.5, каталог <path>/home/&lt;user&gt;/.kde3.5</path> будет создан
на основе настроек из каталога 3.4, и дальнейшем будет использоваться для
хранения настроек и личной информации.
</p>

<p>
Другое важное замечание, которое нужно помнить при обновлении KDE, то, что
могут возникать проблемы с внешними приложениями KDE, установленными у вас,
(такими как <c>koffice</c>, <c>amarok</c> или <c>k3b</c>), до тех пор, пока
вы не пересоберете их с новой версией KDE. Таким образом, когда вы начинаете
использовать новую версию KDE, вы должны пересобрать их, чтобы те начали
ссылаться на новые библиотеки.
</p>

</body>
</section>
<section>
<title>Удаление старых версий</title>
<body>

<p>
Возможность иметь несколько установленных версий KDE порождает проблему
удаления старых версий, если мы решим, что они больше не нужны. К сожалению,
в portage нет простой команды для удаления пакета со всеми его зависимостями,
к примеру если вы запустите <c>emerge --unmerge kde</c> на самом деле вы
не удалите пакеты kde.
</p>

<p>
Чтобы удалить сборку KDE (т.е. KDE 3.4), вам придется удалять каждый пакет.
</p>

<pre caption="Удаление пакетов KDE 3.4">
# <i>emerge --unmerge =arts-3.4* =kdelibs-3.4* =kdebase-3.4* ...</i>
</pre>

<p>
Конечно же, это очень нудно, если у вас установлено много пакетов KDE.
Однако, эта операция может быть автоматизирована многими способами. Один
из них описан в примере.
</p>

<p>
Сначала получим список всех пакетов, которые мы хотим удалить. Мы используем
для этого команду <c>equery</c>, часть пакета <c>app-portage/gentoolkit</c>.
</p>

<pre caption="Список всех пакетов для удаления">
<comment>(Вывод всех установленных пакетов KDE)</comment>
# <i>equery list kde-base/</i>
<comment>(Вывод всех установленных пакетов, и отсеивание KDE 3.4)</comment>
# <i>equery list kde-base/ | grep 3\.4</i>
</pre>

<p>
На этом этапе, вы должны дважды проверить список предлагаемых пакетов, которые
будут удалены из системы. Если вы считаете, что все нормально, вы можете продолжить
и скормить список команде <c>emerge --unmerge</c>.
</p>

<pre caption="Удаление выбранных пакетов">
# <i>equery list kde-base/ | grep 3\.4 | xargs emerge --unmerge --pretend</i>
</pre>

<p>
Проверьте вывод еще раз, и выполните команду без <c>--pretend</c>, чтобы
начать процесс удаления.
</p>

<p>
После того, как работа будет сделана, каталог <path>/usr/kde/3.4/</path>
должен содержать лишь небольшое количество файлов (обычно файлы настройки,
политика portage такова, что оно никогда не трогает их). Если вы захотите,
вы можете смело удалить <path>/usr/kde/3.4/</path>, что окончательно убъет
остатки KDE 3.4.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Часто Задаваевые Вопросы</title>
<section>
<title>KDE очень медленно запускается</title>
<body>

<p>
Проверьте, корректен ли ваш <path>/etc/hosts</path>:
</p>

<ul>
  <li>
    Если у вас статический IP адрес, убедитель что ваши FQDN и имя хоста
    указаны в одной строке, вроде <c>192.168.0.10 tux.mydomain tux</c>.
  </li>
  <li>
    Если у вас динамический IP адрес, или у вас вообще нет дополнительных
    интерфейсов, добавьте имя хоста после определения localhost, вроде
    <c>127.0.0.1 localhost tux</c>
  </li>
</ul>

<p>
Проверьте, включено ли DMA на ваших дисках:
</p>

<pre caption="Проверка настроек DMA:">
# <i>hdparm /dev/hda</i>
<comment>(...)</comment>
using_dma       = 1 (on)
<comment>(...)</comment>
</pre>

</body>
</section>
</chapter>

</guide>
