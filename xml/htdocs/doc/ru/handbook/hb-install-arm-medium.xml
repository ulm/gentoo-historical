<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/handbook/hb-install-arm-medium.xml,v 1.2 2014/01/03 06:04:24 blueboar Exp $ -->

<sections>

<version>2</version>
<date>2013-12-17</date>

<section>
<title>Аппаратные требования</title>
<subsection>
<title>Введение</title>
<body>

<p>
Прежде чем начать, перечислим аппаратные требования, необходимые для 
успешной установки Gentoo на вашем компьютере. 
</p>

</body>
</subsection>
<subsection>
<title>Аппаратные требования</title>
<body>

<p>
Обычно, если у вас есть ARMv4 или еще более поздний компьютер, вы можете
запустить Gentoo. Как правило, это так и есть. Ниже приведен список 
процессоров, которые действительно были проверены.
</p>

<table>
<tr>
  <th>Центральный процессор <e>(Big Endian)</e></th>
  <ti>IXP425</ti>
</tr>
<tr>
  <th>Центральный процессор <e>(Little Endian)</e></th>
  <ti>IXP425, StrongARM-110</ti>
</tr>
<tr>
  <th>Память</th>
  <ti>32 MB</ti>
</tr>
<tr>
  <th>Дисковое пространство</th>
  <ti>1.5 GB (исключая пространство подкачки)</ti>
</tr>
<tr>
  <th>Пространство подкачки</th>
  <ti>не менее 256 МБ</ti>
</tr>
</table>

</body>
</subsection>
</section>

<section>
<title>Заметки об установке</title>
<subsection>
<title>Заметка об ABI</title>
<body>

<p>
Мы поддерживаем новый ARM EABI, как и классический ARM ABI, иногда называемый
«наследственным» или "старым" ABI (он необходим для некоторых старых
систем на ARM, вроде armv4l). Thumb не так сильно протестирован, но, в теории,
он также работает. Если хотите, можете помочь.
</p>

<p>
Другая важная концепция, на которой следует остановиться - это концепция
<b>порядка байт</b> (англ. endianness). Порядок байт отражает способ,
которым центральный процессор читает слова из основной памяти. Слово
можно прочитать либо в порядке <e>big</e> endian (самый значимый байт
записан первым), либо <e>little</e> endian (самый менее значимый байт
записан первым). Компьютеры Intel x86 обычно используют способ
Little Endian, в то время как компьютеры Apple и Sparc используют
способ Big Endian. На машинах ARM могут использоваться оба способа.
Чтобы различить их, мы добавляем <c>eb</c> к названию архитектуры,
чтобы указать на способ big endian, так как способ Little endian
более часто используется на практике.
</p>

</body>
</subsection>
<subsection>
<title>Файл Stage3</title>
<body>

<p>
Архив третьей стадии — stage3 — это файл, содержащий минимальную среду Gentoo, 
пригодную для продолжения установки Gentoo в соответствии с инструкциями, данными 
в этом руководстве. Когда-то в настольной книге Gentoo описывались варианты 
установки с использованием файла любой из трех существующих стадий создания системы. 
Несмотря на то, что в Gentoo до сих представлены файлы stage1 и stage2, в официальном 
способе установки используется архив stage3. Если вас интересует установка Gentoo 
из файлов stage1 или stage2, пожалуйста, обратитесь к сборнику распространенных 
вопросов по Gentoo, раздел 
<uri link="https://wiki.gentoo.org/wiki/FAQ#How_do_I_Install_Gentoo_Using_a_Stage1_or_Stage2_Tarball.3F">как установить Gentoo, используя файлы Stage1 или Stage2?</uri>.
</p>

<p>
Архивы stage3 можно загрузить из <path><keyval id="release-dir"/>current-stage3/</path>,
либо с любого из <uri link="/main/en/mirrors.xml">официальных зеркал Gentoo</uri>; 
на «живом диске» они не поставляются. 
</p>

</body>
</subsection>
</section>

<section>
<title>Общие сведения о загрузке по сети</title>
<subsection>
<body>

<p>
В данном разделе мы опишем, что вам необходимо, чтобы успешно загрузиться
по сети в NetWinder. Это только краткое описание, оно не является полным.
Для более подробной информации рекомендуется прочитать
<uri link="https://wiki.gentoo.org/wiki/Diskless_nodes">Diskless HOWTO">документ по бездисковой загрузке</uri>.
</p>

<p>
Что вам понадобится: В зависимости от вашей машины, вам потребуется некоторое
количество оборудования, чтобы успешно загрузиться по сети и установить
Linux.
</p>

<ul>
  <li>
    Вообще:
    <ul>
      <li>TFTP server</li>
      <li>Терпение (много терпения)</li>
    </ul>
  </li>
  <li>
    Тем, у кого NetWinder: вы можете использовать либо последовательную консоль с
    нуль-модемным кабелем, либо вы можете использовать обычный VGA монитор
    и клавиатуру PS/2.
  </li>
</ul>

<note>
A <uri link="http://ru.wikipedia.org/wiki/%D0%9D%D1%83%D0%BB%D1%8C-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BC%D0%BD%D0%BE%D0%B5_%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5">нуль-модемный кабель</uri>
можно найти в большинстве магазинов электроники.
</note>

<note>
Что касается терминала, это может быть настоящий VT100/ANSI терминал, либо
это может быть эмуляция терминала на PC с помощью программ (например,
HyperTerminal, Minicom, seyon, Telex, xc, screen - что вам больше нравится).
Неважно, на какой платформе работает ваш компьютер - нужно лишь, чтобы
у него был последовательный порт RS-232, который вы можете использовать,
и необходимое программное обеспечение.
</note>

</body>
</subsection>
<subsection>
<title>Краткая инструкция по настройке TFTP</title>
<body>

<p>
Хорошо, вы соединили все части вместе, теперь нужно все настроить. Как
говорилось ранее, это не полная инструкция, а краткая конфигурация,
просто, чтобы это как-то заработало. Вы можете либо использовать
данную инструкцию при установке с нуля, либо использовать
предложения, описанные здесь, чтобы изменить ваши текущие настройки
для поддержки загрузки по сети.
</p>

<p>
Нужно заметить, что используемые сервера не обязательно должны использовать
Gentoo Linux, вы можете точно так же использовать FreeBSD, либо любую
Unix-совместимую платформу. Однако данная инструкция предполагает, что
вы используете Gentoo Linux. Также вы можете запустить TFTP/NFS на
отдельной от DHCP-сервера машине, если вам это нужно.
</p>

<warn>
Команда Gentoo/ARM не поможет вам с настройкой других операционных систем
в качестве серверов сетевой загрузки. Если вы решите выбрать другую
операционную систему, то предполагается, что вы знаете, что делаете.
</warn>

<p>
Первый шаг -- это настройка TFTP-сервера. Рекомендуется, чтобы вы
использовали <c>tftp-hpa</c>, так как это единственный демон TFTP,
который точно работает правильно. Установите его, как показано ниже.
</p>

<pre caption="Устанавливаем tftp-hpa">
# <i>emerge net-ftp/tftp-hpa</i>
</pre>

<p>
Данная команда создаст для вас каталог <path>/tftproot</path> для хранения
образов сетевой загрузки. Вы можете переместить данный каталог, если
хотите. Для целей данной инструкции, предполагается, что вы не меняли
положение данного каталога.
</p>

</body>
</subsection>
</section>
<section>
<title>Сетевая загрузка вашего компьютера ARM</title>
<subsection>
<title>Скачиваем образ сетевой загрузки</title>
<body>

<p>
В зависимости от системы, которую вы устанавливаете, существует несколько
возможных образов, которые можно скачать. Они называются по типу системы
и процессору, для которых они скомпилированы. Типы компьютеров указаны
ниже:
</p>

<table>
  <tr>
    <th>Компьютер</th>
    <th>Файлы</th>
  </tr>
  <tr>
    <ti>NetWinder</ti>
    <ti><uri link="http://dev.gentoo.org/~vapier/arm/netboot-netwinder">Сетевая загрузка</uri></ti>
  </tr>
</table>

<p>
Удостоверьтесь, что вы поместили образ в каталог <path>/tftproot</path>.
</p>

</body>
</subsection>
<subsection>
<title>Запустите ваших демонов...</title>
<body>
<p>
К данному моменту вы должны быть готовы к запуску демонов. Введите следующее:
</p>

<pre caption="Запускаем демона TFTPd">
# <i>/etc/init.d/in.tftpd start</i>
</pre>

<p>
Если на этом последнем шаге все прошло успешно, вы все настроили для того,
чтобы включить компьютер ARM и читать инструкцию дальше. Заметьте, что 
далее мы предполагаем, что сервер TFTP имеет IP-адрес <c>192.168.0.2</c>,
вы можете изменить его, согласно вашей установке.
</p>

<p>
Вы можете быстро проверить, работает ли демон tftp, введя следующую команду.
Если вы увидите что-то, похожее на вывод, показанный ниже, все работает
нормально.
</p>

<pre caption="Проверка, что TFTPd работает">
# <i>netstat -al | grep ^udp</i>
udp        0      0 *:bootpc                *:*
udp        0      0 *:631                   *:*
udp        0      0 *:xdmcp                 *:*
udp        0      0 *:tftp                  *:* <comment>&lt;-- (посмотрите на эту строку)</comment>
</pre>

</body>
</subsection>
<subsection>
<title>Сетевая загрузка NetWinder</title>
<body>

<p>
Итак, все настроено, TFTP сервер настроен и запущен, пришло время запустить
NetWinder. Как только вы войдете в консоль NeTTrom, введите команды,
указанные ниже.
</p>

<pre caption="Сетевая загрузка с NeTTrom">
NeTTrom> <i>setenv kernconfig tftp</i>
NeTTrom> <i>setenv kerntftpserver 192.168.0.2</i>
NeTTrom> <i>setenv kerntftpfile netboot-netwinder</i>
NeTTrom> <i>setenv netconfig_eth0 flash</i>
NeTTrom> <i>setenv eth0_ip 192.168.0.15/24</i>
NeTTrom> <i>boot</i>
</pre>

<p>
После этого ваш компьютер должен начать скачивание образа, затем,
где-то через 20 секунд, начать загружать Linux. Если все пойдет
хорошо, вас выбросит в консоль <c>ash</c> Busybox, после чего вы
можете переходить к главе 
<uri link="?part=1&amp;chap=3">настройка сети</uri>.
</p>

</body>
</subsection>
</section>

</sections>

<!-- *$Localization:
target-language: Russian
target-date: 2013-12-17
source-cvs-revision: 1.12
translated-by: Vladimir Romanov [blueboar2@gmail.com]
-->
