<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->
<!-- REV: 1.4 -->
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/handbook/hb-portage-branches.xml,v 1.1 2005/03/04 18:18:48 sergey Exp $ -->
<!-- Translated by: Golubev Vasili --> 
<!-- BUG #84057 -->

<sections>

<version>1.1</version>
<date>2004-10-21</date>

<section>
<title>Использование одной ветви</title>
<subsection>
<title>Стабильная ветвь</title>
<body>

<p>
Переменная ACCEPT_KEYWORDS определяет какую из ветвей вы используете для своей системы
По умолчанию используется стабильная ветвь для вашей архитектуры, например <c>x86</c>
</p>

<p>
Мы рекомендуем использовать только стабильную ветвь. Однако, если для вас стабильность не критична
и вы хотите помочь Gentoo, отсылая сообщения об ошибках на <uri>http://bugs.gentoo.org</uri>, читайте дальше.
</p>

</body>
</subsection>
<subsection>
<title>Тестовая ветвь</title>
<body>

<p>
Если вы желаете использовать наиболее свежее ПО, вы можете подумать над использованием тестовой ветви.
Чтобы Portage начал использовать тестовую ветвь, добавьте "~" перед названием вашей архитектуры.
</p>

<p>
К примеру, для выбора тестовой ветви на архитектуре x86, отредактируйте <path>/etc/make.conf</path> и 
укажите в нем:
</p>

<pre caption="Установка значения для переменной ACCEPT_KEYWORDS">
ACCEPT_KEYWORDS="~x86"
</pre>

<p>
Если вы запустите обновление системы, то увидите, что <e>многие</e> пакеты нуждаются в обновлении.
Обратите внимание, что после перехода на тестовую ветвь и обновления системы, как правило не существует
простого пути перехода обратно к стабильной, официальной ветви (исключая,
конечно, использование резервных копии).
</p>

</body>
</subsection>
</section>
<section>
<title>Использование стабильной и тестовой ветвей одновременно</title>
<subsection>
<title>Файл package.keywords</title>
<body>

<p>
Вы можете указать, чтобы Portage использовал тестовую ветвь только для определенных пакетов, используя
стабильную ветвь для остальной системы. Для достижения этого добавьте категорию и имя пакета, для которого
вы желаете использовать тестовую ветвь в файл <path>/etc/portage/package.keywords</path>. Например, для
использования тестовой ветви для <c>gnumeric</c>:
</p>

<pre caption="Настройка /etc/portage/package.keywords для gnumeric">
app-office/gnumeric
</pre>

<p>
Такой же результат может быть достигнут если в конце строки указать верный для используемой архитектуры параметр, 
например для архитектуры x86:
</p>

<pre caption="Настройка /etc/portage/package.keywords для gnumeric, полный синтаксис">
app-office/gnumeric ~x86
</pre>

</body>
</subsection>
<subsection>
<title>Использование определенных версий</title>
<body>

<p>
Если вы желаете использовать только определенную версию ПО из тестовой ветви, но не хотите,
чтобы Portage использовал тестовую ветвь для последующих версий этого ПО, вы можете указать 
в файле <path>package.keywords</path> номер необходимой вам версии. В этом случае вы <e>обязаны</e>
оператор. Также вы можете указать диапазон версий, используя операторы &lt;=, &lt;, &gt; или &gt;=.
</p>

<p>
В любом случае, если вы добавляете информацию о версии вы <e>должны</e> использовать один из этих операторов. 
Если вы не указываете версию, вы <e>не можете</e> использовать эти операторы.
</p>

<p>
Приведем пример, в котором мы говорим Portage, что хотим установить gnumeric-1.2.13:
</p>

<pre caption="Использование конкретной версии gnumeric">
=app-office/gnumeric-1.2.13 
</pre>

</body>
</subsection>
</section>
<section>
<title>Использование заблокированных пакетов</title>
<subsection>
<title>Файл package.unmask</title>
<body>

<p>
Если использование пакета было заблокировано разработчиками Gentoo, но вы желаете его использовать
несмотря на причины блокировки, указанные в файле <path>package.mask</path> (по умолчанию этот файл находится
в <path>/usr/portage/profiles</path>), внесите изменения в файл <path>/etc/portage/package.unmask</path>,
<e>в точности</e> такую же строку. 
</p>

<p>
Например, если <c>=net-mail/hotwayd-0.8</c> заблокирован, то использовать его можно прописав в файле
<path>package.unmask</path> в точности такую же строчку:
</p>

<pre caption="/etc/portage/package.unmask">
=net-mail/hotwayd-0.8
</pre>

</body>
</subsection>
<subsection>
<title>Файл package.mask</title>
<body>

<p>
Если вы не хотите использовать какое-то конкретное ПО или конкретные версии ПО, вы 
можете самостоятельно заблокировать его использование, добавив необходимую запись в 
файл <path>/etc/portage/package.mask</path>.
</p>

<p>
Если, к примеру, вы не хотите, чтобы Portage устанавливал ядро новее, чем <c>development-sources-2.6.8.1</c>,
сделайте запись об этом в файле <path>package.mask</path>:
</p>

<pre caption="Пример использования файла /etc/portage/package.mask">
&gt;sys-kernel/development-sources-2.6.8.1
</pre>

</body>
</subsection>
</section>
</sections>
