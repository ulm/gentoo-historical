<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<!-- Текст этого документа распространяется на условиях лицензии CC-BY-SA -->
<!-- См. http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/handbook/hb-portage-branches.xml,v 1.5 2005/11/17 22:22:11 achumakov Exp $ -->

<sections>

<version>1.6</version>
<date>2005-08-11</date>

<section>
<title>Использование одной ветви</title>
<subsection>
<title>Стабильная ветвь</title>
<body>

<p>
Переменная ACCEPT_KEYWORDS определяет, какую из ветвей использовать в вашей
системе. По умолчанию используется стабильная ветвь для вашей архитектуры,
например <c>x86</c>
</p>

<p>
Мы рекомендуем использовать только стабильную ветвь. Однако, если для вас
стабильность не критична и вы хотите помочь Gentoo, отсылая отчеты об ошибках
на <uri>http://bugs.gentoo.org</uri>, читайте дальше.
</p>

</body>
</subsection>
<subsection>
<title>Тестовая ветвь</title>
<body>

<p>
Если вы желаете использовать наиболее свежее ПО, подумайте над использованием 
тестовой ветви. Чтобы Portage начала использовать тестовую ветвь, добавьте 
&laquo;~&raquo; перед названием вашей архитектуры.
</p>

<p>
Тестовая ветвь полностью соответствует своему названию: <e>для 
тестирования</e>. Если пакет находится в стадии тестирования, это означает, что 
разработчики считают, что пакет работоспособен, но тщательно он не 
протестирован. Вы можете оказаться первым, кто столкнется с какой-либо ошибкой. 
В этом случае вы можете создать <uri link="http://bugs.gentoo.org">отчет об
ошибке</uri>, чтобы разработчики узнали о ней.
</p>

<p>
Однако будьте готовы к тому, что могут возникнуть проблемы со стабильностью,
неудовлетворительной поддержкой пакетов (например неправильные/отсутствующие
зависимости), слишком частыми обновлениями (а в результате &mdash; частыми 
сборками) или невозможностью собрать пакет. Если вы не знаете, как работает 
Gentoo и как разрешать возникающие проблемы, мы рекомендуем не отходить от 
стабильной и оттестированной ветви.
</p>

<p>
К примеру, для выбора тестовой ветви на архитектуре x86, отредактируйте 
<path>/etc/make.conf</path> и укажите в нем:
</p>

<pre caption="Установка значения переменной ACCEPT_KEYWORDS">
ACCEPT_KEYWORDS="~x86"
</pre>

<p>
Если вы запустите обновление системы, то увидите, что <e>многие</e> пакеты 
нуждаются в обновлении. Обратите внимание, что после перехода на тестовую ветвь 
и обновления системы, как правило, нет простого пути назад к стабильной 
официальной ветви (конечно, кроме использования резервной копии).
</p>

</body>
</subsection>
</section>
<section>
<title>Одновременное использование стабильной и тестовой ветвей</title>
<subsection>
<title>Файл package.keywords</title>
<body>

<p>
Вы можете указать, чтобы Portage использовала тестовую ветвь только для 
определенных пакетов, а для остальной системы &mdash; стабильную ветвь. Для 
этого добавьте категорию и имя пакета, для которого вы желаете использовать 
тестовую ветвь, в файл <path>/etc/portage/package.keywords</path>. Например, 
для использования тестовой ветви для <c>gnumeric</c>:
</p>

<pre caption="Настройка /etc/portage/package.keywords для gnumeric, вся строка">
app-office/gnumeric ~x86
</pre>

</body>
</subsection>
<subsection>
<title>Тестирование определенных версий</title>
<body>

<p>
Если вы желаете использовать конкретную версию ПО из тестовой ветви, но не 
хотите, чтобы Portage использовала тестовую ветвь для последующих версий этого 
ПО, можно указать в файле <path>package.keywords</path> номер необходимой 
версии. В этом случае вы <e>обязаны</e> использовать оператор =. Также можно 
указать диапазон версий, используя операторы &lt;=, &lt;, &gt; или &gt;=.
</p>

<p>
В любом случае, добавляя информацию о версии, вы <e>должны</e> использовать 
один из этих операторов. Если вы не указываете версию, эти операторы 
использовать <e>нельзя</e>.
</p>

<p>
В следующем примере мы просим Portage разрешить установку gnumeric-1.2.13:
</p>

<pre caption="Использование конкретной тестовой версии gnumeric">
=app-office/gnumeric-1.2.13 ~x86
</pre>

</body>
</subsection>
</section>
<section>
<title>Использование заблокированных пакетов</title>
<subsection>
<title>Файл package.unmask</title>
<body>

<p>
Разработчики Gentoo <b>не</b> поддерживают использование этих файлов. 
Пожалуйста, используйте их на свой страх и риск. Просьбы о помощи, связанные с 
использованием <c>package.unmask</c> и/или <c>package.mask</c>, останутся без 
ответа. Вы предупреждены.
</p>
	
<p>
Если использование пакета было заблокировано разработчиками Gentoo, но вы 
желаете его использовать несмотря на причины блокировки, указанные в файле 
<path>package.mask</path> (по умолчанию он находится в 
<path>/usr/portage/profiles</path>), добавьте для него <e>точно такую же</e> 
строку в файл <path>/etc/portage/package.unmask</path>.
</p>

<p>
Например, если <c>=net-mail/hotwayd-0.8</c> заблокирован, то разблокировать его 
можно, прописав в файле <path>package.unmask</path> точно такую же строчку:
</p>

<pre caption="/etc/portage/package.unmask">
=net-mail/hotwayd-0.8
</pre>

</body>
</subsection>
<subsection>
<title>Файл package.mask</title>
<body>

<p>
Если вы не хотите, чтобы Portage использовала какое-то конкретное ПО или 
конкретные версии ПО, вы можете его самостоятельно заблокировать, добавив 
соответствующую запись в файл <path>/etc/portage/package.mask</path>.
</p>

<p>
Если, к примеру, вы не хотите, чтобы Portage устанавливала исходные коды ядра
новее, чем <c>gentoo-sources-2.6.8.1</c>, добавьте такую строку в файл
<path>package.mask</path>:
</p>

<pre caption="Пример использования файла /etc/portage/package.mask">
&gt;sys-kernel/gentoo-sources-2.6.8.1
</pre>

</body>
</subsection>
</section>
</sections>

<!-- *$Localization:
target-language: Russian
target-version: 1.6-r2
target-date: 2005-11-17
source-cvs-revision: 1.12
translated-by: Vasiliy Golubev [vas@nightmail.ru]
edited-by: Alexey Chumakov [achumakov@gentoo.org]
-->
