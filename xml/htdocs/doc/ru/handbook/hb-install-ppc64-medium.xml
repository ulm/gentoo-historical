<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/handbook/hb-install-ppc64-medium.xml,v 1.2 2014/05/31 07:32:12 blueboar Exp $ -->

<sections>

<abstract>
Вы можете установить Gentoo множеством способов. Данная глава описывает, 
как установить Gentoo с использованием минимального установочного CD. 
</abstract>

<version>2</version>
<date>2014-04-12</date>

<section>
<title>Аппаратные требования</title>
<subsection>
<title>Введение</title>
<body>

<p>
Прежде чем начать, перечислим аппаратные требования, необходимые для 
успешной установки Gentoo на вашем компьютере. 
</p>

</body>
</subsection>
<subsection>
<title>Аппаратные требования</title>
<body>

<table>
<tr>
  <th>Центральный процессор</th>
  <ti>Любой центральный процессор PowerPC64</ti>
</tr>
<tr>
  <th>Системы</th>
  <ti>
    IBM RS/6000s, Power Macintosh G5, IBM pSeries и IBM iSeries
  </ti>
</tr>
<tr>
  <th>Память</th>
  <ti>64 Мб</ti>
</tr>
<tr>
  <th>Дисковое пространство</th>
  <ti>1.5 Гб (исключая пространство подкачки)</ti>
</tr>
<tr>
  <th>Пространство подкачки</th>
  <ti>не менее 256 МБ</ti>
</tr>
</table>

<p>
Чтобы получить полный список поддерживаемых систем, перейдите по адресу
<uri>http://penguinppc.org/about/intro.php#hardware</uri>.
</p>

</body>
</subsection>
</section>

<!-- START -->
<section>
<title>Установочные компакт-диски Gentoo</title>
<subsection>
<title>Минимальный установочный компакт-диск Gentoo</title>
<body>

<p>
<e>Минимальный установочный компакт-диск</e> — это загрузочный диски, содержащий
самодостаточную среду Gentoo. Он позволяет загружать Linux прямо с компакт-диска. 
При запуске определяются ваши устройства и загружаются соответствующие драйверы. 
Этот диск сопровождается разработчиками Gentoo и позволяет вам установить Gentoo
при наличии соединения с Интернетом.
</p>

<p>
Минимальный установочный диск называется <c><keyval id="min-cd-name"/></c>
и занимает около  <keyval id="min-cd-size"/> МБ.
</p>

</body>
</subsection>
<subsection>
<title>Файл Stage3</title>
<body>

<p>
Архив третьей стадии — stage3 — это файл, содержащий минимальную среду Gentoo, 
пригодную для продолжения установки Gentoo в соответствии с инструкциями, 
данными в этом руководстве. Когда-то в настольной книге Gentoo описывались 
варианты установки с использованием файла любой из трех существующих стадий 
создания системы. Несмотря на то, что в Gentoo до сих представлены файлы stage1 
и stage2, в официальном способе установки используется архив stage3. Если вас 
интересует установка Gentoo из файлов stage1 или stage2, пожалуйста, обратитесь 
к сборнику распространенных вопросов по Gentoo, раздел 
<uri link="https://wiki.gentoo.org/wiki/FAQ#How_do_I_Install_Gentoo_Using_a_Stage1_or_Stage2_Tarball.3F">как установить Gentoo, используя файлы Stage1 или Stage2?</uri>
</p>

<p>
Архивы stage3 можно загрузить из <path><keyval id="release-dir"/>current-stage3/</path> или с любого 
<uri link="/main/en/mirrors.xml">из официальных зеркал Gentoo</uri>; на LiveCD они не поставляются. 
</p>

</body>
</subsection>
<subsection>
<title>Выбираем пользовательское окружение</title>
<body>

<p>
На системах PPC64, ядро является 64-битным, а <e>пользовательское окружение</e>
может быть 32-битным или 64-битным. Пользовательское окружение, проще говоря,
это приложения, которые вы запускаете, например <c>bash</c> или <c>firefox</c>.
Они могут быть скомпилированы и выполняться либо в режиме 64-бит, либо в режиме
32-бит. Команда Gentoo/PPC64 предоставляет вам как 32-битное, так и 64-битное
пользовательское окружение. Какое же выбрать?
</p>

<p>
Вы могли слышать, что 64-битные приложения лучше, но на самом деле, 32-битные
приложения занимают немного меньше памяти и немного быстрее, чем 64-битные
приложения.
</p>

<p>
На самом деле, вам действительно нужны 64-битные приложения, если у вас больше
памяти, чем позволяет иметь 32-битное пользовательское окружение, либо вы делаете
много 64-битных числовых расчетов. Если у вас 4Гб или большее количество памяти,
либо вы проводите научные расчеты, вам нужно выбрать 64-битное пользовательское
окружение. В противном случае, выбирайте 32-битное окружение, так как оно
рекомендуется разработчиками Gentoo/PPC64.
</p>

<p>
Кроме того, 32-битное окружение пользователя появилось в Portage раньше,
чем 64-битное окружение. Это означает, что в 32-битном окружении большее число
приложений работают "из коробки". Многие приложения, будучи скомпилированными
под 64-битное окружение пользователя могут быть так же стабильны, как и
их 32-битные версии, но их еще не протестировали. Хотя тестирование провести
не так уж и сложно, оно может быть раздражающим и отнимать много времени, 
если у вас много непротестированных 64-битных приложений. Кроме того, некоторые
программы просто не запустятся в 64-битном окружении пользователя, пока
их код не будет изменен, например LibreOffice.
</p>

</body>
</subsection>
</section>
<!-- STOP -->
<section>
<title>Скачивание, запись и загрузка с установочного диска Gentoo</title>
<subsection>
<title>Скачивание образа и запись на диск</title>
<body>

<p>
Итак, вы решили использовать установочный диск Gentoo. Начнем с загрузки его 
образа из сети, и его записи на компакт-диск. Ранее мы обсуждали установочный
компакт-диск, но где же его взять? 
</p>

<p>
Установочный диск можно загрузить с одного из наших
<uri link="/main/en/mirrors.xml">зеркал</uri>. Установочный диск расположен
в каталоге <path><keyval id="release-dir"/>current-iso/</path>.
</p>

<p>
В этом каталоге находится ISO-файл. Это полный образ компакт-диска,
который можно записать на CD-R. 
</p>

<p>
Если вас волнует, не искажен ли загруженный файл, можно сверить его контрольную 
сумму SHA-2 с рассчитанной нами (например, <path><keyval id="min-cd-name"/>.DIGESTS</path>).
Вычислить контрольную сумму SHA-2 можно утилитой <c>sha512sum</c> в 
Linux/Unix, или программой <uri link="http://www.sinf.gr/en/hashcalc.html">Checksums calculator</uri>
под Windows.
</p>

<note>
Данная программа попытается проверить контрольные суммы в списке, даже если 
контрольная сумма была вычислена с использованием другого алгоритма. Поэтому, 
вывод команды может состоять из двух успехов (для контрольных сумм SHA) и 
неудач (для остальных контрольных сумм). Для каждого файла вы должны получить 
хотя бы один результат OK. 
</note>

<pre caption="Проверяем контрольную сумму SHA-2">
$ <i>sha512sum -c &lt;скачанный файл iso.DIGESTS&gt;</i>
</pre>

<note>
Если вы получите сообщение о том, что не найдено правильно отформатированной 
контрольной суммы SHA, посмотрите сами в файл DIGEST, чтобы увидеть, какие 
контрольные суммы поддерживаются. 
</note>

<p>
Другой способ убедиться в пригодности загруженного файла — с помощью GnuPG 
сверить криптографическую подпись с той, что хранится у нас (в файле с 
расширением <path>.asc</path>). Скачайте файл подписи и получите открытые 
ключи, чьи ID могут быть найдены на <uri link="/proj/en/releng/index.xml">сайте проекта разработчиков</uri>.
</p>

<pre caption="Получение открытого ключа">
<comment>(... Подставьте ID ключей, которые будут указаны на вышеприведенном сайте ...)</comment>
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 96D8BF6D 2D182910 17072058</i>
</pre>

<p>
Теперь сверьте подпись: 
</p>

<pre caption="Проверка файлов">
$ <i>gpg --verify &lt;скачанный iso.DIGESTS.asc&gt;</i>
$ <i>sha512sum -c &lt;скачанный iso.DIGESTS.asc&gt;</i>
</pre>

<p>
Записывать загруженный ISO-образ на компакт-диск нужно в «сыром» режиме. 
Как это сделать, сильно зависит от используемой программы. Здесь мы обсудим 
запись с помощью <c>cdrecord</c>, <c>K3B</c>, <c>Disk Utility</c> и
<c>Disk Copy</c>. Дополнительные сведения находятся в нашем 
<uri link="https://wiki.gentoo.org/wiki/FAQ#How_do_I_burn_an_ISO_file.3F">сборнике распространенных вопросов</uri>. 
</p>

<ul>
  <li>
    При использовании cdrecord, просто введите <c>cdrecord dev=/dev/sr0 &lt;скачанный iso-файл&gt;</c>
    (/dev/sr0 замените на путь к вашему устройству CD-RW). 
  </li>
  <li>
    При использования K3B, выберите <c>Tools</c> &gt; <c>Burn CD Image</c> 
    (Инструменты &gt; Прожечь CD образ). Затем в области 
    'Image to Burn' ('Образ для записи') укажите свой ISO-файл. 
    В завершение нажмите <c>Start</c> (Запуск). 
  </li>
  <li>
    В Mac OS X Panther, запустите <c>Disk Utility</c> в
    <path>Applications/Utilities</path>, выберите <c>Open</c> в меню
    <c>Images</c>, выберите смонтированный образ диска в главном окне, а затем
    выберите <c>Burn</c> в меню <c>Images</c>.
  </li>
  <li>
    В Mac OS X Jaguar, запустите <c>Disk Copy</c> в
    <path>Applications/Utilities</path>, выберите <c>Burn Image</c> из меню
    <c>File</c>, выберите ISO, и нажмите кнопку <c>Burn</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>По умолчанию: Загрузка установочного диска на Apple/IBM</title>
<body>

<p>
Поместите установочный диск в CD-ROM и перезагрузите систему. Зажмите клавишу
'C' при загрузке. Вам будет выдано дружеское приветственное сообщение,
и внизу экрана появится подсказка <e>boot:</e>.
</p>

<p>
Также вы можете изменить некоторые опции ядра. В следующей таблице показаны
существующие опции загрузки, которые вы можете добавить:
</p>

<table>
<tr>
  <th>Опция загрузки</th>
  <th>Описание</th>
</tr>
<tr>
  <ti><c>video</c></ti>
  <ti>
    Данная опция принимает один из следующих тегов, зависящих от
    производителя: <c>radeonfb</c>, <c>rivafb</c>, <c>atyfb</c>, 
    <c>aty128</c>, <c>nvidiafb</c> или <c>ofonly</c>. За данным тегом
    может следовать разрешение и частота обновления экрана. Например,
    <c>video=radeonfb:1280x1024@75</c>. Если вы не уверены, что выбрать,
    опция <c>ofonly</c> почти наверняка заработает.
  </ti>
</tr>
<tr>
  <ti><c>nol3</c></ti>
  <ti>
    Отключает кэш 3-го уровня на некоторых powerbook-ах (нужно для тех, 
    у которых хотя бы 17").
  </ti>
</tr>
<tr>
  <ti><c>debug</c></ti>
  <ti>
    Включает отладочные сообщения, порождает оболочку initrd, которую можно
    использовать для отладки установочного диска.
  </ti>
</tr>
<tr>
  <ti><c>sleep=X</c></ti>
  <ti>
    Ждет X секунд перед продолжением. Это может понадобиться для некоторых
    очень старых SCSI CD-ROM'ов, которые не умеют достаточно быстро
    раскручивать диск.
  </ti>
</tr>
<tr>
  <ti><c>bootfrom=X</c></ti>
  <ti>
    Загрузиться с другого устройства
  </ti>
</tr>
<tr>
  <ti><c>dosshd</c></ti>
  <ti>Запускает <c>sshd</c>. Полезно для удаленных установок.</ti>
</tr>
<tr>
  <ti><c>passwd=foo</c></ti>
  <ti>
    Устанавливает то, что находится после = как пароль root. Используется с
    ключом <c>dosshd</c> для удаленных установок.
  </ti>
</tr>
</table>

<p>
Нажмите в данной подсказке enter, и с диска будет загружено полное окружение
Gentoo Linux. Продолжайте читать с раздела 
<uri link="#booted">И, когда вы загрузились...</uri>.
</p>

</body>
</subsection>
<subsection>
<title>IBM pSeries</title>
<body>

<p>
Диск должен автоматически запуститься на вашем компьютере pSeries, но иногда
этого не происходит. В этом случае вам нужно настроить ваш cdrom в меню
мультизагрузки как загрузочное устройство. Если вы запускаете свой компьютер
с подключенным монитором и клавиатурой, вы можете попасть в мею
мультизагрузки, нажав кнопку F1 при запуске. Но, если вы запускаете свой
компьютер через последовательную консоль, вам нужно нажать <c>1</c>. Нажмите
эту клавишу, когда вы увидите следующую строку в последовательной консоли:
</p>

<pre caption="Нажмите клавишу '1' когда появится данная строка">
memory      keyboard     network      scsi      speaker
</pre>

<p>
Другим вариатом будет перейти в Open Firmware и сделать это оттуда:
</p>

<ol>
  <li>
    Загрузиться в Open Firmware: та же самая процедура, как и попадание
    в меню мультизагрузки (описана несколькими строками выше), но нужно
    использовать F8 и 8 вместо F1 и 1.
  </li>
  <li>Запустите команду 0> boot cdrom:1,yaboot</li>
  <li>Отойдите и наслаждайтесь!</li>
</ol>

<note>
Если вы получите что-то вроде написанного ниже, то Open Firmware не установлена
правильно. Используйте вариант с меню мультизагрузки, описанный выше.
</note>

<pre caption="Вывод в случае, если Open Firmware настроена не правильно">
0 > boot cdrom:1,yaboot
 ok
0 >
</pre>

</body>
</subsection>
<subsection id="booted">
<title>И, когда вы загрузились...</title>
<body>

<p>
Вы увидите подсказку пользователя root ("#") на текущей консоли. Вы также
сможете переключаться на другие консоли, нажимая Alt-fn-F2, Alt-fn-F3 и 
Alt-fn-F4. Вернитесь на ту консоль, с которой вы начинали, нажав Alt-fn-F1.
</p>

<p>
Если вы устанавливаете Gentoo на систему с клавиатурой не с английской
раскладкой, используйте <c>loadkeys</c> для загрузки раскладки символов для
вашей клавиатуры. Чтобы получить список всех раскладок, выполните
<c>ls /usr/share/keymaps/i386</c>.
</p>

<pre caption="Список существующих раскладок">
<comment>(На большинстве систем PPC64 использует раскладки x86)</comment>
# <i>ls /usr/share/keymaps/i386</i>
</pre>

<p>
Теперь загрузите раскладку, которую вы выбрали:
</p>

<pre caption="Загрузка раскладки">
# <i>loadkeys be-latin1</i>
</pre>

<p>
Продолжайте читать с раздела <uri link="#hardware">Дополнительная конфигурация оборудования</uri>.
</p>

</body>
</subsection>

<subsection>
<include href="hb-install-bootconfig.xml"/>
</subsection>

</section>
</sections>

<!-- *$Localization:
target-language: Russian
target-date: 2014-04-12
source-cvs-revision 1.56
transferred-by:  Romanov Vladimir [blueboar2@gmail.com]
-->
