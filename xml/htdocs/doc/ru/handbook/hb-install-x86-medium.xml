<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- Текст этого документа распространяется на условиях лицензии CC-BY-SA -->
<!-- См. http://creativecommons.org/licenses/by-sa/2.5 -->
<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/handbook/Attic/hb-install-x86-medium.xml,v 1.6 2005/11/19 15:52:36 achumakov Exp $ -->


<sections>

<version>2.6</version>
<date>2005-11-11</date>

<section>
<title>Аппаратные требования</title>
<subsection>
<title>Введение</title>
<body>

<p>
Перед тем как начать, перечислим аппаратные требования, необходимые для 
успешной установки Gentoo на вашем компьютере. 
</p>

</body>
</subsection>
<subsection>
<title>Аппаратные требования</title>
<body>

<table>
<tr>
  <th>Центральный процессор</th>
  <ti>i486 или новее</ti>
</tr>
<tr>
  <th>Память</th>
  <ti>64 МБ</ti>
</tr>
<tr>
  <th>Дисковое пространство</th>
  <ti>1.5 ГБ (исключая пространство подкачки)</ti>
</tr>
<tr>
  <th>Пространство подкачки</th>
  <ti>Не менее 256 МБ</ti>
</tr>
</table>

</body>
</subsection>
</section>
<!-- This part can be propagated to the other architectures as well. -->
<!-- START -->
<section>
<title>Установочные компакт-диски Gentoo</title>
<subsection>
<title>Введение</title>
<body>

<p>
<e>Установочные компакт-диски Gentoo</e> &mdash; это загрузочные диски, 
содержащие самодостаточную среду Gentoo. Они позволяют загружать Linux с 
компакт-диска. При загрузке определяются ваши устройства, и загружаются 
соответствующие драйверы. Эти диски сопровождаются разработчиками Gentoo.
</p>

<p>
Все установочные компакт-диски позволяют загрузиться, настроить сеть,
разметить разделы жесткого диска и начать установку Gentoo из интернета. В 
настоящее время мы выпускаем два установочных компакт-диска, одинаково 
пригодных для установки Gentoo с загрузкой из интернета последних версий
существующих пакетов. 
</p>

<p>
Если вы хотите установить Gentoo без работающего соединения с интернетом,
пожалуйста, следуйте инструкциям по установке, описанным в <uri 
link="2005.1/index.xml">Настольной книге Gentoo 2005.1</uri>.
</p>

<p>
Вот два установочных компакт-диска, которые мы в настоящее выпускаем:
</p>

<ul>
  <li>
    <e>Минимальный</e> установочный компакт-диск Gentoo, маленький, сугубо
    деловой, загрузочный диск, единственное назначение которого &mdash;
    загрузить систему, подготовить подключение к сети и перейти к 
    установке Gentoo.
  </li>
  <li>
    <e>Универсальный</e> установочный диск Gentoo - загрузочный компакт-диск с
    теми же возможностями, что и у минимального диска. Дополнительно, он
    содержит несколько архивов третьей стадии (stage3), оптимизированных для
    отдельных разновидностей различных архитектур.
  </li>
</ul>

<p>
Чтобы помочь решить, какой из них вам нужен, мы выписали главные преимущества и 
недостатки каждого диска.
</p>

</body>
</subsection>
<subsection>
<title>Минимальный установочный компакт-диск Gentoo</title>
<body>

<p>
Минимальный установочный диск называется
<c>install-x86-minimal-2005.1.iso</c> и занимает всего 52 МБ.
Gentoo можно устанавливать с этого диска только при постоянном наличии 
работоспособного подключения к интернету.
</p>

<table>
<tr>
  <th>Минимальный установочный диск</th>
  <th>За и против</th>
</tr>
<tr>
  <th>+</th>
  <ti>наименьший объем загрузки из сети</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    не содержит ни архив stage3, ни снимкок Portage, ни готовые двоичные 
    пакеты, и поэтому не подходит для установки без сети
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Универсальный установочный диск Gentoo</title>
<body>

<p>
Универсальный диск называется
<c>install-x86-universal-2005.1.iso</c>, имеет размер 650 МБ
и занимает целый компакт-диск. С этого диска вы сможете установить Gentoo даже 
без исправного подключения к интернету, на случай, если в процессе установки 
Gentoo на свой компьютер вам захочется принести его еще и на соседний :)
</p>

<table>
<tr>
  <th>Универсальный установочный диск Gentoo</th>
  <th>За и gротив</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Содержит все, что потребуется. Можно выполнить установку даже без
    сетевого подключения.
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Огромный объем загрузки.</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Другие компакт-диски</title>
<body>

<p>
На наших зеркалах вы можете обнаружить так называемый <e>компакт-диск с 
пакетами</e>. Это не установочный диск, а дополнительный ресурс, который можно 
использовать при установке без сети. На нем содержатся готовые бинарные пакеты 
(так называемый GRP-набор), позволяющие после бессетевой установки Gentoo легко 
и быстро устанавливать дополнительные приложения, такие как OpenOffice.org, 
KDE, GNOME и т.д.
</p>

<p>
Если вы собираетесь устанавливать дополнительные программы с диска с пакетами,
убедитесь, что он предназначен для той же архитектуры, что и использованный 
вами архив stage3.
</p>

</body>
</subsection>
<subsection>
<title>Stage3-файл</title>
<body>

<p>
Архив третьей стадии &mdash; stage3 &mdash; это файл, содержащий минимальную 
среду Gentoo, пригодную для продолжения установки Gentoo в соответствии с 
инструкциями, данными в этом руководстве. Когда-то в Настольной книге Gentoo 
описывалась установка с использованием файла одной из трех стадий создания 
системы. Несмотря на то, что в Gentoo до сих предлагаются файлы stage1 и 
stage2, в официальном способе установки используется архив stage3. Если вас
интересует установка Gentoo из файлов stage1 или stage2, пожалуйста, обратитесь 
к списку распространенных вопросов по Gentoo, раздел <uri 
link="/doc/en/faq.xml#stage12">Как установить Gentoo, используя файлы Stage1 
или Stage2?</uri>
</p>

</body>
</subsection>
</section>
<!-- STOP -->
<section>
<title>Скачиваем, прожигаем и загружаемся с установочного диска Gentoo</title>
<subsection>
<title>Скачивание и прожиг дисков</title>
<body>

<p>
Итак, вы выбрали нужный установочный диск Gentoo. Начнем с его загрузки из сети
и прожига. Ранее обсуждались варианты доступных дисков, но где их взять?
</p>

<p>
Вы можете загрузить любой из установочных дисков (а при желании &mdash; заодно 
и диск пакетов) с одного из наших <uri 
link="/main/en/mirrors.xml">зеркал</uri>. Диски расположены в каталоге 
<path>releases/x86/2005.1/installcd</path>.
</p>

<p>
В этом каталоге находятся так называемые ISO-файлы. Это полные образы
компакт-дисков, которые можно записать на CD-R.
</p>

<p>
В случае, если не уверены, не искажен ли загруженный файл, то можете 
вычислить и сверить его контрольную сумму MD5 с нашей (например,
<path>install-x86-minimal-2005.1.iso.md5</path>).
Вычислить контрольную сумму MD5 можно программой <c>md5sum</c> в Linux/Unix, 
или <uri link="http://www.etree.org/md5com.html">md5sum</uri> для Windows.
</p>

<p>
Другой способ проверить пригодность загруженного файла &mdash; с помощью GnuPG 
сверить криптографическую подпись с хранящейся у нас (файл, заканчивающийся 
<path>.asc</path>). Загрузите файл подписи, затем получите общественный ключ:
</p>

<pre caption="Получение публичного ключа">
$ <i>gpg --keyserver pgp.mit.edu --recv-keys 17072058</i>
</pre>

<p>
Теперь сверьте подпись:
</p>

<pre caption="Сверка криптографической подписи">
$ <i>gpg --verify &lt;signature file&gt; &lt;downloaded iso&gt;</i>
</pre>

<p>
Для записи скачанных ISO-образов, необходимо установить &laquo;сырой&raquo; 
способ прожига. Как это сделать, сильно зависит от используемой программы. 
Здесь мы обсудим <c>cdrecord</c> и <c>K3B</c>. Дополнительные сведения 
находятся в нашем <uri link="/doc/en/faq.xml#isoburning">списке 
распространенных вопросов</uri>.
</p>

<ul>
  <li>
    При использовании cdrecord, просто введите <c>cdrecord dev=/dev/hdc 
    &lt;скачанный iso-файл&gt;</c> (замените <path>/dev/hdc</path> на путь к 
    вашему устройству CD-RW)
  </li>
  <li>
    При использования K3B, выберите <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn 
    Image</c> (<c>Инструменты</c> &gt; <c>Компакт-диск</c> &gt; <c>Прожечь 
    образ</c>). Затем укажите ваш ISO-файл в области 'Image to Burn'. В 
    завершение нажмите <c>Start</c> (<c>Запуск</c>). 
  </li> <!-- (**) Russian K3B translation needs to be checked -->
</ul>

</body>
</subsection>
<subsection>
<title>Загрузка с установочного компакт-диска</title>
<body>

<impo>
Перед тем, как приступить, полностью прочитайте этот подраздел, так как вам,
вероятно, больше не представится такая возможность перед последующими 
действиями.
</impo>

<p>
Как только вы записали установочный компакт-диск, пришло время загрузить 
его. Удалите все компакт-диски из ваших CD-приводов, перезагрузите вашу 
систему и войдите в BIOS. Это обычно делается, нажатием DEL, F1 или ESC, в 
зависимости от вашего BIOS. В BIOS измените порядок загрузки так, чтобы 
CD-ROM проверялся перед жестким диском. Это часто находится в разделе &quot;CMOS
Setup&quot;. Если вы не сделаете этого, ваша система только перезагрузится с
жесткого диска, игнорируя CD-ROM.
</p>

<p>
Теперь поместите установочный диск в привод CD-ROM (ото ж!) и перезагрузитесь.
Должно появиться загрузочное приглашение. На этом экране можно просто нажать
ENTER, чтобы запустить процесс загрузки с параметрами по умолчанию, или 
загрузить установочный диск по-своему: указать ядро, потом загрузочные 
параметры, а затем нажать ENTER.
</p>

<p>
Указать ядро? Да, на нашем установочном компакт-диске представлено несколько 
ядер. По умолчанию заданo <c>gentoo</c>. Другие ядра предназначены для 
специфических аппаратных нужд, а вариант <c>-nofb</c> отключает кадровый буфер.
</p>

<p>
Ниже находится краткий обзор доступных ядер:
</p>

<table>
<tr>
  <th>Ядро</th>
  <th>Описание</th>
</tr>
<tr>
  <ti>gentoo</ti>
  <ti>Ядро 2.6 с многопроцессорной поддержкой (используется по умолчанию)</ti>
</tr>
<tr>
  <ti>gentoo-nofb</ti>
  <ti>Аналогично <c>gentoo</c>, но без поддержки кадрового буфера</ti>
</tr>
<tr>
  <ti>memtest86</ti>
  <ti>Для выявления ошибок локальной оперативной памяти</ti>
</tr>
</table>

<p>
Также можно указать параметры ядра для принудительного включения или выключения 
определенных режимов. Приведенный список соответствует тому, что выводится 
при нажатия F2 на экране загрузки. 
</p>

<pre caption="Параметры, которые можно сообщить выбранному ядру">
- agpgart       загрузить agpgart (если есть проблемы с графикой, зависания)
- acpi=on       включить поддержку ACPI
- ide=nodma     принудительно отключить DMA для сбойных IDE-устройств
- doscsi        поиск scsi-устройств (нарушает работу некоторых ethernet-плат)
- dopcmcia      запуск службы pcmcia для PCMCIA-приводов компакт-дисков
- nofirewire    отключение модулей firewire в initrd
                (для firewire приводов компакт-дисков и т.д.)
- nokeymap      отключение выбора неамериканской раскладки клавиатуры
- docache       кэшировать в памяти исполняемую часть компакт-диска, позволяет
                размонтировать /mnt/cdrom для подключения другого диска 
- nodetect      не запускать hwsetup/kudzu и hotplug
- nousb         отключение загрузки модулей usb в initrd, отключает hotplug
- nodhcp        не запускать автоматически dhcp при обнаружении сетевой карты
- nohotplug     отключить загрузку службы hotplug
- noapic        отключить apic (попробуйте, если есть проблемы с устройствами
                scsi, сетевыми платами и т.д.)
- noevms        отключить поддержку модулей EVMS2
- nolvm2        отключить поддержку модулей LVM2
- hdx=stroke    позволяет использовать жесткий диск целиком, даже если BIOS 
                не поддерживает диски большого размера
- noload=module1,[module2,[...]]
                отключить загрузку определенных модулей ядра
</pre>

<p>
Теперь загрузите систему с диска, выбрав ядро (если вас не устраивает ядро по 
умолчанию <c>gentoo</c>) и указав дополнительные параметры. В качестве примера 
мы покажем, как загрузить ядро <c>gentoo</c> с параметром <c>dopcmcia</c>:
</p>

<pre caption="Загрузка установочного диска">
boot: <i>gentoo dopcmcia</i>
</pre>

<p>
Вы увидите заставку с полосой индикатора загрузки. Если вы устанавливаете
Gentoo на систему с неамериканской раскладкой клавиатуры, вам необходимо 
немедленно нажать ALT+F1, чтобы переключиться в подробный режим,
и следовать сообщениям. Если ничего не выбрать в течение 10 секунд, будет
установлена раскладка по умолчанию (клавиатура США), а загрузка продолжится.
После окончания загрузки вы будете автоматически зарегистрированы в 
&laquo;Живом&raquo; Gentoo Linux как &laquo;root&raquo; (сверхпользователь).
В текущей консоли должно быть прилашение &laquo;root&raquo; (&laquo;#&raquo;).
Можно переключаться в другие консоли, нажимая ALT-F2, ALT-F3 и ALT-F4.
Вернуться в первоначальную консоль можно нажатием ALT-F1.
</p>

<p>
Приступим к <uri link="#hardware">дополнительной настройке оборудования</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Дополнительная настройка оборудования</title>
<body>

<p>
При загрузке установочного компакт-диска система пытается определить
все устройства и загрузить соответствующие модули для их поддержки. В
подавляющем большинстве случаев она справляется с этим очень хорошо.
Однако, в редких случаях некоторые нужные модули автоматически не загружаются.
Если в ходе автоматического обнаружения на шине PCI пропущены какие-либо 
устройства, для их поддержки вам придется вручную загрузить модули ядра.
</p>

<p>
В следующем примере мы попробуем загрузить модуль <c>8139too</c> (для
поддержки некоторых типов сетевого интерфейса):
</p>

<pre caption="Загрузка модулей ядра">
# <i>modprobe 8139too</i>
</pre>

<p>
Если вам нужна поддержка PCMCIA, требуется запустить сценарий инициализации
<c>pcmcia</c>:
</p>

<pre caption="Запуск сценария инициализации PCMCIA">
# <i>/etc/init.d/pcmcia start</i>
</pre>

</body>
</subsection>
<subsection>
<title>Необязательный шаг: настройка скорости жесткого диска</title>
<body>

<p>
Если вы опытный пользователь, вы, возможно, захотите настроить скорость
жесткого диска IDE с помощью программы <c>hdparm</c>. Указав параметр
<c>-tT</c>, можно замерить скорость вашего диска (для уточнения
значений запустите программу несколько раз подряд): 
</p>

<pre caption="Тестирование производительности диска">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Для настройки вы можете использовать любой из приведенных примеров (или
поэкспериментировать самостоятельно), где в качестве диска указано
устройство <path>/dev/hda</path> (замените на название вашего диска):
</p>

<pre caption="Настройка скорости жесткого диска">
<comment>Включение DMA:</comment>                  # <i>hdparm -d 1 /dev/hda</i>
<comment>Включение безопасных настроек:</comment>  # <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Необязательный шаг: учетные записи пользователей</title>
<body>

<p>
Если вы собираетесь дать другим людям доступ к своей системе, или намерены 
входить в чат <c>irssi</c> без полномочий сверхпользователя (из соображений 
безопасности), потребуется создать учетные записи пользователей и изменить 
пароль сверхпользователя.
</p>

<p>
Для изменения пароля сверхпользователя используйте <c>passwd</c>:
</p>

<pre caption="Изменение пароля сверхпользователя">
# <i>passwd</i>
New password: <comment>(введите новый пароль)</comment>
Re-enter password: <comment>(введите новый пароль еще раз)</comment>
</pre>

<p>
Для создания учетной записи пользователя сначала нужно задать его реквизиты,
а затем задать пароль. Для этого служат программы <c>useradd</c> и 
<c>passwd</c>. В следующем примере мы создадим пользователя &quot;john&quot;:
</p>

<pre caption="Создание учетной записи пользователя">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(введите новый пароль для john)</comment>
Re-enter password: <comment>(введите новый пароль Джона еще раз)</comment>
</pre>

<p>
Вы можете изменить свой идентификатор пользователя со сверхпользователя (root) 
на вновь созданного пользователя с помощью <c>su</c>:
</p>

<pre caption="Изменение идентификатора пользователя">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Необязательный шаг: просмотр документации во время установки</title>
<body>

<p>
Если вам нужна возможность просмотра Настольной книги Gentoo в процессе 
установки (не важно, из сети или с компакт-диска), убедитесь, что вы создали 
учетную запись обычного пользователя (см. <uri 
link="#useraccounts">необязательный шаг: учетные записи пользователей</uri>). 
Затем нажмите <c>ALT-F2</c> для перехода в другой терминал, и 
войдите в систему.
</p>

<p>
Для чтения документации c компакт-диска, вы можете сразу запустить 
<c>links2</c>:
</p>

<pre caption="Просмотр документации с CD диска">
# <i>links2 /mnt/cdrom/docs/html/index.html</i>
</pre>

<p>
Однако, лучше открывать Настольную книгу Gentoo из сети, потому что она новее, 
чем находящуаяся на компакт-диске. Для ее чтения можно также пользоваться 
<c>links2</c>, но только после выполнения <e>настройки сети</e> (иначе вы 
не сможете выйти в интернет, чтобы прочесть документ):
</p>

<pre caption="Просмотр документации в сети">
# <i>links2 http://www.gentoo.org/doc/en/handbook/handbook-x86.xml</i>
</pre>

<p>
Вы можете переключаться на исходный терминал нажатием <c>ALT-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Необязательный шаг: запуск демона SSH</title>
<body>

<p>
Если вы хотите разрешить другим пользователям доступ к вашей системе в
процессе установки Gentoo (возможно затем, чтобы они помогли вам с установкой
или даже провели ее за вас), вам необходимо создать для них учетные записи, а
возможно, даже сообщить им пароль сверхпользователя (делайте это <e>только</e> 
в том случае, <e>если</e> вы <b>полностью доверяете</b> этим пользователям).
</p>

<p>
Чтобы запустить демон SSH, выполните следующую команду:
</p>

<pre caption="Запуск демона SSH">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Чтобы использовать sshd, сначала требуется настроить сеть. Переходите
к главе <uri link="?part=1&amp;chap=3">Настройка сети</uri>.
</p>

</body>
</subsection>
</section>
</sections>

<!-- *$Localization:
target-language: Russian
target-version: 2.6-r2
target-date: 2005-11-19
source-cvs-revision: 1.41
translated-by: Aleksey Glazunov, Vasiliy Golubev [vas@nightmail.ru]
edited-by: Alexey Chumakov [achumakov@gentoo.org]

notes:
This file is the source for hb-install-ARCH-medium.xml files.
On massive updates, first change this file!
Any non-arch specific changes to this file should be propagated to other archs.
 //achumakov
-->
