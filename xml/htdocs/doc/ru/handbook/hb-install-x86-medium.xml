<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- Текст этого документа распространяется на условиях лицензии CC-BY-SA -->
<!-- См. http://creativecommons.org/licenses/by-sa/2.5 -->
<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/handbook/Attic/hb-install-x86-medium.xml,v 1.16 2006/03/30 10:15:33 achumakov Exp $ -->


<sections>

<version>2.10</version>
<date>2006-03-02</date>

<section>
<title>Аппаратные требования</title>
<subsection>
<title>Введение</title>
<body>

<p>
Прежде чем начать, перечислим аппаратные требования, необходимые для успешной 
установки Gentoo на вашем компьютере.
</p>

</body>
</subsection>
<subsection>
<title>Аппаратные требования</title>
<body>

<table>
<tr>
  <th>Центральный процессор</th>
  <ti>i486 или новее</ti>
</tr>
<tr>
  <th>Память</th>
  <ti>64 МБ</ti>
</tr>
<tr>
  <th>Дисковое пространство</th>
  <ti>1.5 ГБ (исключая пространство подкачки)</ti>
</tr>
<tr>
  <th>Пространство подкачки</th>
  <ti>не менее 256 МБ</ti>
</tr>
</table>

</body>
</subsection>
</section>
<!-- This part can be propagated to the other architectures as well. -->
<!-- START -->
<section>
<title>Установочные компакт-диски Gentoo</title>
<subsection>
<title>Введение</title>
<body>

<p>
<e>Установочные компакт-диски Gentoo</e> &mdash; это загрузочные диски, 
содержащие самодостаточную среду Gentoo. Они позволяют загружать Linux прямо с  
компакт-диска. При запуске определяются ваши устройства и загружаются 
соответствующие драйверы. Эти диски сопровождаются разработчиками Gentoo.
</p>

<p>
Все установочные компакт-диски позволяют загрузиться, настроить сеть,
разметить разделы жесткого диска и начать установку Gentoo из интернета. В 
настоящее время мы выпускаем два установочных компакт-диска, одинаково 
подходящих для установки Gentoo с загрузкой последних версий существующих 
пакетов из интернета.
</p>

<p>
Если вы хотите установить Gentoo без работоспособного соединения с интернетом,
или желаете использовать одну из существующих программ установки, пожалуйста, 
следуйте указаниям по установке, приведенным в <uri 
link="/doc/en/handbook/2006.0/index.xml">настольной книге Gentoo 2006.0 
(англ.)</uri>.
</p>

<p>
В настоящее время мы выпускаем два установочных компакт-диска:
</p>

<ul>
  <li>
    <e>Минимальный</e> установочный диск Gentoo, маленький загрузочный 
    компакт-диск без излишеств, единственное назначение которого &mdash; 
    загрузить систему, подготовить подключение к сети и перейти к установке 
    Gentoo. 
  </li>
  <li>
    <e>Живой установочный диск</e> Gentoo, содержащий все необходимое для 
    установки Gentoo. На нем есть графическая среда, графическая и консольная
    программы автоматической установки, и, конечно, указания по установке для 
    вашей архитектуры.  
  </li>
</ul>

<p>
Чтобы помочь вам решить, какой из них нужен, мы привели главные преимущества и 
недостатки каждого диска.
</p>

</body>
</subsection>
<subsection>
<title>Минимальный установочный диск Gentoo</title>
<body>

<p>
Минимальный установочный диск называется
<c>install-x86-minimal-2006.0.iso</c> и занимает всего 49 МБ.
Gentoo можно устанавливать с этого диска только при постоянном наличии 
работоспособного подключения к интернету.
</p>

<table>
<tr>
  <th>Минимальный установочный диск</th>
  <th>За и против</th>
</tr>
<tr>
  <th>+</th>
  <ti>наименьший объем загрузки из сети</ti>
</tr>
<tr>
  <th>&ndash;</th>
  <ti>
    не содержит ни архива stage3, ни снимков Portage, ни готовых двоичных
    пакетов, и поэтому не подходит для установки без сети
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Живой установочный диск Gentoo</title>
<body>

<p>
Живой установочный диск называется
<c>install-x86-universal-2006.0.iso</c> и занимает 697 МБ.
С этого диска вы сможете установить Gentoo даже без исправного подключения к 
интернету, на случай, если в процессе установки Gentoo на свой компьютер у вас 
появится неодолимое желание занести его еще и на соседний :)
</p>

<table>
<tr>
  <th>Живой установочный диск Gentoo</th>
  <th>За и против</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    содержит все, что требуется; установку можно выполнять даже без сетевого 
    подключения
  </ti>
</tr>
<tr>
  <th>&ndash;</th>
  <ti>огромный объем загрузки</ti>
</tr>
</table>
</body>
</subsection>
<!-- PackageCDs on x86 are outdated
<subsection>
<title>Другие диски</title>
<body>

<p>
На наших зеркалах можно обнаружить <e>компакт-диск с пакетами (Package CD)</e>. 
Это не установочный диск, а дополнительный источник, который можно использовать 
при установке без сети. На нем находятся готовые двоичные пакеты (также 
известные как набор GRP, эталонной платформы Gentoo), которые позволяют при
бессетевой установке Gentoo легко и быстро установить дополнительные 
приложения, такие как OpenOffice.org, KDE, GNOME и т.д.
</p>

<p>
Если вы собираетесь устанавливать дополнительные программы с диска с пакетами,
убедитесь, что он предназначен для той же архитектуры, что и используемый
архив stage3.
</p>

</body>
</subsection>-->
<subsection>
<title>Файл Stage3</title>
<body>

<p>
Архив третьей стадии &mdash; stage3 &mdash; это файл, содержащий минимальную 
среду Gentoo, пригодную для продолжения установки Gentoo в соответствии с 
инструкциями, данными в этом руководстве. Когда-то в настольной книге Gentoo 
описывались варианты установки с использованием файла любой из трех 
существующих стадий создания системы. Несмотря на то, что в Gentoo до сих 
представлены файлы stage1 и stage2, в официальном способе установки 
используется архив stage3. Если вас интересует установка Gentoo из файлов 
stage1 или stage2, пожалуйста, обратитесь к сборнику распространенных вопросов 
по Gentoo, раздел <uri link="/doc/ru/faq.xml#stage12">как установить Gentoo, 
используя файлы Stage1 или Stage2?</uri>
</p>

<p>	
Архивы stage3 можно загрузить из <path>releases/x86/2006.0/stages/</path>	
или с любого из <uri link="/main/en/mirrors.xml">официальных зеркал 
Gentoo (англ.)</uri>; на &laquo;живом диске&raquo; они не поставляются.	
</p>	

</body>
</subsection>
</section>
<!-- STOP -->
<section>
<title>Скачивание, прожиг и загрузка с установочного диска Gentoo</title>
<subsection>
<title>Скачивание и прожиг дисков</title>
<body>

<p>
Итак, вы выбрали нужный установочный диск Gentoo. Начнем с его загрузки из сети
и прожига. Ранее обсуждались варианты доступных дисков, но где их взять?
</p>

<p>
Вы можете загрузить любой из установочных дисков (а при желании &mdash; заодно 
и диск пакетов, если есть) с одного из наших <uri 
link="/main/en/mirrors.xml">зеркал (англ.)</uri>. Установочные диски 
расположены в каталоге <path>releases/x86/2006.0/installcd</path>.
</p>

<p>
В этом каталоге находятся ISO-файлы. Это полные образы компакт-дисков, которые 
можно записать на CD-R.
</p>

<p>
Если вас волнует, не искажен ли загруженный файл, можно сверить его контрольную 
сумму MD5 с рассчитанной нами (например,
<path>install-x86-minimal-2006.0.iso.DIGESTS</path>).
Вычислить контрольную сумму MD5 можно утилитой <c>md5sum</c> в Linux/Unix,
или программой <uri link="http://www.etree.org/md5com.html">md5sum 
(англ.)</uri> для Windows.
</p>

<p>
Другой способ убедиться в пригодности загруженного файла &mdash; с помощью 
GnuPG сверить криптографическую подпись с той, что хранится у нас (в файле с
расширением <path>.asc</path>). Скачайте файл подписи, затем получите 
открытый ключ:
</p>

<pre caption="Получение открытого ключа">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Теперь сверьте подпись:
</p>

<pre caption="Сверка криптографической подписи">
$ <i>gpg --verify &lt;файл подписи&gt; &lt;скачанный образ диска&gt;</i>
</pre>

<p>
Записывать загруженный ISO-образ нужно в &laquo;сыром&raquo; режиме прожига.
Как это сделать, сильно зависит от используемой программы. Здесь мы обсудим 
запись с помощью <c>cdrecord</c> и <c>K3B</c>. Дополнительные сведения 
находятся в нашем сборнике <uri 
link="/doc/ru/faq.xml#isoburning">распространенных вопросов</uri>.
</p>

<ul>
  <li>
    При использовании cdrecord, просто введите <c>cdrecord dev=/dev/hdc 
    &lt;скачанный iso-файл&gt;</c> (<path>/dev/hdc</path> замените на путь к
    вашему устройству CD-RW).
  </li>
  <li>
    При использования K3B, выберите <c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn 
    Image</c> (<c>Инструменты</c> &gt; <c>Компакт-диск</c> &gt; <c>Прожечь 
    образ</c>). Затем в области 'Image to Burn' ('Образ для прожига') укажите 
    свой ISO-файл. В завершение нажмите <c>Start</c> (<c>Запуск</c>). 
  </li> <!-- (**) Russian K3B translation needs to be checked -->
</ul>

</body>
</subsection>
<subsection>
<title>Загрузка с установочного компакт-диска</title>
<body>

<impo>
Перед тем, как приступить, полностью прочитайте этот подраздел, так как перед 
последующими действиями вам, скорее всего, больше не представится такая 
возможность.
</impo>

<p>
Записав установочный компакт-диск, пора его загрузить. Уберите все 
компакт-диски из своих приводов CD, перезагрузите компьютер и войдите в BIOS. 
В зависимости от BIOS, для этого обычно нужно нажать DEL, F1 или ESC. В BIOS 
измените порядок загрузки так, чтобы обращение к CD-ROM выполнялось до 
обращения к жесткому диску. Этот параметр часто задается в разделе &laquo;CMOS
Setup&raquo;. Если порядок загрузки не изменить, система просто перезагрузится 
с жесткого диска, игнорируя CD-ROM.
</p>

<p>
Теперь поместите установочный диск в привод CD-ROM (наконец-то!) и 
перезагрузитесь. Должно появиться загрузочное приглашение. Здесь можно просто 
нажать ENTER, чтобы запустить процесс загрузки с параметрами по умолчанию, или  
загрузить установочный диск по-своему: указать ядро, потом загрузочные 
параметры, а затем нажать ENTER.
</p>

<p>
Указать ядро? Да, на нашем установочном компакт-диске есть несколько вариантов 
ядра. По умолчанию используется <c>gentoo</c>. Другие ядра предназначены для 
специфических аппаратных задач; вариант <c>-nofb</c> отключает кадровый буфер.
</p>

<p>
Ниже перечислены доступные варианты ядра:
</p>

<table>
<tr>
  <th>Ядро</th>
  <th>Описание</th>
</tr>
<tr>
  <ti>gentoo</ti>
  <ti>ядро 2.6 с многопроцессорной поддержкой (используется по умолчанию)</ti>
</tr>
<tr>
  <ti>gentoo-nofb</ti>
  <ti>аналогично <c>gentoo</c>, но без поддержки кадрового буфера</ti>
</tr>
<tr>
  <ti>memtest86</ti>
  <ti>для выявления ошибок локальной оперативной памяти</ti>
</tr>
</table>

<p>
Также можно указать параметры ядра, явно включающие или отключающие 
определенные режимы. Приведенный список соответствует тому, что выводится
при нажатия F2 в экране загрузки. 
</p>

<pre caption="Параметры, которые можно сообщить выбранному ядру">
- agpgart       загрузка agpgart (используйте при сбоях графики, зависаниях)
- acpi=on       включение поддержки ACPI
- ide=nodma     принудительное отключение DMA для сбойных IDE-устройств
- doscsi        поиск scsi-устройств (нарушает работу некоторых ethernet-плат)
- dopcmcia      запуск службы pcmcia для PCMCIA-приводов компакт-дисков
- nofirewire    отключение в initrd модулей firewire (предназначенных для
                приводов компакт-дисков с подключением firewire и т.п.)
- nokeymap      отключение выбора неамериканских раскладок клавиатуры
- docache       кэширование исполняемой части компакт-диска в памяти, позволяет
                размонтировать /mnt/cdrom для установки другого диска 
- nodetect      запрет запуска hwsetup/kudzu и hotplug
- nousb         отключение загрузки модулей usb в initrd, отключает hotplug
- nodhcp        отмена автоматического запуска dhcp при обнаружении сетевой 
                платы
- nohotplug     отключение загрузки службы hotplug
- noapic        отключение apic (попробуйте, если есть аппаратные проблемы
                с устройствами scsi, сетевыми платами и т.д.)
- noevms        отключение поддержки модулей EVMS2
- nolvm2        отключение поддержки модулей LVM2
- hdx=stroke    позволяет использовать жесткий диск целиком, даже если BIOS 
                не поддерживает диски большого размера
- noload=module1,[module2,[...]]
                запрет загрузки определенных модулей ядра
</pre>

<p>
Теперь загрузите систему с компакт-диска, выбрав ядро (если вас не устраивает 
ядро по умолчанию <c>gentoo</c>) и указав дополнительные параметры. В качестве 
примера мы покажем, как загрузить ядро <c>gentoo</c> с параметром 
<c>dopcmcia</c>:
</p>

<pre caption="Загрузка установочного диска">
boot: <i>gentoo dopcmcia</i>
</pre>

<p>
Появится заставка с полосой индикатора загрузки. Если вы устанавливаете
Gentoo на машину с неамериканской раскладкой клавиатуры, нужно немедленно 
нажать ALT+F1, чтобы переключиться в подробный режим, и следовать появившимся 
указаниям. Если ничего не выбрано в течение 10 секунд, устанавливается 
раскладка по умолчанию (клавиатура США), а загрузка продолжается. По окончании 
загрузки для вас будет выполнен автоматический вход в &laquo;живой&raquo; 
Gentoo Linux в качестве &laquo;root&raquo; (администратора). В текущей консоли 
должно появиться прилашение root (&laquo;#&raquo;). Также можно переключаться в 
другие консоли, нажимая ALT-F2, ALT-F3 и ALT-F4. Вернуться в первоначальную 
консоль можно нажатием ALT-F1.
</p>

<p>
Приступим к <uri link="#hardware">дополнительной настройке оборудования</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Дополнительная настройка оборудования</title>
<body>

<p>
При загрузке с установочного компакт-диска система пытается определить
все устройства и загрузить соответствующие модули для их поддержки. В
подавляющем большинстве случаев она очень хорошо справляется с этим.
Однако, в редких случаях некоторые из нужных модулей не загружаются 
автоматически. Если какие-либо устройства пропущены при автоматическом опросе 
шины PCI, модули ядра для их поддержки вам придется загрузить вручную.
</p>

<p>
В следующем примере мы попробуем загрузить модуль <c>8139too</c> (для
поддержки некоторых типов сетевого интерфейса):
</p>

<pre caption="Загрузка модуля ядра">
# <i>modprobe 8139too</i>
</pre>

<p>
Если вам нужна поддержка PCMCIA, требуется запустить сценарий инициализации
<c>pcmcia</c>:
</p>

<pre caption="Запуск сценария инициализации PCMCIA">
# <i>/etc/init.d/pcmcia start</i>
</pre>

</body>
</subsection>
<subsection>
<title>Дополнительно: оптимизация скорости жесткого диска</title>
<body>

<p>
Если вы опытный пользователь, возможно, вам захочется настроить скоростные 
параметры жесткого диска IDE с помощью программы <c>hdparm</c>. Указав параметр 
<c>-tT</c>, можно измерить скорость вашего диска (для уточнения значений 
запускайте программу несколько раз подряд):  
</p>

<pre caption="Тестирование производительности диска">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Для настройки вы можете использовать любой из приведенных примеров (или
поэкспериментировать самостоятельно), при необходимости указав название своего 
диска вместо <path>/dev/hda</path>:
</p>

<pre caption="Оптимизация скорости жесткого диска">
<comment>Включение DMA:</comment>                  # <i>hdparm -d 1 /dev/hda</i>
<comment>Установка безопасных значений:</comment>  # <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Дополнительно: учетные записи пользователей</title>
<body>

<p>
Если вы собираетесь дать другим людям доступ к своей системе, или намерены 
входить в чат <c>irssi</c> без прав администратора (из соображений 
безопасности), потребуется создать учетные записи пользователей и изменить
пароль администратора.
</p>

<p>
Для изменения пароля администратора используйте <c>passwd</c>:
</p>

<pre caption="Изменение пароля администратора">
# <i>passwd</i>
New password: <comment>(введите новый пароль)</comment>
Re-enter password: <comment>(введите новый пароль еще раз)</comment>
</pre>

<p>
Для создания учетной записи пользователя сначала задаются его реквизиты,
а затем вводится пароль. Для этого служат программы <c>useradd</c> и 
<c>passwd</c>. В следующем примере мы создадим пользователя &laquo;john&raquo;:
</p>

<pre caption="Создание учетной записи пользователя">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(введите новый пароль для john)</comment>
Re-enter password: <comment>(введите новый пароль Джона еще раз)</comment>
</pre>

<p>
Вы также можете изменить свой идентификатор пользователя с администратора 
(root) на вновь созданного пользователя командой <c>su</c>:
</p>

<pre caption="Изменение идентификатора пользователя">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Дополнительно: просмотр документации во время установки</title>
<body>

<p>
Если вам нужна возможность просмотра настольной книги Gentoo в процессе 
установки (не важно, из сети или с компакт-диска), убедитесь, что вы создали 
учетную запись обычного пользователя (см. <uri 
link="#useraccounts">дополнительно: учетные записи пользователей</uri>). 
Затем нажмите <c>ALT+F2</c> для перехода в другой терминал, и 
войдите в систему.
</p>

<p>
Для чтения документации c компакт-диска, вы можете сразу запустить 
<c>links</c>:
</p>

<pre caption="Просмотр документации с компакт-диска">
# <i>links /mnt/cdrom/docs/html/index.html</i>
</pre>

<p>
Но лучше открывать настольную книгу Gentoo из сети (там она новее, чем на 
компакт-диске). Для этого тоже можно пользоваться <c>links</c>, но только
после <e>настройки сети</e> (иначе вы не сможете выйти в интернет, чтобы 
прочесть документ):
</p>

<pre caption="Просмотр документации, находящейся в сети">
# <i>links http://www.gentoo.org/doc/ru/handbook/handbook-x86.xml</i>
</pre>

<p>
На исходный терминал можно переключаться нажатием <c>ALT+F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Дополнительно: запуск демона SSH</title>
<body>

<p>
Если вы хотите разрешить другим пользователям доступ к своей системе в
процессе установки Gentoo (возможно затем, чтобы они помогли вам с установкой
или даже провели ее за вас), для них потребуется создать учетные записи, а
возможно, даже дать им пароль администратора (делайте это <e>только</e> 
в том случае, <e>если</e> вы им <b>полностью доверяете</b>).
</p>

<p>
Чтобы запустить демон SSH, выполните следующую команду:
</p>

<pre caption="Запуск демона SSH">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Для использования sshd, сначала требуется настроить сеть. Переходите
к главе <uri link="?part=1&amp;chap=3">настройка сети</uri>.
</p>

</body>
</subsection>
</section>
</sections>

<!-- *$Localization:
target-language: Russian
target-version: 2.10-r2
target-date: 2006-03-28
source-cvs-revision: 1.47
translated-by: Aleksey Glazunov, Vasiliy Golubev [vas@nightmail.ru]
edited-by: Alexey Chumakov [achumakov@gentoo.org]

notes:
This file is the source for hb-install-ARCH-medium.xml files.
On massive updates, first change this file!
Any non-arch specific changes to this file should be propagated to other archs.
 //achumakov
-->
