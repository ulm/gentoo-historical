<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- Текст этого документа распространяется на условиях лицензии CC-BY-SA -->
<!-- См. http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/handbook/hb-install-ppc-medium.xml,v 1.17 2013/12/31 04:08:40 blueboar Exp $ -->


<sections>

<abstract>
Вы можете установить Gentoo множеством способов. Данная глава описывает, 
как установить Gentoo с использованием минимального установочного CD. 
</abstract>

<version>6</version>
<date>2013-12-17</date>

<section>
<title>Аппаратные требования</title>
<subsection>
<title>Введение</title>
<body>

<p>
Перед тем как начать, перечислим аппаратные требования, необходимые для 
успешной установки Gentoo на вашем компьютере. 
</p>

</body>
</subsection>
<subsection>
<title>Аппаратные требования</title>
<body>

<table>
<tr>
  <th>Машины Apple NewWorld</th>
  <ti>
    с микропроцессорами Power/PowerPC (G3, G4, G5), например iMac, eMac, iBook
    PowerBook, Xserver, PowerMac
  </ti>
</tr>
<tr>
  <th>Компьютеры Apple OldWorld</th>
  <ti>
    машины Apple с Open Firmware редакции ниже 3, например серии Beige G3,
    PCI PowerMac и PCI PowerBook. Должны также поддерживаться клоны Apple,
    основанные на PCI
  </ti>
</tr>
<tr>
  <th>Genesi</th>
  <ti>
    Pegasos I/II, Open Desktop Workstation, Efika
  </ti>
</tr>
<tr>
  <th>IBM</th>
  <ti>
    RS/6000, iSeries, pSeries
  </ti>
</tr>
<tr>
  <th>Память</th>
  <ti>Не менее 64 МБ</ti>
</tr>
<tr>
  <th>Дисковое пространство</th>
  <ti>1,5 ГБ (исключая пространство подкачки)</ti>
</tr>
<tr>
  <th>Пространство подкачки</th>
  <ti>Не менее 256 МБ</ti>
</tr>
</table>

<p>
Обязательно прочтите <uri link="https://wiki.gentoo.org/wiki/PPC/FAQ">распространенные вопросы о 
Gentoo PPC</uri> для помощи в частых вопросах по установке, или если вы не 
уверены, что именно находится внутри машины PowerPC, за которой вы прямо сейчас 
сидите.
</p>

</body>
</subsection>
</section>

<section>
<title>Установочный компакт-диск Gentoo</title>
<subsection>
<title>Введение</title>
<body>

<p>
<e>Установочные компакт-диски Gentoo</e> это загрузочный диски, на которых 
находится самодостаточное окружение Gentoo. Они позволяют вам загрузить Linux с
компакт-диска. В течение процесса загрузки будет определено ваше
оборудование и будут загружены необходимые драйвера. Установочные
компакт-диски Gentoo поддерживаются разработчиками Gentoo.
</p>

<p>
Все установочные компакт-диски позволяют вам загрузиться, инициализировать
разделы и начать установку Gentoo из Интернет.
</p>

</body>
</subsection>

<subsection>
<title>Минимальный установочный компакт-диск Gentoo</title>
<body>

<p>
Минимальный установочный компакт-диск называется <c><keyval id="min-cd-name"/></c>
и занимает около <keyval id="min-cd-size"/> дискового пространства. Вы можете
использовать данный установочный компакт-диск для установки Gentoo, но
<e>только</e> с рабочим Интернет-соединением.
</p>

</body>
</subsection>
<subsection>
<title>Архив Stage3</title>
<body>

<p>
Архив stage3 - это архив, содержащий минимальное окружение Gentoo, достаточное
для продолжения установки Gentoo, используя инструкции в этом руководстве.
Ранее настольная книга Gentoo описывала установку, используя один из трех
архивов стадии. Хотя Gentoo все еще предоставляет архивы stage1 и stage2,
официальный метод установки использует архив stage3. Если вы заинтересованы
в установке Gentoo с использованием архива stage1 или stage2, пожалуйста,
прочитайте список частозадаваемых вопросов Gentoo на тему
<uri link="https://wiki.gentoo.org/wiki/FAQ#How_do_I_Install_Gentoo_Using_a_Stage1_or_Stage2_Tarball.3F">Как мне установить Gentoo используя архив Stage1 или Stage2?</uri>
</p>

<p>
Архивы stage3 можно скачать с <path><keyval id="release-dir"/>current-stage3/</path> 
на любом из <uri link="/main/ru/mirrors.xml">Официальных зеркал Gentoo</uri>. Они не 
присутствуют на LiveCD.
</p>

</body>
</subsection>
</section>

<section>
<title>Скачиваем, прожигаем и загружаемся с установочного диска Gentoo</title>
<subsection>
<title>Скачивание и прожиг дисков</title>
<body>

<p>
Вы выбрали для использования установочный компакт-диск Gentoo. Мы начнем с
загрузки и записи выбранного установочного компакт-диска. Мы уже обсуждали ранее
различные установочные компакт-диски, но где вы можете найти их?
</p>

<p>
Вы можете загрузить любой из установочных дисков (а при желании &mdash; заодно 
и Package CD) с одного из наших <uri 
link="/main/ru/mirrors.xml">зеркал</uri>. Установочные компакт-диски
находятся в каталоге <path><keyval id="release-dir"/>current-iso/</path>.
</p>

<p>
В этом каталоге находятся ISO-файлы. Это полные образы компакт-дисков, которые 
можно записать на CD-R.
</p>

<p>
Если вам интересно, правильно ли скачался файл или нет, вы можете проверить
контрольную сумму SHA-2 файла и сравнить ее с контрольной суммой SHA-2, которую 
предоставляем мы (например, <path><keyval id="min-cd-name"/>.DIGESTS</path>).
Вы можете проверить контрольную сумму с помощью утилиты <c>sha512sum</c> под Linux/Unix, либо
<uri link="http://www.sinf.gr/en/hashcalc.html">Checksums calculator</uri> для Windows.
</p>

<pre caption="Проверяем контрольную сумму SHA-2">
$ <i>sha512sum -c &lt;скачанный файл iso.DIGESTS&gt;</i>
</pre>

<note>
Если вы получите сообщение о том, что не найдено правильно отформатированной
контрольной суммы SHA, посмотрите сами в файл DIGEST, чтобы увидеть,
какие контрольные суммы поддерживаются.
</note>

<p>
Другим способом проверить целостность скачанного файла является использование
GnuPG для проверки предоставляемой нами криптографической сигнатуры
(файл, заканчивающийся на <path>.asc</path>). Скачайте файл сигнатуры и
получите публичные ключи, чьи идентификаторы могут быть найдены на
<uri link="/proj/en/releng/index.xml">странице проекта выпусков</uri>
</p>

<pre caption="Получение публичного ключа">
<comment>(... Подставьте идентификаторы ключей, которые вы нашли на вышеозначенном сайте ...)</comment>
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 96D8BF6D 2D182910 17072058</i>
</pre>

<p>
Теперь сверьте подпись:
</p>

<pre caption="Проверка файлов">
$ <i>gpg --verify &lt;signature file&gt; &lt;downloaded iso&gt;</i>
$ <i>sha512sum -c &lt;downloaded iso.DIGESTS.asc&gt;</i>
</pre>

<p>
Для записи скачанных ISO-образов, необходимо установить &laquo;сырой&raquo; 
способ прожига. Как это сделать, сильно зависит от используемой программы. 
Здесь мы обсудим <c>cdrecord</c> и <c>K3B</c>. Дополнительные сведения 
находятся в нашем <uri link="https://wiki.gentoo.org/wiki/FAQ#How_do_I_burn_an_ISO_file.3F">списке 
распространенных вопросов</uri>.
</p>

<ul>
  <li>
    При использовании cdrecord, просто введите <c>cdrecord dev=/dev/sr0
    &lt;скачанный iso-файл&gt;</c> (замените <path>/dev/sr0</path> на путь к 
    вашему устройству CD-RW)
  </li>
  <li>
    При использования K3B, выберите <c>Tools</c> &gt; <c>Burn CD Image</c> 
    (<c>Инструменты</c> &gt; <c>Прожечь образ CD</c>). Затем укажите ваш ISO-файл 
    в области 'Image to Burn'. В завершение нажмите <c>Start</c> (<c>Запуск</c>). 
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>По умолчанию: загрузка установочного диска с помощью Yaboot</title>
<body>

<p>
На компьютерах NewWorld поместите установочный диск в привод компакт-дисков и
перезагрузите систему. Когда прозвучит сигнал запуска системы, просто
удерживайте &laquo;C&raquo; до тех пор, пока не загрузится установочный диск.
</p>

<p>
После загрузки установочного диска вы увидите дружеское приветствие и строку 
<e>boot:</e> внизу экрана.
</p>

<p>
Мы предоставляем одно универсальное ядро, <e>ppc32</e>. Это ядро собрано с 
поддержкой многопроцессорных машин, но так же хорошо загружается на 
однопроцессорных. 
</p>

<p>
На этом этапе вы можете изменить некоторые загрузочные параметры ядра. В 
следующей таблице перечислены некоторые из них:
</p>

<table>
<tr>
  <th>Загрузочный параметр</th>
  <th>Описание</th>
</tr>
<tr>
  <ti><c>video</c></ti>
  <ti>
    Этот параметр может принимать одно из приведенных значений: 
    <c>nvidiafb</c>, <c>radeonfb</c>, <c>rivafb</c>, <c>atyfb</c>, 
    <c>aty128</c> или <c>ofonly</c>. Вслед за этим значением можно указать 
    разрешение и частоту кадров, которые вам нужны. Например,
    <c>video=radeonfb:1280x1024@75-32</c> установит кадровый буфер ATI Radeon 
    в разрешение 1280x1024 с частотой кадров 75Гц и цветностью 32 бита.
    Если вы не уверены, что выбрать, и установка по умолчанию не работает,
    укажите <c>ofonly</c>: это почти наверняка сработает. 
  </ti>
</tr>
<tr>
  <ti><c>nol3</c></ti>
  <ti>
    Отключает кэш третьего уровня, необходимо на некоторых PowerBook 
    (по крайней мере, для 17-дюймомой модели)
  </ti>
</tr>
<tr>
  <ti><c>dofirewire</c></ti>
  <ti>
    Включает поддержку устройств IEEE1394 (FireWire), например, внешних жестких
    дисков
  </ti>
</tr>
<tr>
  <ti><c>dopcmcia</c></ti>
  <ti>
    Этот параметр необходимо включить, если вы собираетесь использовать
    устройства PCMCIA (например, сетевые карты PCMCIA) в процессе установки
  </ti>
</tr>
<tr>
  <ti><c>dosshd</c></ti>
  <ti>Запускает <c>sshd</c>. Полезно для удаленных установок.</ti>
</tr>
<tr>
  <ti><c>passwd=foo</c></ti>
  <ti>
    Устанавливает то, что находится после знака равно как пароль root.
    Используется вместе с <c>dosshd</c> для удаленных установок.
  </ti>
</tr>
</table>

<p>
Чтобы использовать вышеозначенные опции, при появлении подсказки <e>boot:</e>,
введите <e>ppc32</e> и желаемую опцию. В примере ниже мы заставим ядро
использовать кадровый буфер Open Firmware вместо драйвера, который будет
загружен для нашего оборудования.
</p>

<pre caption="Заставляем ядро использовать кадровый буфер Open Firmware">
boot: <i>ppc32 video=ofonly</i>
</pre>

<p>
Если вам не нужно добавлять никаких опций, просто нажмите enter при 
появлении данной подсказки, после чего с CD будет загружено полное окружение
Gentoo. Продолжайте с раздела <uri link="#booted">И когда вы загрузитесь...</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Альтернатива: загрузка с установочного диска на Pegasos</title>
<body>

<p>
Для Pegasos просто вставьте компакт-диск, и в ответ на загрузочный запрос 
SmartFirmware наберите <c>boot cd /boot/menu</c>. Это вызовет открытие
маленького загрузочного меню, в котором вы сможете выбрать из нескольких 
готовых вариантов конфигурации монитора. Если требуются особые параметры 
загрузки, их можно добавить в командную строку так же, как для Yaboot выше.
Например, <c>boot cd /boot/pegasos video=radeonfb:1280x1024@75 mem=256M</c>.
Значения параметров ядра по умолчанию (на случай, если что-то не так и вам 
это потребуется) таковы: <c>console=ttyS0,115200 console=tty0 init=/linuxrc 
looptype=squashfs loop=/livecd.squashfs cdroot root=/dev/ram0</c>.
</p>

</body>
</subsection>

<subsection>
<title>Альтернатива: загрузка установочного диска с BootX</title>
<body>

<p>
Если у вас OldWorld Mac, воспользоваться загрузочной областю диска невозможно.
Наиболее простое решение &mdash; использовать MacOS версии 9 или более
ранней для начальной загрузки в среду Linux с помощью утилиты BootX.
</p>

<p>
Прежде всего, скачайте <uri 
link="http://penguinppc.org/bootloaders/bootx/">BootX</uri> и распакуйте архив.  
Скопируйте <c>BootX Extension</c> из распакованного архива в папку 
<c>Extensions</c>, а BootX App Control Panel &mdash; в <c>Control Panels</c>, 
(обе папки находятся в системной папке MacOS). Затем создайте в системной 
папке подпапку с именем &laquo;Linux Kernels&raquo; и скопируйте в нее ядро 
<c>ppc32</c> с компакт-диска. Наконец, скопируте <c>ppc32.igz</c> из папки 
<path>boot</path> установочного диска в <c>системную папку</c> MacOS.
</p>

<p>
Чтобы подготовить BootX, запустите BootX App Control Panel. Сначала
выберите диалог &laquo;Options&raquo;, отметьте <c>Use Specified RAM
Disk</c> и укажите на <c>ppc32.igz</c> из системной папки. Вернитесь назад и 
убедитесь, что размер RAM-диска не меньше <c>32000</c>. В завершение, 
установите параметры ядра, как показано ниже: 
</p>

<pre caption="Параметры ядра BootX">
cdroot root=/dev/ram0 init=linuxrc loop=image.squashfs looptype=squashfs console=tty0
</pre>

<note>
Параметры ядра, приведенные в разделе yaboot выше, применимы и здесь.
Любой из них можно добавить к списку параметров ядра, приведенному выше.
</note>

<p>
Перепроверьте настройки, чтобы убедиться, что они верны, а затем сохраните
конфигурацию. Это убережет вас от повторного набора в случае неудачной 
загрузки, или если вы что-то пропустили. Нажмите кнопку Linux, находящуюся
вверху окна. Если все в порядке, произойдет загрузка с установочного диска.
Переходите к разделу <uri link="#booted">И когда вы загрузитесь...</uri>
</p>

</body>
</subsection>

<subsection id="booted">
<title>И когда вы загрузитесь...</title>
<body>

<p>
Вас встретит приглашение (&laquo;#&raquo;) в текущей консоли. В другие консоли 
можно переключаться, нажимая ALT-F2, ALT-F3 и ALT-F4. Вернуться в 
первоначальную консоль можно нажатием ALT-F1. Из-за раскладки клавиатуры,
на компьютерах Apple вам может потребоваться нажимать Alt-fn-Fx.
</p>

<p>
Если вы устанавливаете Gentoo на систему, раскладка клавиатуры которой 
отличается от раскладки для США, чтоды загрузить раскладку для своей клавиатуры,
используйте <c>loadkeys</c>. Для просмотра списка имеющихся раскладок запустите 
<c>ls /usr/share/keymaps/i386</c>.
</p>

<pre caption="Просмотр имеющихся раскладок">
<comment>(на большинстве систем PPC используются раскладки x86)</comment>
# <i>ls /usr/share/keymaps/i386</i>
</pre>

<p>
Теперь загрузите выбранную раскладку:
</p>
<pre caption="Загрузка раскладки">
# <i>loadkeys be-latin1</i>
</pre>

<p>
Приступайте к <uri link="#hardware">дополнительной настройке оборудования</uri>.
</p>

</body>
</subsection>

<subsection>
<include href="hb-install-bootconfig.xml"/>
</subsection>

</section>
</sections>

<!-- *$Localization:
target-language: Russian
target-date: 2013-12-17
source-cvs-revision: 1.76
Copied from hb-install-x86-medium with extras by Azamat H. Hackimov <azazello1984@mail.ru>
edited-by: Alexey Chumakov [achumakov@gentoo.org]
edited-by: Vladimir Romanov [blueboar2@gmail.com]
-->
