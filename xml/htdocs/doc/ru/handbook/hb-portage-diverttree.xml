<?xml version='1.0' encoding='UTF-8'?>
<!-- *$Localization:
target-language: Russian
target-version: 1.2-r2
target-date: 2005-05-03
translated-by: Vasiliy Golubev [vas@nightmail.ru]
edited-by:  none
proof-by: none
links_checked_by: none
tested_by: none
-->
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/handbook/hb-portage-diverttree.xml,v 1.1 2005/05/30 14:08:32 sergey Exp $ -->
<!-- REV: 1.6 -->
<sections>

<version>1.2</version>
<date>2005-04-11</date>

<section>
<title>Использование подмножества дерева Portage</title>
<subsection>
<title>Исключение пакета/категории</title>
<body>

<p>
Вы можете выборочно обновлять определенные категории/пакеты, игнорируя 
обновление других. Это достигается путем исключения таких  категорий/пакетов  
программой <c>rsync</c> на этапе выполнения <c>emerge --sync</c>.
</p>

<p>
По умолчанию <c>rsync</c> просматривает файл <path>/etc/portage/rsync_excludes</path> 
(если он существует), в котором перечислены категории или пакеты, которые вы
<e>не</e> хотите, чтобы <c>rsync</c> обновлял.
</p>

<p>
Заметьте, однако, что это может привести к проблемам с зависимостями, так как 
новые разрешенные пакеты могут зависеть от других новых, но исключенных 
из обновления пакетов.
</p>
    
</body>
</subsection>
</section>
<section>
<title>Добавление неофициального Ebuild'а</title>
<subsection>
<title>Определение дополнительного каталога Portage</title>
<body>

<p>
Вы можете указать Portage использовать ebuild'ы, не входящие в официальное 
дерево Portage. Создайте новый каталог (к примеру,
<path>/usr/local/portage</path>), в котором будут находиться ebuild'ы   
сторонних разработчиков. Используйте в точности такую же структуру каталогов, 
как и в официальном дереве Portage!
</p>

<p>
Затем определите переменную PORTDIR_OVERLAY в <path>/etc/make.conf</path>, чтобы 
она указывала на ранее созданный каталог. Теперь при использовании Portage, эти 
ebuild'ы будут рассматриваться как часть системы, но не будут
удаляться/перезаписываться при последующих запусках <c>emerge --sync</c>.
</p>

</body>
</subsection>
</section>
<section>
<title>Программы, поддерживаемые вне Portage</title>
<subsection>
<title>Использование Portage с самостоятельно собранными</title>
<body>

<p>
Иногда вам может потребоваться сконфигурировать, установить и поддерживать 
программное обеспечение самостоятельно, без автоматизации со стороны Portage,
не смотря на то, что оно поддерживается Portage. Наиболее известные случаи
— это исходные коды ядра и драйверы от nVidia. Вы можете настроить Portage так, 
чтобы системе стало известно, что определенные пакеты установлены вручную.
Этот процесс называется <e>инъекцией</e>, и поддерживается Portage посредством 
файла <path>/etc/portage/profile/package.provided</path>.
</p>

<p>
Например, если вы захотите сообщить Portage, что пакет <c>vanilla-sources-2.6.11.6</c> 
установлен вручную, нужно добавить следующую строку в
<path>/etc/portage/profile/package.provided</path>: 
</p>

<pre caption="Пример строки из файла package.provided">
sys-kernel/vanilla-sources-2.6.11.6
</pre>

</body>
</subsection>
</section>
</sections>
