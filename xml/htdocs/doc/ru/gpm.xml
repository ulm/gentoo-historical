<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/gpm.xml,v 1.4 2012/10/13 15:07:23 swift Exp $ -->

<guide disclaimer="obsolete" lang="ru">
<title>Использование мыши в консоли</title>

<author title="автор">
  <mail link="nightmorph@gentoo.org">Joshua Saddler</mail>
</author>
<author title="переводчик">
  <mail link="v.matyushin@gmail.com">Вячеслав Матюшин</mail>
</author>

<abstract>
Это руководство посвящено тому, как установить и использовать GPM (General
Purpose Mouse server) в консоли. GPM особенно удобен для новых установок
Gentoo или для систем, которые не могут или просто не используют X-сервер
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<!-- Текст этого документа распространяется на условиях лицензии CC-BY-SA -->
<!-- См. http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.2</version>
<date>2006-02-17</date>

<chapter>
<title>Установка GPM</title>
<section>
<body>

<p>
Если вы только что установили Gentoo, ваша мышь наверняка еще не настроена для
работы в интерфейсе командной строке (CLI). Или, возможно, вы не можете или не
хотите использовать X-сервер, но вам все же нужна мышь. Простое решение:
<c>gpm</c>, General Purpose Mouse server.
</p>

<p>
Прежде всего, нужно установить GPM:
</p>

<pre caption="Установка GPM">
# <i>emerge gpm</i>
</pre>

<p>
Во время компиляции вы могли заметить несколько сообщений, напоминающих о
необходимости настройки сервера. Вы должны настроить GPM до того, как
его запустить.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Настройка GPM</title>
<section>
<body>

<p>
Перед использованием GPM, вам потребуется раскомментировать строчки в
конфигурационном файле GPM, отвечающие за расположение и протокол вашей мыши:
</p>

<pre caption="Настройка GPM">
# <i>nano /etc/conf.d/gpm</i>
</pre>

<p>
В моем случае USB-мышь находится в <path>/dev/input/mouse0</path>. Итак, я
раскомментировал <path>/dev/input/mice</path> (так как это общее устройство для
всех мышей в системе) и соответствующий протокол. Попробуйте использовать
<path>/dev/input/mice</path> до того, как использовать <path>/dev/psaux</path>,
так как использование последнего устарело, он может быть убран из последующих
ядер 2.6. Если <path>/dev/input/mice</path> не работает, тогда пробуйте
другие устройства. Для примера, вот мой конфигурационный файл
<path>/etc/conf.d/gpm</path>:
</p>

<pre caption="Пример конфигурационного файла GPM">
<comment>(пожалуйста, раскомментируйте строку в соответсвии с типом вашей мыши и 
соответствующий параметр MOUSEDEV)</comment>

#MOUSE=ps2
MOUSE=imps2
#MOUSEDEV=/dev/psaux
MOUSEDEV=/dev/input/mice
</pre>

<p>
Если у вас мышь с колесиком, следует использовать протокол imps2; тогда
раскомментируйте соответствующую строчку. Если не работает ни imps2, ни ps2,
разузнайте о других протоколах на info-странице GPM (<c>info gpm</c>).
Кроме того, если вы хотите, нажимая в терминале на гиперссылки, перемещаться
по сайтам, стоит последовать совету, данному в файле <c>/etc/conf.d/gpm</c>:

</p>

<pre caption="Другие параметры">
<comment>(Eсли Вы хотите, чтобы GPM понимал кодировку, используемую в URL,
и имена, содержащие в себе ~ или : и т.д., пожалуйста, раскомментируйте эту
строчку. Стоит включить!)</comment>

APPEND="-l \"a-zA-Z0-9_.:~/\300-\326\330-\366\370-\377\""
</pre>

<p>
В оставшаейся часть файла conf.d содержатся дополнительные рекомендации для
сервера GPM. Раскомментируйте эти параметры в соответствии с вашими
требованиями. За дополнительной информацией обращайтесь к <c>man gpm</c>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Запуск GPM</title>
<section>
<body>

<p>
Теперь, когда сервер мыши установлен и настроен, самое время начать его
использовать:
</p>

<pre caption="Сценарий инициализации GPM">
# <i>/etc/init.d/gpm start</i>
</pre>

<p>
На экране должен появиться прямоугольный курсор. Помните, что только root может
запускать сценарий инициализации GPM. Поэтому, каждый раз после начала нового
сеанса, приходиться запускать <c>su</c>, а затем сценарий инициализации. Чтобы
избежать этого, почему бы не запускать GPM всякий раз, когда вы включаете
компьютер?
</p>

<pre caption="Добавление GPM в уровень исполнения по умолчанию">
# <i>rc-update add gpm default</i>
</pre>

<p>
Теперь, когда бы вы не включили свой компьютер, еще до того как вы увидете
приглашение войти в систему, вас встретит курсор консольный мыши. Сервер мыши
будет работать, даже если вы будете входить в систему не как root.

</p>

</body>
</section>
</chapter>

<chapter>
<title>Использование GPM</title>
<section>
<title>Копирование и вставка</title>
<body>

<p>
С работающим сервером мыши легко осуществить копирование и вставку больших
кусков текста. Просто выделите текст левой кнопкой мыши (при отпускании кнопки
текст останется выделенным), если нужно, переключитесь на другой терминал,
установите курсор в нужную позицию и нажмите среднюю кнопку мыши. Текст будет
вставлен в то место, куда вы поместили курсор. Заметьте, что копировать и
вставлять текст можно не покидая того терминала, в котором вы выделяли текст.
Так процитировать сообщение об ошибке на <uri
link="http://forums.gentoo.org">форумах Gentoo</uri> становится проще простого.
</p>

</body>
</section>
<section>
<title>Текстовые браузеры и GPM</title>
<body>

<p>
Если у вас есть текстовое сообщение в одной консоли и текстовый браузер в
другой, можно скопировать это сообщение. Для этого нужно сначала выделить его,
затем, перейдя на другой терминал, щелкнуть левой кнопкой мыши для выделения
поля ввода и нажать среднюю кнопку мыши. Вуаля! Можно отправлять сообщение об
ошибке на форум.
</p>

<p>
Несмотря на то, что обсуждение текстовых браузеров выходит за рамки данного
руководства, пользователям несомненно потребуется браузер, совместимый с
консольной мышью. Хотя <c>Lynx</c> является самым старым и популярным текстовым
браузером, его интерфейс плохо поддерживает и распознает консольную мышь. Вместо
него попробуйте <c>links</c>, который отлично подходит для работы с мышью.
</p>

<pre caption="Установка links">
# <i>emerge links</i>
</pre>

<p>
На этом руководство по использованию мыши в консоли заканчивается. Удачи!
</p>

</body>
</section>
</chapter>

</guide>

<!-- *$Localization:
target-language: Russian
target-version: 1.2-r2
target-date: 2006-11-08
translated-by: Vyacheslav Matyushin <v.matyushin@gmail.com>
edited-by: Azamat H. Hackimov <azamat.hackimov@gmail.com>, Alexey Chumakov, Peter Volkov
notes:
-->
