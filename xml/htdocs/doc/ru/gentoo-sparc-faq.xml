<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ru/gentoo-sparc-faq.xml,v 1.6 2006/04/01 20:03:27 achumakov Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- REV: 1.4 -->
<guide link="/doc/ro/gentoo-sparc-faq.xml" lang="ru" disclaimer="draft">
<title>Распространенные вопросы о Gentoo Linux/SPARC</title>

<author title="разработчик, SPARC">
  <mail link="weeve@gentoo.org">Jason Wever</mail>
</author>
<author title="переводчик">
  <mail link="ikorot@earthlink.net">Игорь Короть</mail>
</author>

<abstract>
На этой странице для вас собраны ответы на распространенные вопросы о 
Gentoo Linux/SPARC и Linux на компьютере SPARC вообще. Свои дополнения и 
замечания к этому документу присылайте в группу sparc или группу doc, где их 
с радостью примут (на английском языке).
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<!-- Текст этого документа распространяется на условиях лицензии CC-BY-SA -->
<!-- См. http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.4</version>
<date>2005-10-28</date>

<chapter>
<title>Заметки по документации</title>
<section>
<body>

<p>
Здесь Вы найдете дополнительные заметки, которые подробно объяснят сокращения и 
терминологию, используемые в этом документе.
</p>

<p>
Слова <c>SPARC</c> и <c>SPARC64</c> обозначают тип системы <c>sun4x</c>. SPARC 
обозначает 32-х битные системы, использующие архитектуры <c>sun4c</c>, 
<c>sun4d</c> и <c>sun4m</c> (т.е. рабочие станции SPARC). SPARC64 означает 
архитектуру <c>sun4u</c>, которую можно увидеть в системах серии UlttraSPARC. 
(Ultras, Blades, SunFires, etc).
</p>

<p>
Сокращения: <c>OBP</c> = OpenBoot PROM, <c>SS</c> = SPARCstation - рабочая 
станция SPARC.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Установка</title>
<section>
<title>Как установить/использовать рабочую станцию SPARC через серийный 
терминал?</title>
<body>

<p>
Во-первых, убедитесь, что клавиатура и дисплей не подключены. OBP будет 
использовать дисплей, как устройство вывода по умолчанию, если какое-то из этих 
устройств подключено. Вам нужен будет нульмодемный или обычный серийный кабель 
с нульмодемным адаптером, чтобы видеть вывод.
</p>

<p>
Настройки стандартного последовательного порта:
</p>

<ul>
  <li>9600 baud</li>
  <li>8 data bits</li>
  <li>None for parity</li>
  <li>1 stop bits</li>
</ul>

<p>
Ниже приведен список наиболее часто используемых программ для просмотра 
последовательного терминала. Убедитесь что программа вашего последовательного 
терминала может посылать прерывание, т.к. это очень часто используется в 
системе SPARC. Сигнал прерывания на последовательном терминале эквивалентен 
подаче команды Stop+A на клавиатуре.
</p>

<table>
<tr>
  <th>Linux</th>
  <th>Windows</th>
</tr>
<tr>
  <ti>Minicom</ti>
  <ti>Hyperterm</ti>
</tr>
<tr>
  <ti>Kermit</ti>
  <ti>TeraTerm Pro</ti>
</tr>
<tr>
  <ti>Console</ti>
  <ti></ti>
</tr>
<tr>
  <ti>Seyon</ti>
  <ti></ti>
</tr>
</table>

</body>
</section>
<section>
<title>Как загрузить по сети мою систему SPARC для установки?</title>
<body>

<p>
В настоящее время у Gentoo имеются экспериментальные образы сетевого/tftp 
загрузчиков, доступные на локальных зеркалах Gentoo в 
experimental/sparc/tftpboot. Загрузите соответствующий образ для вашего 
компьютера SPARC и изучите раздел &laquo;Руководство по сетевой загрузке&raquo; 
для дальнейших инструкций.
</p>

</body>
</section>
<section>
<title>У меня имеется дисплей типа CRT/LCD, подсоединенный к компьютеру  SPARC, 
который выбирает разрешение которое не поддерживается моим дисплеем при 
загрузке ядра. Как мне получить нормальное изображение на моем дисплее?</title> 
<body>

<p>
Эта проблема является результатом того, что поддержка фреймбуффера загружается 
ядром Linux'а при загрузке и режимов modeline выставленных на SPARC. Здесь мы 
будем предполагать что Ваш дисплей и видео-карта поддерживают разрешение 1024 
на 768 при частоте обновления в 60 Гц. В OBP Вы можете установить разрешение 
установкой опции <c>output-device</c>. Для просмотра текущей настройки 
используйте команду:
</p>

<pre caption="Просмотр текущих настроек">
ok <i>printenv output-device</i>

<comment>&lt;output-device&gt;        &lt;screen&gt;          &lt;screen&gt;</comment>
</pre>

<p>
Чтобы изменить эту опцию и запускать дисплей используя параметры выбранные 
выше, воспользуйтесь командой <c>setenv</c>:
</p>

<pre caption="Установка настроек дисплея">
ok <i>setenv output-device screen:r1024x768x60</i>

output-device =       screen:r1024x768x60
</pre>

<p>
Для того чтобы новая установка вошла в силу, необходимо сбросить машину:
</p>

<pre caption="Перезапуск машины">
ok <i>reset</i>
</pre>

<p>
В дополнение, для пользователей использующих встроенную видео-карту на базе ATI 
Mach64 (Ultra 5/10 and Blade 100/150), вам нужно будет добавить следующее к 
опциям загрузки ядра:
</p>

<pre caption="Appending a kernel boot option">
video=atyfb:1024x768@60
</pre>

<p>
Если вы загружаетесь из SILO, вы можете добавить выше приведенную строку после
указания загрузочного образа. Вот как это будет выглядеть при загрузке с LiveCD:
</p>

<pre caption="Загрузка с Gentoo LiveCD">
boot: <i>gentoo video=atyfb:1024x768@60</i>
</pre>

<p>
Если Вы производите загрузку из сети, вам нужно добавить следующую строчку в 
конец команды загрузки сети в OBP, как показано ниже:
</p>

<pre caption="Booting from the net">
ok <i>boot net video=atyfb:1024x768@60</i>
</pre>

</body>
</section>
<section>
<title>Я только начал использовать SPARC и не знаю какие нужно использовать 
опции ядра</title>
<body>

<p>
В большинстве случаев, опций ядра по умолчанию достаточно для поддержки 
компьютерного обеспечения. Вам нужно будет только убедиться что в ядре включены 
опции <c>devfs</c> и <c>virtual memory filesystem support</c> как описано в 
<uri link="/doc/ru/handbook/">настольной книге Gentoo</uri>.
</p>

</body>
</section>
<section>
<title>Как я могу обеспечить двойную загрузку Gentoo Linux/SPARC и 
Solaris?</title>
<body>

<p>
Двойная загрузка Gentoo/Linux/SPARC и Solaris может быть выполнена одним из 
двух способов: обе системы на одном и том же диске или на различных дисках.. 
Ниже приведены примеры конфигурации SILO для каждого сценария. Для 
конфигурационных файлов в примерах, мы приняли следующие условия:
</p>

<p>
Настройка с одним диском:
</p>

<ul>
  <li>Загрузочное устройство - SCSI ID 0</li>
  <li>ОС Gentoo загружается из раздела номер 1</li>
  <li>ОС Solaris загружается из раздела номер 5</li>
</ul>

<p>
Настройка с раздельными дисками:
</p>

<ul>
  <li>Второе устройство - SCSI ID 1</li>
  <li>ОС Gentoo находится на SCSI ID 0</li>
  <li>ОС Solaris находится на SCSI ID 1</li>
  <li>устройством загрузки в OBP является SCSI ID 0</li>
</ul>


<pre caption="Пример silo.conf для установки с одним диском">
<comment># Общие настройки</comment>
partition = 1
timeout = 50

<comment># Опции Gentoo Linux/SPARC</comment>
image = /boot/vmlinux
    label = linux
    root=/dev/sda4

<comment># Опции Solaris</comment>
other=5
    label = Solaris
</pre>

<pre caption="Пример silo.conf для установки с раздельными дисками">
<comment># Общие настройки</comment>
parition = 1
timeout = 50

<comment># Опции Gentoo Linux/SPARC</comment>
image = /boot/vmlinux
    label = linux
    root=/dev/sda4

<comment># Опции Solaris</comment>
other = /sbus/espdma/esp/sd@1,0;1
	  label = solaris
</pre>

</body>
</section>
<section>
<title>Я только загрузил рабочую станцию SPARC после установки Gentoo, но ОС не 
загружается. Почему?</title>
<body>

<p>
Одна из возможных причин связана с тем каким образом присваиваются 
идентификационные номера SCSI-устройствам. Разработчик Gentoo/SPARC Кит 
Весоловски предоставляет следующую информацию:
</p>

<p>
ОС Linux обычно упорядочивает устройства по порядковым номерам SCSI. Диск с 
наименьшим номером называется <c>sda</c>, следующий наименьший носит название 
<c>sdb</c>, и т.д. При этом заметьте, что <c>devfs</c> позволяет вам указывать 
устройства по идентификатору SCSI, поэтому добавление нового устройства не 
приводит к переименованию уже существующих, если только Вы используете 
совместимые имена. Также есть дополнительные пути решения.
</p>

<p>
OBP в большинстве или во всех системах sun4c и sun4m присваивает имя "диск" к 
устройству с идентификатором SCSI 3, а "диск0" - "диск3" к устройствам с 
соответствующим идентификатором SCSI, если это диск, а не лента, CDROM, и т.д.
</p>

<p>
В настольных системах, которые поддерживают 2 диска SCA (системы вида Аврора), 
нижнему пазу присваивается SCSI ID 3, верхнему пазу - SCSI ID 1.
</p>

<p>
Если хотите, можете изменить PROM имя "диск", чтобы оно совпадало с 
"диск1", так чтобы команда <c>boot disk</c> заставляла систему 
загружаться с того же самого устройства, которое Linux называет <c>sda</c>.  
Это будет более последовательным и нормальным, особенно для пользователей у 
которых есть опыт работы с PC. Как альтернативу, можно установить файловую 
систему содержащую <path>/boot</path> (которая может быть как отдельной, так и 
частью корневой) на устройство ID 3 (Linux <c>sdb</c>) и загружаться с него, 
используя корневую файловую систему на <c>sda</c> или <c>sdb</c>, или любом 
другом диске подключенном к системе.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Оборудование</title>
<section>
<title>Будет ли запускаться Gentoo на моем SPARC-компьютере?</title>
<body>

<p>
Это зависит от типа SPARC, но с большой долей вероятности можно ответить "ДА". 
Одним исключением судя по всему является портативный компьютер на базе SPARC 
производства Tadpole, в частности новейшие модели. Если у Вас имеется 
работающий Tadpole под Gentoo/SPARC, пожалуйста свяжитесь с нами и сообщите 
подробности о модели и требования к тому, чтобы заставить его работать.
</p>

<p>
Разработчик Gentoo/SPARC Тод Сандерлин хранит частичный список по статусу 
систем SPARC64 под управлением ОС Gentoo по адресу 
<uri>http://dev.gentoo.org/~todd/sparc64.html</uri>. Напишите ему по 
электронной почте о возможных изменениях и дополнениях по адресу: <mail 
link="todd@gentoo.org">todd@gentoo.org</mail>. 
</p>

<p>
Чтобы добавить подробности о вашей модели SPARC64 в список, отправьте сообщение 
по электронной почте на адрес <mail 
link="todd@gentoo.org">todd@gentoo.org</mail> с требуемой информацией. В общем 
поддержка для систем SPARC64 достаточно хороша, чтобы позволить пользователям 
успешно их запускать в рабочей среде.
</p>

<p>
32-битные SPARC-системы различаются между собой. Про системы с архитектурой 
sun4m сообщалось, что они работают хорошо (SS4-SS20) включая настройки SMP с 
последними версиями ядра 2.4. Системы sun4m использующие процессоры HyperSPARC 
или Ross в SMP настройке будут иметь проблемы связанные с ядром. Автор не 
слышал о сообщениях от пользователей в связи с JavaStations,  поэтому ситуация 
с ними неизвестна. На сегодняшний день системы базирующиеся на sun4d не 
работают под ядром серий 2.4, а sun4c работает нестабильно.
</p>

<p>
Часто проблемы возникающие при попытке запустить Gentoo на 32-битной SPARC 
системе идут от ядра. Роб Райдез (не относящийся к проекту Gentoo) поддерживает 
web-страничку <uri>http://osinvestor.com/sparc/</uri> на которой можно найти 
статус по поддержке системы SPARC для различных версий ядра Linux. Это может 
помочь вам определить насколько хорошо ваша SPARC система под SPARC/Linux.
</p>

</body>
</section>
<section>
<title>Какое дополнительное оборудование поддерживается под управлением 
Gentoo/SPARC?</title>
<body>

<p>
Чтобы узнать какое дополнительное оборудование от Sun поддерживается, 
проконсультируйтесь пожалуйста со следующим списком с заглавной страницы 
UltraLinux - <uri>http://www.ultralinux.org/faq.html#q_2_2.</uri>
</p>

<p>
Частичный список устройств Sun, которые на данный момент времени НЕ 
ПОДДЕРЖИВАЮТСЯ Gentoo/SPARC или SPARC/Linux:
</p>

<ul>
  <li>плата SunPCI</li>
  <li>контроллеры SBUS или PCI PCMCIA </li>
  <li>Устройства чтения smart card на некоторых рабочих станциях Sun Blade</li>
  <li>Устройства по чтению дискет на некоторых рабочих станциях Sun Blade</li>
</ul>

<p>
Также разработчик Gentoo/SPARC Свен Блюменштейн хранит список оборудования, 
которое тестировалось на системах SPARC64 базирующихся на PCI по адресу: 
<uri>http://dev.gentoo.org/~bazik/hw.php</uri>. Вы можете добавить Ваши 
результаты тестирования персональных компьютеров или не-Sun'овского 
оборудования в этот список отправив письмо по адресу <mail 
link="bazik@gentoo.org">bazik@gentoo.org</mail> с информацией об оборудовании 
как показано в существующем списке.
</p>

</body>
</section>
<section>
<title>Вы постоянно говорите о sun4c/sun4d/sun4m/sun4u. Как мне узнать какая 
машина у меня?</title> 
<body>

<p>
Список ЧАВО по UltraLinux дает ответ на этот вопрос по ссылке 
<uri>http://www.ultralinux.org/faq.html#q_2_1</uri>. 
</p>

</body>
</section>
</chapter>

<chapter>
<title>Программное обеспечение</title>
<section>
<title>
Как мне добиться, чтобы XFree86 поддерживал подходящий modeline на моем Ultra 
5/10 или Blade 100/150? 
</title>
<body>

<p>
ATI Фреймбуффер обычно ждет, что PC BIOS установит Эталона Часов для 
видео-карты. Однако на не-x86 архитектуре этого не происходит. Поэтому 
необходимо указать скорость эталонных часов в файле XF86Config.
</p>

<p>
В разделе "Device" Вашего файла XF86Config, вам нужно будет добавить сроку 
примерно такого содержания:
</p>

<pre caption="Добавьте в XF86Config">
Option      "reference_clock"   "28.636 MHz"
</pre>

<p>
По этой ссылке можно больше информации по установке эталонных часов:
<uri>http://www.xfree86.org/~dawes/4.3.0/ati5.html#26</uri> Если у вас 
возникнут проблемы, попробуйте сначала обойтись без этой опции.
</p>

</body>
</section>
<section>
<title>Почему пакет foo замаскирован для системы Sparc?</title>
<body>

<p>
С большой долей вероятности можно сказать что это произошло из-за того что 
разработчики Gentoo/SPARC еще не дошли до его тестирования, и/или пакет на 
данном этапе помечен ключевым словом <c>~sparc</c>, означающим что пакет 
находится в стадии тестирования.
</p>

<p>
Если вы все еще хотите установить этот пакет, Вы можете последовать инструкции 
по ссылке <uri link="http://forums.gentoo.org/viewforum.php?t=33534">Часто 
задаваемые вопросы по замаскированным пакетам в Portage</uri>.
</p>

<note>
Это ЧАВО упоминает ключевое слово sparc64, которое неверно.
</note>

</body>
</section>
<section>
<title>Как я могу помочь пометить пакет foo как устойчивый?</title>
<body>

<p>
Если Вы хотите помочь пометить пакет как стабильный в срок, в особенности если 
это приложение для небольшого количества пользователей (например 
net-im/bitlbee), установите этот пакет и протестируйте его чтобы убедиться что 
он работает. Если он работает нормально, вы можете открыть отчет по адресу 
<uri>http://bugs.gentoo.org</uri> и назначить его группе Gentoo/SPARC.
</p>

</body>
</section>
<section>
<title>Я пытался установить пакет, но emerge не сработал, выдав ошибку о том, 
зависимый пакет замаскирован. Что мне делать?</title>
<body>

<p>
Это существенная ошибка. Пожалуйста откройте сообщение об ошибке по адресу 
<uri>http://bugs.gentoo.org</uri> для группы Gentoo/SPARC, указав какой пакет 
вы пытались установить, полученное сообщение об ошибке, информацию полученную 
программой emerge и вывод  команды <c>emerge --info</c>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Разное</title>
<section>
<title>Мне бы хотелось больше помогать проекту Gentoo/SPARC. Что я должен для 
этого сделать?</title>
<body>

<p>
Самый лучший способ - это присоединиться к <c>#gentoo-sparc</c> каналу IRC на 
сети Freenode IRC <c>irc.freenode.net</c>. Это место, где собираются все 
разработчики и (помимо других вещей) идет обсуждение SPARC. Помимо электронной 
почты,  это лучший способ привлечь наше внимание и все свалить на seemant'а! :)
</p>

<p>
Также большинство пользователей и разработчиков используют <uri 
link="http://forums.gentoo.org/viewforum.php?f=27">форум Gentoo/SPARC</uri>. 
Здесь вы можете задавать свои вопросы, а также увидеть какие проблемы возникали 
и возникают у других пользователей Gentoo/SPARC и просто побеседовать о 
Gentoo/SPARC.
</p>

<p>
Дополнительно, Вы можете просмотреть ошибки в Gentoo/SPARC по адресу 
<uri link="http://bugs.gentoo.org">Gentoo Bugzilla</uri>. Ошибки будут либо 
присвоены Gentoo/SPARC, либо эта комманда будет указана в CC.
</p>

</body>
</section>
<section>
<title>Существуют ли извеcтные на сегодняшний день ошибки/проблемы связанные с 
программным обеспечением для Gentoo/SPARC?</title>
<body>

<p>
Список проблемных пакетов может быть найден по адресу
<uri>http://dev.gentoo.org/~weeve/problems.html</uri>
</p>

</body>
</section>
</chapter>

<chapter>
<title>Дополнительные ресурсы</title>
<section>
<body>

<p>
Здесь приведена информация о самом проeкте Gentoo/SPARC:
</p>

<ul>
  <li><uri link="http://sparc.gentoo.org">Страница проекта Gentoo/SPARC </uri></li>
  <li>#gentoo-sparc - официальный канал IRC на irc.freenode.net</li>
  <li>
    <uri link="http://forums.gentoo.org/viewforum.php?f=27">Форум Gentoo/SPARC
    </uri>
  </li>
  <li>
    <mail>sparc@gentoo.org</mail> - адрес электронной почты группы Gentoo/SPARC
  </li>
</ul>

<p>
Здесь даны ссылки на дополнительную информацию про SPARC/Linux или SPARC:
</p>

<ul>
  <li>
    <uri link="http://www.ultralinux.org">Домашняя UltraLinux</uri> - Главная страница порта SPARC/Linux 
  </li>
  <li>
    <uri link="http://sunsolve.sun.com">Sunsolve</uri> - Хорошо подготовленная документация про оборудование Sun
  </li>
  <li>
    <uri>http://docs.sun.com</uri> - Дополнительная информация про оборудование и программное обеспечение для систем SPARC, включая инструкции для мигающего OBP
  </li>
  <li>
    <uri link="http://www.obsolyte.com">Obsolete</uri> - Информация по устаревшим системам SPARC и ссылки на другие сайты в интернете связанные с системами SPARC.
  </li>
  <li>
    <uri
    link="http://040.digital-bless.com/texts/Unofficial_Sun_Blade_100_FAQ.htm">Unofficial
    Sun Blade 100 FAQ</uri> - Ответы на разнообразные вопросы связанные с оборудованием  на Blade 100
  </li>
  <li>
    <uri link="http://docs.sun.com/db/coll/216.2">OBP Reference Guide</uri> -
    Гид фирмы Sun по OpenBoot PROM.
  </li>
</ul>

</body>
</section>
</chapter>
</guide>
