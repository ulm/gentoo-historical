<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pt_br/java.xml,v 1.4 2005/03/22 12:16:42 enderson Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pt_br/java.xml">
<title>Guia de Java do Gentoo</title>

<author title="Autor e editor">
 <mail link="karltk@gentoo.org">Karl Trygve Kalleberg</mail>
</author>
<author title="Editor">
 <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Editor e tradutor">
 <mail link="vanquirius@gentoo.org">Marcelo Góes</mail>
</author>

<abstract>
Este guia irá introduzir usuários e desenvolvedores ao Java e explicar como usar
Java com o Gentoo Linux.
</abstract>

<license/>

<version>0.1.5</version>
<date>2005-02-07</date>

<chapter>
<title>O que é Java?</title>
<section>
<title>Visão geral</title>
<body>

<p>
O Java é uma linguagem de programação desenvolvida por engenheiros da Sun Microsystems.
A língua é orientada a objetos e desenhada para rodar em plataformas múltiplas
sem a necessidade de recompilar código para cada plataforma. Embora Java possa
ser compilado como um programa nativo, muita de sua popularidade pode ser atribuída
à sua portabilidade, junto com outras funcionalidades como "garbage collection".
A capacidade de compilar uma vez e rodar em várias plataformas é alcançada através
do uso de compiladores just-in-time (JIT), que compilam bytecodes de Java em
código nativo quando um dado programa é rodado.
</p>

<p>
Para poder rodar bytecodes de Java, é necessário ter um JRE (Java Runtime Environment)
instalado. Um JRE fornece bibliotecas centrais, uma Java Virtual Machine dependente de plataforma,
plug-ins para navegadores, entre outras coisas. Um JDK (Java Development Kit) adiciona
ferramentas de programação, como um compilador de bytecodes e um debugger.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Instalando um JRE/JDK</title>
<section>
<title>As escolhas</title>
<body>

<p>
O Gentoo fornece numerosos JREs e JDKs. Entre as alternativas atuais, nós temos:
</p>

<ul>
<li>blackdown-jre e blackdown-jdk, o kit de Java Blackdown</li>
<li>sun-jre-bin e sun-jdk, o kit de Java da Sun</li>
<li>ibm-jre-bin e ibm-jdk-bin, o kit de Java da IBM</li>
<li>compaq-jre e compaq-jdk, o kit de Java da Compaq para Alpha/Linux/GNU</li>
<li>jrockit-jdk-bin, O kit de desenvolvimento de J2Se da BEA WebLogic</li>
</ul>

<p>
O padrão é o par de JRE/JDK
Blackdown, já que é gratuito, sem necessidade de registro.
</p>

<p>
Os JRE/JDKs da Sun e da IBM são geralmente mais rápidos, mas obtê-los
dá mais trabalho, já que você é obrigado a ler e aceitar a licença deles antes
de baixar (a IBM ainda pede que você se registre).
</p>

<p>
Nossas ebuilds para os JRE/JDKs da Sun e da IBM irão notificar onde você pode ir
para baixá-los.
</p>

</body>
</section>

<section>
<title>Instalando os JRE/JDKs da Sun/IBM</title>
<body>

<p>
Se você rodar <c>emerge =sun-jdk-1.4.2.06</c> ou <c>=ibm-jdk-bin-1.4.2</c>, você será
notificado que você precisa baixar as tarballs você mesmo. Isto
é relacionado com as restrições de licenciamento do Sun JDK/JRE (online click-wrap
license) e problemas de registro com o IBM JRE/JDK.
</p>

<note>
ibm-jdk-bin está mascarado atualmente, você pode ter que desmascará-lo para usá-lo.
</note>

<p>
Você deve baixar o(s) arquivo(s) indicado(s) em
<path>/usr/portage/distfiles</path>. Uma vez que isso for feito, você pode rodar novamente o comando
emerge, e o JRE/JDK será instalado devidamente em <path>/opt</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Configurando seu JRE/JDK</title>
<section>
<title>Visão geral</title>
<body>

<p>
O Gentoo tem a capacidade de ter múltiplos JDKs e JREs instalados sem que eles
entrem em conflito.
</p>

<p>
Usando a ferramenta <c>java-config</c>, você pode configurar o padrão do sistema se você
tiver acesso de administrador (root). Os usuários podem usar o <c>java-config</c> para configurar seu próprio
padrão pessoal, que é diferente do padrão do sistema.
</p>

</body>
</section>

<section>
<title>Configurando um JRE/JDK padrão</title>
<body>

<p>
Rodar o comando <c>java-config --list-available-vms</c> dará uma lista a você
com todos JREs e JDKs disponíveis para seu sistema. Aqui está um exemplo de saída:
</p>

<pre caption="Listando VMs disponíveis">
# <i>java-config --list-available-vms</i>
[blackdown-jdk-1.3.1] Blackdown JDK 1.3.1 (/etc/env.d/java/20blackdown-jdk-1.3.1)
[blackdown-jre-1.3.1] Blackdown JRE 1.3.1 (/etc/env.d/java/20blackdown-jre-1.3.1)
[ibm-jdk-1.3.0] IBM JDK 1.3.0 (/etc/env.d/java/20ibm-jdk-1.3.0)
[ibm-jdk-1.3.1] IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
[ibm-jre-1.3.1] IBM JRE 1.3.1 (/etc/env.d/java/20ibm-jre-1.3.1)
[sun-jdk-1.4.0] Sun JDK 1.4.0 (/etc/env.d/java/20sun-jdk-1.4.0)
</pre>

<p>
O nome dentro das chaves <path>"[]"</path> é o nome ou ID daquele
VM em particular. Você pode passar a ID ao <c>java-config --set-system-vm</c>. Aqui está
um exemplo de como configurar o VM de sistema.
</p>

<pre caption="Configurando o VM de sistema">
# <i>java-config --set-system-vm=ibm-jdk-1.3.1</i>
Now using IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
</pre>

<note>
Você terá de ser root para rodar --set-system-vm.
</note>

<p>
Uma vez que você tiver rodado <c>java-config --set-system-vm</c> com um ID de VM específico,
você precisará gerar seu /etc/profile.env novamente. Você pode fazê-lo assim:
</p>

<pre caption="Gerando seu /etc/profile.env novamente" >
# <i>env-update</i>
</pre>

<p>
Depois disso, você deverá ou fazer log-in novamente, ou fazer source de novo do
<path>/etc/profile</path> em seu ambiente.
</p>

<p>
Como usuário normal, você pode usar <c>java-config --set-user-vm</c>, que irá
criar um <path>~/.gentoo/java-env</path> com todas variáveis de ambiente necessárias. Você
normalmente faria source disso no script de inicialização de sua shell
(geralmente <path>~/.bashrc</path>).
</p>

</body>
</section>

<section>
<title>Configurando um CLASSPATH padrão</title>
<body>

<p>
O <c>java-config</c> também pode ser usado para configurar um CLASSPATH de sistema, e
claro um CLASSPATH específico de usuário.
</p>

<p>
Primeiro você deve listar todas bibliotecas de java disponíveis que podem ser interessantes de colocar
em seu CLASSPATH. Aqui está um exemplo de saída:
</p>

<pre caption="Listando classes">
# <i>java-config --list-available-packages</i>
[bsh] BeanShell is a small, free, embeddable, Java
source interpreter with object scripting language
features. (/usr/share/bsh/package.env)
[oro] A set of text-processing Java classes that
provide Perl5 compatible regular expressions, AWK-like
regular expressions, glob expressions, and utility
classes for performing substitutions, splits, filtering
filenames, etc. (/usr/share/oro/package.env)
[bcel] The Byte Code Engineering Library: analyze, create,
manipulate Java class files (/usr/share/bcel/package.env)
[jsch] JSch is a pure Java implementation of SSH2.
(/usr/share/jsch/package.env)
...
</pre>

<p>
Novamente, o nome em chaves <path>"[]"</path> são as IDs que você tem que passar
para o <c>java-config --set-system-classpath</c>. Aqui está um exemplo:
</p>

<pre caption="Configurando classpaths">
# <i>java-config --set-system-classpath=log4j,java-gtk,java-gnome</i>
</pre>

<note>
O diretório atual (.) não será parte do classpath de sistema, já que este
deve ser adicionado no perfil de log-in do root.
</note>

<p>
Novamente, você deve rodar <c>env-update</c> para atualizar o ambiente de
seu sistema, e também deve fazer log-in novamente ou fazer novo source do
<path>/etc/profile</path>.
</p>

<p>
Para usuários, <c>java-config --set-user-classpath</c> irá criar o
<path>~/.gentoo/java-env-classpath</path>, que é automaticamente incluído
pelo <path>~/.gentoo/java-env</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Variáveis de USE para uso com Java</title>
<section>
<title>Configurando variáveis de USE</title>
<body>

<p>
Para mais informações sobre opções de USE, veja o capítulo de
<uri link="/doc/pt_br/handbook/handbook-x86.xml?part=2&amp;chap=2">Variáveis de USE</uri>
do Manual do Gentoo.
</p>

</body>
</section>
<section>
<title>As opções</title>
<body>

<ul>
<li>A opção <b>java</b> adiciona suporte para Java em uma variedade de programas.</li>
<li>A opção <b>mozilla</b> adiciona suporte para navegadores derivados do Mozilla (incluindo o Firefox)
se você estiver usando o kit de Java blackdown. Você irá precisar desta opção para ver applets de Java
em seu navegador derivado do Mozilla.</li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Recursos adicionais</title>
<section>
<title>Recursos off-line</title>
<body>

<ul>
<li>java-config man page</li>
<li><c>java-config --help</c></li>
<li>O próprio script <path>/usr/bin/java-config</path></li>
</ul>

</body>
</section>

<section>
<title>Recursos online</title>
<body>

<ul>
<li>As listagens de e-mails <uri link="http://news.gmane.org/gmane.linux.gentoo.devel"
>gentoo-dev</uri>, <uri link="http://news.gmane.org/gmane.linux.gentoo.user"
>gentoo-user </uri></li>
<li>#gentoo e #gentoo-java em irc.freenode.net</li>
<li><uri link="http://en.wikipedia.org/wiki/Java_programming_language">Entrada da Wikipedia para Java</uri></li>
</ul>

</body>
</section>
</chapter>
</guide>
