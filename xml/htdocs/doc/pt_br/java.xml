<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pt_br/java.xml,v 1.1 2005/01/26 02:40:16 enderson Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pt_br/java.xml">
<title>Guia de Java do Gentoo</title>

<author title="Autor e Editor">
 <mail link="karltk@gentoo.org">Karl Trygve Kalleberg</mail>
</author>
<author title="Editor">
 <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Tradutor">
 <mail link="marcelogoes@gmail.com">Marcelo Góes</mail>
</author>

<abstract>
Guia de Java do Gentoo para usuários e desenvolvedores
</abstract>

<license/>

<version>0.1.4</version>
<date>2003-11-23</date>

<chapter>
<title>Instalando um JDK/JRE</title>
<section>
<title>Visão geral</title>
<body>

<p>
O Gentoo providencia numerosos JDKs e JREs. O padrão é o par Blackdown JDK/JRE,
já que é disponível gratuitamente sem incômodos de registros.
</p>

<note>
Conforme o kaffe torna-se um substituto para JRE/JDK, provavelmente irá virar nosso
padrão.
</note>

<p>
Já que os JDK/JREs da Sun e da IBM são geralmente mais rápidos, mas consegui-los
dá mais trabalho, já que você é obrigado a ler e aceitar a licença deles antes
de baixar (a IBM ainda pede que você se registre).
</p>

<p>
Nossas ebuilds para os JDK/JREs da Sun e da IBM irão notificar onde você pode ir
para baixá-los.
</p>

</body>
</section>

<section>
<title>Instalando os JDK/JREs da Sun/IBM</title>
<body>

<p>
Se você rodar <c>emerge sun-jdk-1.3.1</c> ou <c>emerge ibm-jdk-1.3.1</c>, você será
notificado que você precisa baixar as tarballs você mesmo. Isto
é relacionado com as restrições de licenciamento do Sun JDK/JRE (online click-wrap
license) e problemas de registro com o IBM JDK/JRE.
</p>

<note>
Também há um sun-jdk-1.4.0, mas nem todos pacotes funcionam bem com o Java 1.4,
então você está por conta própria se você usar o JDK 1.4.0.
</note>

<p>
Você deve baixar o(s) arquivo(s) indicado(s) em
<path>/usr/portage/distfiles</path>. Uma vez que isso for feito, você pode rodar novamente o comando
emerge, e o JDK/JRE será instalado devidamente em <path>/opt</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Configurando seu JDK/JRE</title>
<section>
<title>Visão geral</title>
<body>

<p>
O Gentoo tem a capacidade de ter múltiplos JDKs e JREs instalados sem que eles
entrem em conflito.
</p>

<p>
Usando a ferramenta <c>java-config</c>, você pode configurar o padrão do sistema se você
tiver acesso de administrador (root). Os usuários podem usar o <c>java-config</c> para configurar seu próprio
padrão pessoal, que é diferente do padrão do sistema.
</p>

</body>
</section>

<section>
<title>Configurando um JDK/JRE padrão</title>
<body>

<p>
Rodar o comando <c>java-config --list-available-vms</c> dará uma lista a você
com todos JREs e JDKs disponíveis para seu sistema, assim:
</p>

<pre caption="Listando VMs disponíveis">
# <i>java-config --list-available-vms</i>
[blackdown-jdk-1.3.1] Blackdown JDK 1.3.1 (/etc/env.d/java/20blackdown-jdk-1.3.1)
[blackdown-jre-1.3.1] Blackdown JRE 1.3.1 (/etc/env.d/java/20blackdown-jre-1.3.1)
[ibm-jdk-1.3.0] IBM JDK 1.3.0 (/etc/env.d/java/20ibm-jdk-1.3.0)
[ibm-jdk-1.3.1] IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
[ibm-jre-1.3.1] IBM JRE 1.3.1 (/etc/env.d/java/20ibm-jre-1.3.1)
[sun-jdk-1.4.0] Sun JDK 1.4.0 (/etc/env.d/java/20sun-jdk-1.4.0)
</pre>

<p>
O nome dentro das chaves <path>"[]"</path> é o nome ou ID daquele
VM em particular. Você pode passar a ID ao <c>java-config --set-system-vm</c>, assim:
</p>

<pre caption="Configurando o VM de sistema">
# <i>java-config --set-system-vm=ibm-jdk-1.3.1</i>
Now using IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
</pre>

<note>
Você terá de ser root para rodar --set-system-vm.
</note>

<p>
Uma vez que você tiver rodado <c>java-config --set-system-vm</c> com um ID de VM específico,
você precisará gerar seu /etc/profile.env novamente, assim:
</p>

<pre caption="Gerando seu /etc/profile.env novamente" >
# <i>env-update</i>
</pre>

<p>
Depois disso, você deverá ou fazer log-in novamente, ou fazer source de novo do
<path>/etc/profile</path> em seu ambiente.
</p>

<p>
Como usuário normal, você pode usar <c>java-config --set-user-vm</c>, que irá
criar um <path>$HOME/.gentoo/java-env</path> com todas variáveis de ambiente necessárias. Você
normalmente faria source disso no script de inicialização de sua shell
(<path>$HOME/.zshenv</path> em meu caso).
</p>

</body>
</section>

<section>
<title>Configurando um CLASSPATH padrão</title>
<body>

<p>
O <c>java-config</c> também pode ser usado para configurar um CLASSPATH de sistema, e
claro um CLASSPATH específico de usuário.
</p>

<p>
Primeiro você deve listar todas bibliotecas de java disponíveis que podem ser interessantes de colocar
em seu CLASSPATH, assim:
</p>

<pre caption="Listando classes">
# <i>java-config --list-available-packages</i>
[ant] No description (/usr/share/ant/classpath.env)
[java-gnome] No description (/usr/share/java-gnome/classpath.env)
[java-gtk] No description (/usr/share/java-gtk/classpath.env)
[log4j] "" (/usr/share/log4j/package.env)
</pre>

<note>
Nenhum dos pacotes tem uma descrição adequada. Isto é algo que será
implementado em um futuro não muito distante.
</note>

<p>
Novamente, o nome em chaves <path>"[]"</path> são as IDs que você tem que passar
para o <c>java-config --set-system-classpath</c>, assim:
</p>

<pre caption="Configurando classpaths">
# <i>java-config --set-system-classpath=log4j,java-gtk,java-gnome</i>
</pre>

<note>
O diretório atual (.) não será parte do classpath de sistema, já que este
deve ser adicionado no perfil de log-in do root.
</note>

<p>
Novamente, você deve rodar <c>env-update</c> para atualizar o ambiente de
seu sistema, e também deve fazer log-in novamente ou fazer novo source do
<path>/etc/profile</path>.
</p>

<p>
Para usuários, <c>java-config --set-user-classpath</c> irá criar o
<path>$HOME/.gentoo/java-env-classpath</path>, que é automaticamente incluso
pelo <path>$HOME/.gentoo/java-env</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Recursos adicionais</title>
<section>
<title>Recursos off-line</title>
<body>

<ul>
<li>java-config man page</li>
<li><c>java-config --help</c></li>
<li>O próprio script <path>/usr/bin/java-config</path></li>
</ul>

</body>
</section>

<section>
<title>Recursos online</title>
<body>

<ul>
<li>As listagens de e-mails <uri link="http://news.gmane.org/gmane.linux.gentoo.devel"
>gentoo-dev</uri>, <uri link="http://news.gmane.org/gmane.linux.gentoo.user"
>gentoo-user </uri></li>
<li>#gentoo e #gentoo-java em irc.freenode.net</li>
</ul>

</body>
</section>
</chapter>
</guide>
