<?xml version='1.0' encoding='UTF-8'?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pt_br/guide-localization.xml,v 1.2 2005/02/10 12:21:58 enderson Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pt_br/guide-localization.xml">
<title>Guia de localização do Gentoo Linux</title>
<author title="Autor">
  Alexander Holler
</author>
<author title="Tradutor/Editor">
  <mail link="slucy@uchicago.edu">Steven Lucy</mail>
</author>
<author title="Editor">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Editor">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Editor">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Editor">
  <mail link="flammie@gentoo.org">Flammie Pirinen</mail>
</author>
<author title="Tradutor">
  <mail link="marcelogoes@gmail.com">Marcelo Góes</mail>
</author>

<abstract>
Este guia deve ajudar os usuários localizar suas versões de Gentoo Linux para 
qualquer locale europeu. Ele usa a Alemanha como estudo de caso, já que é traduzido 
de um documento alemão. Incluso está a configuração do símbolo da moeda do Euro.
</abstract>

<version>1.13</version>
<date>2005-02-05</date>

<chapter>
<title>Fuso horário</title>
<section>
<body>

<p>
Para manter o horário correto, <path>/etc/localtime</path> deve apontar para
o arquivo de fuso horário certo.  Olhe em
<path>/usr/share/zoneinfo/</path> e escolha seu fuso horário ou cidade grande mais próxima.
</p>

<pre caption="ajustando o fuso horário">
# <i>ln -sf /usr/share/zoneinfo/Europe/Berlin /etc/localtime</i>
# <i>date</i>
Sun Feb 16 08:26:44 CET 2003
</pre>

<note>
Certifique-se de que o indicador de fuso horário de três letras (neste caso "CET")
está correto para sua área.
</note>

<note>
Você pode configurar o valor de <c>TZ</c> para ser tomado depois de
<path>/usr/share/zoneinfo</path> em seu arquivo de shell rc
(<path>.bash_profile</path> para bash) para ter um ajuste em nível de usuário. Neste caso
<c>TZ="Europe/Berlin"</c>.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Relógio do sistema</title>
<section>
<body>

<p>
Na maior parte de instalações do Gentoo Linux, o relógio do sistema está configurado para
UTC (ou GMT, Greenwhich Mean Time) e seu fuso horário é 
levado em consideração para determinar o horário local real. Se,
por algum motivo, você precisa de seu relógio do sistema em UTC,
você precisa editar o <path>/etc/rc.conf</path> e mudar o
valor de <c>CLOCK</c>.
</p>

<pre caption="relógio local vs. GMT">
<codenote>recomendado:</codenote>
CLOCK="UTC"
<codenote>ou:</codenote>
CLOCK="local"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Sistema de locale</title>
<section>
<title>O que são locales?</title>
<body>

<p>
Uma locale é um conjunto de informações que a maior parte dos programas usa para determinar
ajustes específicos de país e língua. Os locales e seus dados
são parte da biblioteca de sistema e podem ser encontrados
em <path>/usr/share/locale</path> na maior parte dos sistemas. Um nome de locale é geralmente
chamado de <c>ab_CD</c > onde <c>ab</c> é o código de duas
(ou três letras) de língua (como especificado no ISO-639) e <c>CD</c> é o código de duas letras
do país (como especificado no ISO-3199).
</p>

</body>
</section>
<section>
<title>Variáveis de ambiente para locales</title>
<body>

<p>
Configurações de locale são guardadas em variáveis de ambiente. São tipicamente
configuradas em <path>/etc/env.d/02locale</path> (para ajustes globais
de sistema) e no arquivo <path>~/.bashrc</path> (para ajustes de usuário).
As variáveis que controlam diferentes aspectos dos ajustes de locale
são dadas na tabela abaixo, as com maior precedência (isto é, aquelas que
sobre-escrevem ajustes abaixo delas) estão na parte superior da tabela. Todas variáveis
aceitam um nome de locale no formato <c>ab_CD</c> dado acima.
</p>

<table>
<tr>
  <th>Nome da variável</th>
  <th>Explicação</th>
</tr>
<tr>
  <ti>LC_ALL</ti>
  <ti>
    Define todos ajustes de locale de uma vez. Este é o maior ajuste de 
    locales que sobre-escreve qualquer outro ajuste.  </ti>
</tr>
<tr>
  <ti>LC_COLLATE</ti>
  <ti>
    Define ordem alfabética dos textos. Isto afeta, por exemplo, a saída de listagem
    de diretórios ordenada.
  </ti>
</tr>
<tr>
  <ti>LC_CTYPE</ti>
  <ti>
    Define as propriedades na hora de lidar com caracteres do sistema. Isto determina
    que caracteres são vistos como parte do alfabeto, números e assim em diante. Também
    determina o conjunto de caracteres a ser usado, se aplicável.
  </ti>
</tr>
<tr>
  <ti>LC_MESSAGES</ti>
  <ti>
    Localização de programa para aplicações que usam um esquema de localização baseado em
    mensagens (a maior parte dos programas Gnu, veja os próximos capítulos para mais informação
    de quais usam, e como fazer com que os programas que não, façam).
  </ti>
</tr>
<tr>
  <ti>LC_MONETARY</ti>
  <ti>Define unidade monetária e formatação dos valores numéricos da moeda.</ti>
</tr>
<tr>
  <ti>LC_NUMERIC</ti>
  <ti>
    Define a formatação da valores numéricos que não são monetários. Afeta coisas
    como um separador de milhares ou decimal.
  </ti>
</tr>
<tr>
  <ti>LC_TIME</ti>
  <ti>Define formato de datas e hora.</ti>
</tr>
<tr>
  <ti>LC_PAPER</ti>
  <ti>Define tamanho padrão do papel.</ti>
</tr>
<tr>
  <ti>LANG</ti>
  <ti>
    Define todos ajustes de locale de uma só vez. O ajuste pode ser sobre-escrito pelos
    ajustes de LC_* individuais acima ou até mesmo por LC_ALL.
  </ti>
</tr>
</table>

<p>
Tipicamente os usuários só configuram uma variável LANG e talvez uma variável LC_CTYPE
em nível de usuário adicionando as definições ao arquivos de inicialização de shell definindo
a variável de ambiente manualmente da linha de comando:
</p>

<pre caption="configurando o locale alemão">
export LANG="de_DE@euro"
</pre>

<note>
Anexe <c>@euro</c> ao locale se você quiser usar o símbolo de moeda do 
Euro (&#8364;)
</note>

<p>
Para que a localização baseada em mensagens funcione em programas que suportam-na, você
provavelmente precisará compilar os programas com a opção de USE <c>nls</c> 
(Native language support) ativada. A maior parte dos programas que usa nls também precisam da biblioteca
do gettext para extrair e usar mensagens localizadas. Claro, o Portage do Gentoo irá
instalar automaticamente quando necessário.
</p>

</body>
</section>
<section>
<title>Gerando locales específicos</title>
<body>

<p>
Se você usa um locale que não está disponível por padrão, você deve usar 
<c>localedef</c> para gerar seu locale. Por exemplo:
</p>

<pre caption="Gerando um locale usando localedef">
# <i>localedef -c -i en_US -f ISO-8859-15 en_US.ISO-8859-15</i>
</pre>

<p>
Depois de gerar o locale, você pode exportar a variável LANG como lhe for
conveniente.
</p>

<pre caption="Exportando a variável LANG">
# <i>export LANG="en_US.ISO-8859-15"</i>
</pre>

</body>
</section>
<section>
<title>A opção de USE userlocales</title>
<body>

<p>
Você provavelmente só usa um ou talvez dois locales em seu sistema. Até agora 
depois de compilar o <c>glibc</c> um conjunto completo de locales foi
criado. A partir de agora você pode ativar a opção de USE <c>userlocales</c> e especificar
somente os locales que você vai precisar em <path>/etc/locales.build</path>.
</p>

<pre caption="Ative a flag de USE userlocales especialmente para o glibc">
echo "sys-libs/glibc userlocales" >> /etc/portage/package.use
</pre>

<p>
Agora especifique os locales que você quer poder usar:
</p>

<pre caption="Adicionando locales a /etc/locales.build">
en_US/ISO-8859-1
en_US.UTF-8/UTF-8
de_DE/ISO-8859-1
de_DE@euro/ISO-8859-15
</pre>

<p>
O próximo passo é recompilar o <c>glibc</c>. Lógico que você pode deixar para fazer isso
quando a próxima atualização do <c>glibc</c> estiver disponível.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Arranjo de teclado para o console</title>
<section>
<body>

<p>
O arranjo de teclado usado pelo console é configurado em
<path>/etc/rc.conf</path> pela variável <c>KEYMAP</c>.
Valores válidos podem ser encontrados em
<path>/usr/share/keymaps/<c>{arch}</c>/</path>.
<path>i386</path> tem mais subdivisões em arranjos
(<path>qwerty/</path>, <path>azerty/</path>, etc.).  Algumas 
línguas têm opções múltiplas, então talvez você queira experimentar 
para decidir qual é melhor para suas necessidades.
</p>

<pre caption="ajustando o mapa de teclado do console">
KEYMAP="de"
KEYMAP="de-latin1"
KEYMAP="de-latin1-nodeadkeys"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Arranjo de teclado para o servidor de X</title>
<section>
<body>

<p>
O arranjo de teclado usado pelo servidor de X é especificado 
em <path>/etc/X11/XF86Config</path> pela opção <c>XkbLayout</c>.
</p>

<pre caption="configurando o mapa de teclado do X">
 Section "InputDevice"
     Identifier  "Keyboard1"
     ...
     Option "XkbLayout"    "de"
     # Option "XkbVariant"  "nodeadkeys"
     ...
</pre>

</body>
</section>
</chapter>

<chapter>
<title>KDE</title>
<section>
<body>

<p>
Para o KDE você tem que instalar o pacote kde-i18n com a variável de 
ambiente LINGUAS corretamente configurada:</p>

<pre caption="Instalando KDE localizado">
# <i>LINGUAS="de" emerge kde-i18n</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>O símbolo do Euro para o console</title>
<section>
<body>

<p>
Para que o console mostre o símbolo do Euro, você irá 
precisar configurar <c>CONSOLEFONT</c> em
<path>/etc/rc.conf</path> para um arquivo encontrado em
<path>/usr/share/consolefonts/</path> (sem o
<c>.psfu.gz</c>). O <c>lat9w-16</c> tem o símbolo do euro.
</p>

<pre caption="ajustando a fonte do console">
CONSOLEFONT="lat9w-16"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>O símbolo do Euro no X</title>
<section>
<title>Maior parte dos aplicativos</title>
<body>

<p>
Fazer o símbolo do Euro funcionar corretamente no X é um pouco 
mais difícil. A primeira coisa a fazer é mudar as definições de <c>fixed</c>
e <c>variable</c> em
<path>/usr/X11R6/lib/X11/fonts/misc/fonts.alias</path> para terminar
em <c>iso8859-15</c> ao invés de <c>iso8859-1</c>.
</p>

<pre caption="configurando fontes padrão do X">
fixed        -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-15
variable     -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Alguns aplicativos usam sua própria fonte, e você vai ter que 
falar para eles usar uma fonte com o símbolo do Euro separadamente. Você 
pode fazer isso em nível de usuário no
<path>.Xdefaults</path> (você pode copiar este arquivo para
<path>/etc/skel/</path> para uso de novos usuários), ou em nível
global para qualquer aplicativo com um arquivo de recursos em
<path>/usr/X11R6/lib/X11/app-defaults/</path> (como o xterm).  Nestes
arquivos você geralmente tem que mudar uma linha existente, 
ao invés de adicionar uma nova. Para mudar nossa fonte de xterm, por
exemplo:
</p>

<pre caption="mudando fontes para o xterm">
<codenote>(em seu diretório de home)</codenote>
# <i>echo 'XTerm*font: fixed' >> .Xresources </i>
# <i>xrdb -merge .Xresources</i>
</pre>

</body>
</section>
<section>
<title>O símbolo do Euro no (X)Emacs</title>
<body>

<p>
Para usar o símbolo do Euro com (X)Emacs, adicione o seguinte ao
<path>.Xdefaults</path>:
</p>

<pre caption="configurando a fonte para emacs">
Emacs.default.attributeFont: -*-courier-medium-r-*-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Para XEmacs (não o Emacs normal), você tem que fazer mais um 
pouco. Em <path>/home/user/.xemacs/init.el</path>, adicione:
</p>

<pre caption="ajustando a fonte para xemacs">
(define-key global-map '(EuroSign) '[&#8364;])
</pre>

<note>
O símbolo dentro das chaves é o símbolo do Euro.
</note>

</body>
</section>
<section>
<title>Língua para o OpenOffice</title>
<body>

<note>
Línguas padrões personalizadas não estão disponíveis na ebuild do openoffice-bin. A
língua padrão no openoffice-bin é ENUS.
</note>

<p>
A língua padrão para o OpenOffice é ajustada com "ENUS"(01). Se você deseja
mudar a língua padrão para o OpenOffice, verifique o código padrão de língua
na ebuild.
</p>

<pre caption="fazendo emerge openoffice com a língua padrão desejada">
# <i>LANGUAGE="01" emerge openoffice</i>
<comment>01 é o código da língua para o openoffice</comment>
</pre>

</body>
</section>
</chapter>

</guide>
