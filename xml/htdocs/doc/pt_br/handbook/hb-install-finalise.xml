<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pt_br/handbook/hb-install-finalise.xml,v 1.1 2004/05/12 14:50:54 azambuja Exp $ -->

<sections>
<section>
<title>Administração de Usuários</title>
<subsection>
<title>Configurando a senha do root</title>
<body>

<p>
Antes que você se esqueça, configure a senha do root digitando:
</p>

<pre caption="Configurando a senha do root">
# <i>passwd</i>
</pre>

<p>
Se você quer que o root seja capaz de logar através de um console serial, adicione
<c>ttyS0</c> ao arquivo <path>/etc/securetty</path>.
</p>

<pre caption="Adicionando ttyS0 ao arquivo /etc/securetty">
# <i>echo "ttyS0" &gt;&gt; /etc/securetty</i>
</pre>

</body>
</subsection>
<subsection>
<title>Adicionando um Usuário para o Uso Diário</title>
<body>

<p>
Trabalhar como root em um sistema Unix/Linux é <e>perigoso</e> e deve ser evitado 
sempre que possível. Por isso é <e>altamente</e> recomendável adicionar um usuário 
para o uso no dia-a-dia.
</p>

<p>
Por exemplo, para criar um usuário chamado <c>john</c> que é membro dos grupos
<c>wheel</c> (capaz de mudar para o root usando o <c>su</c>), <c>users</c>
(padrão para todos os usuários) e <c>audio</c> (pode usar dispositivos de audio):
</p>

<pre caption="Adicionando um usuário para o uso do dia-a-dia">
# <i>useradd john -m -G users,wheel,audio -s /bin/bash</i>
# <i>passwd john</i>
Password: <comment>(Enter the password for john)</comment>
Re-enter password: <comment>(Re-enter the password to verify)</comment>
</pre>

<p>
Se este usuário precisar executar alguma tarefa como root, ele pode usar o comando <c>su -</c> 
para temporariamente ter os privilégios do root. Outra maneira é usar o comando <c>sudo</c> 
que é, se configurado corretamente, bastante seguro.
</p>

</body>
</subsection>
</section>
<section>
<title>Reinicie e Aproveite</title>
<subsection>
<title>Reiniciando</title>
<body>

<p>
Parabéns! Seu sistema Gentoo está pronto agora. Saia do ambiente chroot
e desmonte todas as partições montadas e, caso você precisou montar o
<path>/mnt/gentoo/dev</path>, não se esqueça de desmontar eçe também. Então é só digitar 
aquele comando mágico que você estava esperando: <c>reboot</c>.
</p>

<pre caption="Reiniciando o sistema">
# <i>exit</i>
# <i>cd /</i>
# <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
# <i>reboot</i>
</pre>

<p>
Claro, não se esqueça de remover o CD, senão o CD irá 
iniciar novamente ao invés do Gentoo que você acabou de instalar.
</p>

<p>
Usuários do OldWorld PPC irão iniciar no MacOS já que o bootloader
não está instalado ainda. Estes usuários devem ler <uri
link="#doc_chap2_sect2">Opcional: Configurando o BootX</uri>. Usuários de MIPS terão 
que fazer mais ajustes em suas MIPS PROM para ter Gentoo funcionando. Este usuários 
devem ler <uri link="#doc_chap2_sect3">Opcional: Pondo o Gentoo pra funcionar com MIPS</uri>. 
</p>

<p>
Usuário do GRP podem continuar com <uri link="#doc_chap2_sect4">Opcional: 
Instalar Pacotes GRP</uri>, o restante pode ser terminado com <uri 
link="?part=1&amp;chap=12">Where to go from here?</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Opcional: Configurando o BootX</title>
<body>

<impo>
Esta subseção é <e>somente</e> para usuário de PPC que querem usar o BootX como
bootloader. Todos os outros leitores devem pular esta subseção.
</impo>

<p>
Agora sua maquina inicia no MacOS, abra o painel de controle do BootX.
Selecione <c>Options</c>, e desmarque <c>Used specified RAM disk</c>. Quando você
retornar a tela principal BootX, você irá agora encontrar uma opção para especificar 
o disco e a partição raiz da sua maquina. Preencha com os valores apropriados.
</p>

<p>
O BootX pode ser configurado para inicia o Linux como padrão. Se você fizer isso, você verá
primeiramente a maquina iniciar no MacOS e então, durante a inicialização, o BootX lerá
e iniciará o Linux. Veja o site do <uri
link="http://penguinppc.org/projects/bootx/">BootX</uri> para maiores informações.
</p>

<p>
Usuário do GRP podem continuar com <uri link="#doc_chap2_sect4">Opcional: 
Instalar Pacotes GRP</uri>, o restante pode ser terminado com <uri 
link="?part=1&amp;chap=12">Where to go from here?</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Opcional: Pondo o Gentoo pra funcionar com MIPS</title>
<body>

<p>
Quando você reiniciar, vá para <e>System Maintenance Menu</e> e selecione
<e>Enter Command Monitor</e> (<c>5</c>). Se você quiser testar sua nova instalação 
Gentoo, você pode apenas executar <c>boot -f &lt;kernel name&gt;</c>. Para que seu 
sistema inicie permanentemente no sua nova instalação do Gentoo installation, você precisa
configurar alguma variáveis na MIPS PROM:
</p>

<pre caption="Configurando a PROM para Iniciar no Gentoo">
1) Start System
2) Install System Software
3) Run Diagnostics
4) Recover System
5) Enter Command Monitor

Option? <i>5</i>
Command Monitor.  Type "exit" to return to the menu.

<comment>(&lt;root device&gt; = Gentoo's root partition, e.g. /dev/sda3)</comment>
&gt;&gt; <i>setenv OSLoadPartition &lt;root device&gt;</i>

<comment>(To list the available kernels, type "ls")</comment>
&gt;&gt; <i>setenv OSLoader &lt;kernel name&gt;</i>
&gt;&gt; <i>setenv OSLoadFilename &lt;kernel name&gt;</i>

<comment>(Declare the kernel parameters you want to pass)</comment>
&gt;&gt; <i>setenv OSLoadOptions &lt;kernel parameters&gt;</i>

<comment>(Provide the location of the Volume Header)</comment>
&gt;&gt; <i>setenv SystemPartition scsi(0)disk(1)rdisk(0)partition(8)</i>

<comment>(Automatically boot Gentoo)</comment>
&gt;&gt; <i>setenv AutoLoad Yes</i>

<comment>(Set the timezone)</comment>
&gt;&gt; <i>setenv TimeZone EST5EDT</i>

<comment>(Use the serial console - graphic adapter users should have "g" instead of "d1" (one))</comment>
&gt;&gt; <i>setenv console d1</i>
</pre>

<p>
Agora você está pronto para aproveitar o Gentoo!
</p>

</body>
</subsection>
<subsection>
<title>Opcional: Instalar Pacotes GRP</title>
<body>

<impo>
Esta parte é somente para usuário do GRP. Outros usuários devem pular esta parte e continuar 
com <uri link="?part=1&amp;chap=12">Where to go from here?</uri>.
</impo>

<p>
Agora que o seu sistema já iniciou, acesse o sistema com o usuário que você criou (por exemplo,
<c>john</c>) e usar o comando <c>su -</c> para obter os privilégios do root:
</p>

<pre caption="Obtendo privilégios do root">
$ <i>su -</i>
Password: <comment>(Enter your root password)</comment>
</pre>

<p>
Agora nós precisamos os pacotes binários do segundo CD (CD de Pacotes Gentoo) se você
o tem. Primeiro monte o CD:
</p>

<pre caption="Monte o CD de Pacotes">
# <i>mkdir /mnt/cdrom</i>
<comment>(Put the Gentoo Packages CD in the CD tray)</comment>
# <i>mount /mnt/cdrom</i>
</pre>

<p>
Agora copie todos o pacotes binários do CD para 
<path>/usr/portage/packages</path>. Certifique-se de usar exatamente o mesmo comando!
</p>

<pre caption="Copiando os pacotes binários">
# <i>cp /mnt/cdrom/packages/All/* /usr/portage/packages/All/</i>
</pre>

<p>
Agora instale os pacotes que você quiser. O CD de Pacotes contém vários pacotes binários, por 
exemplo o KDE:
</p>

<pre caption="Instalando o KDE">
# <i>USE="bindist" emerge --usepkg kde</i>
</pre>

<p>
A variável <c>USE="bindist"</c> é necessária quando você instala o XFree (tanto diretamente ou como dependência). Isto previne de baixar as fontes da Microsoft (que não podem ser
distribuidas em nossos LiveCDs).
</p>

<p>
Certifique-se de instalar os binários agora. Quando você fizer um <c>emerge sync</c> para 
atualizar o Portage (como você aprenderá depois), os pacotes binários podem não combinar com 
os ebuilds no seu Portage atualizado. Você pode tentar contornar isto usando o comando 
<c>emerge --usepkgonly</c> ao invés de <c>emerge --usepkg</c>.
</p>

<p>
Parabéns, agora seu sistema está completamente equipado! Continue com <uri
link="?part=1&amp;chap=12">Where to go from here?</uri> para aprender mais sobre o Gentoo.
</p>

</body>
</subsection>
</section>
</sections>
