<?xml version='1.0' encoding="UTF-8"?>

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pt_br/fluxbox-config.xml,v 1.2 2005/04/30 02:47:13 vanquirius Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pt_br/fluxbox-config.xml">

<title>O guia de configuração do Fluxbox</title>

<author title="Autor">
  <mail link="smith.jonathan@gmail.com">Jonathan Smith</mail>
</author>
<author title="Tradutor">
  <mail link="vanquirius@gentoo.org">Marcelo Góes</mail>
</author>

<abstract>
Este guia irá mostrar como configurar o gerenciador de janelas Fluxbox para X11.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->
<license/>

<version>1.0.4</version>
<date>2005-04-16</date>

<chapter>
<title>Introdução</title>
<section>
<title>Introduçao ao gerenciador de janelas Fluxbox</title>
<body>

<p>
Para aqueles que não estiverem familiarizados com o modelo de desktop do Linux, gerenciadores de janelas (WMs)
são aplicações que são rodadas pelo X11 para gerenciar outros programas gráficos.
Embora não sejam necessários, uma sessão de X11 sem um WM é bem feia
e não contém muitas das funções comumente associadas com um desktop
moderno.
</p>

<p>
O Fluxbox é um WM que tem uma filosofia muito mais minimalística que WMs mais
populares como KDE e GNOME. Embora sirva o mesmo propósito básico, o Fluxbox
não tem um gerenciador de arquivos gráfico, ícones, uma organização de "menu iniciar", e
utilitários adicionais. No entanto, é possível obter estes e mais se for
desejado. Isto permite o máximo de abilidade para personalizar, que afinal de
contas é o lema do Gentoo.
</p>

<p>
Este guia é dirigido para os que são novos ao Fluxbox, curiosos, ou que
só querem tirar mais de sua experiência com o Gentoo/Fluxbox. Este guia
também irá ilustrar como tirar mais funcionalidade (ainda opcional)
usando programas de terceiros que funcionam bem com Fluxbox.
</p>

<p>
Também note que desde o começo de 2005, o XFree86 foi tirado da árvore do Portage do Gentoo.
Isto significa que este guia está presumindo que o leitor está usando Xorg. Se não, então
este guia pode ainda ser preciso, mas ele não tenta oferecer
compatibilidade com XFree. O Gentoo recomenda trocar para fazendo <c>emerge
xorg-x11</c>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Instalando o Fluxbox</title>
<section>
<title>Instalação de base</title>
<body>

<p>
O Gentoo oferece uma ebuild para instalar o Fluxbox rapidamente e facilmente. Embora o Gentoo
ofereça opções de USE para <c>gnome</c> e <c>kde</c> que são para fornecer
"compatibilidade" com estes WMs, não é a experiência do autor de que 
sejam necessárias. Se você desejar qt, qtk+ ou qualquer utilitário de KDE/GNOME você é
bem-vindo a fazer emerge e configurá-lo independentemente. Por exemplo, o autor usa
Fluxbox com k3b, o utilitário de gravação de CD-R(W) do KDE.
</p>

<p>
Também é necessário que um programa trave o display do X para prevenir
acesso não autorizado, então é sábio fazer emerge do <c>xlock</c>. A vasta
maioria dos usuários também deve ter a abilidade de configurar seu fundo, então
iremos instalar o <c>eterm</c>, que é um simpático terminal de X11.
</p>

<pre caption="Fazendo emerge do Fluxbox">
# <i>emerge fluxbox xlockmore x11-terms/eterm</i>
</pre>

<p>
Bem, isto é tudo; o Fluxbox está instalado agora! Todavia, ainda é provável que você
não irá ser capaz de usá-lo eficientemente com estas ferramentas. As seguintes seções
irão ajudar a instalar outros pacotes potencialmente necessários, e configurar o Fluxbox
e programas de terceiros para funcionar pra você. Tenha em mente que todos os passos
são opcionais, então sinta-se livre para escolher.
</p>


</body>
</section>
</chapter>
<chapter>
<title>Configurando o Fluxbox</title>
<section>
<title>Preparando o X11</title>
<body>

<p>
O Fluxbox é simplesmente outro programa que o X11 roda. Se desejado, pode-se fazer
<c>startx</c> e então digitar <c>fluxbox</c> em um xterm. No entanto, isto é
chato, para dizer o mínimo. Se não desejar carregar na GUI automaticamente, mas
iniciar o X11 manualmente, é possível fazer com que o X carregue o Fluxbox
automaticamente executando, como um usuário normal (não-root):
</p>

<pre caption="Editando seu xinit">
$ <i>echo fluxbox > ~/.xinitrc</i>
</pre>

<p>
Isto também não é ideal para a maior parte dos usuários, já que querem ter o ambiente de
desktop toda hora; também é tedioso fazer <c>startx</c> se é desejado usar uma
GUI toda vez que você carrega. Também é um risco de segurança para os incautos. Se
alguém travar um display de X11 usando <c>xlock</c>, mas rodar o X11 de um console, então
alguém com acesso físico ao computador pode mudar para aquele console, matar
o X11 e usar sua conta. O único jeito de prevenir isto é ou mandar o X11 para o
background ou rodá-lo com screen, desatachar o screen, e então fazer log-out do console, uma
tarefa tediosa no mínimo. Se alguém usar um gerenciador de log-in gráfico, este problema não
existe. Todavia, você irá rodar o X11 como root, que pode ser uma coisa ruim.
Não existem, no momento desta escrita, nenhum problema de segurança que o autor conhece para
a versão atual, mas se houver a preocupação, então não use X11 ou use o método
acima com screen. Note que isto não é um problema do Fluxbox, mas que afeta o
próprio X11.
</p>

<!--
thanks to Josh Nichols for helping cleanup this section. see comment #4 on bug
87330
-->

<p>
Existem vários gerenciadores de log-in gráficos para escolher; nós usaremos o
gdm. Você pode usar outro gerenciador se quiser, mas o gdm funciona bem para
Fluxbox, bem como quaisquer outros WMs que você pode ter instalado como GNOME, KDE ou
xfce.
</p>

<pre caption="Gerenciador de Log-in">
# <i>emerge gdm</i>
# <i>rc-update add xdm default</i>
</pre>

<impo>
Certifique-se de fazer emerge gdm e adicionar xdm ao script de inicialização, e não ao 
contrário! Trocá-los irá causar problemas. Nós também precisamos modificar um
arquivo de configuração do sistema:
</impo>

<pre caption="Editando o /etc/rc.conf">
DISPLAYMANAGER="gdm"
</pre>

</body>
</section>
<section>
<title>Temas e arte</title>
<body>

<p>
Esta seção pode ser pulada se for desejado a menor carga possível. No entanto, é
bom permitir que os usuários personalizem a aparência de seus WMs. Temas específicos
para o Fluxbox, arte do Gentoo para qualquer WM, e temas que podem ser usados com qualquer WM
*box serão instalados.
</p>

<pre caption="Instalando estilos e arte">
# <i>emerge commonbox-styles commonbox-styles-extra \
  fluxbox-styles-fluxmod gentoo-artwork</i>
</pre>

</body>
</section>
<section>
<title>Sintaxe de Fluxbox para Vim</title>
<body>

<p>
A seguir, instale o esquema de cores especial do Fluxbox para <c>vim</c>. Isto permite que
usuários vejam mais prontamente o conteúdo de seus arquivos de keys e init para
Fluxbox. Isto é uma pequena extensão para vim, então é altamente recomendada
)a menos que você seja uma pessoa que gosta de emacs, caso em que recomendo
<c>emerge -C emacs &amp;&amp; emerge vim gvim</c> ;-).
</p>

<pre caption="Fazendo emerge da sintaxe de Fluxbox">
# <i>emerge fluxbox-syntax</i>
</pre>


</body>
</section>
<section>
<title>Teclas de Fluxbox</title>
<body>

<p>
O Fluxbox vem com uma seleção pobre de conjuntos de teclas. Permite que o usuário
troque janelas e desktops, e nada mais. Antes de mudr isso, existem algumas
coisas que precisam ser conhecidas. No arquivos keys do Fluxbox, existem alguns modificadores
estranhos. Mod1 é normalmente conhecido como a tecla "Alt", e Mod4 é a famigerada
tecla (windows). Control e Shift são Control e Shift. No entanto, é normalmente
melhor usar as teclas Alt/Windows já que outros programas de X11 tendem a usar Control e
Shift para seus próprios atalhos.
</p>

<p>
Todos são independentes, então sinta-se livre para não usar nada que não é desejado,
ou modificar de acordo com suas necessidades. Este guia usa o que o autor presume ser 
os programas mais comuns, então também troque o nome do pacote usado se ele
for diferente do que aparece aqui. Para mais informações, leia a página de man para
Fluxbox.
</p>

<p>
Agora, com isto fora do caminho, inicie um editor de texto (usuário não-root), aponte-o
para <path>~/.fluxbox/keys</path>, e vamos melhorar os atalhos!
</p>

<pre caption="Modificando atalhos de teclado">
<comment># trava o display de X11 para o usuário atual</comment>
Mod4 l   :ExecCommand xlock

<comment># abre vários programas com teclas de atalho. Estes são apenas exemplos, tenho certeza de
# que você entende a lógica...</comment>
Mod1 f   :ExecCommand firefox
Mod1 t   :ExecCommand thunderbird
Mod1 o   :ExecCommand oowriter
Mod1 v   :ExecCommand gvim

<comment># O Fluxbox não tem controle de som, então precisamos usar um hack para ter um
# (presume uso de alsa. se você usa oss, está por conta própria)</comment>
Mod1 e   :ExecCommand Eterm -name alsa -e alsamixer

<comment># Controle de programa. Facilita a vida...</comment>
Mod1 4   :Close
Mod1 m   :Minimize

<comment># se você tiver (emerge x11-terms/aterm), então o seguinte abre um belo
# aterm transparente sem bordas, cabendo bem com uma resolução de
# 1024x768, e ao mesmo tempo deixando espaço parao torsmo. Novamente, sinta-se livre
# para modificar.</comment>
Mod1 a   :ExecCommand aterm -name aterm -sl 3000 -tr +sb -sr -sk -bg black -fg \
white -fade 90 -bl -tn xterm -fn \
-misc-fixed-medium-r-normal-*-*-120-*-*-c-*-iso8859-15 -g 116x57

<comment># igual ao de cima, mas abre um terminal transparente de root. você deve, 
# claro, saber a senha de root para usar isto</comment>
Mod1 s   :ExecCommand aterm -name aterm -sl 3000 -tr +sb -sr -sk -bg black -fg \
white -fade 90 -bl -tn xterm -fn \
-misc-fixed-medium-r-normal-*-*-120-*-*-c-*-iso8859-15 -g 116x57 -e su -
</pre>

</body>
</section>
<section>
<title>Monitor de sistema</title>
<body>

<p>
É um desejo comum configurar um monitor de sistema para X11 em sistemas de desktop.
Gkrellm é um monitor comument usado, mas no espírito minimalista do Fluxbox, iremos
instalar um monitor mais simples: Torsmo. Se desejado, use outro monitor;
existem vários guias em outros locais.
</p>

<pre caption="Instalando o torsmo">
# <i>emerge torsmo</i>
</pre>

<p>
O arquivo de configuração padrão do Torsmo é fraco, mas mais informações podem ser encontradas
lendo a página de man ou o <uri
link="http://torsmo.sourceforge.net/readme.php">readme</uri>.
</p>

</body>
</section>
<section>
<title>Ícones</title>
<body>

<p>
O Fluxbox não vem com um utilitário ou programa para desenhar ícones no desktop;
tudo é feito por atalhos de teclado, ou menu do botão direito do mouse. No entanto,
é possível usar um programa para gerar ícones. Apesar do nome, idesk não é
afiliado com a Apple ou Mac (até onde o autor sabe).
</p>

<pre caption="Instalando o idesk">
# <i>emerge idesk</i>
</pre>

<!--
if someone wants to write a better description of idesk, feel free. it would be
appreciated!
-->

<p>
Uma vez instalado, será necessário adicionar ícones ao programa. Os ícones do Idesk
são manuseados em seu arquivo de configuração, encontrado em <path>~/.ideskrc</path>. Esta é uma
tarefa longa, e não pode ser bem coberta neste guia. Para mais
informações, <c>man idesk</c> e veja o <uri
link="http://idesk.sourceforge.net/usage.html">guia de uso</uri>.
</p>

</body>
</section>
<section>
<title>Configurando um tema, papel de parede e script de inicialização</title>
<body>

<p>
O Fluxbox tem vários temas que podem ser acessados com o menu do botão direito do mouse,
então em "Fluxbox menu," e "System Styles." Estes temas normalmente configuram seus próprios
papéis de parede, que é ou uma cor única ou um degradê de algum tipo. A maior parte
das pessoas prefere configurar seu próprio papel de parede, e mantê-lo não importa qual tema
escolherem. Para fazê-lo, preciamos editar outro dos arquivos do Fluxbox, que controla
o comportamento da inicialização. Então inicie seu editor de texto novamente, e aponte-o para
<path>~/.fluxbox/startup</path>.
</p>

<p>
Se o arquivo existir, então limpe-o. Adicione o seguinte para o arquivo recém-criado,
descomentando conforme necessário, e preenchendo os valores para as MAIÚSCULAS.
</p>

<pre caption="Editando arquivos de inicialização do Fluxbox">
<comment># script de inicialização do Fluxbox do Gentoo

# Programas que precisam ser rodados constantemente, ao contrário de uma vez durante a execução
# precisam de um "&amp;" no final do comando.

# Mostrar a tela de início do Fluxbox
#fbsetbg -C /usr/share/fluxbox/splash.jpg

# Configura um papel de parede. Você deve ter um programa configurado para fazer isto
# (x11-terms/eterm é recomendado)
#bsetbg -f CAMINHO_PARA_IMAGEM

# Diretório de fontes personalizadas
#xset +fp CAMINHO_PARA_DIRETÓRIO_DE_FONTES

# Inicia o programa de ícones
#idesk &amp;

# Inicia o monitor de sistema Torsmo
#torsmo &amp;

# Este DEVE ser o último comando!</comment>
exec /usr/bin/fluxbox -log ~/.fluxbox/log
</pre>

</body>
</section>
<section>
<title>Geração de menu</title>
<body>

<p>
O autor usa um editor de texto para criar menus, acreditando que criadores de menu
criam muita bagunça, freqüentemente pulam pacotes importantes, e nem sempre
funcionam bem com os estilos que o Gentoo instala. No entanto, muitos discordam, então
as instruções abaixo mostram como usar dois dos mais comuns geradores de menu.
</p>

<p>
Os dois programas fornecem um bom sistema organizacional, e é possível
editar o <path>~/.fluxbox/menu</path> depois de usá-los, tanto para adicionar
como apagar pacotes que não são usados. Note que se algo for apagado
deste menu, ele não apaga o pacote do sistema, só do menu individual
do usuário. O programa ainda pode ser rodado na linha de comando.
</p>

<p>
Já existe um programa em seu sistema chamado <c>fluxbox-generate_menu</c>,
cujo comportamento é parecido com o do <c>mmaker</c>. Este programa lida melhor
com estilos, mas não detecta tantos programas. Para usá-lo, simplesmente
rode o comando. Para instalar e usar <c>mmaker</c>, veja abaixo.
</p>

<pre caption="Instalando o menumaker">
# <i>emerge menumaker</i>
</pre>

<p>
Então, simplesmente rode <c>mmaker Fluxbox</c>. Todavia, é importante notar que
enquanto a mais programas são detectados que usando <c>fluxbox-generate_menu</c>,
muitos programas importantes ainda são pulados. Por exemplo, nem gaim nem xchat são
encontrados.
</p>

</body>
</section>
<section>
<title>Resumo</title>
<body>

<p>
Parabéns! O Fluxbox agora está instalado, configurado e pronto para ser usado. Se quaisquer
dúvidas ou sugestões aparecerem, por favor mande um e-mail para o autor e/ou faça
um relato de bug no <uri link="http://bugs.gentoo.org">Bugzilla</uri> do Gentoo.
</p>

</body>
</section>
</chapter>
</guide>
