<?xml version='1.0' encoding='UTF-8'?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ja/security/shb-pre.xml,v 1.4 2008/06/20 01:03:53 shindo Exp $ -->
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->
<!-- Original revision: 1.3 -->
<!-- Translated: Shindo -->

<sections>

<version>1.0</version>
<date>2005-05-31</date>

<section>
<title>物理セキュリティ</title>
<body>

<p>
どれほど数多くの保護を実装しても、攻撃者がコンピュータに物理アクセスすることで、
それらすべてが簡単に回避されるかもしれません。
しかしながら、機器に物理アクセスする攻撃者に対するセキュリティを決めるために、
取りうる対策が一応は存在します。
機器を鍵のかかる棚にしまうことで、攻撃者がケーブルを抜き、持ち去るのを防いでください。
攻撃者がハードディスクを絶対持ち逃げできないように、
コンピュータのケースに鍵をかけるのも良いアイデアです。
うまく権限とログイン制限を回避して、別ディスクからのブートができないように、
BIOS上でハードディスクをファーストブートディスクにし、
BIOSパスワードを設定するようにしてください。
悪意あるユーザがシングルユーザモードでブートして、システムに対する完全なアクセスを
取得できないように、LILOやGRUBのブートパスワードを設定することも重要です。
これについては3章の
<uri link="?part=1&amp;chap=2#passwording_GRUB">GRUBパスワードの設定</uri> や <uri link="?part=1&amp;chap=2#passwording_LILO">LILO パスワードの設定</uri> で詳細に触れます。
</p>

</body>
</section>
<section>
<title>デーモン/サービス設計</title>
<body>
<p>
マシンで稼働させるべきサービスにどういったものがあるのか文書化から始めてください。
これによりシステムに対してより良いパーティション構成ができ、
より適切なセキュリティ対策を計画できます。
もちろん、もしデスクトップやファイアーウォール専用のような単一で単純な目的のサーバであれば、
これは不要です。
こうした場合は、おそらくsshdを除いて、<e>あらゆる</e>サービスを稼働させないのが賢明です。
</p>
<p>
また、このリストでシステム管理者が楽になることもあります。
現時点でのバージョン情報を管理することで、
それぞれのデーモンで脆弱性が発見されても、
最新に保つことが非常に簡単なことが分かるでしょう。
</p>

</body>
</section>
<section>
<title>パーティションの構成</title>
<body>

<p>
パーティションのルール:
</p>

<ul>
<li>
  ユーザが書き込めるディレクトリツリー(例 <path>/home</path>, <path>/tmp</path>)
  はすべて別なパーティションに置き、ディスク使用制限をかけなければいけません。
  これは一人のユーザが全ファイルシステムを使いきってしまうリスクを減らすためです。
  portage は<path>/var/tmp</path>をコンパイルの目的で使うので、
  このパーティションは大きくしておく必要があります。
</li>
<li>
  ディストリビューションで配布される以外のソフトウェアをインストールしようとするディレクトリツリーはすべて、
  別のパーティション上にあるべきです。
  <uri link="http://www.pathname.com/fhs/">File Hierarchy Standard</uri>によれば、
  このパーティションは<path>/opt</path> または <path>/usr/local</path>です。
  もし、これらが別パーティションであれば、システムの再インストールをしなければいけなくなっても、
  これらのソフトウェアは削除されることはありません。
</li>
<li>
  特別なセキュリティのためには、静的なデータを読み込み専用の別パーティションに置くこともできます。
  極端ないい方をすれば、CD-ROMのような読み込み専用のメディアを使ってみてください。
</li>
</ul>

</body>
</section>
<section>
<title>rootユーザ</title>
<body>

<p>
rootユーザはシステム上もっとも重要なユーザであり、必要なとき以外は絶対に使用してはいけません。
もし攻撃者にroot権限を奪取された場合、システムの信用を回復するには再インストールしかありません。
</p>

<p>
rootに関する大原則
</p>

<ul>
<li>
  普段使用するユーザを作成し、もしこのユーザにroot権限が必要であれば、
  このユーザをwheelグループに追加してください。これにより、一般ユーザが	
  rootに<c>su</c>できるようなります。
</li>
<li>
  Xや他のユーザアプリケーションをrootで動かさないでください。
  rootは確実に必要なときにだけ使うべきです。
  もし一般ユーザで動かしているアプリケーションに脆弱性があった場合、
  攻撃者はユーザレベルでのアクセス権を奪取できます。
  ところが、もしアプリケーションがrootで動いている場合には、
  攻撃者にrootでのアクセス権を奪取されてしまいます。
</li>
<li>
  rootとしてログインしているときは常に絶対パスを使用してください
  (または、rootの<c>PATH</c>だけに<path>/bin</path>や<path>/sbin</path>のような、
  保護されたディレクトリがあると考えられる場合には、常に<c>su -</c>を使って、
  ユーザの環境をrootのものに置き換えてください)。
  rootをだまして意図しないアプリケーションを起動させることがありえます。
  もしrootの<c>PATH</c>が保護されていたり、rootが絶対パスしか使わなければ、
  このような事は起こらないでしょう。  
</li>
<li>
  もし、ユーザがrootでいくつかのコマンドを実行する必要があるだけなら、
  通常rootはあらゆる事が可能なので、その代わりに<c>sudo</c>を考慮してください。
  ただし、このアクセスを誰にあたえるかにも注意してください。
  
</li>
<li>
  rootとしてログインしているときは決して、画面から離れないでください。
</li>
</ul>

<p>
Gentooでは一般ユーザがrootへ<c>su</c>するのを防ぐ手段がいくつかデフォルトでとられています。
デフォルトのPAM設定では<c>su</c>するためには"wheel"グループに所属する必要があります。
</p>

</body>
</section>
<section id = "security_policies">
<title>セキュリティポリシー</title>
<body>

<p>
システムやネットワークにたいしてセキュリティポリシーを作成する根拠がいくつかあります。
</p> 

<ul>
<li>
  よいセキュリティポリシーによって、単に異なる項目の寄せ集めではなく、
  「システム」としてセキュリティの概要をまとめることができます。
  たとえば、ポリシーがない状態では、
  管理者はパスワードが平文で送られるため、telnetを停止させるかもしれません。
  しかし、同じ脆弱性がある  FTPはそのままにしてしまいます。
  よいセキュリティポリシーのおかげで、セキュリティ対策が価値のあるものかどうかが確認できます。
</li>
<li>
  問題判別や、監査の実施、侵入者の追跡などを行うため
  ネットワークトラフィックを遮断し、
  ログイン記録とユーザのコマンドヒストリを点検し、
  ユーザのホームディレクトリの中を見てみる必要があるかもしれません。
  こうした点を書面でまとめなかったり、ユーザに周知せずにおいた場合、
  これらの行動をいざとったとき法に違反することにもなりかねず、
  <e>あなた</e>を法的な窮地に追い込むことになるかもしれません。
    
</li>
<li>
  ユーザアカウントの乗っ取りは、システムセキュリティに共通する最大級の脅威です。
  セキュリティの重要性をユーザに説明しないままだったり、
  (パスワードをポストイットに書いて机の上に貼らないなどの)どのように良
  いセキュリティを習慣付けるか説明しないままでは、
  安全なユーザアカウントなど望むべくもないでしょう。

</li>
<li>
  侵入を追跡したりその後の弱点を確認する際に、
  必要となれば、当局の調査官と同じくらい、
  ドキュメントが十分にあるネットワークやシステムレイアウトが助けになります。
  システムがプライベートネットワークにあり、許可されないアクセスが全て禁止されている、
  という趣旨のセキュリティポリシー発行バナーは、
  侵入者がいったん捕まった場合、起訴可能であることを示すのに役立ちます。
</li>
</ul>

<p>
よいセキュリティポリシーの必要性がより明確になったでしょうか。
</p>

<p>
ポリシー自身はひとつのドキュメントもしくは複数のドキュメントであり、
ネットワークとシステムの機能(どんなサービスが提供されているか)、
利用規則、禁止項目、そして
セキュリティの「ベストプラクティス」などをまとめたものです。
ユーザ全員はポリシーを知っていなければいけませんし、
最新に保つための変更点についても同様です。
ユーザにポリシーの理解を促すことと何故ポリシーに署名が必要なのか、
または直接ポリシーに反する行動をした場合にどうなるのか、
(これはポリシーに記載しておくべきです)という点について時間をかけることが重要です。
こうしたことは最低でも年に1度は繰り返し行われなければいけません、
なぜならば、ポリシーは書き換わることがありうるからです
(もちろんユーザへポリシーそのものを思い出せるということもあります)。
</p>

<note>
ポリシーの作成においては、読みやすくかつどの項目についても極めて正確にあるべきです。
</note>

<p>
セキュリティポリシーは最低でも次の項目を含むべきです。
</p>

<ul>
<li>利用規定
  <ul>
  <li>スクリーンセーバー</li>
  <li>パスワード規定</li>
  <li>ソフトウェアのダウンロードとインストールについて</li>
  <li>ユーザが監視されている場合の情報提示</li>
  <li>アンチウイルスソフトの使いかたについて</li>
  </ul>
</li>
<li>重要情報の取り扱い(すべての書類、電子情報)
  <ul>
  <li>机の整理整頓と機密情報保管</li>
  <li>出かける前のPCのシャットダウン</li>
  <li>暗号の使用</li>
  <li>信用できる同僚との鍵取り扱い</li>
  <li>移動時の機密資料取り扱い</li>
  </ul>
</li>
<li>移動時のコンピュータ装置の取り扱い
  <ul>
  <li>移動時とホテル滞在時のラップトップコンピュータの取り扱い</li>
  </ul>
</li>
</ul>

<p>
異なるユーザが異なるレベルやアクセスタイプを要求するかもしれません、
そしてポリシー自体はそれらをすべてに対応するため変更される可能性があります。

</p>

<p>
セキュリティポリシーというのは量が増えがちであり、重要な情報は忘れ去られがちです。
ITスタッフのポリシーは普通のユーザにとっては機密になる情報を含むことがあり、
区別して量を減らしたポリシーにするのが賢いやり方です。
たとえば、利用規程、パスワードポリシー、電子メールのポリシー、
リモートアクセスポリシーなどです。

</p>

<p>
ポリシーの例としては
<uri link="http://www.sans.org/resources/policies/">The SANS Security Policy Project</uri>があります。
もし、小規模のネットワークと上のポリシーが過剰と思う場合には
<uri link="ftp://ftp.isi.edu/in-notes/rfc2196.txt">Site Security Handbook</uri>
(訳注:<uri link="http://www.ipa.go.jp/security/rfc/RFC2196-00JA.html">IPAによるRFC日本語訳</uri>)をみてください。

</p>

</body>
</section>
</sections>
