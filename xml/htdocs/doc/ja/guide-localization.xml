<?xml version='1.0' encoding='UTF-8'?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ja/guide-localization.xml,v 1.1 2004/11/16 20:27:48 nakano Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/ja/guide-localization.xml">
<title>Gentoo Linux ローカライズガイド</title>
<author title="Author">
  <mail link="holler@gentoo.de">Alexander Holler</mail>
</author>
<author title="Translator/Editor">
  <mail link="slucy@uchicago.edu">Steven Lucy</mail>
</author>
<author title="Editor">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Editor">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Editor">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="翻訳">
  <mail link="solidsneak@hyper.cx">小林弘樹</mail>
</author>

<abstract>
このガイドではGentoo Linuxディストリビューションを各々のヨーロッパ地方へローカライズするお手伝いをします。
これはドイツのドキュメントから翻訳されたため、ケーススタディとしてドイツ語が使われています。
ユーロ通貨記号を利用するための設定も含まれています。
</abstract>

<version>1.11</version>
<date>November 1, 2004</date>

<!-- Original revision: 1.15 -->

<chapter>
<title>タイムゾーン</title>
<section>
<body>

<p>
正確な時間を保つためには、<path>/etc/localtime</path>が正しいタイムゾーンデータファイルを示していなければなりません。
<path>/usr/share/zoneinfo/</path>を見渡してあなたのタイムゾーンか近くにある大きな都市を選んでください。
</p>

<pre caption="タイムゾーンの設定">
# <i>ln -sf /usr/share/zoneinfo/Europe/Berlin /etc/localtime</i>
# <i>date</i>
Sun Feb 16 08:26:44 CET 2003
</pre>

<note>
３文字のタイムゾーン表示(この場合ではCET)があなたの地域にとって正しい物かを確かめてください。
</note>

<note>
ユーザーレベルの設定のために、<path>/usr/share/zoneinfo</path>に基づく<c>TZ</c>を、シェルのrcファイル(bashでは<path>.bash_profile</path>)に設定することができます。
このケースでは<c>TZ="Europe/Berlin"</c>となります。
</note>

</body>
</section>
</chapter>

<chapter>
<title>システムクロック</title>
<section>
<body>

<p>
ほとんどのGentoo Linuxのインストールでは、システムクロックがUTC(もしくはグリニッジ標準時のGMT)に設定されていて、正しいローカルタイムに設定しようとしています。
もし、何らかの理由で、UTC以外のシステムクロックに設定する必要があるときには、<path>/etc/rc.conf</path>にある<c>CLOCK</c>の値を変更してください。
</p>

<pre caption="ローカル vs. GMTクロック">
<codenote>推奨:</codenote>
CLOCK="UTC"
<codenote>もしくは:</codenote>
CLOCK="local"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>POSIX ロケール</title>
<section>
<title>存在するロケールを使う</title>
<body>

<p>
次のステップでは、シェルやウィンドウマネージャー(そしてその他のアプリケーション)で利用される<c>LANG</c>シェル変数を設定します。
有効な値は<path>/usr/share/locale</path>で見つけられ、一般的には<c>ab_CD</c>という形を取ります。。
<c>ab</c>は２文字の言語コード、<c>CD</c>は２文字の国コードをそれぞれ表しています。
もしあなたの言葉が１国でのみ(もしくは主に)話される場合には<c>_CD</c>は不要です。
システムレベルで設定したいときには<path>/etc/profile</path>に、ユーザーごとに設定したいときには<path>~/.bashrc</path>に、それぞれ<c>LANG</c>を設定します。
</p>

<pre caption="POSIX ロケールの設定">
export LANG="de_DE@euro"
</pre>

<note>
新しいユーロ通貨記号(&#8364;)を使いたいときは<c>@euro</c>を添えてください。
</note>

</body>
</section>
<section>
<title>特定のロケールを作成</title>
<body>

<p>
デフォルトで利用できないロケールを利用したいなら、<c>localedef</c>を利用してあなたの位置を作成します。
例えば:
</p>

<pre caption="localedefを利用してロケールを作成">
# <i>localedef -c -i en_US -f ISO-8859-15 en_US.ISO-8859-15</i>
</pre>

<p>
ロケールを作成した後は、LANG変数が合うようにexportします。
</p>

<pre caption="LANG変数をexport">
# <i>export LANG="en_US.ISO-8859-15"</i>
</pre>

</body>
</section>
<section>
<title>ユーザーロケールのUSEフラグ</title>
<body>

<p>
あなたは恐らくシステムで１つか２つのロケールしか利用しないでしょう。
ですが、<c>glibc</c>をコンパイルした後は利用可能な全てのロケールが作成されてしまいます。
このため、<c>userlocales</c>というUSEフラグを有効化して、<path>/etc/locales.build</path>で必要なロケールだけ指定します。
</p>

<pre caption="userlocales USEフラグを特にglibcに対して有効化">
echo "sys-libs/glibc userlocales" >> /etc/portage/package.use
</pre>

<p>
では利用したいロケールを指定しましょう:
</p>

<pre caption="nano -w /etc/locales.build">
en_US/ISO-8859-1
en_US.UTF-8/UTF-8
de_DE/ISO-8859-1
de_DE@euro/ISO-8859-15
</pre>

<p>
次に<c>glibc</c>を再コンパイルします。もちろん次の<c>glibc</c>の更新が利用可能になるまで延ばすこともできます。
</p>

</body>
</section>
</chapter>

<chapter>
<title>コンソールでのキーボードレイアウト</title>
<section>
<body>

<p>
コンソールで使われるキーボードのレイアウトは、<path>/etc/rc.conf</path>の<c>KEYMAP</c>変数によって設定されています。
有効な値は<path>/usr/share/keymaps/<c>{arch}</c>/</path>で見つかります。
<path>i386</path>はより細分化されたレイアウトです(<path>qwerty/</path>、<path>azerty/</path>など)。
いくらかの言語には複数のオプションがありますので、どれが要求に一致しているのかいろいろ試してみてください。
</p>

<pre caption="コンソールキーマップを設定">
KEYMAP="de"
KEYMAP="de-latin1"
KEYMAP="de-latin1-nodeadkeys"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Xサーバでのキーボードレイアウト</title>
<section>
<body>

<p>
Xサーバで使われるキーボードレイアウトは<path>/etc/X11/XF86Config</path>の<c>XkbLayout</c>オプションで設定されています。
</p>

<pre caption="Xキーマップを設定">
 Section "InputDevice"
     Identifier  "Keyboard1"
     ...
     Option "XkbLayout"    "de"
     # Option "XkbVariant"  "nodeadkeys"
     ...
</pre>

</body>
</section>
</chapter>

<chapter>
<title>KDE</title>
<section>
<body>

<p>
KDEでは適当なLINGUAS環境変数を設定してkde-i18nパッケージをインストールしてください:
</p>

<pre caption="KDEローカライズされたKDEをインストール">
# <i>LINGUAS="de" emerge kde-i18n</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>コンソールでのユーロ記号</title>
<section>
<body>

<p>
コンソールでユーロ記号を使えるようにするには、<path>/etc/rc.conf</path>の<c>CONSOLEFONT</c>を<path>/usr/share/consolefonts/</path>にあるファイル(<c>.psfu.gz</c>を除く)に設定する必要があります。
<c>lat9w-16</c>がユーロ記号です。
</p>

<pre caption="sコンソールフォントを設定">
CONSOLEFONT="lat9w-16"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Xでのユーロ記号</title>
<section>
<title>ほとんどのアプリケーション</title>
<body>

<p>
Xで正しくユーロ記号を動作させるにはちょっと大変です。
まずは<path>/usr/X11R6/lib/X11/fonts/misc/fonts.alias</path>にある<c>fixed</c>と<c>variable</c>変数の最後を<c>iso8859-1</c>から<c>iso8859-15</c>へと置き換えます。
</p>

<pre caption="デフォルトXフォントを設定">
fixed        -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-15
variable     -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
いくらかのアプリケーションはそれ自身のフォントを使用しているので、それらにユーロ記号のフォントを別に使うよう指示しなければなりません。
これは、ユーザー特有のレベルでは<path>.Xdefaults</path>(<path>/etc/skel/</path>からコピーすることもできます)で、
もしくは(xtermのように)いくつかのアプリケーションの全体レベルでは<path>/usr/X11R6/lib/X11/app-defaults/</path>にあるリソースファイルを変更することで行えます。
これらのファイルでは一般的に新しく追加するよりも既にある行を変更した方がよいでしょう。
例えば、xtermのフォントを変更するにはこうします：
</p>

<pre caption="xtermのフォントを設定">
<codenote>(ホームディレクトリで)</codenote>
# <i>echo 'XTerm*font: fixed' >> .Xresources </i>
# <i>xrdb -merge .Xresources</i>
</pre>

</body>
</section>
<section>
<title>(X)Emacsでのユーロ記号</title>
<body>

<p>
(X)Emacsでユーロ記号を使うには、<path>.Xdefaults</path>に以下のように追加します:
</p>

<pre caption="emacsのフォントを設定">
Emacs.default.attributeFont: -*-courier-medium-r-*-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
(単なるEmacsではなく)XEmacsでは、もう少しすることがあります。
<path>/home/user/.xemacs/init.el</path>に以下のように追加します:
</p>

<pre caption="xemacsのフォントを設定">
(define-key global-map '(EuroSign) '[&#8364;])
</pre>

<note>
[]の中の記号はユーロ記号です。
</note>

</body>
</section>
<section>
<title>OpenOfficeでの言語</title>
<body>

<note>
カスタマイズされたデフォルト言語はopenoffice-binのebuildでは利用できません。
openoffice-binのデフォルト言語はENUSです。
</note>

<p>
OpenOfficeのデフォルト言語は"ENUS"(01)に設定されています。
OpenOfficeのデフォルト言語を変更したいなら、ebuildのデフォルト言語コードを確認してください。
</p>

<pre caption="必要なデフォルト言語でopenofficeをemerge">
# <i>LANGUAGE="01" emerge openoffice</i>
<comment>01はOpenOfficeでのENUSを表す言語コードです。</comment>
</pre>

</body>
</section>
</chapter>

</guide>
