<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ja/faq.xml,v 1.15 2003/12/29 03:07:08 nakano Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/ja/faq.xml">
<title>Gentoo Linux Frequently Asked Questions</title>
<author title="Chief Architect"><mail link="drobbins@gentoo.org">Daniel Robbins</mail></author>
<author title="Reviewer">Colin Morey</author>
<author title="Editor"><!-- zhen@gentoo.org -->John P. Davis</author>
<author title="Editor"><mail link="stocke2@gentoo.org">Eric Stockbridge</mail></author>
<author title="Editor"><mail link="zhware@gentoo.org">Stoyan Zhekov</mail></author>
<author title="Editor"><mail link="carl@gentoo.org">Carl Anderson</mail></author> 
<author title="Editor"><mail link="peesh@gentoo.org">Jorge Paulo</mail></author> 
<author title="Editor"><mail link="swift@gentoo.org">Sven Vermeulen</mail></author> 
<author title="翻訳"><mail link="docs@gentoo.gr.jp">真耶</mail></author>
<author title="翻訳"><mail link="nakano@gentoo.org">中野 正智</mail></author>

<abstract>
この FAQ は、gentoo-dev メーリングリストや IRC から集められた質問回答集です。もし、さらに質問 (回答も！) があれば、著者かドキュメンテーションチームに連絡して下さい。
</abstract>

<license/>

<version>1.1.11</version> 
<date>December 3, 2003</date> 
<!-- Original revision: 1.49 -->

<chapter> 
<title>よくある質問</title> 
<section> 
<title>さあ、始めよう</title>
<body> 
<ul> 
<li><uri link="#doc_chap2_sect1">Gentoo はどのように発音すれば良いですか？　Gentoo の意味は何ですか？</uri></li> 
<li><uri link="#doc_chap2_sect2">Gentoo の特徴は何ですか？</uri></li> 
</ul> 
</body> 
</section> 
<section> 
<title>インストール</title> 
<body> 
<ul> 
<li><uri link="#doc_chap3_sect1">.iso と .tbz2 の違いはなんですか？</uri></li> 
<li><uri link="#doc_chap3_sect2">どうして .iso と .tbz2 のファイルは、ときどきリビジョン(-r) ナンバーが違うのですか？</uri></li> 
<li><uri link="#doc_chap3_sect3">"-O9 -ffast-math -fomit-frame-pointer" を使うと不安定になります。何故ですか？</uri></li> 
<li><uri link="#doc_chap3_sect4">インストール後のrootの初期設定パスワードは何ですか？</uri></li> 
<li><uri link="#doc_chap3_sect5">どうやればルートパスワード(あるいは他のユーザパスワード)を変えられますか？</uri></li> 
<li><uri link="#doc_chap3_sect6">どうすれば一般ユーザを追加できますか？</uri></li> 
<li><uri link="#doc_chap3_sect7">どうして一般ユーザから root に su できないのですか？</uri></li> 
<li><uri link="#doc_chap3_sect8">devfs を有効にするにはどうすればいいですか？</uri></li> 
<li><uri link="#doc_chap3_sect9">devfs を無効にするには？</uri></li> 
<li><uri link="#doc_chap3_sect10">devfs を使っているときに、リブート時に/dev/mouseがなくなってしまわないようにするにはどうすれば良いですか？</uri></li> 
<li><uri link="#doc_chap3_sect11">Grub が stage x.y を見つけられません。</uri></li> 
<li><uri link="#doc_chap3_sect12">ASUS CUV4X-D がbootしません。カーネル読み込み中のハードウェアの認識時に固まってしまいます。</uri></li> 
<li><uri link="#doc_chap3_sect13">Gentoo 1.4_rc1から1.4_rc2/rc3/finalへは再インストールなしにアップグレードできますか？</uri></li> 
<li><uri link="#doc_chap3_sect14">カーネルが(正しく)起動しません。何をすべきでしょうか？</uri></li> 
<li><uri link="#doc_chap3_sect15">proxyで認証が必要です。どうすべきですか？</uri></li> 
</ul> 
</body> 
</section> 
<section> 
<title>パッケージ管理</title> 
<body> 
<ul> 
<li><uri link="#doc_chap4_sect1">パッケージは、どの形式で格納されますか？?</uri></li> 
<li><uri link="#doc_chap4_sect2">どうして BSD の port システムを使わずに新たに port システムを作成したのですか？</uri></li> 
<li><uri link="#doc_chap4_sect3">Debian の apt や BSD の ports とどう違うのですか？</uri></li> 
<li><uri link="#doc_chap4_sect4">どのようにしてパッケージをインストール、アンインストールするのですか？</uri></li> 
<li><uri link="#doc_chap4_sect5">どうすればコンパイルするパッケージに共通の設定を渡せますか？</uri></li> 
<li><uri link="#doc_chap4_sect6">/etc/make.defaults はどうなったのですか？</uri></li> 
<li><uri link="#doc_chap4_sect7">apt-get upgradeやmake Worldのようにインストールされているパッケージを全てアップグレードする方法はありますか？</uri></li> 
<li><uri link="#doc_chap4_sect8">emerge や ebuild を使ってパッケージをアップグレードしている最中に、設定ファイルが書き換えられるのを防ぐにはどうすればいいですか？</uri></li> 
<li><uri link="#doc_chap4_sect9">./configure を自分でしたいのですが、できますか？</uri></li> 
<li><uri link="#doc_chap4_sect10">どうして私の環境では rsync が機能しないのですか？</uri></li> 
<li><uri link="#doc_chap4_sect11">ファイアウォールの後ろから emerge を使うにはどうすればいいですか？</uri></li> 
<li><uri link="#doc_chap4_sect12">rsync を他の OS から利用できますか？</uri></li> 
<li><uri link="#doc_chap4_sect13">家には遅いモデムしかありません。ソースをどこかから取って来てシステムに加えることはできるでしょうか。</uri></li> 
<li><uri link="#doc_chap4_sect14">/usr/portage/distfiles/にソフトウェアをインストールするための .tar.gzソースファイルがたくさん置かれています。これらのファイルは消しても大丈夫ですか？</uri></li> 
<li><uri link="#doc_chap4_sect15">blackdown-jdk と blackdown-jreをemergeした後で、java-config --list-available-vms をすると blackdown-jreしか表示されません。この状態でOpenofficeをemergeすると拒否されてしまいます。どうすればいいですか？</uri></li> 
<li><uri link="#doc_chap4_sect16">/var/tmp/portageの中身は何ですか？/var/tmp/portageの中のファイルとディレクトリを削除しても問題ないですか？</uri></li> 
</ul> 
</body> 
</section> 
<section> 
<title>使用方法</title> 
<body> 
<ul> 
<li><uri link="#doc_chap5_sect1">openssh をインストールしたのですが、root としてしか使えません。一般ユーザのアカウントでは動きません。</uri></li> 
<li><uri link="#doc_chap5_sect2">ルートでしか X のアプリケーションを起動できません。</uri></li> 
<li><uri link="#doc_chap5_sect3">どうすれば国際化キーボードレイアウトが使えますか？</uri></li> 
<li><uri link="#doc_chap5_sect4">DNS の名前解決が root でしか機能しません。</uri></li> 
<li><uri link="#doc_chap5_sect5">どうして KDE が /etc/profile を読まないのですか？</uri></li> 
<li><uri link="#doc_chap5_sect6">なぜ個人個人のcrontabが使用できないのですか？</uri></li> 
<li><uri link="#doc_chap5_sect7">システム起動時にnumlockをオンにしておく方法はありますか？</uri></li> 
<li><uri link="#doc_chap5_sect8">ログアウトしたときにターミナルをクリアするにはどうしたら良いですか？</uri></li> 
</ul> 
</body> 
</section> 
<section> 
<title>メンテナンス</title> 
<body> 
<ul> 
<li><uri link="#doc_chap6_sect1">ReiserFS でファイルシステムの破壊が起きます。どうやって直せば良いでしょう等。</uri></li> 
<li><uri link="#doc_chap6_sect2">1.0_rc5 以前の Gentoo Linux で、/var/log/syslog.d 等のタイムスタンプを見るにはどうすればいいですか？</uri></li> 
<li><uri link="#doc_chap6_sect3">metalogdがリアルタイムにログを記録しません！</uri></li>
</ul> 
</body> 
</section> 
<section> 
<title>開発</title> 
<body> 
<ul> 
<li><uri link="#doc_chap7_sect1">どこにパグをレポートすれば良いですか？</uri></li> 
<li><uri link="#doc_chap7_sect2">どのくらいの頻度で新しいリリースが出ますか？</uri></li> 
<li><uri link="#doc_chap7_sect3">バッケージを Portage に追加したいのですが、どうすれば良いですか？</uri></li> 
<li><uri link="#doc_chap7_sect4">このFAQ に新しい質問や回答を加えるにはどうすればいいですか？</uri></li> 
<li><uri link="#doc_chap7_sect5">KDE のアプリケーションで、make -f Makefile.cvs が "invalid unused variable" というエラーを吐きます。</uri></li> 
<li><uri link="#doc_chap7_sect6">Mozilla をコンパイルしている間、スピーカーからうるさく beep がなります。コンソールビープを無効にするにはどうすれば良いでしょうか。</uri></li> 
</ul> 
</body> 
</section> 
<section> 
<title>リソース</title> 
<body> 
<ul> 
<li><uri link="#doc_chap8_sect1">Gentoo Linux 1.0_rc5 以前でデフォルトで使われていたsuperviseはどこでもっと見つけることができますか？ </uri></li> 
<li><uri link="#doc_chap8_sect2">どこで Gentoo Linux に関する情報をもっとみつけられますか？ </uri></li> 
<li><uri link="#doc_chap8_sect3">Gentoo Linux の CD は買えますか？</uri></li> 
<li><uri link="#doc_chap8_sect4">Gentooメールリストのポストに返答するときに、どうして私の答えが全体のメールリストではなく、元のポスターにしか行かないのですか？</uri></li> 
<li><uri link="#doc_chap8_sect5">この FAQ は、私の質問には答えてくれていません。どうすればいいでしょう。</uri></li> 
</ul> 
</body> 
</section> 
</chapter> 

<chapter>
	<title>さあ、始めよう</title>

	<section>
		<title>Gentoo はどのように発音すれば良いですか？　Gentoo の意味は何ですか？</title>
		<body><p>Gentoo は、小さな、すばしっこいペンギンの一種です。「ジェンツー(gen-too)」と発音します。(訳注：発音を日本語表記にするのは難しいので原文を載せておきます) The "g" in "gentoo" is a soft "g", as in "gentle".</p></body>
	</section>

	<section>
		<title>Gentoo の特徴は何ですか？</title>
		<body>
			<p>Gentoo Linux は、洗練された柔軟なシステムを持つ、速くて新しいディストリビューションです。
			この点で、Gentoo は、
			<uri link="http://www.slackware.com/">Slackware</uri>,
			<uri link="http://www.linuxfromscratch.org/">Linux From Scratch</uri> それに、
            <uri link="http://www.bsd.org/">BSD</uri> ユーザーに魅力あるものとなっています。
            他の Linux ディストリビューションと違って、Gentoo は、BSD の ports システムを彷彿とさせる
            パッケージシステムを採用しています。つまり、パッケージは絶えず最新のバージョンにアップデートされます。
        </p>
    				</body>
				</section>
</chapter>

<chapter>
	<title>インストール</title>

	<section>
		<warn>すべてのbugは<uri>http://bugs.gentoo.org/</uri>へ! bugを上流の(オリジナルの)作者へ報告しないでください。
		Gentooへ報告されたbugは、必要であれば上流に転送されます。
		</warn>

		<title>.iso と .tbz2 の違いはなんですか？</title>
		<body><p><e>.tbz2</e> の build は、Gentoo Linux をブートし、
		インストールするために最低限必要なシステムファイルです。
		<e>.iso</e> の build は、<e>.tbz2</e> の最低限の tarball と同様、カーネル、十分なカーネルモジュール、<c>mkfs</c> やネットワークサポート等の必要なシステムツールを含むブータブル CD イメージです。殆どのユーザは、Gentoo Linux を CD に .iso イメージを焼いて、CD ブートし、Gentoo boot CD が提供する最低限のLinux環境からインストールします。しかし、Gentoo Linux を、既にインストールしてある既存のLinuxディストリビューションからインストールすることも可能です。そのようなユーザは、普通 .tbz2 ファイルのみダウンロードして、空きのパーティションにインストールし、chroot してから Gentoo Linux を通常通りにインストールします。(tar ballを展開するときに、<c>p</c> フラグを設定するのを忘れないで下さい。)</p>
        </body>
	</section>

	<section>
		<title>どうして .iso と .tbz2 のファイルは、ときどきリビジョン(-r) ナンバーが違うのですか？</title>
		<body><p>
		.tbz2 には最小限のシステムのみまとめられており、Gentoo Linux システムの核となる部分に重大な変更 (ベースレイアウトが変わるとか、新しい profile とか) が加えられたときだけ更新する必要があります。それ自体の更新は比較的まれです。.iso ファイルは、その CD でブートできないハードウェアが見つかる度に更新される傾向に有ります。新しいカーネルモジュールや、パッチは常に作られているので、このような状況は、すぐには安定しないでしょう。
		</p>
	</body>
	</section>

	<section>
		<title>
		"-O9 -ffast-math -fomit-frame-pointer" を使うと不安定になります。何故ですか？</title>
		<body>
		<p>
		<c>-O3</c>より高い指定をわざわざ指定する必要はりません。なぜならそれは現行のgccのバージョンではサポートされていません。
		ときどき、コンパイラのストリームラインがとても強引に最適化されて、もはやコードが全く同じことを行わなくなっていることもあります。
		
		<e>Loc-Dog</e> (on IRC) がベースとなっているセッティングとして、<c>-O3 -mcpu=i686 -march=i686 -fforce-addr -fomit-frame-pointer -funroll-loops 
		-frerun-cse-after-loop -frerun-loop-opt -falign-functions=4</c> がありますが、これはグローバルセッティングとして勧めたいのに近い設定です。
		これ以上は、特定のパッケージに対して最適化するのが良いでしょう。
		(例えばグラフィックや様々なマルチメディアプログラムのような) さらに 2% の最適化をしたいパッケージや、最適化することを忘れていたことが確実で、すぐにテストできるパッケージなど。
		</p>
		<p>bugレポートをする前に、CFLAGS <c>-march= -O2</c>でコンパイルしてみてください。</p>
		</body>
	</section>

	<section>
		<title>インストール後のrootの初期設定パスワードは何ですか？</title>
		<body><p>パスワードは空です。enter を押して下さい。</p></body>
	</section>

	<section>
		<title>どうやればルートパスワード(あるいは他のユーザパスワード)を変えられますか？</title>
		<body><p>
		<c>passwd</c> コマンドを使って、あなたがユーザとしてログインしているアカウントのパスワードを変えることができます。他のオプションや設定については、インストールが完了してから<c>man passwd</c> を見て下さい。</p></body>
	</section>
	<section>
		<title>どうすれば一般ユーザを追加できますか？</title>
		<body>
		<p><c>adduser gentoo</c> コマンドで、gentoo というユーザを作成できます。次に、そのユーザに<c>passwd</c> コマンドでパスワードを与えて下さい。</p>
		<p><c>adduser</c>の代わりに、以下のコマンドでもできます。
		<pre># <i>useradd gentoo -m -G users,audio,wheel -s /bin/bash</i></pre>
		これはgentooというユーザーを追加し、音関係のデバイス(<path>/dev/sound/*</path>)を使えるようにし、rootになることが(<c>su</c>を使用して)できるようにし、さらに<path>/bin/bash</path>をログインシェルとすることにします。
		</p>
    <p>また、<c>emerge superadduser</c>をして<c>superadduser</c>をインストールすることができます。それからgentooというユーザーの作成するために<c>superadduser gentoo</c>を実行します。そして<c>superadduser</c>に与えられた指示にしたがってください。
    </p> 

		</body>
	</section>
	<section>
		<title>どうして一般ユーザから root に su できないのですか？</title>
		<body><p>セキュリティ上の観点から、<e>wheel</e> グループに所属するユーザだけが <c>su</c> できます。
		<i>username</i> を <e>wheel</e> グループに追加するには、root で次のコマンドを実行して下さい。</p>
		<pre># <i>usermod -G users,wheel username</i></pre>
		</body>
	</section>
	<section>
		<title>devfs を有効にするにはどうすればいいですか？</title>
		<body>
		<p>
		もし、1.0_rc5 以上を使っていれば、devfs を有効にするために特に何もすることはありません。
		既に有効になっています。(devfs をカーネルに組み込みましたよね？)
		しかし、1.0_rc5 以前のバージョンを使っていれば、<c>devfs=mount</c> を、<c>GRUB</c> のカーネルブートオプションに追加し、<c>kernel /boot/boot/bzImage devfs=mount foo=bar</c> のようにしてください。
		そうすれば、カーネルはブート時に自動的に <path>/dev</path> を <e>devfs</e> ファイルシステムとしてマウントします。
		</p>
		</body>
	</section>
	<section>
		<title>devfs を無効にするには？</title>
		<body>
		<p>1.0_rc6 以降のバージョンでは、カーネルに <c>gentoo=nodevfs</c> を指定する事で、devfs を無効にできます。</p>
		</body>
	</section>
	<section>
		<title>devfs を使っているときに、リブート時に <path>/dev/mouse</path> がなくなってしまわないようにするにはどうすれば良いですか？</title>
		<body>
		<p>
		もし、1.0rc_6 以降を使っていれば、<c>ln -s</c> で <path>/dev/mouse</path> にシンボリックリンクをはることで、リブートしても残っているはずです。</p>
		<p>他のユーザは、<path>/etc/devfsd.conf</path> を編集し次の行を加えてください。</p>
<pre>
REGISTER        ^misc/psaux$    CFUNCTION GLOBAL symlink misc/psaux mouse
UNREGISTER      ^misc/psaux$    CFUNCTION GLOBAL unlink mouse
</pre>
		<p>もし、<path>/dev/misc/psaux</path> の devfs PS/2 mouse を使っていなければ、<c>misc/psaux</c> を適切に変更してください。devfsd に <path>/etc/devfsd.conf</path>を再読み込みさせるには、<c>killall -HUP devfsd</c> を入力して下さい。</p>
		</body>
	</section>
	<section>
		<title>Grub が stage x.y を見つけられません。</title>
		<body><p>
		インストールの際に、grub のブートファイルは、<path>/boot/grub</path> にコピーされます。
		(1.0rc_5 以前では <path>/boot/boot/grub</path> にコピーされます。)
		Grub は、自動的にブートパーティションの <path>/boot/grub</path> ディレトクリを見ます。
		(<path>/boot</path> を、no-auto パーティションとして隔離しておくことを勧めます。なぜなら、そうすることで、事故でカーネルやブート時の情報を壊してしまうことが難しくなるからです。)
		上記のエラーは、普通 (a) ブートパーティションを隔離せずに使っている、(b) ビルドスナップショットを展開したり <c>emerge --usepkg system</c> をしたりする前に
		<path>/boot</path> をマウントするのを忘れた、(c) ReiserFS <path>/boot</path> パーティションをマウントする際に <c>notail</c> オプションを付け忘れたときに出ます。
		grub についての詳細な情報、grub prompt から grub を debug する方法を知りたければ、<uri link="http://www-105.ibm.com/developerworks/education.nsf/linux-onlinecourse-bytitle/0F1731DC664023B7862569D0005C44AF?OpenDocument">IBM developerWorks Grub tutorial</uri>を読んでください。
		</p>
  </body>
	</section>

	<section>
	<title>ASUS CUV4X-D がbootしません。カーネル読み込み中のハードウェアの認識時に固まってしまいます。</title>
	<body>
	<p>BIOSでMPS 1.4 (multi-processor-system) をDisableにするか、この機能を1.1に切り変えてください. このオプションを使うことによって、MPSのバージョンを切り替えます。するとMulti-Processor-System はおそらく動くでしょう。noapicオプションをつけて、Gentoo Linuxを起動し確認してください。
  </p>
	</body>
	</section>

	<section>
	<title>Gentoo 1.4_rc1から1.4_rc2, 1.4_final/_rc3へは再インストールなしにアップグレードできますか？</title>
	<body>
  実際、<b>それらをインストールした後で</b>1.4リリース間で違いはありません。
Gnetoo1.4以降では<c>glibc-2.3.x</c>がベースになっています。
1.4rc1マシンを例にとってみると、<c>emerge sync; emerge -u world</c>することによって、1.4r2マシンで<c>emerge sync; emerge -u world</c>したものと<b>完全に一致</b>します。実際それらの違いはインストーラーなのです。
	</body>
	</section>

  <section> 
    <title>カーネルが(正しく)起動しません。何をすべきでしょうか？</title>
    <body> 
    <p> 
    すべてのインストールステップをすべてやり直す必要はありません。ただ、カーネルとそれに関連するステップをやり直します。
    <path>/dev/hda1</path> (/boot)、<path>/dev/hda3</path> (/)、<path>/dev/hda2</path> swap にGentooをインストールしたと仮定します。
    </p> 
<pre caption = "カーネルの再構築"> 
<comment>LiveCDで起動し、プロンプトが現われるまで待ちます。</comment> 
<comment>最初にすべてのパーティションをマウントします。</comment> 
# <i>mount /dev/hda3 /mnt/gentoo</i> 
# <i>mount /dev/hda1 /mnt/gentoo/boot</i> 
# <i>swapon /dev/hda2</i> 
# <i>mount -t proc none /mnt/gentoo/proc</i> 
<comment>それからchrootをしGentoo環境の中に入り、カーネルの設定をします。</comment> 
# <i>chroot /mnt/gentoo /bin/bash</i> 
# <i>env-update &amp;&amp; source /etc/profile</i> 
# <i>cd /usr/src/linux</i> 
# <i>make menuconfig</i> 
<comment>前回誤って指定したもの(または指定しなかったもの)を、修正します。</comment> 
<comment>それから終了し、カーネルのコンパイルを行ないます。</comment> 
# <i>make dep &amp;&amp; make bzImage modules modules_install</i> 
<comment>前回のカーネルにbzImageファイルを上書きでコピーします。</comment> 
# <i>cp arch/i386/boot/bzImage /boot</i> 
<comment>LILOを使用している場合。GRUBユーザーは飛ばしてください。</comment> 
# <i>/sbin/lilo</i> 
<comment>chrootから抜けて、リブートします。</comment> 
# <i>exit</i> 
# <i>umount /mnt/gentoo/proc /mnt/gentoo/boot /mnt/gentoo</i> 
# <i>reboot</i> 
 </pre> 
    <p> 
		もし問題がbootloaderの設定にある場合には、同じ手順を行ない、カーネルの設定/コンパイルの代わりに、bootloaderの再設定を行ないます。(リコンパイルは必要ないです。)
    </p> 
    </body> 
    </section> 
    <section> 
    <title>proxyで認証が必要です。どうすべきですか？</title>
        <body> 
        <p> 
        何かをダウンロードするために<c>wget</c>を使用しているなら、以下の文法で認証ができます。
        </p> 
   <pre caption = "wgetを使用したProxy認証"> 
   # <i>wget --proxy-user=</i><comment>username</comment><i>
   --proxy-passwd=</i><comment>password</comment><i> &lt;url&gt;</i> 
   </pre> 
        <p> 
				このしくみをPortageに自動的にやらせるには、
				<path>/etc/make.conf</path>に記述します。
        </p> 
<pre caption = "/etc/make.conf"> 
FETCHCOMMAND="wget --proxy-user=<comment>username</comment>
--proxy-passwd=<comment>password</comment> -t 5 --passive-ftp -P
\${DISTDIR} \${URI}" 
RESUMECOMMAND="/usr/bin/wget
--proxy-user=<comment>username</comment>
--proxy-passwd=<comment>password</comment> -c -t 5 --passive-ftp -P
\${DISTDIR} \${URI}" 
</pre> 
        <p> 
        悲しいことに、<c>rsync</c>はproxy用にusername/password認証をサポートしていないようです。
        <uri link="#doc_chap4_sect10">どうして私の環境では rsync が機能しないのですか？</uri>を見てください。この問題を解決する方法の情報があります。
        </p> 
    
        </body> 
   </section> 

</chapter>

<chapter>
	<title>パッケージ管理</title>
	<section>
		<title>パッケージは、どの形式で格納されますか？</title>
		<body><p>
		パッケージは、<e>ebuild</e> というオートビルドスクリプト(自動的にビルドを行うスクリプト)として portage tree に存在します。Gentoo Linux は、本来 ports-based なディストリビューションです。すなわち、ソースからアプリケーションをビルドできるようにスクリプト(<c>.ebuild</c> ファイル)と、特別なシステム(Portage) を提供するものです。
		私たちは、一般にバイナリをリリースやスナップショットのためにのみビルドします。
		<uri link="/doc/en/gentoo-howto.html">Development HOWTO</uri>(<uri link="/doc/ja/gentoo-howto.html">日本語訳</uri>) には、詳細に ebuild スクリプトの内容がカバーされています。フルバイナリの ISO をリリースするために、<c>.tbz</c> フォーマット(<c>.tar.bz2</c>互換)でバイナリ一セットを作成します。</p>
  </body>
	</section>

	<section>
		<title>どうして BSD の port システムを使わずに新たに port システムを作成したのですか？</title>
		<body>
		<p>
		ひとつにはPortage が様々な点でより優れているためです。<c>.ebuild</c> 文法のデザイン原理の一つは、手動でプログラムをインストールするときにタイプしていたものと近くすることです。そうすることで、Portage を学びやすくし、必要に応じて変更できるようにすることでした。私たちはまた OpenBSD スタイルの &quot;fake&quot; インストール、安全な unmerge (アンインストール)、システムプロファイル、パッケージマスキング、依存関係、その他の良い点も持ち合わせています。</p>
		</body>
	</section>

	<section>
		<title>Debian の apt や BSD の ports とどう違うのですか？</title>
		<body><p>
		Portage の特徴は、apt と ports の良い点を特徴にしています。
		例えば、USE オプション、依存関係、安全なインストールとアンインストール、また、パッケージデータベース。Portage を両方の世界(apt と ports)のベストなものとして考えて下さい。すなわち、built-in の Linux パッケージ管理システムの安全性と ports の完成度を持つものとして。</p></body>
	</section>

	<section>
	        <title>どのようにしてパッケージをインストール、アンインストールするのですか？</title>
	        <body>
			<p>
			<uri link="/doc/portage-user.html">Portage User Guide</uri> に、パッケージをインストール・アンインストールしたり、Portage をアップデートする方法の詳細があります。</p>
	        </body>
	</section>

	<section>
		<title>どうすればコンパイルするパッケージに共通の設定を渡せますか？</title>
		<body><p>
		パッケージをコンパイルしたりマージしたりするために使われる、グローパルかつ個人のデフォルトオプションを上書きするために、<path>/etc/make.conf</path> は、書き換えられるべきです。最も一般的なオプションは、次の様なものです。</p>
		<table>
		<tr>
			<th>フラグ</th>
			<th>説明</th>
		</tr>
		<tr>
			<ti>CHOST</ti>
			<ti>コンパイルの為に必要な HOST 変数をセットします。例えば、<c>i686-pc-linux-gnu</c></ti>
		</tr>
		<tr>
			<ti>CFLAGS</ti>
			<ti>C で書かれた(*.c ファイルの)プログラムをコンパイルする際の gcc オプション。</ti>
		</tr>
		<tr>
			<ti>CXXFLAGS</ti>
			<ti>C++ で書かれた(*.c ファイルの)プログラムをコンパイルする際の gcc オプション。</ti>
		</tr>
		<tr>
			<ti>USE</ti>
			<ti>利用可能ならばコンパイルに含めたいオプショナルコンポーネントを指定できます。
			例えば、USE 文字列に <c>gnome</c> を含めれば、<c>xchat</c> をコンパイルする際にGNOME サポートが追加されます。全ての依存関係も USE を使っています。</ti>
		</tr>
		<tr>
			<ti>GENTOO_MIRRORS</ti>
			<ti>
			Gentoo のパッケージを現在ミラーしている URI のリストをスペースで区切ったものです。
			Portage は、最初に公式の <c>SRC_URI</c> からダウンロードを試みる前に、<c>GENTOO_MIRROR</c>からダウンロードを試みます。Portage にミラーをスキップさせるには、この変数を &quot;&quot; と指定します。</ti>
		</tr>
		</table>
		</body>
	</section>

	<section>
		<title><path>/etc/make.defaults</path> はどうなったのですか？</title>
		<body>
		<p>
		Portage 1.5 から、<path>/etc/make.defaults</path> は時代遅れのものとなりました。
		portage-1.5-r1 以上がインストールされていれば、取り除いても安全です。
		このファイルは、既に <path>/etc/make.profile/make.defaults</path> に置き換えられています。(<path>/etc/make.profile</path> は、実際は<path>/usr/portage/profiles/default</path> へのシンボリックリンクであるはずです。)
		<path>/etc/make.profile/make.defaults</path> は、個人のシステムのデフォルト設定を含みます。様々な設定ファイルの優先順位は、次の通りです。(上が先)
		<ol>
			<li>環境変数</li>
			<li><path>/etc/make.conf</path> (自分の設定用)</li>
			<li><path>/etc/make.profile/make.defaults</path>, (個人専用デフォルト)</li>
			<li><path>/etc/make.globals</path>, (一般のデフォルト) (ここ以外の場所では、設定は特定されません。)</li>
		</ol></p></body>
	</section>
	
	<section>
		<title><e>apt-get upgrade</e> や <e>make World</e> のようにインストールされているパッケージを全てアップグレードする方法はありますか？</title>
		<body><p>
		<b>もちろん！</b> <c>emerge --update system</c> と入力すれば(先に <c>--pretend</c> を使って下さい。)
		核となるシステムパッケージが全てアップデートされます。また、<c>emerge --update world</c> と入力すれば、(同じく、先に <c>--pretend</c> を使って下さい。)インストールされている全てのパッケージがアップグレードされます。
		</p></body>
	</section>

	<section> 
		<title>
		<c>emerge</c> や <c>ebuild</c> を使ってパッケージをアップグレードしている最中に、設定ファイルが書き換えられるのを防ぐにはどうすればいいですか？</title>
		<body><p>
		Portage は現在デフォルトで設定ファイル間管理サポートがついています。詳細は <c>emerge --help config</c> と入力して見てください。
		最も簡単な解答は、パッケージが <path>foo</path> を<path>/etc</path> のどこかにインストールするならば、<path>foo</path> がそのディレクトリでどのようにリネームされるかということでしょう。保護された設定ファイルを検査したりアップデートしたりするのに有用なツールは、<c>etc-update</c> です。
    これはPortageに含まれています。
		</p></body>
	</section>

	<section>
		<title><c>./configure</c> を自分でしたいのですが、できますか？</title>
       <body>
<p>
はい。でも簡単ではありません。そして次の方法は、それが単純なebuildの場合にのみ動作します。(つまり、ただ<c>./configure</c>と<c>make &amp;&amp; make install</c>をするだけです。)
Gentooがどうやって扱っているかを知るために、そのebuild自体を読んで確認してください。
</p>

<p>
まずebuildで展開します。
<c>ebuild/usr/portage/&lt;category&gt;/&lt;package&gt;/&lt;ebuild&gt; unpack</c>.
</p>

<p>
次に、<path>/var/tmp/portage/&lt;package&gt;-&lt;version&gt;/work</path>へ移動します。
展開したソースを見ることができるでしょう。
あなたが必要な設定をして、そのパッケージをコンパイルしてください。
</p>

<p>
それが終わったらPortageに設定とコンパイルが終わったと思わせるように、
<c>touch
/var/tmp/portage/&lt;package&gt;-&lt;version&gt;/.compiled</c>を実行します。
それから、
<c>ebuild /usr/portage/&lt;category&gt;/&lt;package&gt;/&lt;ebuild&gt;
merge</c>を実行して完了です。
</p>

    </body>
	</section>

	<section>
		<title>どうして私の環境では rsync が機能しないのですか？</title>
		<body><p>
		rsync のトラフィックを許していないファイアウォールの中にいる場合には、
    <c>emerge-webrsync</c>を使用することができます。これはPortageのスナップショットを通常のhttpで取得しインストールするものです。
    <c>emerge-webrsync</c>は<c>wget</c>を使用してダウンロードします。そのためproxyを完全にサポートします。
    <pre caption="Using emerge-webrsync">
~# <c>emerge-webrsync</c></pre>
    もしこの方法でもできない場合には、手動で<uri>http://distro.ibiblio.org/pub/linux/distributions/gentoo/snapshots/</uri>
    からダウンロードすることができます。
    正しくそのスナップショットをインストールするために、まず最初に古いebuildをPortageに存在させないように、<path>/usr/portage</path>を削除します。
    しかし、ソースコードを削除したくなければ、<path>/usr/portage/distfiles</path>をどこ安全なところに退避させておく必要があります。
    <pre caption="Manually installing the snapshots">
<codenote>(First download the snapshot and place it in /usr)</codenote>
~# <c>cd /usr</c>
~# <c>mv /usr/portage/distfiles /usr/distfiles-temp</c>
~# <c>rm -rf /usr/portage</c>
~# <c>tar xvjf portage-foo.tbz2</c>
~# <c>mv /usr/distfiles-temp /usr/portage/distfiles</c></pre>
		</p></body>
	</section>

	<section>
		<title>ファイアウォールの後ろから <i>emerge</i> を使うにはどうすればいいですか？</title>
		<body><p>
		<path>/etc/make.conf</path> の PROXY を編集して下さい。もしそれでも動かないならば、
		<path>/etc/wget/wgetrc</path> を編集し、http_proxy と ftp_proxy を適切に設定して下さい。</p></body>
	</section>

	<section>
		<title>rsync を他の OS から利用できますか？</title>
		<body><p>
		UNIX と Win32 で動く unison というプログラムがあります。
		<uri>http://www.cis.upenn.edu/~bcpierce/unison/</uri> から利用可能です。</p></body>
	</section>

	<section>
		<title>
		家には遅いモデムしかありません。ソースをどこかから取って来てシステムに加えることはできるでしょうか。</title>
		<body><p>
		できます。<c>emerge --pretend package</c> することで、インストールされようとしているプログラムを見ることができます。
    それらのパッケージがどのソースを使用し、どこからダウンロードするのかを知るためには、<c>emerge -fp package</c>とします。
    ソースをダウンロードして、好きなメディアで家に持ってきて下さい。
		ソースを <path>/usr/portage/distfiles</path> に置いて、<c>emerge package</c> をしてください。あなたがとってきたソースを選んでいることをみてください。
		</p></body>
	</section>

	<section>
		<title>
		/usr/portage/distfiles/にソフトウェアをインストールするための .tar.gzソースファイルがたくさん置かれています。これらのファイルは消しても大丈夫ですか？</title>
		<body><p>
		はい。消しても大丈夫です。しかし、modem など、インターネット接続スピードが遅いなら、可能ならアーカイブを取って置きたいと思うでしょう。しばしば ebuild は特定のアプリーケーションで、同じバージョンで複数回リリースされます。
		もしアーカイブを消して、そのようなソフトウェアをアップグレードしようとすれば、もう一度インターネットからダウンロードする必要があります。</p></body>
	</section>

<section>
       <title>blackdown-jdk と blackdown-jreをemergeした後で、
       <c>java-config --list-available-vms</c>をすると blackdown-jreしか表示されません。
       この状態でOpenofficeをemergeすると拒否されてしまいます。どうすればいいですか？ </title>

       <body>
       <p>解決方法: </p>
       <pre caption = "解決方法">
# <c>emerge unmerge blackdown-jre blackdown-jdk </c>
# <c>CONFIG_PROTECT="" emerge blackdown-jdk </c>
       </pre>
   
       </body>
  </section>
	<section>
		<title><path>/var/tmp/portage</path>の中身は何ですか？<path>/var/tmp/portage</path>の中のファイルとディレクトリを削除しても問題ないですか？</title>
		<body>
    コンパイル中に、Gentooはパッケージのソースファイルを<path>/var/tmp/portage</path>に保存します。このディレクトリの中のすべてのコンテンツを削除しても問題ありません。
		</body>
	</section>
</chapter>

<chapter>
	<title>使用方法</title>
	<section>
    	<title>
    	openssh をインストールしたのですが、root としてしか使えません。一般ユーザのアカウントでは動きません。</title>
    	<body>
		<p>
		これは、ユーザのアカウントが有効なシェルが指定されていないからでしょう。<path>/etc/passwd</path>
		のユーザエントリーをチェックして、/bin/bash (もしくは他のシェル) が最後に来ているかどうか確認してください。これは、次の様なユーザコマンドを使ってもできます。
		</p>
		<pre># <i>usermod -s /bin/bash myuser</i></pre>
		</body>
	</section>
	
	<section>
		<title>
		ルートでしか X のアプリケーションを起動できません。</title>
		<body><p>
		<path>/tmp</path> ディレクトリのパーミッションが間違っています。(sticky bit が立ってなければなりません。) root で次のコマンドを入力してください。</p>
		<pre># <i>chmod 1777 /tmp</i></pre>
		</body>
	</section>

	<section>
		<title>どうすれば国際化キーボードレイアウトが使えますか？</title>
		<body><p>
		<path>/etc/rc.conf</path> の <c>KEYMAP</c> 変数を編集してください。
		そして、リブートするか、keymaps のスクリプトを <c>/etc/init.d/keymaps restart</c> で再起動してください。</p>
		</body>
	</section>

	<section>
		<title>DNS の名前解決が root でしか機能しません。</title>
		<body><p>
		<path>/etc/resolv.conf</path> のパーミッションが間違っています。次の様に <c>chmod</c>
		して下さい。</p>
		<pre># <i>chmod 0644 /etc/resolv.conf</i></pre>
		</body>
	</section>

	<section>
		<title>どうして KDE が <path>/etc/profile</path> を読まないのですか？</title>
		<body><p>
		<path>/opt/kde2.1/bin/startkde</path> の最初の一行に <c>--login</c> を加える必要があります。
		次の様になります。</p>
		<pre>#!/bin/sh --login</pre>
		<p>最近の KDE ではこの変更が加えられています。</p>
		</body>
	</section>
	<section>
		<title>なぜ個人個人のcrontabが使用できないのですか？</title>
		<body><p>そのためにはユーザーを<i>cron</i>グループに加える必要があります。
		</p>
		</body>
	</section>

  <section> 
    <title>システム起動時にnumlockをオンにしておく方法はありますか？</title> 
       <body> 
       <p> 
       グラフィカルなログイン環境を使用しているか、<c>startx</c>時にnumlockをオンにしたいのなら、<c>emerge numlockx</c>をしてから、<c>/usr/X11R6/bin/numlockx</c>を<path>/etc/X11/xinit/xinitrc</path>(<c>startx</c>の場合)に、またはGDM用の<path>/etc/X11/Sessions/Gnome</path>のように<path>/etc/X11/Sessions/</path>に(他のグラフィカルなログインマネージャーの場合にも)追加してください。
       </p> 
       <p> 
       コマンドラインでそれをしたいのなら<c>rc-update add numlock default</c>をするだけで、次のシステム起動時には有効になります。
       </p> 
       </body> 
   </section> 
   <section> 
     <title>ログアウトしたときにターミナルをクリアするにはどうしたら良いですか？</title> 
       <body> 
       <p> 
			 ターミナルのクリアするためには、<c>clear</c>を<path>~/.bash_logout</path>スクリプトに加えます。
       </p> 
       <pre caption = "ログアウト時にターミナルをクリア"> 
$ <i>echo clear &gt;&gt; ~/.bash_logout</i></pre> 
       <p> 
			 新しいユーザーを加えたときに、自動的にこれをしたい場合には、<path>/etc/skel/.bash_logout</path>を同様にします。
       </p> 
       <pre caption = "新しいユーザーがログアウト時にターミナルをクリアするようにする。"> 
# <i>echo clear &gt;&gt; /etc/skel/.bash_logout</i></pre> 
       </body> 
   </section> 
</chapter>

<chapter>
	<title>メンテナンス</title>
	<section>
		<title>ReiserFS でファイルシステムの破壊が起きます。どうやって直せば良いでしょう等。</title>
		<body>
		<p>
		もし、あなたの ReiserFS パーティションが既に壊れてしまったならば、Gentoo Linux を CD boot して、壊れたパーティションで<c>reiserfsck --rebuild-tree</c> を走らせて下さい。これは、パーティションが壊れたことによっていくらかのファイルやディレクトリを失うかも知れませんが、ファイルシステムを修復するはずです。</p>
		</body>
	</section>
<!-- is this still relevant? -cpm -->
	<section>
		<title>
		1.0_rc5 以前の Gentoo Linux で、/var/log/syslog.d 等のタイムスタンプを見るにはどうすればいいですか？</title>
		<body>
		<p>
		Gentoo Linux 1.0_rc5 以前で multilog タイムスタンプをみるには、現在のログを、<c>tai64nlocal</c> コマンドを通して pipe する必要があります。</p>
<pre>
# <i>tai64nlocal &lt; /var/log/syslog.d/current | less</i>
</pre>

	<p>もしくは、&quot;tail&quot; を使うこともできます。</p>

<pre>
# <i>tail -f /var/log/syslog.d/current | tai64nlocal</i>
</pre>

</body>
</section>

<section> 
   <title>metalogdがリアルタイムにログを記録しません！</title>
   <body> 
  
 <p> 
metalogはブロック毎に出力を掃き出します。そのためメッセージはすぐにはシステムログへ記録されません。
もしデーモンのデバッグをしたい場合には、このパフォーマンス向上の動作は有益ではありません。
Gentoo Linuxシステムが起動して動作しているときには、メッセージバッファリングを停止させるために、
metalogにUSR1シグナルを遅ることができます。(これは<c>tail -f <path>/var/log/everything/current</path></c>でリアルタイムに、
予想した通りにログを取得できることを意味します。)
そして、USR2シグナルで再びバッファリングを有効にすることができます。
もし永久にバッファリングを不可にしたい場合には、
<path>/etc/conf.d/metalog</path>の中にMETALOG_OPTS="-B"をMETALOG_OPTS="-B -s"と変更します。
 </p> 
    
<pre caption="metalogのバッファリングのオンとオフ"> 
<codenote>バッファリングをオフにする</codenote> 
# <i>killall -USR1 metalog</i> 
<codenote>バッファリングをオンに戻す</codenote> 
# <i>killall -USR2 metalog</i> 
</pre> 
    
</body> 
</section> 

</chapter>

<chapter>
	<title>開発</title>
	<section>
		<title>どこにパグをレポートすれば良いですか？</title>
		<body><p>
		特定のプログラムのバグは、そのプログラムの作者とコンタクトを取って下さい。そうでなければ、<uri>http://bugs.gentoo.org</uri> の Bugzilla を使って下さい。また、<uri link="http://www.freenode.net">FreeNode</uri> のIRC network の<c>#gentoo</c> でも可能です。</p></body>
	</section>

	<section>
		<title>どのくらいの頻度で新しいリリースが出ますか？</title>
		<body><p>
		新たなリリースは、
		<uri link="http://www.gentoo.org/main/en/lists.xml">gentoo-announce</uri> MLでアナウンスされます。実際には、主要な開発者が新しいコードをリリースすれば、パッケージはアップデートされます。新しい CD イメージ等がリリースされる時などは、ベースコードに主要なアップデートがあった場合や、新しいモジュールが追加された場合です。</p></body>
	</section>

	<section>
		<title>バッケージを Portage に追加したいのですが、どうすれば良いですか？</title>
		<body><p>
		<uri>http://bugs.gentoo.org</uri> に向かって、&quot;ebuild&quot; タイプの新しいバグとして登録して下さい。あなたの ebuild が、バグレポートととて扱われます。</p></body>
	</section>

	<section>
		<title>このFAQ に新しい質問や回答を加えるにはどうすればいいですか？</title>
		<body><p>
		<uri>http://bugs.gentoo.org</uri> に新しいバグとして登録し、"Docs-user" product, "Gentoo Linux FAQ" componentに追加してください。</p></body>
	</section>

	<section>
		<title>
		KDE のアプリケーションで、make -f Makefile.cvs が &quot;invalid unused variable&quot; というエラーを吐きます。</title>
		<body><p>
		<c>make -f Makefile.cvs</c> を走らせる前に、全ての KDE プロジェクトのために
		<c>WANT_AUTOMAKE_1_4=1</c> を export して下さい。同様に、KDE2 のアプリケーションには、
		<c>WANT_AUTOCONF_2_1=1</c> を export し、KDE3 のためには、<c>WANT_AUTOCONF_2_5=1</c>
		を export して下さい。
		</p></body>
	</section>


	<section>
   		<title>Mozilla をコンパイルしている間、スピーカーからうるさく beep がなります。コンソールビープを無効にするにはどうすれば良いでしょうか。</title>
    	<body>
        <p>コンソールビープは、setterm を使うことでオフにできます。次の様にして下さい。
        <pre># <i>setterm -blength 0</i></pre>
		もし、console beep をブート時にオフにしたければ、<path>/etc/conf.d/local.start</path>
		にこのコマンドを加えて下さい。ただし、これでは現在のターミナルしかビープを無効にできません。
		他のターミナルのビープも無効にするには、コマンドの出力を、無効にしたいターミナルに次の様にパイプして下さい。
        <pre># <i>setterm -blength 0 &gt; /dev/vc/1</i></pre>
		/dev/vc/1 は、自分がビープを無効にしたいターミナルに置き換える必要があります。
        </p>
    	</body>
	</section>
</chapter>

<chapter>
<title>リソース</title>
	<section>
		<title>Gentoo Linux 1.0_rc5 以前でデフォルトで使われていたsuperviseはどこでもっと見つけることができますか？</title>
		<body><p><uri>http://cr.yp.to/daemontools.html</uri></p></body>
	</section>

	<section>
		<title>どこで Gentoo Linux に関する情報をもっとみつけられますか？</title>
		<body><p>
		公式ドキュメントは <uri>http://www.gentoo.org</uri> で入手可能です。
		一般的な Linux の情報は、<uri>http://www.tldp.org</uri> で入手可能です。</p></body>
	</section>

	<section>
		<title>Gentoo Linux の CD は買えますか？</title>
		<body><p>
    もちろん。最新のCDRが5USドルで
		<uri link = "http://cart.cheapbytes.com/cgi-bin/cart/0070010805">Cheapbytes</uri>にあります.
		</p>
		<p>
    また、ここ(<uri link = "http://www.tuxcds.com/section.php?section=42">
		tuxcds</uri>)からもいい値段で購入できます。
    これらのところからGentoo Projectへ、backがあります。
    だからそれらを購入すると、hotになります。
		</p></body>
	</section>

	<section>
		<title>Gentooメールリストのポストに返答するときに、どうして私の答えが全体のメールリストではなく、元のポスターにしか行かないのですか？</title>
		<body>
		<p>これは、メールリストの管理者達が、メールヘッダー変更を必要最小限にとどめることを決めたためです。つまり、彼らが全体のメールリストに行くようにメールヘッダーを変更することに反対したからです。これにはいろいろな理由があります。例えば、利用者のメールボックスがいっぱいであると、誰かがポストしたときに毎回、全体のリストが知らせを受けることになります。ほとんどのGUIメーラーは“すべてに返答”の機能があります。これは、あなたの返事がメールリストと元のポスターに行くのを保証します。テキストメーラーの使用者はほとんど使い方を知っていますが、知らない方のために、Pineでは、“グループへ返答”のオプションがあります。Muttでリストに返答を設定するには<uri link="http://forums.gentoo.org/viewtopic.php?t=1085">forums.gentoo.org</uri>の非公式ドキュメントを見てください。リストメンバーのなかにはこの方法を好きでない人もいますが、これが正式になった時に、良い悪いのデイスカッションがかなりありました。最終的に、管理者達はこの方法で続けることを決めました。メールリスト上でのデイスカッションには時々丁寧な説明が来ますが、アーカイブをチェックするとぶっきらぼうなコメントも上がりがちです。管理者達はユーザー達に不便なことを承知していますが、現時点では、ほかの方法よりもこの方法が望ましいと感じています。

		<uri link="http://www.unicom.com/pw/reply-to-harmful.html">このリンク</uri>を見てください。（メールヘッダー変更を支持する表現的な議論がありますが、もちろん、リスト管理者達はそれらを見ています。）  
		</p>
		 </body>
	 </section>


	<section>
		<title>この FAQ は、私の質問には答えてくれていません。どうすればいいでしょう。</title>
		<body>

		<p>
		最初に、<uri link="http://www.gentoo.org/doc/en/index.xml">ここ</uri><uri link="http://www.gentoo.org/doc/ja/index.xml">(日本語訳)</uri>で適当な文書を探しましょう。
		もしなければ、<uri link="http://www.google.com">Google</uri>にある様々な Gentoo Linux の ML を探して下さい。
		Gentoo ML を探す為には、Google (<uri>www.google.com</uri>) を使うと良いでしょう。
		"lists.gentoo.org foo" と入力すれば、Gentoo ML から、"foo" を検索します。
		もし、これでも見つからなかったり、Gentoo の人々と一緒にいたいと思うなら、<uri>irc.freenode.net</uri>
		の IRC <c>#gentoo</c> を訪ねてください。
		</p>
		</body>
	</section>

</chapter>
</guide>
