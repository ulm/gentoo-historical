<?xml version='1.0' encoding="UTF-8"?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>

<!--
    English document: Rev 1.4
-->

<guide link="/doc/en/mirroring.xml">

<title>Gentoo Linux Mirroring Handleiding</title>

<author title="Chief Architect">
    <mail link="drobbins@gentoo.org">Daniel Robbins</mail>
</author>
<author title="Editor">
    <mail link="peitolm@gentoo.org">Colin Morey</mail>
</author>
<author title="Translator">
    <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>

<abstract>
Dit document bevat instructies over hoe je een Gentoo Linux rsync mirror
opstelt.
</abstract>

<version>1.0</version>
<date>30 Maart 2003</date>

<chapter>
<title>Een rsync-mirror opstellen</title>
<section>
<body>

<p>
Op dit moment vereist het mirroren van de Portage tree ongeveer 130 MiB, dus
echt veel ruimte neemt het niet in; een 200 MiB vrije ruimte is meer dan
voldoende. Het opstellen van een Portage tree mirror is zeer eenvoudig --
allereerst moet je ervoor zorgen dat je mirror rsync geinstalleerd staan heeft.
Pas daarna je <path>rsyncd.conf</path> aan zodat deze er als volgt uitziet:
</p>

<pre>
pid file = /var/run/rsyncd.pid
motd file = /etc/rsync/rsyncd.motd
syslog facility = local3
timeout = 150
[gentoo-x86-portage]
        path = /space/gentoo/rsync
        comment = Gentoo Linux Portage tree
[gentoo-portage]
        path = /space/gentoo/rsync
        comment = Gentoo Linux Portage tree 
</pre>

<p>
De <c>gentoo-x86-portage</c> mirror wijst naar dezelfde data als
<c>gentoo-portage</c>. Alhoewel we de officiele naam van onze mirror naar
<c>gentoo-portage</c> hebben hernoemd is <c>gentoo-x86-portage</c> nog steeds
nodig voor achterwaartse compatibiliteit, daarom zijn beide onderdelen
aanwezig. Je rsync motd mag vanalle normale gegevens bevatten, zoals informatie
over de host die de Portage mirror aanbiedt en de administratieve
contactgegevens.
</p>

<p>
Nu moet je de Gentoo Linux Portage structuur mirroren. Dit doe je het best met
het volgende commando: 
</p>

<pre>
# <c>rsync -rlptDvz --delete rsync://rsync.gentoo.org/gentoo-portage/ /ruimte/gentoo/rsync</c>
</pre>

<p>
Verzeker jezelf ervan dat je <c>--delete</c> meegeeft zodat verwijderde ebuilds
werkelijk verwijderd worden van je mirror. Stel een cron job in om de rsync elk
half uur uit te voeren, om :00 en :30. Stuur hierna een e-mail naar <mail
link="admin_[at]_gentoo.org">The Admin Team</mail> en laat ons weten dat je
rsync mirror klaar is voor gebruik. Wij zullen dan een officiele
rsync[nummer].[landcode].gentoo.org DNS-instelling aanmaken en jouw mirror
toevoegen aan onze round-robin rsync.gentoo.org en rsync.[landcode].gentoo.org.
We zullen tevens de cvs.gentoo.org QoS instellen zodat je voorrangstoegang
krijgt tot onze rsync server. Iets later zal je rsync-traffiek moeten zien.
Eenmaal dit het geval is moet je de cronjob instellen om naar de hoofdmirror te
wijzen - rsync://rsync1.us.gentoo.org (al de rest moet hetzelfde blijven).
</p>

<p>
Bedankt voor het helpen van de Gentoo Linux gebruikers en ontwikkelaars! :)
</p>
</body>
</section>
</chapter>
</guide>

