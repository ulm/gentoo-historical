<?xml version='1.0' encoding="UTF-8"?>

<!-- 
    English doc rev. 1.2
-->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/nl/stage-building-guide.xml">

<author title = "Author">
<mail link = "zhen@gentoo.org">John P. Davis</mail></author>
<author title = "Translator">
<mail link = "swift@gentoo.org">Sven Vermeulen</mail></author>

<version>1.0</version>
<date>19 April 2003</date>

<abstract>
Deze handleiding legt je uit hoe je GRP stages maakt voor Gentoo Linux
releases.
</abstract>

<chapter>
	<title>Voorbeschouwing</title>
	<section>
		<title>Inleiding</title>
		<body>
		<p>
        Deze handleiding is een uitleg over hoe je release-klare GRP stages
        maakt voor Gentoo Linux. Deze handleiding veronderstelt de volgende
        zaken:
        </p>

		<ul>
		<li>Je bent een Gentoo Linux developer</li>
		<li>Je hebt toegang tot de <i>gentoo-src</i> CVS-module</li>
		</ul>

	</body>
	</section>
	<section>
		<title>De broncode verkrijgen</title>
		<body>
		<p>
        Alvorens we beginnen met het compileren van zaken is het noodzakelijk
        dat je de nodige broncode, tools e.d. hebt. Allereerst moet je de
        <i>gentoo-src</i> module van de CVS uittrekken, en je ervan verzekeren
        dat het een recente is. De compilatiescripts veranderen frequent, dus
        zorg ervoor dat je uptodate blijft. Verder is de meest recente
        stage1-tarball vereist. Deze kan je normaalgezien vinden op
        <uri>http://www.ibiblio.org/gentoo/experimental/x86/stages</uri>. De
        tarball die je zoekt heet <i>stage1-x86-1.4_pre<i>DATE</i></i>.tar.bz2,
        met <i>DATE</i> zijnde de meest recente datum die je kan vinden.
        </p>
		
		</body>
	</section>
</chapter>

<chapter>
	<title>Het compilatieproces</title>
	<section>
		<title>Eerste stappen</title>
		<body>
		<p>
        Allereerst moet je een directorie maken op een mooie grote partitie die
        al de gecompileerde zaken zal bevatten. De auteur maakte deze in
        <path>/usr/src/grp</path> maar dit is niet meer dan een keuze.
        Vervolgens kopieer je de <path>stager</path> directorie van
        <i>gentoo-src</i> in deze nieuwe directorie. Uiteindelijk maak je een
        directorie binnenin <path>grp/stager</path> genaamd <i>stages</i>
        waarin je de experimentele stage1-tarball plaatst.
        </p>

		<pre caption="Klaarstomen">
# <c>mkdir /usr/src/grp </c>
<codenote>
Je kan de bovenstaande directorie aanpassen naar je eigen keuze, maar de auteur
gebruikt vanaf nu deze directorie als referentie.
</codenote>

# <c>cp -R /<comment>path-to-gentoo-src</comment>/stager/ /usr/src/grp </c>
# <c>cd /usr/src/grp/stager; mkdir stages </c>
# <c>mv stage1-x86-1.4_pre20030214.tar.bz2 /usr/src/grp/stager/stages </c>

		</pre>

		</body>
	</section>

	<section>
		<title>Pre-Build Configuratie</title>
		<body>
		<p>
        Eenmaal alles correct gekopieerd is pas je de <c>dostage.sh</c> script
        aan zodat deze jouw applicatie gebruikt.
        </p>

		<pre caption="De dostage.sh script aanpassen">
<codenote>verander SOURCE naar stage1-x86-1.4_preFOO</codenote>
SOURCE=stage1-x86-1.4_pre20030214.tar.bz2
<codenote>
Je kan DEST aanpassen naar al eender wat je wil, maar voor het testen is het
gemakkelijker deze hetzelfde te houden als SOURCE.
</codenote>
DEST=stage1-x86-1.4_pre20030214.tar.bz2
		</pre>

		<p>
        Nadat dit afgelopen is, zorg er dan voor dat de m/arch in de for-loop
        jouw architectuur vernoemt.
        </p>

		</body>
	</section>

	<section>
		<title>Compileer!</title>
		<body>

		<p>
        Zorg ervoor dat je root bent, en voer dan <c>dostage.sh</c> uit. Het
        script zal alles voor jou doen: chroot omgeving aanmaken, stages
        compileren, etc...
        </p>

		<p>
        Nadat het compilatieproces beeindigt is verwijder je de
        <path>packages</path> en <path>build</path> directories in de
        stages-directorie zodat je geen voorgecompileerde packages verkrijgt
        voor een andere architectuur in je volgende compilatie.
        </p>
		
		</body>
	</section>
</chapter>

<chapter>
	<title>Finale Notities</title>
	<section>
		<title>Contacten</title>
		<body>
		
		<table>
		<tr>
			<th>Contact</th>
			<th>Functie</th>
		</tr>
		<tr>
			<ti><mail link="bcowan@gentoo.org">Brad Cowan</mail></ti>
			<ti>Gentoo Linux Release Manager</ti>
		</tr>
		<tr>
			<ti><mail link="jhhudso@gentoo.org">Jared Hudson</mail></ti>
			<ti>Stage Builds</ti>
		</tr>
		<tr>
			<ti><mail link="zhen@gentoo.org">John Davis</mail></ti>
			<ti>Documentation Coordinator/ Author</ti>
		</tr>
		</table>
		
		</body>
	</section>
</chapter>
</guide>
			
		

		
