<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/nl/handbook/hb-install-config.xml,v 1.2 2004/09/26 10:40:47 neysx Exp $ -->

<sections>
<section>
<title>Tijdzone</title>
<body>

<p>
Het is nu tijd om aan te geven in welke tijdzone je je bevind zodat het systeem
weet waar het is. Zoek naar je tijdzone in <path>/usr/share/zoneinfo</path>, en
maak daarna een symlink naar <path>/etc/localtime</path> met <c>ln</c>:
</p>

<pre caption="Tijdzone informatie instellen">
# <i>ls /usr/share/zoneinfo</i>
<comment>(We gaan ervan uit dat je GMT+1 gebruikt)</comment>
# <i>ln -sf /usr/share/zoneinfo/Europe/Amsterdam /etc/localtime</i>
</pre>

</body>
</section>
<section>
<title>Bestandssysteem informatie</title>
<subsection>
<title>Wat is fstab?</title>
<body>

<p>
Onder linux dienen alle partities die in gebruik zijn door het systeem in
<path>/etc/fstab</path> aanwezig te zijn. Dit bestand bevat alle mountpoints van
de betreffende partities (waar ze tevoorschijn komen in de bestandsstructuur),
hoe ze gemount moeten worden (speciale opties) en wanneer (automatisch of niet,
kunnen gebruikers ze mounten of niet, etc.).
</p>

</body>
</subsection>
<subsection>
<title>/etc/fstab aanmaken</title>
<body>

<p>
<path>/etc/fstab</path> maakt gebruik van een speciale syntax. Elke regel
bestaat uit zes velden, gescheiden door whitespaces (spaties, tabs of een mix
daarvan). Elk veld heeft zijn eigen betekenis:
</p>

<ul>
<li>
  Het eerste veld geeft de <b>partitie</b> aan (het pad naar het apparaat
  bestand)
</li>
<li>
  Het tweede veld geeft het <b>mountpoint</b> weer, maar de partitie gemount
  moet worden.
</li>
<li>
  Het derde veld geeft aan welk <b>bestandssysteem</b> de partitie gebruikt
</li>
<li>
  Het vierde veld heeft aan welke <b>mount opties</b> gebruikt moeten worden
  door <c>mount</c> wanneer het de betreffende partitie wil mounten. Omdat elk
  bestandssysteem zijn eigen opties heeft moedigen we je aan de manpage van
  mount te lezen (<c>man mount</c>) voor complete lijst van opties. Meerdere
  opties worden door comma's van elkaar gescheiden.
</li>
<li>
  Het vijfde veld wordt gebruikt door <c>dump</c> om vast te stellen welke
  partitie ge<b>dump</b>ed moet worden. Je kan dit over het algemeen op <c>0</c>
  (nul) laten staan.
</li>
<li>
  Het zesde veld wordt gebruikt door <c>fsck</c> om vast te stellen in welke
  volgorde de bestandssystemen moeten worden gecontroleerd in het geval dat het
  systeem niet goed afgesloten is. Het root bestandssysteem moet <c>1</c>
  hebben, de rest moet <c>2</c> hebben (of <c>0</c> als een controle niet nodig
  is).
</li>
</ul>

<p>
Dus start <c>nano</c> (of je favoriete editer) om je eigen
<path>/etc/fstab</path> aan te maken:
</p>

<pre caption="/etc/fstab openen">
# <i>nano -w /etc/fstab</i>
</pre>

<p>
Laten we eens kijken naar de opties voor de <path>/boot</path> partitie. Dit is
slechts een voorbeeld, dus als je architectuur geen <path>/boot</path> partitie
nodig heeft, kopieer dit dan niet een op een.
</p>

<p>
In onze standaard x86 partitie voorbeeld is <path>/boot</path> de partitie
<path>/dev/hda1</path>, met <c>ext2</c> als bestandssysteem. Deze dient niet
automatisch gemount te worden (<c>noauto</c>), maar dient wel gecontroleerd te
worden. Dus we schrijven op:
</p>

<pre caption="Een voorbeeld /boot regel voor /etc/fstab">
/dev/hda1   /boot     ext2    noauto        1 2
</pre>

<p>
Zo, om de prestaties te verbeteren, zullen de meeste gebruikers <c>noatime</c>
als optie willen toevoegen. Dit resulteerd in een sneller systeem omdat de
"access times" niet geregistreerd worden (dit heb je over het algemeen niet
nodig):
</p>

<pre caption="Een verbeterde /boot regel voor /etc/fstab">
/dev/hda1   /boot     ext2    noauto,noatime    1 2
</pre>

<p>
Als we zo verder gaan eindigen we met de volgende drie regels (voor
<path>/boot</path>, <path>/</path> en de swap partitie):
</p>

<pre caption="Drie /etc/fstab regels">
/dev/hda1   /boot     ext2    noauto,noatime    1 2
/dev/hda2   none      swap    sw                0 0
/dev/hda3   /         ext3    noatime           0 1
</pre>

<p>
Om het af te maken, je behoort een regel te hebbne voor <path>/proc</path>, 
<c>tmpfs</c> (verplicht) en voor je CD-ROM speler (en natuurlijk, voor eventuele
andere partitie en schijven):
</p>

<pre caption="Een compleet /etc/fstab voorbeeld">
/dev/hda1   /boot     ext2    noauto,noatime    1 2
/dev/hda2   none      swap    sw                0 0
/dev/hda3   /         ext3    noatime           0 1

none        /proc     proc    defaults          0 0
none        /dev/shm  tmpfs   defaults          0 0

/dev/cdroms/cdrom0    /mnt/cdrom    auto      noauto,user    0 0
</pre>

<p>
<c>auto</c> zorgt ervoor dat <c>mount</c> probeerd het bestandssysteem te raden
(aangeraden voor verwijderbare media, omdat deze gemaakt kunnen worden met een
van de vele bestandssystemen) en <c>user</c> maakt het mogelijk voor niet-root
gebruikers om de CD te mounten.
</p>

<p>
Je kan het bovenstaande voorbeeld gebruiken om je eigen <path>/etc/fstab</path>
in te vullen. Als je een SPARC gebruiker bent, dan dien je de volgende regel aan
je <path>/etc/fstab</path> toe te voegen:
</p>

<pre caption="Het openprom bestandssysteem toevoegen aan /etc/fstab">
none        /proc/openprom  openpromfs    defaults      0 0
</pre>

<p>
Als je <c>usbfs</c> nodig hebt, voeg dan de volgende regel aan
<path>/etc/fstab</path> toe:
</p>

<pre caption="Het usbfs bestandssysteem toevoegen aan /etc/fstab">
none        /proc/bus/usb   usbfs         defaults      0 0
</pre>

<p>
Controleer je <path>/etc/fstab</path> nog eens goed, sla hem daarna op en sluitt
de editer af.
</p>

</body>
</subsection>
</section>
<section>
<title>Netwerk Informatie</title>
<subsection>
<title>Hostname, Domainname etc.</title>
<body>

<p>
Een van die moeilijke keuzes die de gebruiker moet maken is het kiezen van een
naam voor zijn/haar PC. Dit lijkt makkelijk, maar er zijn <e>veel</e> gebruikers
die er moeite mee hebben om een geschikte naam voor hun Linux-pc te verzinnen.
Om de beslissing wat makkelijker te maken, je kan de naam achteraf altijd nog
aanpassen. Wat ons betreft noem je je systeem <c>tux</c> en je domain
<c>homenetwork</c>.
</p>

<p>
Wij gebruiken deze namen in de komende voorbeelden. Allereerst zetten we onze
hostname:
</p>

<pre caption="De hostname instellen">
# <i>echo tux &gt; /etc/hostname</i>
</pre>

<p>
Daarna de domeinnaam
</p>

<pre caption="De domeinnaam instellen">
# <i>echo homenetwork &gt; /etc/dnsdomainname</i>
</pre>

<p>
Als je een NIS domein hebt (als je niet weet wat dit is, sla deze stap dan over)
dan dien je hetvolgende ook te doen:
</p>

<pre caption="De NIS domeinnaam instellen">
# <i>echo nis.homenetwork &gt; /etc/nisdomainname</i>
</pre>

<p>
Voeg nu het <c>domainname</c> script toe aan het standaard runlevel:
</p>

<pre caption="domainname toevoegen aan het standaard runlevel">
# <i>rc-update add domainname default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Je Netwerk Configureren</title>
<body>

<p>
Voordat je een "He dit heb ik al gedaan"-gevoel krijg, moet je je beseffen dat
je je netwerk al aan de praat hebt gekregen voor de installatie. Dit was echter
alleen voor de installatieprocedure. Nu gaan we je netwerk configureren voor het
permanente gebruik in je Gentoo systeem.
</p>

<p>
Alle netwerk informatie is verzameld in <path>/etc/conf.d/net</path>. Dit
bestand gerbuikt een makkelijke syntax, het is echter wel even wennen als dit de
eerste keer is. Maar wees niet bang, wij leggen alles uit :)
</p>

<p>
Allereerst dien je <path>/etc/conf.d/net</path> te openen met je favoriete
editor (<c>nano</c> wordt in dit voorbeeld gebruikt).
</p>

<pre caption="/etc/conf.d/net openen om aan te passen">
# <i>nano -w /etc/conf.d/net</i>
</pre>

<p>
De eerste variabele die je tegen komt is <c>iface_eth0</c>. Deze gebruikt de
volgende syntax:
</p>

<pre caption="iface_eth0 syntaxis">
iface_eth0="<i>&lt;jouw ip addres&gt;</i> broadcast <i>&lt;jouw broadcast
addres&gt;</i> netmask <i>&lt;jouw netmask&gt;</i>"
</pre>

<p>
Als je gebruik maakt van DHCP (automatisch IP gegevens verkrijgen), dan dien je
enkel <c>iface_eth0</c> op <c>dhcp</c> te zetten. Echter, als je je netwerk
handmatig op moet zetten en je bent niet bekend met de bovenstaande termen, lees
dan de sectie over <uri link="?part=1&amp;chap=3#doc_chap4_sect3">Netwerk
Terminalogie begrijpen</uri> als je dat nog niet gedaan hebt,
</p>

<p>
Dus, laten we eens twee voorbeelden behandelen; de eerste maakt gebruik van
DHCP, de tweede van een statisch IP (192.168.0.2) met netmask 255.255.255.0,
broadcast 192.168.0.255 en gateway 192.168.0.1:
</p>

<pre caption="Voorbeelden voor /etc/conf.d/net">
<comment>(Voor DHCP:)</comment>
iface_eth0="dhcp"

<comment>(Voor statisch IP:)</comment>
iface_eth0="192.168.0.2 broadcast 192.168.0.255 netmask 255.255.255.0"
gateway="eth0/192.168.0.1"
</pre>

<p>
ALs je meerdere netwerkkaarten hebt, maak dan een extra <c>iface_eth</c>
variabele aan zoals <c>iface_eth1</c>, <c>iface_eth2</c>, etc. De <c>gateway</c>
variabele hoef je maar een keer in te stellen.
</p>

<p>
Sla nu je configuratie op, en verlaat de editor, je kan nu verder gaan.
</p>

</body>
</subsection>
<subsection>
<title>Het netwerk automatisch starten tijdens het opstarten</title>
<body>

<p>
Om je netwerkkaarten automatisch te activeren tijdens het opstarten dien je deze
toe te voegen aan het standaard runlevel. Als je PCMCIA kaarten gebruikt die je
deze sectie over te slaan, omdat deze kaarten al door het PCMCIA init script
worden gestart.
</p>

<pre caption="net.eth0 toevoegen aan het standaard runlevel">
# <i>rc-update add net.eth0 default</i>
</pre>

<p>
Als je meerdere netwerkkaarten hebt, dien je gepaste <path>net.eth1</path>,
<path>net.eth2</path> etc. aan te maken. Je kan ln hiervoor gebruiken:
</p>

<pre caption="Extra initscripts aanmaken">
# <i>cd /etc/init.d</i>
# <i>ln -s net.eth0 net.eth1</i>
# <i>rc-update add net.eth1 default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Extra netwerk informatie invoeren</title>
<body>

<p>
Je dient Linux in te lichten over je netwerk. Deze wordt gedefineerd in
<path>/etc/hosts</path> en helpt met een vertalen van hostnames naar IP
adressen. Bijvoorbeeld, als je interne netwerk bestaat uit drie PCs die
respectievelijk <c>jenny</c> (192.168.0.5), <c>benny</c> (192.168.0.6) en
<c>tux</c> (192.168.0.7 - dit systeem) heten, dan zou je de volgende waardes
invoeren in <path>/etc/hosts</path>:
</p>

<pre caption="/etc/hosts openen">
# <i>nano -w /etc/hosts</i>
</pre>

<pre caption="De netwerk informatie invoeren">
127.0.0.1     localhost
192.168.0.5   jenny
192.168.0.6   benny
192.168.0.7   tux
</pre>

<p>
Wanneer jouw systeem het enige is (of als nameservers al het vertaalwerk op
zich nemen) dan is een enkele regel voldoende:
</p>

<pre caption="/etc/hosts voor eenzame of volledig geintegreerde computers">
127.0.0.1     localhost   tux
</pre>

<p>
Sla je wijzigingen op, je kan nu je editor verlaten en verer gaan.
</p>

<p>
Als je geen PCMCIA gebruikt, dan kan je verder gaan met <uri
link="#doc_chap4">System Informatie</uri>. PCMCIA-gebruikers dienen het volgende
te lezen aangaande PCMCIA.
</p>

</body>
</subsection>
<subsection>
<title>Optioneel: PCMCIA aan de praat krijgen</title>
<body>

<p>
PCMCIA-gebruikers dienen eerst het <c>pcmcia-cs</c> pakket te installeren:
</p>

<pre caption="pcmcia-cs installeren">
# <i>emerge --usepkg pcmcia-cs</i>
</pre>

<p>
Wanneer <c>pcmcia-cvs</c> is geinstalleerd, voeg <c>pcmcia</c> dan toe aan het
<c>default</c> runlevel.
</p>

<pre caption="pcmcia toevoegen aan het default runlevel">
# <i>rc-update add pcmcia default</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>System Informatie</title>
<body>

<p>
Gentoo maakt gebruik van <path>/etc/rc.conf</path> voor algemene instellingen.
Open <path>/etc/rc.conf</path> en vermaak je met het commentaar in het
betreffende bestand :)
</p>

<pre caption="/etc/rc.conf openen">
# <i>nano -w /etc/rc.conf</i>
</pre>

<p>
Zoals je ziet is dit bestand van veel commentaar voorzien dat je helpt met het
instellen van de configuratie variabelen. Schenk wat extra aandacht aan de
<c>KEYMAP</c> instelling: als je de verkeerde <c>KEYMAP</c> selecteerd dan kan
je rare dingen krijgen tijdens het gebruik van je toetsenbord.
</p>

<note>
Gebruikers van USB-gebasseerde SPARC systemen en SPARC clonen diene wellicht een
i386 keymap selecteren (zoals "us") in plaats van "sunkeymap".
</note>

<p>
We zijn nu klaar met het configureren van <path>/etc/rc.conf</path>, sla deze op
en verlaat de editor. Je kan nu verder gaan met <uri 
link="?part=1&amp;chap=9">De bootloader configureren</uri>.
</p>

</body>
</section>
</sections>
