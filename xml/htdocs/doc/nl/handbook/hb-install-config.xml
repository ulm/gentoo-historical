<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/nl/handbook/hb-install-config.xml,v 1.13 2005/06/23 15:46:08 neysx Exp $ -->

<sections>

<version>2.8</version>
<date>2005-06-19</date>

<section>
<title>Bestandssysteem informatie</title>
<subsection>
<title>Wat is fstab?</title>
<body>

<p>
Onder linux dienen alle partities die in gebruik zijn door het systeem in
<path>/etc/fstab</path> aanwezig te zijn. Dit bestand bevat alle mountpoints van
de betreffende partities (waar ze tevoorschijn komen in de bestandsstructuur),
hoe ze gemount moeten worden en met welke speciale opties (automatisch of niet,
of gebruikers ze kunnen mounten of niet, etc.).
</p>

</body>
</subsection>
<subsection>
<title>/etc/fstab aanmaken</title>
<body>

<p>
<path>/etc/fstab</path> maakt gebruik van een speciale syntax. Elke regel
bestaat uit zes velden, gescheiden door whitespaces (spaties, tabs of een mix
daarvan). Elk veld heeft zijn eigen betekenis:
</p>

<ul>
<li>
  Het eerste veld geeft de <b>partitie</b> aan (het pad naar het apparaat
  bestand)
</li>
<li>
  Het tweede veld geeft het <b>mountpoint</b> weer, maar de partitie gemount
  moet worden.
</li>
<li>
  Het derde veld geeft aan welk <b>filesysteem</b> de partitie gebruikt
</li>
<li>
  Het vierde veld geeft aan welke <b>mount opties</b> gebruikt moeten worden
  door <c>mount</c> wanneer het de betreffende partitie wil mounten. Omdat elk
  bestandssysteem zijn eigen opties heeft moedigen we je aan de manpage van
  mount te lezen (<c>man mount</c>) voor complete lijst van opties. Meerdere
  opties worden door comma's van elkaar gescheiden.
</li>
<li>
  Het vijfde veld wordt gebruikt door <c>dump</c> om vast te stellen welke
  partitie ge<b>dump</b>ed moet worden. Je kan dit over het algemeen op <c>0</c>
  (nul) laten staan.
</li>
<li>
  Het zesde veld wordt gebruikt door <c>fsck</c> om vast te stellen in welke
  volgorde de bestandssystemen moeten worden gecontroleerd in het geval dat het
  systeem niet goed afgesloten is. Het root bestandssysteem moet <c>1</c>
  hebben, de rest moet <c>2</c> hebben (of <c>0</c> als een controle niet nodig
  is).
</li>
</ul>

<p>
De door Gentoo standaard meegeleverde <path>/etc/fstab</path> <e>is geen goed
fstab bestand</e>, dus start <c>nano</c> (of je favoriete editer) om je eigen
<path>/etc/fstab</path> aan te maken:
</p>

<pre caption="/etc/fstab openen">
# <i>nano -w /etc/fstab</i>
</pre>

<p>
Laten we eens kijken naar de opties voor de <path>/boot</path> partitie. Dit is
slechts een voorbeeld, dus als je architectuur geen <path>/boot</path> partitie
nodig heeft, kopieer dit dan niet een op een.
</p>

<p>
In onze standaard x86 partitie voorbeeld is <path>/boot</path> de partitie
<path>/dev/hda1</path>, met <c>ext2</c> als bestandssysteem.
Hij moet worden gecontroleerd tijdens het opstarten, dus we schrijven op:
</p>

<pre caption="Een voorbeeld /boot regel voor /etc/fstab">
/dev/hda1   /boot     ext2    defaults        1 2
</pre>

<p>
Sommige gebruiken willen niet dat hun <path>/boot</path> partitie automatisch
gemount wordt omdat dit de veiligheid van het systeem vergroot. Die mensen
moeten <c>defaults</c> vervangen met <c>noauto</c>. Dit betekent dat je
eerst handmatig moet mounten voordat je hem kan gebruiken.
</p>

<p>
Nu, om de prestaties te verbeteren, zullen de meeste gebruikers <c>noatime</c>
als optie willen toevoegen. Dit resulteert in een sneller systeem omdat de
toegangstijden niet geregistreerd worden (dit heb je over het algemeen niet
nodig):
</p>

<pre caption="Een verbeterde /boot regel voor /etc/fstab">
/dev/hda1   /boot     ext2    defaults,noatime  1 2
</pre>

<p>
Als we zo verder gaan eindigen we met de volgende drie regels (voor
<path>/boot</path>, <path>/</path> en de swap partitie):
</p>

<pre caption="Drie /etc/fstab regels">
/dev/hda1   /boot     ext2    defaults,noatime  1 2
/dev/hda2   none      swap    sw                0 0
/dev/hda3   /         ext3    noatime           0 1
</pre>

<p>
Om het af te maken, je behoort een regel te hebben voor <path>/proc</path>, 
<c>tmpfs</c> (vereist) en voor je CD-ROM speler (en natuurlijk, voor eventuele
andere partitie en schijven):
</p>

<pre caption="Een compleet /etc/fstab voorbeeld">
/dev/hda1   /boot     ext2    defaults,noatime       1 2
/dev/hda2   none      swap    sw                   0 0
/dev/hda3   /         ext3    noatime              0 1

none        /proc     proc    defaults             0 0
none        /dev/shm  tmpfs   nodev,nosuid,noexec  0 0

/dev/cdroms/cdrom0    /mnt/cdrom    auto      noauto,user    0 0
</pre>

<p>
<c>auto</c> zorgt ervoor dat <c>mount</c> probeert het bestandssysteem te raden
(aangeraden voor verwijderbare media, omdat deze gemaakt kunnen worden met een
van de vele bestandssystemen) en <c>user</c> maakt het mogelijk voor niet-root
gebruikers om de CD te mounten.
</p>

<p>
Je kan het bovenstaande voorbeeld gebruiken om je eigen <path>/etc/fstab</path>
in te vullen. Als je een <b>SPARC</b> gebruiker bent, dan dien je de volgende
regel aan je <path>/etc/fstab</path> toe te voegen:
</p>

<pre caption="Het openprom bestandssysteem toevoegen aan /etc/fstab">
none        /proc/openprom  openpromfs    defaults      0 0
</pre>

<p>
Controleer je <path>/etc/fstab</path> nog eens goed, sla hem daarna op en sluit
de editor af.
</p>

</body>
</subsection>
</section>
<section>
<title>Netwerk Informatie</title>
<subsection>
<title>Hostname, Domainname etc.</title>
<body>

<p>
Een van die moeilijke keuzes die de gebruiker moet maken is het kiezen van een
naam voor zijn/haar PC. Dit lijkt makkelijk, maar er zijn <e>veel</e> gebruikers
die er moeite mee hebben om een geschikte naam voor hun Linux-pc te verzinnen.
Om de beslissing wat makkelijker te maken, je kan de naam achteraf altijd nog
aanpassen. Wat ons betreft noem je je systeem <c>tux</c> en je domain
<c>homenetwork</c>.
</p>

<p>
Wij gebruiken deze namen in de komende voorbeelden. Allereerst zetten we onze
hostname:
</p>

<pre caption="De hostname instellen">
# <i>nano -w /etc/conf.d/hostname</i>

<comment>(Stel de HOSTNAME-variabele in op jouw hostname)</comment>
HOSTNAME="<i>tux</i>"
</pre>

<p>
Daarna moet je de domeinnaam instellen:
</p>

<pre caption="De domeinnaam instellen">
# <i>nano -w /etc/conf.d/dnsdomainname</i>

<comment>(Stel de DNSDOMAIN-variabele in op jouw domeinnaam)</comment>
DNSDOMAIN="<i>homenetwork</i>"
</pre>

<p>
Als je een NIS domein hebt (als je niet weet wat dit is, dan heb je het ook
niet) dien je het volgende ook te doen:
</p>

<pre caption="De NIS domeinnaam instellen">
# <i>nano -w /etc/conf.d/nisdomainname</i>

<comment>(Stel de NISDOMAIN-variabele in op jouw NIS domeinnaam)</comment>
NISDOMAIN="<i>my-nisdomain</i>"
</pre>

<p>
Voeg nu het <c>domainname</c> script toe aan het standaard runlevel:
</p>

<pre caption="domainname toevoegen aan het standaard runlevel">
# <i>rc-update add domainname default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Je Netwerk Configureren</title>
<body>

<p>
Voordat je een "He dit heb ik al gedaan"-gevoel krijg, moet je je beseffen dat
je je netwerk al aan de praat hebt gekregen voor de installatie. Dit was echter
alleen voor de installatieprocedure. Nu gaan we je netwerk configureren voor het
permanente gebruik in je Gentoo systeem.
</p>

<note>
Meer gedetailleerde informatie over netwerken, inclusief de geavanceerde
onderwerpen zoals bonding, bridging, 802.11q VLANs en draadloze netwerken worden
behandeld in het (nog niet vertaalde) <uri
link="/doc/en/handbook-x86.xml?part=4">Gentoo netwerk configuratie</uri>
hoofdstuk.
</note>

<p>
Alle netwerk informatie is verzameld in <path>/etc/conf.d/net</path>. Dit
bestand gerbuikt een makkelijke syntax, het is echter wel even wennen als dit de
eerste keer is. Maar wees niet bang, wij leggen alles uit :)
</p>

<p>
Allereerst dien je <path>/etc/conf.d/net</path> te openen met je favoriete
editor (<c>nano</c> wordt in dit voorbeeld gebruikt).
</p>

<pre caption="/etc/conf.d/net openen om aan te passen">
# <i>nano -w /etc/conf.d/net</i>
</pre>

<p>
De eerste variabele die je zult vinden, heet <c>config_eth0</c>. Zoals je
waarschijnlijk kan raden, configureert deze variabele de eth0 netwerkinterface.
Indien de interface automatisch een IP-adres via DHCP moet krijgen, dien je het
zo in te stellen:
</p>

<pre caption="Automatisch een IP-adres voor eth0 krijgen">
config_eth0=( "dhcp" )
</pre>

<p>
Echter, indien je zelf een IP adres, netmask en gateway moet opgeven, dien je
<c>config_eth0</c> en <c>routes_eth0</c> in te stellen:
</p>

<pre caption="Handmatig de IP informatie voor eth0 instellen">
config_eth0=( "192.168.0.2 netmask 255.255.255.0" )
routes_eth0=( "default gw 192.168.0.1" )
</pre>

<p>
Indien je meerdere netwerkinterfaces hebt, herhaal dan de bovenstaande stappen
voor <c>config_eth1</c>, <c>config_eth2</c>, etc.
</p>

<p>
Sla nu je configuratie op, en verlaat de editor, je kan nu verder gaan.
</p>

</body>
</subsection>
<subsection>
<title>Het netwerk automatisch starten tijdens het opstarten</title>
<body>

<p>
Om je netwerkkaarten automatisch te activeren tijdens het opstarten dien je deze
toe te voegen aan het standaard runlevel. Als je PCMCIA kaarten gebruikt dien je
deze sectie over te slaan omdat deze kaarten al door het PCMCIA init script
worden gestart.
</p>

<pre caption="net.eth0 toevoegen aan het standaard runlevel">
# <i>rc-update add net.eth0 default</i>
</pre>

<p>
Als je meerdere netwerkkaarten hebt, dien je gepaste <path>net.eth1</path>,
<path>net.eth2</path> etc. aan te maken. Je kan <c>ln</c> hiervoor gebruiken:
</p>

<pre caption="Extra initscripts aanmaken">
# <i>cd /etc/init.d</i>
# <i>ln -s net.eth0 net.eth1</i>
# <i>rc-update add net.eth1 default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Extra netwerk informatie invoeren</title>
<body>

<p>
Je dient Linux in te lichten over je netwerk. Deze wordt gedefineerd in
<path>/etc/hosts</path> en helpt met een vertalen van hostnames naar IP
adressen. Bijvoorbeeld, als je interne netwerk bestaat uit drie PCs die
respectievelijk <c>jenny</c> (192.168.0.5), <c>benny</c> (192.168.0.6) en
<c>tux</c> (192.168.0.7 - dit systeem) heten, dan zou je de volgende waardes
invoeren in <path>/etc/hosts</path>:
</p>

<pre caption="/etc/hosts openen">
# <i>nano -w /etc/hosts</i>
</pre>

<pre caption="De netwerk informatie invoeren">
127.0.0.1     localhost
192.168.0.5   jenny.homenetwork jenny
192.168.0.6   benny.homenetwork benny
192.168.0.7   tux.homenetwork tux
</pre>

<p>
Wanneer jouw systeem het enige is (of als nameservers al het vertaalwerk op
zich nemen) dan is een enkele regel voldoende. Bijvoorbeeld, als je jouw
systeem <c>tux</c> wil noemen:
</p>

<pre caption="/etc/hosts voor eenzame of volledig geïntegreerde computers">
127.0.0.1     tux localhost
</pre>

<p>
Sla je wijzigingen op, je kan nu je editor verlaten en verer gaan.
</p>

<p>
Als je geen PCMCIA gebruikt, dan kan je verder gaan met <uri
link="#doc_chap3">System Informatie</uri>. PCMCIA-gebruikers dienen het volgende
te lezen aangaande PCMCIA.
</p>

</body>
</subsection>
<subsection>
<title>Optioneel: PCMCIA aan de praat krijgen</title>
<body>

<note>
pcmcia-cs is alleen beschikbaar voor x86, amd64 en ppc platformen.
</note>

<p>
PCMCIA-gebruikers dienen eerst het <c>pcmcia-cs</c> pakket te installeren. Dit
bevat ook gebruikers die met een 2.6 kernel werken (zelfs wanneer ze geen
PCMCIA drivers van dit pakket zullen gebruiken). Het <c>USE="-X"</c> is nodig
om te voorkomen dat xorg-x11 op dit moment al gaat installeren:
</p>

<pre caption="pcmcia-cs installeren">
# <i>USE="-X" emerge pcmcia-cs</i>
</pre>

<p>
Wanneer <c>pcmcia-cs</c> is geinstalleerd, voeg <c>pcmcia</c> dan toe aan het
<c>default</c> runlevel.
</p>

<pre caption="pcmcia toevoegen aan het default runlevel">
# <i>rc-update add pcmcia default</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Systeem informatie</title>
<subsection>
<title>Root wachtwoord</title>
<body>

<p>
Eerst stellen we het root wachtwoord in door te typen:
</p>

<pre caption="Het root wachtwoord instellen">
# <i>passwd</i>
</pre>

<p>
Als je root de mogelijkheid wilt geven om in te loggen via de seriele console,
voeg <c>tts/0</c> aan <path>/etc/securetty</path> toe:
</p>

<pre caption="tts/0 aan /etc/securetty toevoegen">
# <i>echo "tts/0" &gt;&gt; /etc/securetty</i>
</pre>

</body>
</subsection>
<subsection>
<title>Systeem Informatie</title>
<body>

<p>
Gentoo maakt gebruik van <path>/etc/rc.conf</path> voor algemene instellingen.
Open <path>/etc/rc.conf</path> en vermaak je met het commentaar in het
betreffende bestand :)
</p>

<pre caption="/etc/rc.conf openen">
# <i>nano -w /etc/rc.conf</i>
</pre>

<p>
Zoals je ziet is dit bestand van veel commentaar voorzien dat je helpt met het
instellen van de configuratie variabelen. Schenk wat extra aandacht aan de
<c>KEYMAP</c> instelling: als je de verkeerde <c>KEYMAP</c> selecteerd dan kan
je rare dingen krijgen tijdens het gebruik van je toetsenbord.
</p>

<note>
Gebruikers van USB-gebasseerde <b>SPARC</b> systemen en <b>SPARC</b> clonen
dienen wellicht een i386 keymap selecteren (zoals "us") in plaats van
"sunkeymap".
</note>

<p>
<b>PPC</b> gebruikt x86 keymaps op de meeste systemen. Gebruikers die ADB
keymaps willen kunnen gebruiken tijdens het opstarten, moeten ADB keycode
sendings aan zetten in hun kenrel en een mac/ppc keymap selecteren in
<path>rc.conf</path>.
</p>

<p>
Als je hardware klok geen UTC gebruikt, dien je <c>CLOCK="local"</c> aan het bestand toe te voegen. Als je dit niet doet, loopt klok verkeerd.
</p>

<p>
We zijn nu klaar met het configureren van <path>/etc/rc.conf</path>,
sla deze op en verlaat de editor.
</p>

<p>
Als je Gentoo niet op een IBM POWER5 of JS20 systeem aan het installeren bent,
ga dan verder met <uri link="?part=1&amp;chap=9">De nodige systeem tools
installeren</uri>.
</p>

</body>
</subsection>
<subsection>
<title>De console configureren</title>
<body>

<note>
De volgende sectie is van toepassing op de IBM POWER5 en JS20 hardware
platformen.
</note>

<p>
Als je Gentoo draait op een LPAR of op een JS20 blade, moet je de hvc regel in
/etc/inittab toevoegen zodat een login prompt opent op de virtuele console.
</p>

<pre caption="Hvc ondersteuning aan zetten in /etc/inittab">
hvc:12345:respawn:/sbin/agetty -nl /bin/bashlogin 9600 hvc0 vt220
</pre>

<p>
Je kan nu verder gaan met <uri link="?part=1&amp;chap=9">De nodige systeem
tools installeren</uri>.
</p>

</body>
</subsection>
</section>
</sections>
