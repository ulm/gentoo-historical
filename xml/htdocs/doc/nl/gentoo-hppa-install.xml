<?xml version='1.0' encoding="UTF-8"?>

<!-- 
    English doc rev. 1.3
-->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link="/doc/nl/gentoo-hppa-install.xml">
<title>Gentoo HPPA Installation Guide </title>
<author title="Gentoo HPPA developer">
    <mail link="gmsoft@gentoo.org">Guy Martin</mail>
</author>
<author title="Translator">
    <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>

<abstract>
Gentoo Linux is installeerbaar op een HP PA-RISC machine. De port is in een
vroege ontwikkelingsstadium; opmerkingen over dit document of de installatie
algemeen moeten op <uri link="http://bugs.gentoo.org">Gentoo's bugzilla</uri>
komen. 
</abstract>
<version>0.1</version>
<date>6 May 2003</date>
<chapter>
<title>Ondersteunde hardware</title>
<section>
<title>Over de huidige stadium van de port</title>
<body>
<p>
Op het moment van schrijven zijn de SMP en 64-bit kernels niet goed getest.
Tests en feedback zijn altijd welkom.
</p>
<p>
De ondersteunde hardware is afhankelijk van de kernel. Je kan een lijst van
ondersteunde platformen vinden op de <uri
link="http://pateam.esiee.fr/list.html">ESIEE website</uri>.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Booten</title>
<body>
<note>
De bootprocedure is hier in het kort uitgelegd. Indien je meer help nodig hebt
bij het booten van je HPPA (bv. via seri&#235;le lijn), gelieve dan de HOWTO op
<uri>http://tldp.org/HOWTO/PA-RISC-Linux-Boot-HOWTO/index.html</uri> (Engels)
te lezen.
</note>
<p>
Gedurende het bootproces zal je een bericht krijgen gelijkaardig aan het
volgende:
</p>
<pre>
Searching for Potential Boot Devices.
To terminate search, press and hold the ESCAPE key.
</pre>
<p>
Wanneer dit bericht verschijnt, hou dan de Escape-toets ingedrukt totdat een
optiemenu verschijnt. Dit kan een tijdje duren, wees geduldig. Per default moet
je de BOOT_ADMIN console nemen.
</p>
<note>
Op sommige 715s en 725s kan een optiemenu verschijnlijk. Je kan daar de
BOOT_ADMIN console kiezen door <c>a)   Enter Boot Administration mode</c> te
nemen en <c>a&lt;enter&gt;</c> te typen.
</note>
<p>
Eenmaal je de '<c>&gt;</c>' prompt verkregen hebt zit je in BOOT_ADMIN mode.
</p>

</body>
<section>
<title>Van de LiveCD booten</title>
<body>
<p>
Indien je de SCSI ID van je CD-ROM drive niet kent zal je PA-RISC station dit
voor jou opzoeken indien je het <c>search</c> commando ingeeft.
</p>
<pre>
> <c>search</c>

Searching for Devices with Bootable Media.
To terminate search, please press and hold the ESCAPE key.
</pre>
<p>
Je PA-RISC station zal nu alle beschikbare bootable media tonen. Hieronder
volgt een voorbeeld van de uitvoer:
</p>
<pre>
Device Selection      Device Path             Device Type and Utilities
---------------------------------------------------------------------------

P0                    scsi.5.0                TOSHIBA CD-ROM XM-3301TA
                                                  IPL
P1                    scsi.2.0                COMPAQ ST32550N
                                                  IPL
P2                    lan.0010a7-06d1b6.3.6   server
                                                  IPL


&gt;
</pre>
<p>
Dit voorbeeld is uiteraard afhankelijk van de hardwareconfiguratie. 
</p>
<p>
Nu dat je weet van welk apparaat je moet booten, gaan we booten.
</p>
<pre>
&gt; <c>boot scsi.5.0 ipl</c>

Trying scsi.5.0
</pre>
<p>
De <e>ipl</e> (Initial Program Loader) sleutelwoorden vertellen aan <i>palo</i>
(PA-RISC boot LOader) om in interactieve mode te gaan. Dit zal je toelaten om
bijvoorbeeld de kernel bootparameters aan te passen.
</p>
</body>
</section>
<section>
<title>Booten met lifimage (Net Boot)</title>
<body>
<p>
Lifimage is nog niet beschikbaar. Je kan Debian's lifimage gebruiken om een
shell te verkrijgen maar deze lifimage is niet uitgerust met het
bunzip2-commando, waardoor je de stages manueel moet decomprimeren alvorens je
begint. Je zal deze tevens op een FTP of HTTP server moeten plaatsen om deze te
kunnen binnenhalen met <c>wget</c> gedurende de installatie.
</p>
<warn>
De kernelversie van lifimage moet groter zijn dan of gelijk aan 2.4.20 want
anders zal je systeem <e>helemaal niet werken</e>.
</warn>
</body>
</section>
<section>
<title>Na het booten: interageren met PALO, de PA-RISC Linux Loader</title>
<body>
<p>
Wanneer het bootproces succesvol is be&#235;indigd zal <i>palo</i> starten in
interactieve modus.
</p>
<pre>
Boot path initialized.
Attempting to load IPL.


Hard booted.
palo ipl 1.2 root@b180l.da-kot Tue Apr  8 12:43:07 CEST 2003

Boot image contains:
    0/vmlinux32 4028015 bytes @ 0x1520000
    0/ramdisk 834748 bytes @ 0xf800
Current command line:
0/vmlinux initrd=initrd.gz TERM=linux console=tty root=/dev/ram0 init=/linuxrc
  0: 0/vmlinux
  1: initrd=initrd.gz
  2: TERM=linux
  3: console=tty
  4: root=/dev/ram0
  5: init=/linuxrc

Edit which field?
(or 'b' to boot with this command line)? 0
</pre>
<p>
Deze parameters zijn goed voor de meeste situaties.
</p>
<p>
Indien je extra mogelijkheden wenst moet je de nodige parameters aan het eind
van de commandoregel toevoegen. Om een parameter toe te voegen ga je naar het
laatste veld, voeg je een spatie toe en type je je parameter in. De enige
mogelijke parameter die op dit moment ondersteunt is is <c>cdcache</c> welke de
LiveCD vraagt om zich in RAM te laden, zodat je de CD kan unmounten.
</p>
<pre>
(or 'b' to boot with this command line)? <i>5</i>
init=/linuxrc <i>cdcache</i>
</pre>
<p>
Nu dat je je kernel bootparameters al dan niet aangepast hebt kan je ze booten.
</p>
<pre>
(or 'b' to boot with this command line)? <i>b</i>
</pre>
</body>
</section>


</chapter>
<chapter>
<title>Gentoo installeren</title>
<section>
<body>
<p>
Een snel overzicht van het installatieproces: je zal partities aanmaken, ze
initialiseren met bestandssystemen en daarna zal je een stage1, stage2 of
stage3 tarball erop installeren. Indien je stage1 of stage2 gebruikt zal je de
nodige stappen ondernemen om deze naar een stage3-equivalent systeem om te
vormen. Eenmaal daar toegekomen ga je je systeem configureren
(configuratiebestanden aanpassen, bootloader installeren etc). Eenmaal gereboot
zal je een volledig werkend Gentoo Linux systeem hebben. Afhankelijk van welke
stage je gekozen hebt, staan hieronder de stappen die ondernomen zullen worden:
</p>

<table>
<tr><th>stage tarball</th><th>installatievereisten</th></tr>
<tr><ti>1</ti><ti>partitie/bestandssysteem setup, emerge rsync, bootstrap, emerge system, emerge linux broncode, finale configuratie</ti></tr>
<tr><ti>2</ti><ti>partitie/bestandssysteem setup, emerge rsync, emerge system, emerge linux broncode, finale configuratie</ti></tr>
<tr><ti>3</ti><ti>partitie/bestandssysteem setup, emerge rsync (optioneel), finale configuratie</ti></tr>
</table>
<p>
De eerste stap is het laden van de nodige modules. De meeste standaard PA-RISC
hardware zit in de kernel, dus mogelijk zal je geen extra modules meer moeten
laden. Om een lijst te zien van beschikbare netwerkkaartmodules, type <c>ls
/lib/modules/*/kernel/drivers/net/*</c>.  Om een specifieke module te laden,
type:
</p>

<pre>
# <c>modprobe pcnet32</c>
	<comment>(vervang pcnet32 met jouw netwerkkaartmodule)</comment>
</pre>

<p>
Indien je bepaalde SCSI-hardware wil aanspreken die niet gedetecteerd werd
gedurende het PCI autodetectieproces, dan moet je de nodige modules laden van
<path>/lib/modules</path>, opnieuw via <c>modprobe</c>:
</p>

<pre>
# <c>modprobe aic7xxx</c>
# <c>modprobe sr_mod</c>
# <c>modprobe sd_mod</c>
</pre>

<p>
In het bovenstaande voorbeeld wordt de <c>aic7xxx</c> SCSI driver geladen (via
<c>modprobe</c>) alsook de SCSI CD-ROM (<c>sr_mod</c>) en HD (<c>sd_mod</c>)
ondersteuning.
</p>

<note>
<c>hdparm</c> wordt op de Gentoo CD meegeleverd. Indien je je HDs wil tweaken
is het nu een goed moment om dat te doen. Op relatief moderne hardware zou
<c>hdparm -d 1 /dev/hdx</c> veilig moeten zijn. Je kan <c>hdparm -v
/dev/hdx</c> gebruiken om je HD's instellingen te bekijken, en <c>hdparm -t
/dev/hdx</c> om je HD's performantie te controleren.
</note>
</body>
</section>

<section>
<title>Netwerk configureren voor de installatie</title>
<body>

<p>
De Gentoo installatie laat je toe om je installatie met een werkend netwerk te
doen communiceren via <c>ssh</c>, <c>scp</c>, <c>wget</c>, ... zoals vereist
voordat je het installatieproces begint. Zelfs indien je deze zaken niet direct
nodig hebt is het aangeraden nu je netwerk te configureren. Eenmaal ingesteld
zal Portage je netwerk kunnen bereiken vanuit de chrootomgeving (wat vereist is
voor het installeren van Gentoo Linux).
</p>
</body>
</section>

<section>
<title>Manuele DHCP configuratie</title>
<body>
<p>
Netwerkconfiguratie is eenvoudig met DHCP. Indien je ISP geen DHCP gebruikt, ga
dan verder met de statische configuratie sectie.
</p>
<pre caption="Netwerk configuratie met DHCP">
# <c>dhcpcd eth0</c>
</pre>
<note>
Sommige ISPs vereisen van je om een hostname mee te geven. Om dat te doen moet
je de <c>-h mijnhostnaam</c> parameters meegeven aan het bovenstaande
<c>dhcpcd</c> commando.
</note>
<p>
Indien je <i>dhcpConfig</i> waarschuwingen krijgt moet je niet panikeren: de
waarschuwingein zijn hoogstwaarschijnlijk cosmetisch. Ga verder met het netwerk
testen.
</p>
</body>
</section>
<section>
<title>Manuele Statische configuratie</title>
<body>
<p>
Je moet net genoeg netwerkondersteuning activeren om de broncodes te
downloaden, alsook de vereiste localhost interface. Type de volgende commando's
in waarin je $IFACE met je netwerkinterface vervangt (typisch <c>eth0</c>),
$IPNUM met je IP-adres, $BCAST met je broadcast adres, en $NMASK met je
netwerkmasker. Voor het <c>route</c> commando vervang je $GTWAY met je default
gateway.
</p>
<pre>
# <c>/sbin/ifconfig $IFACE $IPNUM broadcast $BCAST netmask $NMASK</c>
# <c>/sbin/route add -net default gw $GTWAY netmask 0.0.0.0 metric 1</c>
</pre>
<p>
Het is nu tijd om het <path>/etc/resolv.conf</path> bestand aan te maken zodat
naamresolutie (Web/FTP sites vinden via naam ipv IP-adres) werkt.
</p>

<note>
Om dit moment is de enige beschikbare editor <c>nano</c>, een kleine en zeer
eenvoudig te gebruiken editor. Gebruik <c>nano</c> met de <c>-w</c> parameter
om automatische regelonderbreking uit te schakelen.
</note>

<p>
Hieronder vind je een voorbeeld die je kan gebruiken om je
<path>/etc/resolv.conf</path> aan te maken:
</p>
<pre caption="/etc/resolv.conf voorbeeld">
domain mydomain.com
nameserver 10.0.0.1
nameserver 10.0.0.2
</pre>
<p>
Vervang <c>10.0.0.1</c> en <c>10.0.0.2</c> met de IP-adressen van je primaire
en secundaire DNS servers.
</p>
</body>
</section>

<section>
<title>Proxy Configuratie</title>
<body>
<p>
Indien je achter een proxy zit is het nodig om je proxy te configureren
alvorens je verder gaat. Je moet enkele variabelen exporteren zodat de
proxy-ondersteuning werkt.
</p>
<pre>
# <c>export http_proxy="machine.company.com:1234" </c>
# <c>export ftp_proxy="$http_proxy" </c>
# <c>export RSYNC_PROXY="$http_proxy" </c>
</pre>
</body>
</section>

<section>
<title>Netwerk testen</title>
<body>
<p>
Nu dat je netwerk geconfigureerd is zal het <c>/sbin/ifconfig -a</c> commando
tonen dat je netwerkkaart klaar is en werkt (zoek naar de <e>UP</e> en
<e>RUNNING</e> woorden in de uitvoer):
</p>
<pre caption="/sbin/ifconfig voor een werkende netwerkkaart">
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11
</pre>
</body>
</section>

<section>
<title>Het netwerk is klaar</title>
<body>
<p>
Je netwerk moet nu klaar zijn voor gebruik. Je hebt nu de mogelijkheid om de
bijgeleverde <c>ssh</c>, <c>scp</c> en <c>wget</c> commando's te gebruiken om
naar andere machines te connecteren op je LAN of op het Internet.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Partities initialiseren en het systeem compileren</title>
<body>
<note>
Indien je op dit moment meer dan 1 console nodig hebt, vergeet dan niet om een
root-paswoord in te stellen. Verder zijn er verschillende programma's
beschikbaar op de LiveCD, zoals <c>screen</c>, <c>lynx</c> en <c>irssi</c>.
</note>
</body>
<section>
<title>Partities opstellen</title>
<body>
<p>
Voer <c>fdisk</c> uit om de partities die je wil aan te maken.
</p>
<pre>
# <c>fdisk /dev/sdX</c>
<codenote>vervang sdX met de disk waarop je de partities wil aanmaken (bv sda,
hda, ...)</codenote>
</pre>
<warn>
PALO vereist een speciale partitie om correct te functioneren. Je moet een
partitie van minstens 16 MiB aanmaken aan het begin van je schijf. Deze
partitie moet van het type <e>f0 (Linux/PA-RISC boot)</e> zijn.
</warn>
<impo>
Indien je schijf groter is dan 2 GiB moet je een bootpartitie maken binnenin de
eerste 2 GiB van je schijf. PALO kan geen kernels die verder dan de 2 GiB
limiet liggen laden.
</impo>
<p>
Nadat je je partities aangemaakt hebt en geinitialiseerd met je favoriete
bestandssysteem ben je klaar om met de leuke zaken te beginnen. In het volgende
voorbeeld is de rootpartitie op <path>/dev/sda3</path>, de swappartitie op
<path>/dev/sda4</path> en werken we met een stage1 installatie (welke
gedownload is van een Gentoo mirror).
</p>
<pre>
# <c>swapon /dev/sda4</c>
# <c>mount -n /dev/sda3 /mnt/gentoo</c>
</pre>
<note>
Na het mounten van je rootpartitie onder <path>/mnt/gentoo</path> is het tijd
om de andere partities te mounten (bv. <path>/boot, /usr, /var</path>).
</note>
<pre>
# <c>cd /mnt/gentoo</c>
# <c>wget http://www.ibiblio.org/pub/Linux/distributions/gentoo/experimental/hppa/stages/stage1-hppa1.1-1.4_eenofandereversie.tar.bz2</c>
# <c>tar xpjvf stage1-hppa1.1-1.4_eenofandereversie.tar.bz2</c>
# <c>cp /etc/resolv.conf etc/resolv.conf</c>
# <c>mount -o bind /proc proc</c>
# <c>chroot .</c> <codenote>Je zit nu in je systeem</codenote>
# <c>env-update</c> <codenote>Dit zal je omgevingsvariabelen instellen</codenote>
<codenote>Je mag waarschuwingen aangaande niet-beschikbare bestanden negeren</codenote>
# <c>source /etc/profile</c>
# <c>nano -w /etc/make.conf</c> <codenote>Tweak je optimalisatieinstellingen en stel je mirrors hier in</codenote>
# <c>emerge sync</c> <codenote>Dit zal de Portage structuur binnenhalen welke ongeveer 10 MiB groot is</codenote>
</pre>
<p>
Indien je van een stage1 start moet je het bootstrap proces starten.
</p>
<pre>
# <c>cd /usr/portage</c>
# <c>./scripts/bootstrap.sh</c>
</pre>
<p>
Dit brengt je op een stage2-equivalent systeem, van waaruit je de rest van je
systeem compileert:
</p>
<pre>
# <c>export CONFIG_PROTECT="-*"</c>
# <c>emerge system</c>
</pre>
<p>
Je Gentoo installatie is nu op een stage3-equivalent stadium. Indien je
begonnen bent van een stage3 is het mogelijk dat er nieuwe pakketten
beschikbaar zijn. Om deze te updaten doe je het volgende:
</p>
<pre>
# <c>unset CONFIG_PROTECT</c>
# <c>emerge -uD world</c>
</pre>
<p>
Je basissysteem is nu up to date.
</p>
</body>
</section>
</chapter>


<chapter>
<title>Een kernel bouwen</title>
<section>
<title>De huidige HP-PA broncode binnenhalen</title>
<body>
<p>
Er is een speciaal gepatchede kernelbroncode voor HP-PA machines beschikbaar in
Gentoo Linux. Om deze te installeren doe je <c>emerge hppa-sources</c>.
</p>
<pre>
# <c>emerge hppa-sources</c>
</pre>
<p>
Het is mogelijk dat je nu je kernelbroncode nog wil patchen voor SGI's XFS
bestandssysteem, Usagi IPv6 ondersteuning edm.
</p>
<note>
Geen enkel van deze patches zijn op dit moment getest, dus gebruik ze op eigen
risico.
</note>
<p>
Eenmaal de broncodebestanden gedownload zijn en uitgepakt, moet je je kernel
configureren.
</p>
</body>
</section>
<section>
<title>Kernel configureren en compileren</title>
<body>
<p>
Hier vind je hoe je je kernel configureert en compileert.
</p>
<pre>
# <c>cd /usr/src/linux</c>
# <c>make menuconfig</c>
# <c>make vmlinux modules modules_install</c>
# <c>cp vmlinux System.map /boot</c>
</pre>
<warn>
Om een werkende kernel te hebben moet je de correcte opties in je configuratie
selecteren. Sommige van hen moeten <e>in de kernel zitten en niet als
modules</e>. Je moet <i>Code maturity level options --> Prompt for development
and/or incomplete code/drivers</i> selecteren om de meeste van deze opties te
kunnen zien. Onder <i>File systems</i> selecteer je <i>Device File System</i>
(je moet <i>/dev/pts file system support</i> niet selecteren). Je moet tevens
het <i>Virtual Memory File system</i> selecteren.
</warn>
<impo>
Indien je een HIL muis of keyboard hebt mag je niet vergeten hiervoor
ondersteuning mee te compileren. Hiervoor moet je <i>Keyboard support</i>,
<i>Mouse support</i> en <i>Event interface support</i> in <i>Input cure
support</i> selecteren.
</impo>
<impo>
In de sectie <i>HIL support</i> is het aangeraden om, indien je geen muis op je
HIL poort hebt, <i>HIL Keyboard (basic) support</i> te selecteren.
</impo>
<impo>
Overigens is volledige ondersteuning mogelijk indien je de opties <i>HP System
Device Controller i8042 Support</i> en <i>HIL MLC Support</i>, <i>HIL Keyboard
(full) support</i> en <i>HIL Mouse &amp; Pointer support</i> selecteert. Maar
in dit geval mag je <e>niet</e> de <i>HIL Keyboard (basic) support</i>
selecteren.
</impo>
</body>
</section>
<section>
<title>PALO, de bootloader installeren</title>

<body>
<p>
Op het PA-RISC platform heet de bootloader <i>palo</i>. Je kan het
configuratiebestand vinden in <e>/etc/palo.conf</e>. Hieronder volgt een
voorbeeld configuratie: 
</p>
<pre>
--commandline=2/vmlinux root=/dev/sdb2 HOME=/
--recoverykernel=/vmlinux.old
--init-partitioned=/dev/sdb
</pre>
<p>
De eerste regel vertelt aan palo de locatie van de kernel en welke
bootparameters hij moet gebruiken. <c>2/vmlinux</c> wil zeggen dat de kernel,
genaamd <path>/vmlinux</path>, zich bevindt op de 2e partitie.
</p>
<impo>
Het pad naar de kernel is relatief tov de root <e>van de partitie</e>, en niet
van de root van je bestandssysteem.
</impo>
<p>
De tweede regel vertelt welke herstelkernel er gebruikt moet worden. Indien dit
je eerste installatie is en je hebt geen herstelkernel moet je deze regel
wegcommentari&#235;ren.
</p>
<p>
De derde regel vertelt op welke schijf <i>palo</i> zich bevindt. Wanneer de
configuratie afgewerkt is moet je enkel <c>palo</c> uitvoeren.
</p>
<pre>
# <c>palo</c>
</pre>

</body>
</section>
</chapter> 
<chapter>
<title>Finale Configuratie</title>
<section>
<title>Tijdzone</title>
<body>
<note>
Het is zeer belangrijk dat deze stap uitgevoerd wordt. Indien je je localtime
niet correct instelt zal je grote tijdsverschillen tegenkomen op je systeem.
</note>

<p>
Op dit moment heb je een stage3-equivalent systeem dat klaar is voor de laatste
configuratie. Je start deze door de tijdzone in te stellen. Hierdoor zorg je
ervoor dat de gebruikers een correcte <c>uname -a</c> output krijgen.
</p>
<p>
Zoek naar je tijdzone (of UTC indien je Universal Time Constant wil gebruiken)
in <path>/usr/share/zoneinfo</path>. Maak daarna een symbolische link door het
volgende te typen: 
</p><pre>
# <c>ln -sf /usr/share/zoneinfo/pad/naar/timezonefile /etc/localtime</c>
</pre>
<p>
Je wil misschien ook <path>/etc/rc.conf</path> bekijken om er zeker van te zijn
dat je tijdzone instellingen correct zijn.
</p>
</body>
</section>
<section>
<title>Systeem Logger en Cron daemon</title>
<body>
<p>
Je moet nu een systeem logger kiezen. Gentoo Linux biedt je <i>sysklogd</i>,
welke de traditionele systeem logger is. Ook kan je <i>msyslog</i>,
<i>syslog-ng</i> en <i>metalog</i> gebruiken. Meer geavanceerde gebruikers
gebruiken tegenwoordig steeds minder vaak <i>sysklogd</i> wegens de slechte
performantie, en dit ten voordele van vooral <i>metalog</i>. Om de systeem
logger naar keuze te installeren type je <e>&#233;&#233;n</e> van de volgende commando's:
</p>

<pre>
# <c>emerge app-admin/sysklogd</c>
# <c>rc-update add sysklogd default</c>
<comment>of</comment>
# <c>emerge app-admin/syslog-ng</c>
# <c>rc-update add syslog-ng default</c>
<comment>of</comment>
# <c>emerge app-admin/metalog</c>
# <c>rc-update add metalog default</c>
<comment>of</comment>
# <c>emerge app-admin/msyslog</c>
# <c>rc-update add msyslog default</c>
</pre>
<impo>
Metalog stuurt zijn gegevens in blokken naar de schijf, dus berichten worden
niet direct in de systeemlogs geplaatst. Indien je bezig bent met het debuggen
van een daemon, dan is dit gedrag niet gewenst. Je kan metalog een USR1 signaal
zenden om dit bufferen tijdelijk uit te schakelen (waardoor <c>tail -f
<path>/var/log/everything/current</path></c> in real time zal werken) en een
USR2 signaal om het bufferen weer te activeren.
</impo>
<p>
Je kan nu optioneel kiezen om een cronpakket te installeren. De huidige
beschikbare cronpakketten zijn: <i>dcron</i>, <i>fcron</i> en <i>vcron</i>.
Indien je niet weet welkeen te kiezen, neem dan <i>vcron</i>. Voer <e>&#233;&#233;n</e>
van de volgende commando's uit om het cronpakket naar keuze te installeren:
</p>
<pre>
# <c>emerge sys-apps/dcron</c>
# <c>crontab /etc/crontab</c>
<comment>of</comment>
# <c>emerge sys-apps/fcron</c>
# <c>crontab /etc/crontab</c>
<comment>of</comment>
# <c>emerge sys-apps/vcron</c>
<comment>Vergeet niet je *cron aan de juiste initlevel toe te voegen:</comment>
# <c>rc-update add *cron default </c>
</pre>
<p>
Voor meer informatie over hoe cron onder Gentoo Linux werkt, zie <uri
link="http://lists.gentoo.org/pipermail/gentoo-announce/2002-April/000151.html">deze
announcement</uri>.
</p>
<p>
Voor meer informatie over hoe programma's en daemons tijdens het booten
opstarten, zie de <uri link="/doc/nl/rc-scripts.xml">rc-script guide</uri>.
</p>
</body>
</section>
<section>
<title>/etc/fstab</title>
<body>
<p>
Je Gentoo Linux systeem is bijna gebruiksklaar. Al wat je nu moet doen is
enkele belangrijke configuratiebestanden aanpassen en de PALO boot loader
installeren. Het eerste bestand dat je moet aanpassen is
<path>/etc/fstab</path>. Herinner je eraan om <c>notail</c> te gebruiken voor
je bootpartitie indien je er ReiserFS voor gebruikt. Zorg ervoor dat je
<c>ext2</c>, <c>ext3</c> of <c>reiserfs</c> plaatst als bestandssysteem waar
nodig.
</p>
<p>
Je <path>/etc/fstab</path> moet er ongeveer als volgt uitzien, maar zorg er
natuurlijk voor dat je "BOOT", "ROOT" en "SWAP" vervangt met de werkelijke
blokapparaten die je gebruikt (zoals <c>hda1</c>, etc).
</p>
<pre>
<comment>
# /etc/fstab: statische bestandssysteeminformatie.
#
# noatime schakelt het gebruik van atimes uit voor betere performantie
# (atime's zijn normaal gezien niet nodig). notail verbetert de 
# performantie van reiserfs-bestandssystemen (ten nadele van schijfruimte).
# Het is veilig om de noatime opties te laten vallen indien je vrij tussen
# notail en tail wilt wisselen.

# &lt;fs&gt;           &lt;mountpoint&gt;   &lt;type&gt;   &lt;opts&gt;   &lt;dump/pass&gt;

# NOTE: Als je boot-partitie ReiserFS is, vergeet notail niet !!!
</comment>
/dev/BOOT           /boot       ext2     noauto,noatime  1 2
/dev/ROOT           /           ext3     noatime         0 1
/dev/SWAP           none        swap     sw              0 0
/dev/cdroms/cdrom0  /mnt/cdrom  iso9660  noauto,ro       0 0
proc                /proc       proc     defaults        0 0
</pre>

<warn>
Merk op dat <path>/boot</path> niet gemount is tijdens de normale werking van
Gentoo Linux. Dit is om de data in <path>/boot</path> te beschermen tegen
corruptie. Indien je toegang nodig hebt tot <path>/boot</path>, mount deze!
</warn>

</body>
</section>
<section>
<title>rootpaswoord instellen</title>
<body>
<p>
Alvorens je het vergeet stel je best nu je rootpaswoord in:
</p>
<pre>
# <c>passwd</c>
</pre>
</body>
</section>
<section>
<title>/etc/hostname</title>
<body>
<p>
Pas dit bestand aan zodat deze je volledige domeinnaam bevat, zoals
<c>mijnmachine.mijndomein.com</c>.
</p>
<pre>
# <c>echo mijnmachine.mijndomein.com > /etc/hostname</c>
</pre>
</body>
</section>

<section>
<title>/etc/hosts</title>
<body>
<p>
Dit bestand bevat een lijst van IP-adressen en hun bijhorende hostnames. Het
wordt gebruikt door het systeem om de namen van hosts die niet in de
nameservers zitten om te vormen naar IP-adressen. Hieronder vind je een
voorbeeld:
</p><pre>
127.0.0.1      localhost
<comment># de volgende regel bevat het IP van je pc op de lokale lan en zijn hostname</comment>
192.168.1.1    mijnmachine.mijndomein.com	mymachine
</pre>

<note>
Indien je op een DHCP netwerk zit is het misschien handig om <i>localhost</i>
in te stellen op je machine's werkelijke hostname. Dit zal GNOME en andere
programma's helpen in het vertalen van de hostname naar een IP.
</note>

</body>
</section>

<section>
<title>Finale netwerkconfiguratie</title>
<body>
<p>
Voeg de namen van de kernelmodules die je automatisch wil laden toe aan
<path>/etc/modules.autoload</path> (je kan ook opties meegeven op de
desbetreffende regels). Wanneer Gentoo Linux boot, zullen deze modules
automatisch geladen worden. Zeer belangrijk is je netwerkkaartmodule, indien je
tenminste deze als module gecompileerd hebt:
</p>
<pre caption="/etc/modules.autoload">
3c59x
</pre>
<p>
Pas <path>/etc/conf.d/net</path> aan zodat je netwerk tijdens het booten direct
goed geconfigureerd is:
</p>
<pre>
# <c>nano -w /etc/conf.d/net</c>
# <c>rc-update add net.eth0 default</c>
</pre>
<p>
Indien je meerdere netwerkkaarten hebt moet je extra
<path>net.eth<comment>x</comment></path> scripts aanmaken voor elke
netwerkkaart (<comment>x</comment> = 1, 2, ...):
</p>
<pre caption="Meerdere netwerkinterfaces">
# <c>cd /etc/init.d</c>
# <c>cp net.eth0 net.eth<comment>x</comment></c>
# <c>rc-update add net.eth<comment>x</comment> default</c>
</pre>

</body>
</section>

<section>
<title>Basisinstellingen instellen (inclusief keyboard instelling)</title>
<body>
<pre caption="basis configuratie">
# <c>nano -w /etc/rc.conf</c>
</pre>
<p>
Volg de aanwijzingen in het bestand om de basisinstellingen te configureren.
Zorg ervoor dat <c>CLOCK</c> correct staat. Internationale keyboardgebruikers
zullen tevens de <c>KEYMAP</c> variabele willen instellen; zie
<path>/usr/share/keymaps</path> voor een lijst van beschikbare keymappen.
</p>
</body>
</section>

</chapter>
<chapter>
<title>Grote finale!</title>
<section>
<body>
<p>
Proficiat! Je hebt nu net Gentoo Linux ge&#239;nstalleerd op je HPPA machine. We
verwelkomen alle feedback en suggesties die ons kunnen helpen in het verbeteren
van de HPPA port. Bedankt voor de tijd te nemen om Gentoo te installeren.
</p>

<p>
Je kan nu een aantal wegen opgaan. Ofwel unmount je alles en reboot je in je
Gentoo omgeving om alle andere software te installeren, ofwel doe je dat nu je
nog in je chroot omgeving zit.
</p>
<note>
Een groot deel van dit document was gebaseerd op de Gentoo SPARC
Installatiehandleiding en de PA-RISC-Linux-Boot-HOWTO.
</note>
</body>
</section>
</chapter>

</guide>
