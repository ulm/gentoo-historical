<?xml version='1.0' encoding="iso-8859-1"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/nl/alsa-guide.xml,v 1.14 2004/04/13 14:07:51 rip7 Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<!-- 
  Sync: 1.31
-->

<guide link = "/doc/nl/alsa-guide.xml">
<title>Gentoo Linux ALSA Gebruikersgids</title>
<author title="Author"><mail link="zu@pandora.be">
	Vincent Verleye</mail>
</author>
<author title="Author">
<mail link="g2boojum@gentoo.org">Grant Goodyear</mail>
</author>
<author title="Author"><mail link="agenkin@gentoo.org">Arcady Genkin</mail>
</author>
<author title="Editor"><!-- zhen@gentoo.org -->
	John P. Davis
</author>
<author title="Editor">
<mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Editor">
<mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Editor">
<mail link="blubber@gentoo.org">Tiemo Kieft</mail>
</author>
<author title="Editor">
<mail link="erwin@gentoo.org">Erwin</mail>
</author>
<author title="Translator"><mail link="zu@pandora.be">Vincent Verleye</mail>
</author>
<author title="Translator"><mail link="blubber@gentoo.org">Tiemo Kieft</mail>
</author>
<author title="Translator"><mail link="rip7@gentoo.org">Steven Lecompte</mail>
</author>

<abstract>
Deze gebruikersgids zal je tonen hoe je het Advanced Linux Sound Architecture 
(ALSA) installeert en configureert in Gentoo Linux. Ter aanvulling van de 
Gentoo Linux Desktop Configuratie Handleiding, moet deze gebruikersgids je 
meer informatie geven omtrend dit onderwerp.
</abstract>
<license/>

<version>1.4.2</version>
<date>13 April 2004</date>

<chapter>
<title>Introductie</title>
<section>
	<title>Wat is ALSA?</title>
<body>

<p>
De Advanced Linux Sound Architecture (ALSA) is een project om het Linux 
geluidssysteem te verbeteren door grote delen van de code te herschrijven.
ALSA heeft het Open-Sound-System (OSS) als het standaard sub geluids-systeem 
vervangen, maar het kan gebruikt worden met ofwel de 2.4 of de 2.6 kernels.
</p>

<p>
ALSA biedt audio en MIDI functionaliteit voor Linux.
</p>
 
<p>
Zoals te vinden is op <uri>http://www.alsa-project.org</uri>, biedt ALSA de 
volgende functionaliteit aan:
</p>

<ul>
  <li> Efficiënte ondersteuning van alle types van audio kaarten, van 
goedkope geluidskaarten tot professionele multi-kanaal geluidskaarten.
  </li>
  <li> Volledig modulaire audio drivers.</li>
  <li> SMP en thread-safe ontwerp.</li>
  <li> User space bibliotheek (alsa-lib) voor het vereenvoudigen van het 
	programmeren van applicaties en om een hoger niveau te bieden van 
	level functionaliteit.
  </li>
  <li> Ondersteuning voor het oudere OSS API, met binary compatibiliteit 
	voor de meeste OSS programma's.
  </li> 
</ul>
<p>
Er zijn echter nog een aantal noemenswaardige dingen die ALSA speciaal maken,
zoals ondersteuning voor het Full Duplex afspelen en opnemen,
ondersteuning voor meerdere geluidskaarten, hardware mixen van streams,
uitgebreide mixer mogelijkheden (voor de ondersteuning
van de functies van nieuwe geluidskaarten), ...
</p>
</body>

</section>
<section>
	<title>Waarom ALSA?</title>
<body>
<p>
Het kan zijn dat je geluisdskaart ondersteund wordt door modules die voorhanden
zijn in de 2.4 kernel (Deze zijn ook beschikbaar in de 2.6 kernel onder de
'Open Sound System (DEPRECATED)' optie). verder kan je ook nog het commerciële
OSS/4Front geluids stuurprogramma systeem gebruiken. Als je één van die systemen wil 
gebruiken, dan zou je eens door <uri link="http://www.tldp.org/HOWTO/Sound-HOWTO/index.html">Linux Sound HOWTO</uri>
kunnen lezen.
</p> 
<p>
Maar, die OSS/4Front stuurprogramma's hebben enkele beperkingen. Het commercieel aspect
is er één van. ALSA is een poging om deze beperkingen te omzeilen en dit te doen
op een Open Source manier. ALSA is een geluids stuurprogramma systeem dat
volledig GPL en LGPL is, en het biedt een professioneel kwaliteits systeem voor
het opnemen, afspelen en MIDI sequencing.
</p> 
</body>

</section>
<section>
	<title>Welke kaarten worden ondersteund door ALSA?</title>
<body>
<p>
ALSA probeert zoveel mogelijk (nieuwe) kaarten te ondersteunen door het
aanbieden van open-source stuurprogramma's. Sommige fabrikanten leveren echter
alleen maar stuurprogramma's in binaire vorm.
</p>
<p>Om te weten of jouw geluidskaart ondersteund wordt, kun je hier een Soundcard
Matrix vinden met ondersteunde en niet-ondersteunde kaarten: 
<uri>http://www.alsa-project.org/alsa-doc/</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Installatie</title>
<section>
<title>Gentoo USE vlaggen</title>
<body>

<p>
Om programma's met ALSA ondersteuning te compileren moet je je ervan vergewissen
dat je <e>alsa</e> in je use variabele hebt staan. Echter, sommige 
programma's ondersteunen ALSA niet en hebben OSS nodig, ALSA heeft OSS emulatie
als je <e>oss</e> in je use variabele hebt staan voor je start.
</p>

</body>
</section>

<section>
	<title>Kernel modules</title>
<body>

<p>	 
Wanneer je gebruik maakt van de 2.4 kernels, zal je de ALSA stuurprogramma's
apart van de kernel moeten compileren.  Indien je daarentegen gebruik maakt van
de 2.6 kernels, heb je de optie om de ALSA stuurprogramma's in te sluiten in
de kernel of die te gebruiken die geleverd worden bij het <c>alsa-driver</c>
pakket.
</p>

<p>
Eerst moeten we ervoor zorgen dat onze kernel configuratie geschikt is voor het
gebruik met ALSA. Het enige wat je nodig hebt in je kernel configuratie is de
Sound Card Support, die moet gebouwd worden als module (M). Dit zal de module
<path>soundcore.o</path> bouwen.
</p>

<note>
Het is mogelijk dat dit kan werken als je de Sound Card Support rechtstreeks in
de kernel (Y) bouwt in plaats van het als module (M) te bouwen. De officiele
ALSA documentatie echter, raadt aan deze als module te bouwen, sinds ALSA zal
proberen deze te laden.
</note>

<p>
Als je al een werkende kernel configuratie hebt, zorg er dan voor dat je alle
geluids stuurprogramma's uit de kernel configuratie verwijdert (behalve Sound Card Support).
Als je dit wilt doen zonder te moeten heropstarten, zou je dit kunnen doen:
</p>

<pre caption="Kernel configuratie">
# <i>cd /usr/src/linux</i>
# <i>cp .config ~/</i>
# <i>make mrproper</i>
# <i>cp ~/.config .</i>
# <i>make menuconfig</i>
</pre>

<p>
Selecteer nu <e>Sound Card Support</e> als een module (M) en deselecteer alle 
andere geluids stuurprogramma's. Indien je de 2.6 gebruikt met de ALSA modules
van de kernel, selecteer dan de stuurprogramma's voor je tweede geluids kaart
ook (bekijk <uri link="#doc_chap2_sect3">ALSA modules</uri> als je hulp nodig 
hebt om de juiste stuurprogramma's te kiezen).
Verlaat het menu en zeg Y als er gevraagd wordt je kernel configuratie te bewaren.
Bouw hierna de modules:
</p>

<pre caption="2.4 Kernel compilatie">
# <i>make dep clean</i>
# <i>make modules modules_install</i>
</pre>
<pre caption="2.6 Kernel compilatie">
# <i>make</i>
# <i>make modules_install</i>
</pre>

<p>
Indien je de 2.6 gecompileerd hebt met ALSA modules van de kernel, dan ga je
best verder met <uri link="#doc_chap2_sect4">Configuratie van ALSA</uri> hieronder.
</p>

<p>
Voordat je nieuwe modules worden geïnstalleerd, zal deze laatste lijn al je 
modules van de vorige configuratie verwijderen, inclusief die van een vorige
ALSA installatie.
</p>

<impo>
Dit wil zeggen dat iedere keer je een kernel hercompileert,
je <c>alsa-driver</c> ook zal moeten hercompileren.
</impo>
</body>
</section>

<section>
	<title>ALSA modules</title>
<body>

<p>
Nu is het tijd om de ALSA stuurprogramma's te installeren voor jouw
geluidskaart(en). Als je geluidskaart PCI is, dan kun je de naam en het type van
je geluidskaart vinden door te kijken naar de uitvoer van <path>/proc/pci</path>.
</p>

<pre caption="Zoeken naar geluidskaart informatie">
# <i>grep audio /proc/pci</i>
</pre>

<warn>
Als je een vorige geluid configuratie had en er zijn nog altijd niet-ALSA
geluidsmodules geladen, zorg dan <e>nu</e> voor dat ze niet meer geladen zijn.
Controleer met <c>lsmod</c> en gebruik <c>rmmod</c> om alle geluidsmodules te
verwijderen uit het actief geheugen. Als rmmod klaagt dat het onmogelijk is om
de modules te ontladen omdat ze in gebruik zijn kan je proberen om deze met
<c>/etc/init.c/alsasound stop</c> te verwijderen.
</warn>

<p>
Nu zouden we simpelweg een <c>emerge alsa-driver</c> kunnen doen, dit zou
<e>alle</e> ALSA geluids stuurprogramma's compileren en installeren.
</p>

<p>
Om echter wat tijd te sparen, kun je de <e>Module Naam</e> van je geluidskaart(en)
opzoeken op de <uri link="http://www.alsa-project.org/alsa-doc">ALSA Soundcard Matrix</uri>
door de <e>Details</e> link te volgen in de <e>Driver en Docs</e> kolom in de
rij van de chipset van jouw geluidskaart. De mijne is <c>snd-emu10k1</c>, aangezien
ik een SBlive! geluidskaart heb, met chipset <e>EMU10K1</e>. We zullen nu de
ALSA_CARDS environment waarde zetten naar deze module naam voor het emergen
(maar zonder het snd voorvoegsel), zodat emerge alleen de stuurprogramma's zal
compileren voor de kaarten die we nodig hebben.
</p>

<pre caption="Met 2.4 Kernel">
# <i>env ALSA_CARDS='emu10k1' emerge alsa-driver</i>
</pre>

<pre caption="Met 2.6 Kernel">
# <i>env ALSA_CARDS='emu10k1' emerge \>=media-sound/alsa-driver-1.0.2c</i>
</pre>
  	 
<note>
2.6 kernels hebben een alsa-stuurprogramma nodig die minstens versie 1.0.2c is of hoger.
</note>

<note>
Je kunt deze waarde ook toevoegen in <path>/etc/make.conf</path>, zodat je bij
een volgende herinstallatie van de alsa-driver gewoon <c>emerge alsa-driver</c>
kunt typen. Je kunt dit bijvoorbeeld zo doen: <c>echo 'ALSA_CARDS="emu10k1"' >> /etc/make.conf</c>
</note>

<note>
Wanneer je ALSA stuurprogramma's wilt installeren voor meer dan één geluidskaart,
kun je de ALSA_CARDS waarde zetten op een lijst van stuurprogramma's, gescheiden
door spaties: <c>env ALSA_CARDS='emu10k1 intel8x0 ens1370' emerge alsa-driver</c>
</note>

<note>Als je OSS compabiliteit wilt, zorg er dan voor dat je een emerge doet van
<c>alsa-oss</c>, dit is de ALSA/OSS compatibiliteits wrapper.
</note>

<note>
Als je van plan bent om je kernel meerdere malen opnieuw te compilen, dan is
het handig om <c>alsa-driver</c> met <c>--buildpkg</c> te emergen. Zo worden
de binaries opgeslagen, zodat je de driver niet telkens opnieuw hoeft te 
compilen. Als je je kernel opnieuw gecompiled hebt doe je simpelweg
<c>emerge --usepkg alsa-driver</c> om de binary drivers opnieuw te installeren.
Als 'depmod' -a ooit een opmerking maakt over geluid stuurprogramma's die
unreferenced symbols hebben dan zal je opnieuw het alsa-stuurpogramma pakket
moeten hercompileren van source.
</note>

<p>
Hierna, zouden de ALSA modules geïnstalleerd moeten zijn op je systeem.
</p>

</body>
</section>
<section>
	<title>Configuratie van ALSA</title>
<body>

<p>
Laten we nu beginnen met het configureren, zodat we ALSA kunnen doen werken zoals
het hoort. We zullen enkele bestanden moeten bewerken, zodat ons systeem weet
dat de vers geïnstalleerde ALSA modules aanwezig zijn.
</p>

<p>
Ten eerst heb je <c>alsa-utils</c> nodig op je computer:
</p>

<pre caption="alsa-utils emergen">
# <i>emerge alsa-utils</i>
</pre>

<p>Vervolgens moet je <path>/etc/modules.d/alsa</path> aanpassen.</p>

<warn>
Het is niet nodig om <path>/etc/modules.conf</path> met de hand te bewerken.
In plaats hiervan, bewerk altijd de bestanden in <path>/etc/modules.d</path>.
</warn>

<pre caption="In /etc/modules.d/alsa">
## and then run `modules.update' command.
## Read alsa-driver's INSTALL file in /usr/share/doc for more info.
##
##  ALSA portion
alias snd-card-0 snd-emu10k1
## alias snd-card-1 snd-intel8x0
## alias snd-card-2 snd-ens1370
##  OSS/Free portion
alias sound-slot-0 snd-card-0
## alias sound-slot-1 snd-card-1
## alias sound-slot-2 snd-card-2
##
</pre>

<note>
Als je meer dan één geluidskaart hebt, voeg dan meer <c>snd-card</c> en <c>snd-slot</c>
aliassen toe en pas de <c>cards_limit</c> waarde aan. Je kunt voorbeelden van
configuraties vinden met twee of meer geluidskaarten in <uri link="http://www.alsa-project.org/alsa-doc/alsa-howto/c1660.htm">Hoofdstuk 6</uri>
van de <uri link="http://www.alsa-project.org/alsa-doc/alsa-howto/alsa-howto.html">ALSA Howto</uri>.
</note>

<p>
Het laatste wat we moeten doen in dit bestand, bijna op het einde, 
is controleren of deze regels niet in commentaar staan:
</p>

<pre caption="Op het einde van /etc/modules.d/alsa">
alias /dev/mixer snd-mixer-oss
alias /dev/dsp snd-pcm-oss
alias /dev/midi snd-seq-oss
</pre>

<p>
Controleer nu nog eens het bestand <path>/etc/modules.d/alsa</path> en als
je er zeker van bent dat alles ok is, voer dan <c>modules-update</c> uit.
</p>

<pre caption="modules-update">
# <i>modules-update</i>
</pre>

<note>
Het uitvoeren van <c>modules-update</c> op dit punt zal de gegevens van in
<path>/etc/modules.d/alsa</path> toevoegen aan het bestand <path>/etc/modules.conf</path>
</note>

<p>
We moeten ook controleren of in /etc/devfsd.conf de alsa apparaten en permissies
correct geregistreerd staan.
</p>

<pre caption="/etc/devfsd.conf">
# ALSA/OSS stuff
# Comment/change these if you want to change the permissions on
# the audio devices
LOOKUP          snd          MODLOAD ACTION snd
LOOKUP          dsp          MODLOAD
LOOKUP          mixer        MODLOAD
LOOKUP          midi         MODLOAD
REGISTER        sound/.*     PERMISSIONS root.audio 660
REGISTER        snd/.*       PERMISSIONS root.audio 660
</pre>

<note>
Let er op dat devfsd.conf de permissies van /dev/sound op root.audio zet.
Dus, voor niet-root gebruikers is het nodig dat zij deel uitmaken van de audio
groep om audio te gebruiken.
</note>

</body>
</section>
</chapter>
<chapter>
<title>Het opstarten van ALSA</title>
<section>
	<title>Het toevoegen van ALSA aan een runlevel</title>
<body>

<p>
Een init script die alle noodzakelijke drivers voor je laad is aangeboden voor
je (ook die voor de OSS ondersteuning stuurprogramma's indien je de USE=oss flag zet).
Het eerste wat er nu moet gebeuren is dat ALSA start bij het opstarten:
<pre caption="Voeg ALSA toe bij het boot runlevel">
# <i>rc-update add alsasound boot</i>
</pre>
  	 
<warn>
Let erop dat dat het alsasound script moet toegevoegd worden bij het "boot" runlevel,
en niet het "default" runlevel.
</warn>
</p>
</body>
</section>
<section>
	<title>Starten en het regelen van de gedempte kanalen.</title>
<body>

<p>
Aangezien we Linux gebruikers zijn, willen we liever de computer niet herstarten.
Dus zullen we het alsasound script manueel starten.
</p>
<pre caption="ALSA starten">
# <i>/etc/init.d/alsasound start</i>
</pre>

<p>
ALSA is nu opgestart. Als alles gaat zoals het moet, zouden nu de ALSA modules
geladen moeten zijn, controleer dit met het commando <c>lsmod</c>. Het geluid zal
echter nog niet werken, want de kanalen zijn nog altijd gedempt.
We gebruiken hiervoor <c>amixer</c>. 
</p>

<pre caption="amixer draaien">
# <i>amixer</i>
</pre>

<!-- alsasound init script will do this for them now...
<warn>
Je zou dit niet moeten krijgen, maar <e>als</e> je een foutboodschap krijgt zoals "amixer: Mixer attach default error: No such file or directory", dan moet je
manueel <c>snd-mixer-oss</c> en <c>snd-pcm-oss</c> laden door middel van het <c>modprobe</c> commando. Je moet dit slechts eenmaal doen. Voer hierna weer amixer uit.
</warn>
</p>
<pre caption="enkel als je een fout krijgt als je amixer voor het eerst uitvoert">
# <i>modprobe snd-mixer-oss</i>
# <i>modprobe snd-pcm-oss</i>
# <i>amixer</i>
</pre>
 -->
 
<p>
Als je zover gekomen bent, kunnen we nu zowel de Master en PCM channels 
regelen zodat ze niet meer gedempt zijn. Sommige hardware vereist dat ook het
Center kanaal en het Surround kanaal ongedempt worden.
</p>

<pre>
# <i>amixer set Master 100 unmute</i>
# <i>amixer set PCM 100 unmute</i>

<comment>Alleen als het bovenstaande niet werkt</comment>

# <i>amixer set Center 100 unmute</i>
# <i>amixer set Surround 100 unmute</i>
<comment>Test het geluid</comment>
# <i>aplay $KDEDIR/share/sounds/pop.wav</i> <comment>(pop.wav maakt deel uit van KDE)</comment>
</pre>

<p>
We controleren of het geluid werkt door gebruik te maken van het commando aplay
(alsa play). Als je een pop geluidje hoort, dan werkt het geluidsysteem inderdaad.
Regel hierna de geluids niveau's naar eigen smaak; het ncurses-gebaseerde
<c>alsamixer</c> is een zeer goede manier om de kanalen te krijgen zoals je het echt wilt.
</p>
  	 
<p>
Wanneer je jouw systeem reboot, zal het <c>alsasound</c> init script je volume
instellingen correct opslaan en opnieuw instellen.
</p>
  	 
</body>
</section>
</chapter>
  	 
<chapter>
<title>MIDI Ondersteuning</title>
<section>
<title>Hardware Synthesizer</title>
<body>
  	 
<p>
Sommige geluidskaarten (SBLive, Audigy, en andere) hebben onboard MIDI synthesiszers.
Om die te kunnen gebruiken moet je eerst het <c>awesfx</c> pakket installeren.
</p>
  	 
<pre caption="awesfx installeren">
# <i>emerge awesfx</i>
</pre>
  	 
<p>
Nu moet je jouw geluids types plaatsen in <path>/usr/share/sfbank/</path>. Je
kan die waarschijnlijk van een windows stuurprogramma CD van je geluidskaart halen.
Bij de SBLive, heeft een van die bijgeleverde bestanden de naam 8MBGMSFX.SF2.
</p>

<note>
Op sommige recente CD's geleverd bij een SBLive, is het type bestand nu CT4GMSFX.SF2 genaamd.
Als dit het geval is, moet je alle 8MBGMSFX.SF2 in de voorbeelden vervangen door
CT4GMSFX.SF2
</note>

<p>
Na het overzetten van de geluids types die je wilt gebruiken, zal je die moeten
selecteren voor gebruik met <c>/usr/bin/sfxload</c>.
</p>

<pre caption="Selecteer de geluids types">
# <i>/usr/bin/sfxload /usr/share/sfbank/8MBGMSFX.SF2</i>
</pre>
  	 
<note>
Je kan dit commando in /etc/conf.d/local.start plaatsen of in het opstart script
van je geluidskaart (/etc/alsa.d/emu10k1) om zeker te zijn dat het geladen wordt
bij het opstarten.
</note>
  	 
</body>
</section>
<section>
<title>Timidity++ Virtual Synthesizer</title>
<body>
  	 
<p>
Indien je geluidskaart niet met hardware syntesizer ondersteuning komt (of je 
wil die niet gebruiken), dan kan je <c>timidity++</c> gebruiken om je een
virtuele syntesizer te geven. Start door het emergen van dit pakket:
</p>
  	 
<pre caption="Timidity++ installeren">
# <i>emerge timidity++</i>
</pre>
  	 
<p>
Een voorbeeld configuratie wordt voor jou geïnstalleerd in <path>/usr/share/timitidy/config/timidity.cfg</path>.
Indien je nog geen timidity++ configuratie instellingen hebt kan je deze gebruiken.
</p>
  	 
<pre caption="Gebruik het standaard Timidity++ configuratie bestand">
# <i>cp /usr/share/timidity/config/timidity.cfg /usr/share/timidity</i>
</pre>
  	 
<p>
Nu moet je het init script aanzetten om ervoor te zorgen dat het bij het
opstarten meestart.
</p>
  	 
<pre caption="Voeg timidity toe bij het default runlevel en start het nu">
# <i>rc-update add timidity default</i>
# <i>/etc/init.d/timidity start</i>
</pre>
  	 
<p>
Er is een configuratie bestand voor het init script dat je kan aanpassen
in <path>/etc/conf.d/timidity</path>, standaard instelling zijn voor je
gekozen.
</p>
  	 
</body>
</section>
<section>
<title>MIDI Ondersteuning Testen</title>
<body>
  	 
<p>
Je kan <c>pmidi</c> gebruiken om je MIDI configuratie te testen. Om dit
te doen moet je eerst het pakket emergen.
</p>
  	 
<pre caption="pmidi installeren">
# <i>emerge pmidi</i>
</pre>
  	 
<p>
De '-l' optie voor pmidi zal alle gedetecteerde pmidi output ports weergeven.
De '-p' kan gebruikt worden om de juiste te selecteren voor af te spelen.
</p>
  	 
<pre caption="Weergegeven poorten wanneer je gebruik maakt van een hardware syntesizer">
# <i>pmidi -l</i>
Port     Client name                       Port name
64:0     Rawmidi 0 - EMU10K1 MPU-401 (U    EMU10K1 MPU-401 (UART)
65:0     Emu10k1 WaveTable                 Emu10k1 Port 0
65:1     Emu10k1 WaveTable                 Emu10k1 Port 1
65:2     Emu10k1 WaveTable                 Emu10k1 Port 2
65:3     Emu10k1 WaveTable                 Emu10k1 Port 3
</pre>
  	 
<pre caption="Weergegevn poorten wanneer je Timidity++ gebruikt">
# <i>pmidi -l</i>
Port     Client name                       Port name
64:0     Rawmidi 0 - ES1371                ES1371
128:0     TiMidity                          TiMidity port 0
128:1     TiMidity                          TiMidity port 1
128:2     TiMidity                          TiMidity port 2
128:3     TiMidity                          TiMidity port 3
</pre>
  	 
<p>
Nu, kan je eens proberen een MIDI bestand af te spelen om te kijken
of alles werkt:
</p>
  	 
<pre caption="Een liedje afspelen">
# <i>pmidi -p 65:0 Final\ Fantasy\ 7\ -\ Aerith\'s\ Theme.mid</i>
of
# <i>pmidi -p 128:0 Final\ Fantasy\ 7\ -\ Aerith\'s\ Theme.mid</i>
</pre>
  	

</body>
</section>
</chapter>

<chapter>
<title>Nog enkele notities</title>
<section>
	<title>Wat te doen na het upgraden van de kernel...</title>
<body>

<p>
Wanneer je ooit je kernel opnieuw bouwt, of een upgrade doet naar een andere kernel, moet je de ALSA modules herbouwen.
</p>

<p>Alhoewel je misschien de <c>alsa-driver</c>, <c>alsa-libs</c> en <c>alsa-utils</c> geïnstalleerd hebt,
moet je enkel die eerste opnieuw emergen, aangezien dit de modules zal plaatsen in
<path>/lib/modules/*/kernel/sound/pci/</path>.
</p>

<pre caption="nodig na iedere kernel hercompilatie">
# <i>emerge alsa-driver</i>
</pre>

</body>
</section>
<section>

<title>alsa-tools and alsa-firmware</title>
<body>
  	 
<p> 
De alsa-tools en alsa-firmware paketten bevatten werktuigen die alleen 
nuttig zijn voor gebruikers van een specifieke geluids kaart. De meeste
gebruikers hebben deze niet nodig. Indien je toch alsa-tools nodig hebt, kan je 
de environment variabele 'ALSA_TOOLS' activeren om alleen de juiste werktuigen
voor je kaart te installeren:
</p>
  	 
<pre caption="alsa-tools installeren">
# <i>env ALSA_TOOLS='as10k1 ac3dec' emerge alsa-tools</i>
</pre>
  	 
</body>
</section>
<section>
	<title>Versies mixen</title>
<body>

<p>
Meestal zullen verschillende versies van <c>alsa-driver</c>, <c>alsa-lib</c>
<c>alsa-utils</c>, <c>alsa-tools</c>, en <c>alsa-oss</c> met elkaar werken, maar
het is aan te raden dat je de versies in sync houd.
</p>

</body>
</section>
<section>

<title>/etc/modules.autoload</title>
<body>

<p>
Je zult dit bestand nooit moeten aanpassen voor het gebruik met ALSA. Na onze
<c>rc-update add alsasound boot</c> zal ons systeem de correcte ALSA modules
laden tijdens het opstarten.
</p>

<!--
<p>Het is overbodig om <c>snd-pcm-oss</c> of <c>snd-mixer-oss</c> toe te voegen in dit bestand.
Lees hierover <uri link="http://www.djcj.org/LAU/guide/alsbook/faq1.html">deze FAQ</uri> even na voor meer informatie.</p>
</p>
-->

</body>
</section>

<section>
	<title>Bekende bugs</title>
<body>
	
<note>
Deze documentatie loopt achter op de alsa-ontwikkelingen. De kans bestaat dat
sommige van deze bugs al opgelost zijn wanneer je dit leest.
</note>
	
<ul>
  <li>Als je <b>veel herrie</b> hoort tijdens het gebruik van <b>oss</b> 
  emulatie, voeg dan de <e>options snd-pcm-oss dsp_map=1</e> toe aan
  <path>/etc/modules.d/alsa</path></li>
</ul>

</body>
</section>
<section>
<title>Joystick Ondersteuning Activeren</title>
<body>
  	 
<p>
Indien je geluidskaart een joystick aansluiting heeft, ben je misschien
geïnterreseerd om joystick ondersteuning voor je geluidskaart te activeren.
Indien zo, start door het verifïeren of je geluidskaart een joystick parameter heeft.
Je kan dit verifïeren door <c>modinfo</c> te starten met <path>snd-&lt;uw chipset&gt;</path>.
Bijvoorbeeld, voor de <c>snd-via82xx</c>:
</p>
	 
<pre caption="modinfo starten">
# <i>modinfo snd-via82xx</i>
filename:    /lib/modules/2.4.22-ck2/snd-via82xx.o
description: "VIA VT82xx audio"
author:      "Jaroslav Kysela &lt;perex@suse.cz&gt;"
license:     "GPL"
parm:        index int array (min = 1, max = 8), description "Index value for VIA 82xx bridge."
parm:        id string array (min = 1, max = 8), description "ID string for VIA 82xx bridge."
parm:        enable int array (min = 1, max = 8), description "Enable audio part of VIA 82xx bridge."
parm:        mpu_port long array (min = 1, max = 8), description "MPU-401 port. (VT82C686x only)"
<i>parm:        joystick int array (min = 1, max = 8), description "Enable joystick. (VT82C686x only)"</i>
parm:        ac97_clock int array (min = 1, max = 8), description "AC'97 codec clock (default 48000Hz)."
parm:        dxs_support int array (min = 1, max = 8), description "Support for DXS channels
  	              (0 = auto, 1 = enable, 2 = disable, 3 = 48k only, 4 = no VRA)"
</pre>
  	 
<p>
Indien het de joystick parameter heeft, voeg dan <c>joystick=1</c> toe in je <c>options</c>
lijn in <path>/etc/modules.d/alsa</path>. Bijvoorbeeld, voor de <c>snd-via82xx</c>:
</p>
  	 
<pre caption="De joystick parameter toevoegen">
alias snd-card-0 snd-via82xx
options snd-via82xx joystick=1
</pre>
  	 
</body>
</section>
<section>
<title>Meer links...</title>
<body>

<p>
Deze webpagina's kan je raadplegen als je meer informatie wilt:
</p>
<p>
<ul>
<li><uri link="http://www.gentoo.org/doc/nl/desktop.xml">Gentoo Linux Desktop Configuratie Handleiding</uri></li>
<li><uri link="http://www.alsa-project.org">ALSA Project Homepagina</uri></li>
<li><uri link="http://www.alsa-project.org/documentation.php3">ALSA Gebruikers Documentatie</uri></li>
<li><uri link="http://www.djcj.org">ALSA Howto's en FAQ's</uri></li>
<li><uri link="http://tldp.org/HOWTO/Sound-HOWTO/index.html">Linux Sound HOWTO</uri></li>
<li><uri link="http://linux-sound.org/">Sound en MIDI Software voor Linux</uri></li>
</ul>
</p>
</body>
</section>
</chapter>
</guide>
