<?xml version='1.0' encoding="UTF-8"?>

<!--
    English doc rev 1.14
-->


<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/en/gentoo-ppc-install.xml">
<title>Gentoo Linux/PPC 1.4_rc7 Installatieinstructies</title>
<author title="Gentoo PPC Ontwikkelaar">
    <mail link="pvdabeel@gentoo.org">Pieter Van den Abeele</mail>
</author>
<author title="Contributor, Maintainer">
    <mail link="rajiv@gentoo.org">Rajiv Manglani</mail>
</author>
<author title="Contributor">
    <mail link="zhen@gentoo.org">John P. Davis</mail>
</author>
<author title="Chief Architect">
    <mail link="drobbins@gentoo.org">Daniel Robbins</mail>
</author>
<author title="Vertaler">
    <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>

<abstract>
Deze instructies zullen je stap voor stap uitleggen hoe je Gentoo Linux PPC/1.4
installeert. Gentoo Linux ondersteunt verschillende installatiemethoden, 
afhankelijk van hoeveel je van je eigen systeem wil compileren.
</abstract>

<version>1.6.2</version>
<date>12 Mei 2003</date>

<chapter>
<title>De CD verkrijgen</title>
<section>
<body>

<p>
De Gentoo/PPC 1.4 CD kan gevonden worden in de <path>releases</path> directorie 
op je favoriete Gentoo Mirror site. Experimentele versies kan je vinden in de
<path>experimental</path> directorie. Gelieve dan ook de Gentoo mirror-lijst te
raadplegen (<uri>http://www.gentoo.org/main/en/mirrors.xml</uri>) en een mirror
te selecteren die het dichtst bij jou gelegen is. Voor de ongeduldigen onder
ons: klik op een van de volgende links:
</p>

<p>
<table>
<tr><th>Type</th><th>Link</th></tr>
<tr><ti>Experimental</ti><ti><uri>http://www.ibiblio.org/gentoo/releases/ppc/</uri></ti></tr>
<tr><ti>Released</ti><ti>http://www.ibiblio.org/gentoo/releases/ppc/</ti></tr>
</table>
</p>


<p>
Er zijn verschillende CD-smaken beschikbaar:
</p>

</body>
</section>
<section>
<title>* allstages</title>
<body>
<p>
Dit type van CD bevat alle ppc-stages. Een stage is een unix-tarball die een
minimum Linux systeem bevat die je moet uitpakken op een lege partitie op de
harde schijf waarop je Gentoo Linux wil installeren. Stages komen in
verschillende groottes: een stage1 bevat een zeer minimaal systeem (enkel de
directoriestructuur en een niet-gebootstrappede compiler), een stage2 tarball
is iets groter (de compiler is gebootstrapped dewelke een groot deel van de
installatietijd verkort) en een stage3, welke een basis Linux-systeem bevat
(gebootstrappede compiler en basis tools). Later in dit document moet je een
keuze maken tussen één van de 3 stages. Je kan deze stages ook apart downloaden
van de Gentoo mirrors, maar de allstages CD bevat ze allemaal.
</p>
</body>
</section>

<section>
<title>* nostages</title>
<body>
<p>
Hetzelfde als de allstages CD, maar zonder de stages.
</p>
</body>
</section>

<section>
<title>* developer</title>
<body>
<p>
Dit is hetzelfde als de nostages CD maar met debugging geactiveerd, alsook
enkele experimentele, geavanceerde zaken. Deze CD bevat manpages, documentatie,
i18n zaken en een volledige compiler. Deze CD is gemaakt voor ontwikkelaars die
werken aan hfs (apple bestandssysteem) aanpassingsalgoritmes, maar je kan ze
ook gebruiken om onder andere een livecd-gebaseerde distcc of een ccache
geactiveerd werkstation te creëren waarmee je de Gentoo installatie kan
versnellen (zowel x86, PPC als Sparc) via andere pc's in je netwerk.
</p>
</body>
</section>

<section>
<title>* smallestcd</title>
<body>
<p>
Deze CD is enkel nog beschikbaar om historische redenen. Ze is enkel 15 MiB
groot (geen airport en ppc ondersteuning).
</p>
</body>
</section>

<section>
<body>
<p>
Alle Gentoo Linux/PPC 1.4 bootable CDs booten van eender welke New World Mac.
De 1.4 bootable CDs kan je ook booten op OldWorld Macs door BootX te downloaden
en op te starten (vanuit een hfs partitie) met de nodige argumenten (selecteer
<path>/boot/initrd.img.gz</path> als initrd, <path>/boot/vmlinux</path> als 
kernel, stel initrd-size in op 11000, stel root in op <path>/dev/ram</path> en
stel init in op <path>/linuxrc</path>). Verschillende mensen hebben Gentoo/PPC
op OldWorld Macs geïnstalleerd (er zijn zelfs oude
<uri>http://support.apple.com</uri> ANS machines die Gentoo/PPC draaien). Deel
je ervaringen gerust met de PPC ontwikkelaars op #gentoo-ppc op
irc.freenode.net. Zowel irssi als BitchX zijn beschikbaar op de installatie-CD.
</p>

<p>
Om van de installatie-CD te installeren moet je een PowerPC 603 of hogere
processor hebben op een PowerPC PCI of later gebaseerd systeem. Minder dan 128
MiB RAM is mogelijk maar het compilatieproces is in een dergelijke omgeving
zeer traag en kan mislukken. Op het moment van schrijven zijn Nubus machines
niet officieel ondersteund, maar het is mogelijk aangezien sommige
ontwikkelaars als succesvol Gentoo hebben kunnen installeren op Nubus machines
(via crosscompilatie en distcc).
</p>

<p>
Laten we nu snel eens het installatieproces overlopen. We zullen partities
aanmaken, een bestandssysteem op de partities plaatsen, en een stage1, stage2
of stage3 tarball uitpakken. Indien we een stage1 of stage2 tarball gaan
gebruiken zullen we de nodige stappen ondernemen om ons systeem naar een
stage3-equivalent systeem te brengen. Eenmaal we daar beland zijn zullen we ons
systeem configureren (configuratiebestanden aanpassen, bootloader installeren
etc) en booten zodat we een volledig werkend Gentoo Linux systeem hebben.
Afhankelijk van welke stage je wil gebruiken volgen hier de stappen die
ondernomen moeten worden:
</p>

<p>
<table>
<tr><th>stage tarball</th><th>installatievereisten</th></tr>
<tr><ti>1</ti><ti>partitie/bestandssysteem installatie, emerge sync, bootstrap, emerge system, emerge ppc-sources, finale configuratie</ti></tr>
<tr><ti>2</ti><ti>partitie/bestandssysteem installatie, emerge sync, emerge system, emerge linux sources, finale configuratie</ti></tr>
<tr><ti>3</ti><ti>partitie/bestandssysteem installatie, emerge sync (optioneel), finale configuratie</ti></tr>
</table>
</p>
</body>
</section>
</chapter>

<chapter>
<title>Booten</title>
<section>
<body>

<p>
Eenmaal je je keuze gemaakt hebt wat betreft boot-CD, start dan met deze te
booten door ofwel de 'C' toets ingedrukt te houden, of door een OldWorld
bootloader (BootX, quik) te gebruiken. Je zal begroet worden door een
vriendelijk welkom-bericht en een <c>boot:</c> prompt onderaan het scherm. Druk
bij deze prompt op enter; een volledig Gentoo Linux omgeving zal geladen worden
van CD.
</p>

<p>
Gebruik root als gebruikersnaam en geef een blanko paswoord in om in te loggen
op de LiveCD (een "live" Gentoo/PPC systeem). Inloggen is niet nodig op de
smallestcd.
</p>

<p>
Indien je Gentoo/PPC op een systeem aan het installeren bent met een niet-US
toetsenbord maak je best gebruik van het <c>loadkeys</c> commando om je keymap
in te stellen. De verschillende keymaps kan je in
<path>/usr/share/keymaps</path> vinden. De smallestcd gebruikt een menu
(configuration system) om de keymaps gedurende het booten in te stellen.
</p>

<p>
Een groot aantal Linux kernelmodules zijn beschikbaar en worden geladen wanneer
dit nodig is. De LiveCDs (behalve de smallestcd) bevatten zelfs multimediale
zaken (ALSA, mplayer, ...) en kunnen gebruikt worden om muziek af te spelen
tijdens de installatie (weet wel dat het afspelen van hoge kwaliteit 
audiobestanden de installatie een klein beetje kan vertragen).
</p>
 
<p>
Er zijn veel programma's beschikbaar op de LiveCD (zoals chatclients,
webbrowsers, ssh, telnet, samba, talk ...) welke je tijdens de installatie kan
gebruiken door deze op een andere console te starten. Je zou op dit moment een
rootprompt moeten krijgen op de huidige console, maar je kan ook andere
console's opstarten door ctrl+alt+f2, ctrl+alt+f3 in te drukken (op
PowerBooks/iBooks mogelijk fn+ctrl+alt+f2).
</p>
</body>
</section>
</chapter>

<chapter>
<title>Kernelmodules laden</title>
<section>
<body>

<p>
We zijn bijna klaar om Gentoo Linux te installeren, en voor het overgrote deel
van de gevallen bevat de Gentoo PPC ISO kernel voldoende drivers om de
installatie te starten op de meeste standaard Macs (Airport, 10/100/1000mbit
Ethernet), maar indien je bepaalde ondersteuning vereist die niet default
beschikbaar is hebben we een grote hoeveelheid modules meegeleverd. Om een
lijst van beschikbare modules te verkrijgen kijk je best in
<path>/lib/modules/*/kernel/drivers/*</path>. Om een specifieke module te laden,
type je:
</p>

<pre>
# <i>modprobe modulename</i>
	<comment>(vervang modulename met je gewenste module)</comment>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Netwerkondersteuning installeren en configureren</title>
<section>
<body>

<p>
De nieuwe bootable CDs laten je toe om een netwerk te configureren zodat je
<c>ssh</c>, <c>scp</c>, <c>wget</c>, ... kan gebruiken, zelfs voordat je Gentoo
begint te installeren. Zelfs indien je die zaken niet direct wil gebruiken is
het belangrijk om nu je netwerk al te configureren. Eenmaal ingesteld zal
Portage (Gentoo's Pakketbeheerder) de mogelijkheid hebben om je netwerk te
gebruiken. Er zijn verschillende manieren om je netwerk te configureren. De
meest eenvoudige manier (en tevens meest gebruikt) is DHCP: 
</p>
</body>
</section>

<section>
<title>DHCP</title>
<body>
<p>
Netwerk configuratie is eenvoudig met DHCP; indien je ISP geen DHCP gebruikt,
ga dan direct naar de statische configuratie verder in dit document.
</p>
<pre caption="Netwerkconfiguratie met DHCP">
# <i>dhcpcd eth0</i>
</pre>
<note>
Sommige ISPs vereisen van je om een hostname mee te geven. Om dat te doen
moet je <c>-h myhostname</c> meegeven aan het dhcpcd-commando hierboven.
</note>
<p>
Indien je <i>dhcpConfig</i> waarschuwingen krijgt moet je niet panikeren; deze
meldingen zijn hoogstwaarschijnlijk kosmetisch. Ga nu verder met de sectie
Netwerk testen.
</p>
<p>
Merk op dat eth0 default de interne netwerkadapter is op de meeste PPC LiveCDs.
Indien je Gentoo wil installeren via de AirPort, voer dan het volgende commando
uit:
</p>

<pre caption="Netwerk (airport) configuratie met DHCP">
# <i>dhcpcd eth1</i>
</pre>
<p>
Indien je AirPort basisstation geconfigureerd is om connecties te encrypteren
via WEP, gebruik dan het <c>iwconfig</c> commando met de correcte parameters.
</p>
</body>
</section>
<section>
<title>Statische configuratie</title>
<body>
<p>
We moeten het netwerk dusdanig configureren zodat we de vereiste localhost 
interface hebben, en we de broncodebestanden voor het compileren van ons 
systeem kunnen downloaden. Type de volgende commando's in, waarin je $IFACE
vervangt met je netwerkinterface (typisch <c>eth0</c>), $IPNUM met je IP-adres,
$BCAST met je broadcast adres, en $NMASK met je netwerkmask. Voor het
<c>route</c> commando vervang je $GTWAY met je default gateway.
</p>
<pre>
# <i>/sbin/ifconfig $IFACE $IPNUM broadcast $BCAST netmask $NMASK</i>
# <i>/sbin/route add -net default gw $GTWAY netmask 0.0.0.0 metric 1</i>
</pre>
<p>
Nu is het tijd om het <path>/etc/resolv.conf</path> aan te maken zodat
naamresolutie (het vinden van Web/FTP sites via naam in plaats van via
IP-adres) werkt.
</p>

<note>
Wegens geschiedkundige redenen gebruikt Gentoo een kleine tekstverwerker
genaamd <c>nano</c> (een <c>pico</c> kloon) gedurende de installatie. Alle
Gentoo/PPC CDs bevatten tevens de meer populaire tekstverwerkers <c>vim</c> en
<c>emacs</c>. Indien je een andere editor wenst moet je gewoonweg een mailtje
sturen naar de LiveCD onderhouder (<mail link="pvdabeel@gentoo.org">Pieter Van
den abeele</mail>).
</note>

<p>
Hier volgt een voorbeeld die je kan gebruiken om jouw
<path>/etc/resolv.conf</path> aan te maken:
</p>
<pre caption="/etc/resolv.conf voorbeeld">
domain mydomain.com
nameserver 10.0.0.1
nameserver 10.0.0.2
</pre>
<p>
Vervang <c>10.0.0.1</c> en <c>10.0.0.2</c> met het IP-adres van je primaire en
secundaire DNS servers.
</p>
</body>
</section>
<section>
<title>Netwerk testen</title>
<body>
<p>
Nu dat je netwerk geconfigureerd is moet het <c>/sbin/ifconfig -a</c> commando
tonen dat je netwerkkaart werkt (zoek naar de woorden <e>UP</e> en
<e>RUNNING</e> in de uitvoer).
</p>
<pre caption="/sbin/ifconfig voor een werkende netwerkkaart">
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11
</pre>
<!--
<todo>
If you have a static ppp link, ...
If you have an ADSL pppoe link, ...
</todo>
-->
<note>
Gebruik <c>export http_proxy=http://myISPproxy:port</c> of <c>export
http_proxy=myISPproxy:port</c> indien je ISP vereist dat je een proxy-server
instelt.
</note>

<note>
Gentoo/PPC ondersteunt ook andere connecties (ADSL, ppp, ...). Neem een kijkje
in de Gentoo/x86 installatiedocumentatie indien je een van deze connecties wil
opzetten. De methode is architectuuronafhankelijk.
</note>
</body>
</section>
<section>
<title>Het netwerk is klaar!</title>
<body>
<p>
Het netwerk is nu klaar en bruikbaar. Je moet nu in staat zijn om de
bijgevoegde <c>ssh</c>, <c>scp</c>, <c>wget</c>, ... commando's uit te voeren
om naar andere machines te connecteren op het LAN of op het Internet.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Partities aanmaken</title>
<section>
<body>

<p>
Nu dat de kernel je netwerkkaart en harde schijven kan gebruiken is het tijd om
de partities aan te maken voor Gentoo Linux.
</p>

<p>
Hier volgt een snel overzicht voor een default Gentoo Linux partitielayout. We
gaan 3 partities aanmaken: een swappartitie, een rootpartitie (om het gros van
het Gentoo Linux systeem op te plaatsen) en een speciale bootstrap partitie. De
bootstrappartitie is nodig om de YABOOT bootloaderconfiguratie op op te slaan.
OldWorld gebruikers moeten deze bootstrappartitie niet aanmaken aangezien hun
pc initieel in MacOS zal geboot worden waarna BootX de linuxkernel zal
initialiseren en de init scripts opstarten.
</p>

<p>
Laten we nu de verschillende bestandssystemen bekijken. Op dit moment
ondersteunen we 4 bestandssystemen: XFS, ext2, ext3 (ext2 met journaling) en
ReiserFS. ext2 is het alom gekende en stabiele Linux bestandssysteem dat geen
metadata journaling mogelijkheden biedt. ext3 is een uitbreiding van ext2 die
metadata en ordered datawrites ondersteunt, waardoor effectieve datajournaling
mogelijk wordt. Beide worden aangeraden voor Gentoo/PPC. ReiserFS en XFS zijn
nieuwere hoog-performante bestandssystemen, maar zijn meer experimenteel onder
PPC algemeen en dus niet aangeraden. Experimenteer gerust met deze
bestandssystemen indien je machine geen kritische applicaties draait.
</p>

<note>
Op dit moment gaan we onze partities aanmaken met mac-fdisk, <c>mac-fdisk
/dev/hdx</c> (waar x je driveletter is: a, b, c - <path>/dev/sdx</path> voor
SCSI schijven). Je moet op zijn minst een bootstrap partitie aanmaken (<c>b</c>
in mac-fdisk) (enkel NewWorld gebruikers), een swappartitie (algemeen 1.5 maal
je hoeveelheid RAM, met minstens 512 MiB indien je van plan bent grote
pakketten te compileren) en een rootpartitie. <c>?</c> op de prompt van
mac-fdisk zal je een lijst met mogelijke opties geven.
</note>

<p>
Eenmaal je je partities met <c>mac-fdisk</c> aangemaakt hebt is het tijd om de
bestandssystemen erop te initialiseren. Initialiseer de swappartitie als volgt:
</p>
<pre>
# <i>mkswap /dev/hda3</i>
</pre>
<p>
Je kan het <c>mke2fs</c> commando gebruiken om het ext2 bestandssysteem aan te
maken:
</p>
<pre>
# <i>mke2fs /dev/hda4</i>
</pre>
<p>
Indien je ext3 wil gebruiken kan je deze aanmaken met <c>mke2fs -j</c>:
</p>
<pre>
# <i>mke2fs -j /dev/hda4</i>
</pre>

<note>
Je kan meer informatie over ext3 onder Linux vinden op
<uri>http://www.zip.com.au/~akpm/linux/ext3/ext3-usage.html</uri>.
</note>
</body>
</section>
</chapter>

<chapter>
<title>Mount partities</title>
<section>
<body>
<p>
We gaan nu onze swappartitie activeren aangezien we het extra virtueel geheugen
later kunnen gebruiken:
</p>
<pre>
# <i>swapon /dev/hda3</i>
</pre>
<p>
Vervolgens gaan we het <path>/mnt/gentoo</path> mountpunt aanmaken, en we
zullen hieronder ons bestandssysteem mounten.
</p>
<pre>
# <i>mkdir /mnt/gentoo</i>
# <i>mount /dev/hda4 /mnt/gentoo</i>
</pre>
<p>
Indien je Gentoo Linux met aparte <path>/usr</path> of <path>/var</path>
partities wil installeren, dan moeten deze nu onder
<path>/mnt/gentoo/usr</path> respectievelijk <path>/mnt/gentoo/var</path>
gemount worden.
</p>
</body>
</section>
</chapter>

<chapter>
<title>De CD-ROM mounten</title>
<section>
<body>
<p>
Op de LiveCDs is de cdrom automatisch gedetecteerd en gemount onder
<path>/mnt/cdrom</path>.
</p>
<p>
Indien je via de smallestcd boot (let op: deze CD wordt niet meer actief
onderhouden en is enkel nog beschikbaar wegens historische redenen (geen
ondersteuning voor draadloze connecties, ppp, ...)) is de cdrom niet gemount.
We moeten deze nog manueel mounten zodat we de gecomprimeerde tarball van de CD
kunnen bereiken. Om de CD te mounten type je:
</p>

<pre>
# <i>mount /dev/cdroms/cdrom0 /mnt/cdrom -o ro -t iso9660</i>
</pre>
<p>
Met de CD-ROM gemount moet je de <c>stage???.tbz2</c> bestand(en) vinden door
<c>ls /mnt/cdrom/build</c> in te geven.
</p>

<note>
Indien het je niet lukt om de cdrom te mounten is het mogelijk om de stage[123]
van ibiblio (of een mirror) te downloaden via <c>wget
http://www.ibiblio.org/pub/Linux/distributions/gentoo/releases/build/1.2/stage1-ppc-1.2.tbz2</c>.
</note>
</body>
</section>
</chapter>

<chapter>
    <title>Decomprimeer en pak de stage naar keuze uit</title>
<section>
<body>
<p>
Indien je LiveCD niet de stage bevat die je wil gebruiken, of je wil de
allerlaatste stage gebruiken, ga dan met <c>lynx</c> of <c>wget</c> naar je
Gentoo mirror en download de laatste officiele ppc stage(s) van
<path>releases/1.4_*</path> of de laatste experimentele stages van
<path>experimental/1.4_*</path>. Om historische redenen zijn de 1.2-stages nog
steeds beschikbaar in de <path>releases/build</path> directorie, maar deze zijn
zeer oud en worden niet meer onderhouden.
</p>

<impo>
Zorg ervoor dat je de <c>p</c> optie gebruikt bij <c>tar</c>. Indien je dit
vergeet zullen veel bestanden de verkeerde permissies krijgen.
</impo>


<impo>
Indien je alles van 0 wil installeren en compileren, geoptimaliseerd naar jouw
processor, dan moet je een stage1 tarball gebruiken. Je hebt echter ook de
keuze tussen stage2 en stage3. Deze laten je toe wat tijd te winnen ten nadele
van de configureerbaarheid (we hebben de vrijheid genomen om dan voor jou
compileroptimalisaties en default USE instellingen te kiezen).
</impo>

<pre>
# <i>cd /mnt/gentoo</i>
# <i>tar -xvjpf /mnt/cdrom/build/stage?-*.tbz2</i>
# <i>mount -o bind /proc /mnt/gentoo/proc</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
</pre>

<pre>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update</i>
&gt;&gt;&gt; Regenerating /etc/ld.so.cache...
# <i>source /etc/profile</i>
#
</pre>

<p>
Nadat je deze commando's uitgevoerd hebt ben je "in" je nieuwe Gentoo Linux
omgeving.
</p>
<note>
Negeer de waarschuwing die env-update uitspuwt aangaande de niet-aanwezige
Portage structuur (Gentoo Pakketten directorie), deze directorie zullen we
direct aanmaken.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Rsync</title>
<section>
<body>
<p>
Nu moeten we <c>emerge sync</c> uitvoeren welke zal connecteren naar
rsync.gentoo.org en de laatste Portage structuur zal binnenhalen.
</p>

<pre>
# <i>emerge sync</i>
</pre>
<p>
De Portage structuur zal gedownload worden. Deze is ongeveer 10 MiB groot.
</p>
<impo>
Het adres van de rsync server is op dit moment
rsync://rsync.gentoo.org/gentoo-portage. Indien je problemen hebt bij het
bereiken van een rsync-server, zorg er dan voor dat dit adres ingesteld staat 
in je SYNC variabele in <path>/etc/make.conf</path>.
</impo>
<note>
Het rsync commando kan ingesteld worden om via een HTTP proxy te werken indien
je achter een firewall zit. Om dit toe te laten moet je
<i>RSYNC_PROXY="hostname:port"</i> instellen in <path>/etc/make.conf</path> of
als omgevingsvariabele.
</note>

<note>
Neem een kijkje in de andere instellingen in <path>/etc/make.conf</path> en
configureer ze naar je noden. Er zijn verschillende tools beschikbaar die de
beste mirror voor jou zoeken (<c>emerge mirrorselect &amp;&amp; mirrorselect
-a</c>) of de beste USE vlaggen voor jou instelt (<c>emerge ufed &amp;&amp;
ufed</c>). Zorg ervoor dat je CFLAGS correct ingesteld staat naar de CPU van de
machine waarop je Gentoo installeert.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Van stage1 naar een stage2-equivalent systeem migreren</title>
<section>
<body>

<impo>
Indien je een stage2 of stage3 tarball gebruikt dan hebben we je systeem voor
jou al gebootstrapped. Er is geen reden om dit opnieuw uit te voeren, tenzij je
besloten hebt om een <c>emerge sync</c> uit te voeren en er zeker van wil zijn
een extreem recent en geoptimaliseerd Gentoo Linux systeem te installeren. De
meeste gebruikers van stage2 en stage3 zullen <i>niet</i> opnieuw willen
bootstrappen, aangezien het meer dan een uur kan duren, zelfs op een zeer
snelle machine.
</impo>

<p>
Nu dat we een werkende Portage structuur hebben zullen de mensen met een stage1
installatie hun Gentoo Linux systeem als volgt bootstrappen. Allereerst moeten 
ze het <path>/etc/make.conf</path> bestand aanpassen. In dit bestand moet je de
<c>USE</c> vlaggen instellen, welke de optionele ondersteuning voor bepaalde
zaken activeert of desactiveert in de pakketten; de default <c>USE</c>-vlaggen
(zijnde een <e>lege</e> of niet-gedefinieerde USE-variabele) zijn voor de
meeste mensen goed. Je moet tevens de nodige <c>CHOST</c>, <c>CFLAGS</c> en
<c>CXXFLAGS</c> instellen voor jouw systeem (gecommentarieerde voorbeelden vind
je in het bestand zelf). Indien nodig kan je tevens de proxy-informatie
definieren voor het geval je achter een firewall zit.
</p>

<pre>
# <i>nano -w /etc/make.conf</i> <comment>(Pas bovenstaande zaken aan)</comment>
</pre>

<note>
Mensen die het compilatieproces substantieel willen tweaken nemen best een 
kijkje in <path>/etc/make.globals</path>. Dit bestand bevat de Gentoo default
instellingen en mogen nooit aangepast worden. Indien de default instellingen
niet voldoen voor jou, dan moeten nieuwe waarden in <path>/etc/make.conf</path>
gezet worden aangezien deze prioriteit hebben op de instellingen in
<path>/etc/make.globals</path>. Indien je geinteresseerd bent in het tweaken
van de USE instellingen, kijk dan in
<path>/etc/make.profile/make.defaults</path>. Indien je USE-instellingen wil
desactiveren die je daarin vindt, voeg dan de nodige <c>USE="-foo"</c> toe aan
<path>/etc/make.conf</path> (om de <c>foo</c> USE instelling uit te schakelen).
</note>
<p>
Het is nu tijd om het "bootstrap" proces te beginnen. Dit proces zal ongeveer 1
tot 4 uren duren afhankelijk van hoe snel je machine is. Gedurende deze periode
zullen de uitgepakte bestanden klaargestoomd worden voor het compileren van de
rest van je Gentoo Linux systeem. De GNU compiler collectie zal gecompileert
worden, samen met de GNU C bibliotheek. Deze zijn zeer tijdconsumerend en nemen
het gros in van het bootstrap proces.
</p>
<pre>
# <i>cd /usr/portage</i>
# <i>scripts/bootstrap.sh</i>
</pre>
<p>
Het "bootstrap" proces zal nu beginnen.
</p>
<note>
Portage gebruikt per default de <path>/var/tmp</path> directorie voor het
compileren van de pakketten, wat zeer vaak honderden MiB aan tijdelijke
opslagruimte vereist. Indien je deze locatie wil veranderen moet je de
PORTAGE_TMPDIR variabele aanpassen <e>voordat</e> het bootstrapproces begint:
</note>
<pre>
# <i>export PORTAGE_TMPDIR="/anderedir/tmp"</i>
</pre>
<p>
Het <c>bootstrap.sh</c> script zal <c>binutils, gcc, gettext</c> en
<c>glibc</c> compileren en daarna <c>binutils, gcc</c> en <c>gettext</c>
hercompileren. Zoals je wel kan vermoeden duurt dit een tijdje. Slaap wel.
Eenmaal dit proces afgelopen is zal je systeem zich in een stage2-equivalente
staat bevinden.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Van stage2 naar stage3</title>
<section>
<body>

<note>
Indien je dat nog niet gedaan hebt, pas dan nu <path>/etc/make.conf</path> aan
naar jouw smaak.
</note>

<p>
Eenmaal je systeem gebootstrapped is en je in een stage2 zit (opnieuw: als je
een stage3 gebruikt mag je deze stappen overslaan) is het tijd om de rest van
je systeem te compileren:
</p>

<pre>
# <i>export CONFIG_PROTECT=""</i>
# <i>emerge --pretend system</i>
	<comment>[toont de pakketten die geïnstalleerd zullen worden]</comment>
# <i>emerge system</i>
</pre>

<note>
Het <c>export CONFIG_PROTECT=""</c> commando zal ervoor zorgen dat nieuwe
scripts die in <path>/etc</path> geïnstalleerd worden de oudere scripts (van
<path>sys-apps/baselayout</path>) overschrijven. Dit komt neer op het
desactiveren van Portage' configuratiebestandenbeheer ondersteuning. Type
<c>emerge --help config</c> voor meer informatie.
</note>

<p>
Het zal een tijdje duren alvorens het ganse systeem gecompileerd is. Je
beloning is echter een zeer geoptimaliseerd systeem. Het nadeel is dat je wat
geduld moet hebben. Wanneer <c>emerge system</c> afgelopen is zal je een
stage3-equivant systeem hebben.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Finale stappen: tijdzone</title>
<section>
<body>

<note>
Indien je dat nog niet gedaan hebt, moet je nu <path>/etc/make.conf</path>
aanpassen naar jouw smaak.
</note>

<p>
Op dit moment heb je een stage3-equivalent systeem dat klaar is voor de laatste
configuratiestappen. We zullen starten met het instellen van de tijdzone. Door
deze in te stellen alvorens we de kernel compileren zorgen we ervoor dat je een
correcte <c>uname -a</c> output zal verkrijgen.
</p>
<p>
Zoek naar je tijdzone (of neem GMT indien je wil) in
<path>/usr/share/zoneinfo</path>. Maak dan een symbolische link aan:
</p>
<pre>
# <i>ln -sf /usr/share/zoneinfo/pad/naar/tijdzonebestand /etc/localtime</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Kernel, system logger, en cron</title>
<section>
<body>
<p>
Je moet nu de ppc kernel broncode installeren. Dit kan je zeer eenvoudig met
<c>emerge sys-kernel/ppc-sources</c>.
</p>
<p>
Eenmaal je de Linux kernel broncode beschikbaar hebt is het tijd om je eigen
kernel te compileren:
</p>
<pre>
# <i>cd /usr/src/linux</i>
# <i>make menuconfig</i>
# <i>make dep &amp;&amp; make clean vmlinux modules modules_install</i>
# <i>cp vmlinux System.map /boot</i>
</pre>
<note>
Je <e>moet</e> de <i>sys-kernel/ppc-sources</i> kernel gebruiken op PowerPC
gebaseerde machines.
</note>

<warn>
Opdat je kernel correct functioneert moet je verschillende opties activeren, en
dit in de kernel en niet als modules. Je moet <i>Code maturity level options
--> Prompt for development and/or incomplete code/drivers</i> activeren om de
meeste van deze opties te kunnen zien. Onder de <i>File systems</i> sectie moet
je <i>Device File System</i> activeren (je moet <i>/dev/pts file system
support</i> <e>niet</e> activeren). Je moet tevens <i>Virtual File system</i>
activeren. Onder <i>Macintosh Device Drivers</i> moet je de default <i>Support
for ADB raw keycodes</i> uitschakelen. Zorg er ook voor dat de <i>Enhanced
RTC</i> <e>uitgeschakeld</e> wordt (in <i>Character devices</i>) aangezien het
niet echt PPC-vriendelijk is op dit moment. Activeer <i>Support for
/dev/rtc</i> in <i>General setup</i>. Het is altijd een goed idee om ext2
ondersteuning te hebben, zelfs als je het niet gebruikt. Gebruikers met
OldWorld machines zullen tevens HFS ondersteuning willen zodat ze de
gecompileerde kernels op de MacOS partitie kunnen kopieren.
</warn>
<impo>
Indien je een IDE CD brander en/of DVD hebt, dan moet je SCSI emulatie in je
kernel activeren. Activeer <i>ATA/IDE/MFM/RLL support --> IDE, ATA and ATAPI
Block devices --> SCSI emulation support</i> (de auteur doet dit meestal via
modules). Indien je met modules wil werken mag je niet vergeten om <c>echo -e
"ide-scsi\nsg\nsr_mod" >> /etc/modules.autoload</c> uit te voeren zodat de
modules vanzelf opgestart worden tijdens het booten. Je moet tevens de volgende
regel toevoegen aan je <path>/etc/yaboot.conf</path> bestand:
<c>append="hdc=ide-scsi"</c>.
</impo>
<impo>
Indien je een OldWorld machine hebt zal je je HFS (MacOS) partitie willen
mounten om je kernel op te kopieren zodat BootX deze kan laden tijdens het
opstarten. BootX zal automatisch de kernels in de <path>Linux Kernels</path>
folder in de <i>System Folder</i> vinden.
</impo>
<p>
Je nieuwe kernel (en modules) zijn nu geinstalleerd. Nu moet je een system
logger kiezen. Gentoo levert sysklogd, zijnde de traditionele system logger,
en metalog. Meer geavanceerdere gebruikers migreren meestal van sysklogd naar
metalog. Indien je twijfelt kan je misschien best metalog proberen aangezien
het tegenwoordig zeer populair blijkt te zijn. Om de logger naar je keuze te
installeren, type <e>een</e> van de volgende regels:
</p>

<pre>
# <i>emerge app-admin/sysklogd</i>
# <i>rc-update add sysklogd default</i>
<comment>of</comment>
# <i>emerge app-admin/metalog</i>
# <i>rc-update add metalog default</i>
</pre>

<warn>
Indien je versie 1.2 van de stage3-tarball gebruikt moet je geen system logger
installeren. <path>stage3-ppc-1.2.tbz2</path> heeft sysklogd in zich zitten
(oudere en nieuwere versies hebben dat niet). Indien je liever metalog wil
gebruiken moet je eerst sysklogd verwijderen. Nadat de installatie van Gentoo
afgelopen is zorg je ervoor dat sysklogd niet vanzelf opstart tijdens het
booten door <c>rc-update del sysklogd</c> uit te voeren. Daarna voer je
<c>emerge unmerge sysklogd</c> uit om sysklogd te verwijderen. Je zal
waarschijnlijk de configuratiebestanden in <path>/etc</path> manueel moeten
verwijderen (zoek naar <c>cfgpro</c> in de uitvoer van het unmerge-commando).
Om metalog te installeren, voer <c>emerge metalog</c> uit gevolgd door
<c>rc-update add metalog default</c>.
</warn>
<impo>
Metalog stuurt zijn loggegevens naar de schijf in blokken, waardoor berichten
niet direct in de systeemlogs terecht komen. Indien je een daemon probeert te
debuggen is dit natuurlijk minder leuk. Je kan dit afschakelen door een
USR1-signaal naar metalog te zenden (waardoor <c>tail -f
<path>/var/log/everything/current</path></c> zal werken), en een USR2-signaal 
om het weer te activeren.
</impo>
<p>
Nu kan je opteren om een cron-pakket te installeren. Op dit moment levert
Gentoo dcron, fcron en vcron. Indien je niet weet welkeen je wil installeren,
neem dan best vcron. Je kan je cron naar keuze als volgt installeren:
</p>
<pre>
# <i>emerge sys-apps/dcron</i>
# <i>crontab /etc/crontab</i>
<comment>of</comment>
# <i>emerge sys-apps/fcron</i>
# <i>crontab /etc/crontab</i>
<comment>or</comment>
# <i>emerge sys-apps/vcron</i>
</pre>
<p>
Voor meer informatie over hoe cron werkt onder Gentoo Linux kan je <uri
link="http://lists.gentoo.org/pipermail/gentoo-announce/2002-April/000151.html">
deze aankondiging</uri> lezen.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Installeren van bijkomende pakketten</title>
<section>
<body>
<p>
Indien je een laptopgebruiker bent en je wil pcmcia-ondersteuning vanaf je je
machine boot, dan moet je nu al het pcmcia-cs pakket installeren. 
</p>
<pre>
# <i>emerge sys-apps/pcmcia-cs</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Finale stappen: systeemconfiguratie</title>
<section>
<title>Finale stappen: /etc/fstab</title>
<body>
<p>
Je Gentoo Linux systeem is bijna gebruiksklaar. Alles wat we nu nog moeten doen
is enkele belangrijke systeembestanden aanpassen en de yaboot bootloader
installeren. Het eerste bestand dat we gaan aanpassen is
<path>/etc/fstab</path>. Zorg ervor dat je <c>ext2</c> of <c>ext3</c> als
bestandstypes zit naargelang deze die je zelf gebruikt.
</p>
<p>
Gebruik iets zoals het <path>/etc/fstab</path> voorbeeld hieronder, maar zorg
ervoor dat je "ROOT" en "SWAP" vervangt met je werkelijke partities die je
gebruikt (zoals <c>hda2</c> etc). Merk op dat NewWorld gebruikers <e>geen</e>
bootstrap partitie moeten toevoegen aan dit bestand.
</p>
<pre caption="/etc/fstab">
<comment>
# /etc/fstab: statische bestandssysteeminformatie.
#
# noatime schakelt het gebruik van atimes uit voor betere performantie
# (atime's zijn normaal gezien niet nodig). notail verbetert de 
# performantie van reiserfs-bestandssystemen (ten nadele van schijfruimte).
# Het is veilig om de noatime opties te laten vallen indien je vrij tussen
# notail en tail wilt wisselen.

# &lt;fs&gt;           &lt;mountpoint&gt;   &lt;type&gt;   &lt;opts&gt;         
 &lt;dump/pass&gt;
</comment>
/dev/ROOT           /           ext3     noatime         0 1
/dev/SWAP           none        swap     sw              0 0
/dev/cdroms/cdrom0  /mnt/cdrom  iso9660  noauto,ro       0 0
proc                /proc       proc     defaults        0 0
</pre>
</body>
</section>


<section>
<title>Finale stappen: het rootpaswoord instellen</title>
<body>
<p>
Voordat je het vergeet stel je best je rootpaswoord in door het volgende te
typen:
</p>
<pre>
# <i>passwd</i>
</pre>
</body>
</section>
<section>
<title>Finale stappen: /etc/hostname</title>
<body>
<p>
Pas dit bestand aan zodat het je volledige domeinnaam bevat, zoals
<c>machine.mijndomein.com</c>.
</p>
</body>
</section>

<section>
<title>Finale stappen: /etc/hosts</title>
<body>
<p>
Dit bestand bevat een lijst van ip-adressen met hun bijhorende hostname. Het
wordt door het systeem gebruikt om namen naar IP-adressen op te lossen indien
ze niet in de nameservers zitten. Hieronder vind je een voorbeeldbestand:
</p><pre caption="/etc/hosts">
127.0.0.1      localhost
<comment># de volgende regel gevat je IP voor je locale LAN, en de geassocieerde machine naam</comment>
192.168.1.1    mymachine.mydomain.com	mymachine
</pre>
</body>
</section>

<section>
<title>Finale netwerk configuratie</title>
<body>
<p>
Voeg de namen van de kernelmodules toe aan
<path>/etc/modules.autoload</path> zodat deze automatisch geladen worden
tijdens het booten. Zeer belangrijk is je netwerkkaartmodule, indien je deze
tenminste als module gecompileert hebt.
</p>
<pre caption="/etc/modules.autoload">
sungem
</pre>
<p>
Pas <path>/etc/conf.d/net</path> aan om je netwerk tijdens het booten al
correct ingesteld te krijgen.
</p>
<pre>
# <i>nano -w /etc/conf.d/net</i>
# <i>rc-update add net.eth0 default</i>
</pre>
<p>
Indien je meerdere netwerkkaarten hebt moet je extra
<path>net.eth<comment>x</comment></path> scripts aanmaken voor elke
netwerkkaart (<comment>x</comment> = 1, 2, ...):
</p>
<pre caption="Meerdere netwerkinterfaces">
# <i>cd /etc/init.d</i>
# <i>cp net.eth0 net.eth<comment>x</comment></i>
# <i>rc-update add net.eth<comment>x</comment> default</i>
</pre>
<p>
Indien je een PCMCIA netwerkkaart geinstalleerd staan hebt, neem dan snel een
kijkje in <path>/etc/init.d/pcmcia</path> om te verifieren of alles in orde
lijkt, en voeg dan
<pre>
depend() {
	need pcmcia
}
</pre>
toe bovenaan je <path>/etc/init.d/net.eth<comment>x</comment></path> bestand,
zodat de PCMCIA-drivers geladen worden voordat je netwerk opgestart wordt.
</p>
</body>
</section>


<section>
<title>Finale stappen: basisinstellingen configureren (zoals internationale keymapinstellingen)</title>
<body>
<pre caption="basis configuratie">
# <i>nano -w /etc/rc.conf</i>
</pre>
<p>
Volg de aanwijzingen in het bestand om de basisinstellingen te configureren.
Alle gebruikers moeten er voor zorgen dat de <c>CLOCK</c> ingesteld is naar
zijn/haar goesting. Internationale toetsenbordgebruikers zullen de
<c>KEYMAP</c> variabele instellen naar hun toetsenbordinstelling (kijk in
<path>/usr/share/keymaps</path> om de verschillende mogelijkheden te bekijken).
</p>
</body>
</section>
</chapter>

<chapter>
<title>De bootloader configureren</title>
<section>
<body>
<p>
Het grote verschil tussen de PPC en de x86 architectuur wat betreft Linux is de
bootloader. NewWorld machines zullen yaboot gebruiken, waar OldWorld machines
BootX zullen nemen.
</p>
</body>
</section>

<section>
<title>yaboot voor NewWorld machines (automatische configuratie met yabootconfig)</title>
<body>
<p>
Je kan de nieuwe en uitgebreide <c>yabootconfig</c>, beschikbaar vanaf
<i>yaboot-1.3.8-r1</i> en later, gebruiken om automatisch yaboot te
configureren. <c>yabootconfig</c> zal de partities op je machines
autodetecteren en dual- en tripleboot combinaties met Linux, MacOS en MacOS X
instellen.
</p>

<p>
Om <c>yabootconfig</c> te gebruiken moet je schijf een bootstrappartitie
hebben, en <path>/etc/fstab</path> moet ingesteld zijn met je Linux partities.
Beide moeten al in de bovenstaande stappen volbracht zijn. Alvorens je start
moet je de laatste yaboot versie geinstalleerd staan hebben; voer <c>emerge -u
yaboot</c> uit om dit te verwezenlijken. Dit is nodig omdat de laatste versie
van yaboot wel beschikbaar is via Portage, maar niet noodzakelijk in je gekozen
stage-tarball zit.
</p>

<p>
Voer <c>yabootconfig</c> uit op de commandoregel. Het programma zal uitvoeren
en de locatie van de bootstrappartitie verifiëren. Type <c>Y</c> indien deze
correct is. Indien niet, controleer dan <path>/etc/fstab</path>. yabootconfig
zal dan je systeemconfiguratie scannen, <path>/etc/yaboot.conf</path> aanmaken
en <c>mkofboot</c> opstarten (deze zal de bootstrappartitie formatteren en de
yaboot configuratie erin installeren).
</p>

<p>
Je wil misschien de inhoud van <path>/etc/yaboot.conf</path> verifieren. Indien
je aanpassingen aan dit bestand maakt (zoals het default/boot OS) moet je
<c>ybin -v</c> uitvoeren welke de aanpassingen zal maken aan de bootstrap
partitie.
</p>
</body>
</section>

<section>
<title>yaboot voor NewWorld machines (manuele configuratie van yaboot.conf)</title>
<body>

<p>
Indien je om een of andere reden <c>yabootconfig</c> niet wil of kan uitvoeren
kan je onderstaand voorbeeldbestand gebruiken:
</p>

<pre caption="/etc/yaboot.conf">
## /etc/yaboot.conf
##
## voer "man yaboot.conf" uit voor details. Maak geen aanpassingen alvorens
## je dit gedaan hebt. Zie ook /usr/share/doc/yaboot/examples voor andere 
## voorbeelden.
##
## Voor een dualboot menu voeg je bsd=/dev/hdaX, macos=/dev/hdaY of
## macosx=/dev/hdaZ toe.

## onze bootstrap partitie:
boot=/dev/hda9

##hd: is open firmware speak voor hda
device=hd:
partition=11

root=/dev/hda11
delay=5
defaultos=macosx
timeout=30
install=/usr/lib/yaboot/yaboot
magicboot=/usr/lib/yaboot/ofboot

#################
## Deze sectie kan gekopieerd worden indien je meer kernels of bootopties wil
#################
image=/boot/vmlinux
	label=Linux
	sysmap=/boot/System.map
	read-only
##################

macos=/dev/hda13
macosx=/dev/hda12
enablecdboot
enableofboot
</pre>

<p>
Eenmaal <path>yaboot.conf</path> aangemaakt is naar jouw wensen moet je
<c>mkofboot -v</c> uitvoeren welke de configuratie in de bootstrappartitie zal
steken. Vergeet dit niet. Indien alles goed gaat, en je hebt bovenstaande
configuratie genomen, dan heb je tijdens het opstarten een eenvoudige menu met
5 opties in. Indien je je bootconfig later aanpast moet je <c>ybin -v</c>
uitvoeren welke de bootstrappartitie aanpast - mkofboot is enkel voor de
installatie.
</p>

<note>
Yaboot heeft de mogelijkheid om configuratieinstellingen tijdens het booten aan
te passen, dus neem een kijkje op
<uri>http://penguinppc.org/projects/yaboot</uri> voor meer informatie.
</note>
</body>
</section>

<section>
<title>BootX voor OldWorld machines</title>
<body>
<impo>
Volg deze stappen nadat je je pc gereboot hebt.
</impo>
<p>
Boot je machine in MacOS en open het BootX controlepaneel. Selecteer
<c>Options</c>, en deselecteer <c>Used specified RAM disk</c>. Wanneer je
terugkeert naar het BootX hoofdscherm zal je een optie terugvinden om je
machine haar rootdisk en -partitie te specifieren. Vul deze in met de nodige
waarden.
</p>
<p>
BootX kan geconfigureerd worden om Linux tijdens het booten op te starten.
Indien je dit doet zal je eerst je systeem in MacOS zien booten, waarna BootX
opstart en Linux initialiseert. Zie <uri
link="http://penguinppc.org/projects/bootx/">BootX homepagina</uri> voor meer
informatie.
</p>
</body>
</section>

</chapter>

<chapter>
<title>Installatie afgewerkt!</title>
<section>
<body>
<p>
Gentoo Linux is nu geinstalleerd. De enige overblijvende stappen zijn het 
weggaan uit de gechrootte shell, unmounten van de partities en rebooten van het
systeem:
</p>
<pre>
# <i>exit</i>  <codenote>Hiermee verlaat je de gechrootte shell, wat ook gaat met <c>^D</c></codenote>
# <i>cd / </i>
# <i>umount /mnt/gentoo/proc</i>
# <i>umount /mnt/gentoo</i>
# <i>reboot</i>
</pre>
<note>
Na rebooten is het een goed idee om <c>update-modules</c> uit te voeren om het
<path>/etc/modules.conf</path> aan te maken. In plaats van dit bestand
rechtstreeks aan te passen maak je best aanpassingen in de bestanden in
<path>/etc/modules.d</path>.
</note>
</body>
</section>
</chapter>

<chapter>
<title>Extras</title>
<section>
<title>Meerdere muisknoppen emulatie</title>
<body>
<p>
Je kan de volgende regels toevoegen aan <path>/etc/sysctl.conf</path> om
meerdere muisknoppenemulatie te activeren tijdens het booten. De keywaarden kan
je vinden met de commandline tool <c>showkey</c>. Hier is een voorbeeld met de
toetsen F11 en F12.
<pre>
# Activeer mouse button emulatie
dev.mac_hid.mouse_button_emulation = 1
# Set 2nd button to 87 - F11
dev.mac_hid.mouse_button2_keycode = 87
# Set 3rd button to 88 - F12
dev.mac_hid.mouse_button3_keycode = 88
</pre>
</p>
</body>
</section>

<section>
<title>Gentoo-Stats</title>
<body>
<p>
De Gentoo Linux gebruikersstatistieken is een project dat opgestart werd om
ontwikkelaars feedback te geven vanuit de gebruikersbasis. Het verzamelt
informatie over het Gentoo Linux gebruik zodat de ontwikkelaars prioriteiten
kan stellen tijdens de ontwikkeling van Gentoo Linux. Het installeren ervan is
volledig optioneel, maar het wordt ten zeerste geapprecieerd indien je het
gebruikt. De statistieken kan je op <uri>http://stats.gentoo.org</uri> vinden.
</p>

<p>
De server zal een uniek ID geven aan jouw systeem. Dit ID wordt gebruikt om
ervoor te zorgen dat er geen dubbele gegevens aangemaakt worden per host. Ze
wordt niet gebruikt om je systeem mee te identificeren, of om IP of andere
persoonlijke gegevens aan te linken. Elke voorzorgsmaatregel is genomen om
ervoor te zorgen dat je privacy gerespecteerd wordt. De volgende zaken zijn
wat we met <c>gentoo-stats</c> bijhouden:
</p>
<ul>
<li>geinstalleerde pakketten en versienummers</li>
<li>CPU informatie: snelheid (MHz), maker, model, CPU flags (zoals "altivec")</li>
<li>geheugeninformatie (totaal beschikbare RAM, totaal beschikbare swapruimte)</li>
<li>PCI kaarten en netwerkkaarten</li>
<li>het Gentoo Linux profiel dat je machine gebruikt (waar
<path>/etc/make.profile</path> naartoe wijst)</li>
</ul>

<p>
We weten dat het vrijgeven van gevoelige informatie zeer ongewenst is voor de
Gentoo Linux gebruikers (evenals voor de ontwikkelaars).
</p>

<ul>
<li>
Tenzij je gentoo-stats aanpast zal het nooit geheime informatie, zoals
paswoorden, configuratiegegevens, schoenmaat, ... vrijgeven.
</li>
<li>
Transmissie van je e-mailadres is optioneel en staat default af.
</li>
<li>
Het IP adres vanwaar de data komt zal nooit gelogged worden zodat we je zouden
kunnen identificeren. Er zijn geen "IP adres/systeem ID" paren.
</li>
</ul>

<p>
De installatie is eenvoudig - voer gewoon het volgende commando uit:
</p>

<pre caption="gentoo-stats installeren">
# <c>emerge gentoo-stats</c>   <codenote>Installeert gentoo-stats</codenote>
# <c>gentoo-stats --new</c>    <codenote>haalt een system ID</codenote>
</pre>

<p>
Het 2e commando zal een system ID halen en deze in
<path>/etc/gentoo-stats/gentoo-stats.conf</path> plaatsen. Je kan dat bestand
openen om alle bijhorende configuratieopties te bekijken.
</p>

<p>
Hierna moet het programma op reguliere basis uitgevoerd worden (gentoo-stats
moet niet als root uitgevoerd worden). Voeg de volgende regel toe aan je
<path>crontab</path>:
</p>

<pre caption="gentoo-stats updaten met cron">
<c>0 0 * * 0,4 /usr/sbin/gentoo-stats --update > /dev/null</c>
</pre>

<p>
Het <c>gentoo-stats</c> programma is een eenvoudig perlscript die je kan
bekijken met je favoriete pager of editor: <path>/usr/sbin/gentoo-stats</path>.
</p>

</body>

</section>

<section>
<title>En wat nu?</title>
<body>

<p>
Je kan verschillende documenten vinden op Gentoo's Documentatiesectie die
architectuuronafhankelijk zijn. Het prelinken van je systeem is aangeraden
(maar niet vereist) indien je het onderste uit de kan wil halen (KDE's
starttijd versnelt met 50% of meer). Alsa (Advanced Linux Sound Architecture)
is tevens zeer goed op sommige ppc-machines (vooral de nieuwere PowerBooks).
Indien je een hoogconfigureerbaar audiosysteem wil moet je zeker dat document
lezen. Applicaties die je zeker eens moet bekijken voor een Mac zijn
<c>pmud</c> (Advanced Power Managment) of <c>pbbuttons</c> (indien je een
PowerBook eigenaar bent). Het instellen van XFree op PPC is zeer eenvoudig:
<c>emerge xeasyconf &amp;&amp; Xeasyconf</c> is al wat je moet doen.
</p>

<p>
Indien je vragen hebt of je wil meewerken aan de ontwikkeling van Gentoo Linux,
gelieve je dan in te schrijven op gentooppc-user en gentooppc-dev (zie <uri
link="http://www.gentoo.org/main/en/lists.xml">Gentoo mailinglist
pagina</uri>).  We hebben tevens een handige <uri
link="/doc/nl/desktop.xml">Desktop configuratiegids</uri> die je wegwijs maakt
in het configureren van je Gentoo Linux systeem, en een handige <uri
link="/doc/nl/portage-user.xml">Portage gebruikersgids</uri> die je uitlegt hoe
je Portage gebruikt. Welkom en geniet van Gentoo Linux!
</p>

<p>
De <uri link="/doc/nl/gentoo-ppc-faq.xml">Gentoo Linux/PowerPC FAQ</uri>
verslaat verschillende FAQ-vragen over Gentoo Linux/PPC. De algemene <uri
link="/doc/nl/faq.xml">Gentoo Linux FAQ</uri> zal je misschien ook verder
helpen, alhoewel ze vooral op x86 installaties gericht is. <uri
link="http://forums.gentoo.org/viewforum.php?f=24">Gentoo on PPC</uri> (Engels,
op forums.gentoo.org) is een open forum voor PPC-discussies. Je kan tevens een
actieve chatgroep vinden op IRC. Bezoek ons op <i>#gentoo-ppc</i> op
<i>irc.freenode.net</i>.
</p>

<p>Bedankt en veel plezier met Gentoo!</p>

</body>
</section>

</chapter>

</guide>
