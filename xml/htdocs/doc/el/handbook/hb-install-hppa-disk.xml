<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/el/handbook/hb-install-hppa-disk.xml,v 1.1 2008/09/28 10:29:54 rane Exp $ -->

<sections>

<version>9.1</version>
<date>2008-04-01</date>

<section>
<title>Εισαγωγή στις Συσκευές Αποθήκευσης</title>

<subsection>
<include href="hb-install-blockdevices.xml"/>
</subsection>

<subsection>
<title>Κατατμήσεις και Φέτες</title>
<body>

<p>
Αν και είναι θεωρητικά δυνατή η χρήση ενός πλήρους δίσκου για να στεγάσει το
σύστημα Linux σας, αυτό δεν γίνεται σχεδόν ποτέ στην πράξη. Αντ' αυτού,
πλήρεις αποθηκευτικές συσκευές δίσκων χωρίζονται σε μικρότερες, πιο εύκολες στη
διαχείριση συσκευές αποθήκευσης. Στα περισσότερα συστήματα, αυτές ονομάζονται
<e>κατατμήσεις</e>. Άλλες αρχιτεκτονικές χρησιμοποιούν μια παρόμοια τεχνική,
που ονομάζεται <e>φέτες</e>.
</p>

</body>
</subsection>
</section>
<section>
<title>Σχεδίαση ενός Σχεδιαγράμματος Κατατμήσεων</title>
<subsection>
<title>Πόσες και Πόσο Μεγάλες;</title>
<body>

<p>
Ο αριθμός των κατατμήσεων εξαρτάται πάρα πολύ από το σύστημά σας. Για
παράδειγμα, αν έχετε πολλούς χρήστες, πιθανότατα χρειάζεστε το
<path>/home</path> ξεχωριστά εφόσον αυξάνει την ασφάλεια και κάνει ευκολότερη τη
διαδικασία δημιουργίας αντιγράφων ασφαλείας. Αν εγκαθιστάτε Gentoo για να
εκτελεστεί σαν διακομιστή ηλεκτρονικών μηνυμάτων, το <path>/var</path> θα πρέπει
να είναι ξεχωριστά εφόσον τα ηλεκτρονικά μηνύματα αποθηκεύονται εκεί. Μια καλή
επιλογή συστήματος αρχείων θα μεγιστοποιήσει τότε την απόδοση. Οι διακομιστές
παιχνιδιών θα έχουν ένα ξεχωριστό <path>/opt</path> αφού οι περισσότεροι
διακομιστές παιχνιδιών εγκαθίστανται εκεί. Ο λόγος είναι ίδιος με αυτόν του
<path>/home</path>: ασφάλεια και αντίγραφα ασφαλείας. Σίγουρα θα θέλετε να
κρατήσετε μεγάλο το <path>/usr</path>: όχι μόνο θα περιέχει την πλειοψηφία των
εφαρμογών, το δέντρο του Portage μόνο πιάνει γύρω στα 500MB εξαιρώντας τις
διάφορες πηγές που είναι αποθηκευμένες σε αυτό.
</p>

<p>
Όπως βλέπετε, εξαρτάται από το τι θέλετε να πετύχετε. Ξεχωριστές κατατμήσεις
ή τόμοι έχουν τα παρακάτω πλεονεκτήματα:
</p>

<ul>
<li>
  Μπορείτε να επιλέξετε το καλύτερο σύστημα αρχείων για κάθε κατάτμηση ή τόμο
</li>
<li>
  Όλο το σύστημά σας δεν μπορεί να ξεμείνει από ελεύθερο χώρο αν ένα
  αδρανές εργαλείο συνεχώς γράφει αρχεία σε μια κατάτμηση ή τόμο
</li>
<li>
  Αν είναι απαραίτητο, οι έλεγχοι του συστήματος αρχείων μειώνονται στο χρόνο,
  καθώς πολλαπλοί έλεγχοι μπορούν να γίνουν παράλληλα (αν και αυτό το
  πλεονέκτημα γίνεται καλύτερα αντιληπτό με πολλαπλούς δίσκους απ' ότι με
  πολλαπλές κατατμήσεις).
</li>
<li>
  Η ασφάλεια μπορεί να ενισχυθεί προσαρτώντας μερικές κατατμήσεις ή
  τόμους σε λειτουγίες read-only (μόνο για ανάγνωση), noexec (παράλειψη των
  εκτελέσιμων bits κτλ.
</li>
</ul>

<p>
Παρ' όλα αυτά, πολλαπλές κατατμήσεις έχουν ένα μεγάλο μειονέκτημα: αν δεν
ρυθμιστούν κατάλληλα, μπορεί να καταλήξετε να έχετε ένα σύστημα με πολύ
ελεύθερο χώρο σε μία κατάτμηση και καθόλου σε μια άλλη. Υπάρχει επίσης
ένα όριο 15 κατατμήσεων για SCSI και SATA.
</p>

</body>
</subsection>
</section>
<section>
<title>Χρήση της fdisk σε HPPA για την Κατάτμηση του Δίσκου σας</title>
<body>

<p>
Χρησιμοποιήστε την <c>fdisk</c> για να δημιουργήσετε τις κατατμήσεις που θέλετε:
</p>

<pre caption="Κατάτμηση του δίσκου">
# <i>fdisk /dev/sda</i>
</pre>

<p>
Τα μηχανήματα HPPA χρησιμοποιούν τα PC στάνταρ τραπέζια κατατμήσεων DOS.
Για να δημιουργήσετε ένα νέο τραπέζι κατατμήσεων, απλά χρησιμοποιήστε
την εντολή <c>o</c>.
</p>

<pre caption="Δημιουργία ενός τραπεζιού κατατμήσεων DOS">
# <i>fdisk /dev/sda</i>

Command (m for help): <i>o</i>
Building a new DOS disklabel.
</pre>

<p>
Το PALO (ο φορτωτής εκκίνησης του HPPA) χρειάζεται μια ειδική κατάτμηση
για να λειτουργήσει. Πρέπει να δημιουργήσετε μία κατάτμηση με 16 MB
τουλάχιστον στην αρχή του δίσκου σας. Ο τύπος της κατάτμησης πρέπει να
είναι τύπου <e>f0</e> (Linux/PA-RISC boot).
</p>

<impo>
Αν αγνοήσετε αυτό και συνεχίσετε χωρίς μια ειδική κατάτμηση PALO, το σύστημα
θα σταματήσει να σας αγαπάει και θα αποτύχει να ξεκινήσει. Επίσης, αν ο δίσκος
σας είναι μεγαλύτερος από 2GB, σιγουρευτείτε ότι η κατάτμηση boot είναι στα
πρώτα 2GB του δίσκου σας. Το PALO δεν μπορεί να διαβάσει τον πυρήνα μετά το
όριο των 2GB.
</impo>

<pre caption="Ένα απλό προεπιλεγμένο σχεδιάγραμμα κατατμήσεων">
# <i>cat /etc/fstab</i>
/dev/sda2    /boot   ext3    noauto,noatime   1 1
/dev/sda3    none    swap    sw               0 0
/dev/sda4    /       ext3    noatime          0 0

# <i>fdisk /dev/sda</i>

Command (m for help): <i>p</i>

Disk /dev/sda: 4294 MB, 4294816768 bytes
133 heads, 62 sectors/track, 1017 cylinders
Units = cylinders of 8246 * 512 = 4221952 bytes

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1               1           8       32953   f0  Linux/PA-RISC boot
/dev/sda2               9          20       49476   83  Linux
/dev/sda3              21          70      206150   82  Linux swap
/dev/sda4              71        1017     3904481   83  Linux
</pre>

<p>
Τώρα που οι κατατμήσεις σας έχουν δημιουργηθεί, μπορείτε να συνεχίσετε
με τη <uri link="#filesystems">Δημιουργία Συστημάτων Αρχείων</uri>.
</p>

</body>
</section>
<section id="filesystems">
<title>Δημιουργία Συστημάτων Αρχείων</title>
<subsection>
<title>Εισαγωγή</title>
<body>

<p>
Τώρα που οι κατατμήσεις σας έχουν δημιουργηθεί, είναι ώρα να τοποθετήσετε
συστήματα αρχείων σε αυτά. Αν δεν νοιάζεστε για το τι σύστημα αρχείων να
διαλέξετε και είστε ευχαριστημένοι με αυτό που χρησιμοποιούμε εμείς σαν
προεπιλογή σε αυτό το εγχειρίδιο, συνεχίστε με την <uri
link="#filesystems-apply">Εφαρμογή ενός Συστήματος Αρχείων σε μια
Κατάτμηση</uri>. Διαφορετικά συνεχίστε την ανάγνωση για τα διαθέσιμα
συστήματα αρχείων.
</p>

</body>
</subsection>

<subsection>
<include href="hb-install-filesystems.xml"/>
</subsection>

<subsection id="filesystems-apply">
<title>Εφαρμογή ενός Συστήματος Αρχείων σε μια Κατάτμηση</title>
<body>

<p>
Για να δημιουργήσετε ένα σύστημα αρχείων σε μια κατάτμηση ή τόμο, υπάρχουν
διάφορα εργαλεία διαθέσιμα για κάθε πιθανό σύστημα αρχείων:
</p>

<table>
<tr>
  <th>Σύστημα Αρχείων</th>
  <th>Εντολή Δημιουργίας</th>
</tr>
<tr>
  <ti>ext2</ti>
  <ti><c>mke2fs</c></ti>
</tr>
<tr>
  <ti>ext3</ti>
  <ti><c>mke2fs -j</c></ti>
</tr>
<tr>
  <ti>reiserfs</ti>
  <ti><c>mkreiserfs</c></ti>
</tr>
<tr>
  <ti>xfs</ti>
  <ti><c>mkfs.xfs</c></ti>
</tr>
<tr>
  <ti>jfs</ti>
  <ti><c>mkfs.jfs</c></ti>
</tr>
</table>

<p>
Για παράδειγμα, για να έχετε την κατάτμηση boot (<path>/dev/sda2</path> στο
παράδειγμά μας) σε ext2 και την κατάτμηση root (<path>/dev/sda4</path> στο
παράδειγμά μας) σε ext3 (όπως στο παράδειγμά μας), θα πρέπει να χρησιμοποιήσετε:
</p>

<pre caption="Εφαρμογή ενός συστήματος αρχείων σε μια κατάτμηση">
# <i>mke2fs /dev/sda2</i>
# <i>mke2fs -j /dev/sda4</i>
</pre>

<p>
Τώρα δημιουργήστε τα συστήματα αρχείων στις νεο-δημιουργημένες κατατμήσεις
(ή λογικούς τόμους).
</p>

</body>
</subsection>
<subsection>
<title>Ενεργοποίηση της Κατάτμησης Swap</title>
<body>

<p>
Το <c>mkswap</c> είναι η εντολή που χρησιμοποιείται για την αρχικοποίηση
κατατμήσεων swap:
</p>

<pre caption="Δημιουργώντας μια υπογραφή swap">
# <i>mkswap /dev/sda2</i>
</pre>

<p>
Για να ενεργοποιήσετε την κατάτμηση swap, χρησιμοποιήστε το <c>swapon</c>:
</p>

<pre caption="Ενεργοποίηση της κατάτμησης swap">
# <i>swapon /dev/sda2</i>
</pre>

<p>
Δημιουργήστε και ενεργοποιήστε το swap με τις εντολές που
αναφέρθηκαν παραπάνω.
</p>

</body>
</subsection>
</section>
<section>
<title>Mounting</title>
<body>

<p>
Τώρα που οι κατατμήσεις σας είναι αρχικοποιημένες και στεγάζουν ένα σύστημα
αρχείων, είναι ώρα να τις προσαρτήσετε στις κατατμήσεις. Χρησιμοποιήστε την
εντολή <c>mount</c>. Μην ξεχάσετε να δημιουργήσετε τους απαραίτητους φακέλους
προσάρτησης για κάθε κατάτμηση που δημιουργήσατε. Σαν παράδειγμα θα
προσαρτήσουμε τις κατατμήσεις root και boot:
</p>

<pre caption="Προσάρτηση κατατμήσεων">
# <i>mount /dev/sda3 /mnt/gentoo</i>
# <i>mkdir /mnt/gentoo/boot</i>
# <i>mount /dev/sda1 /mnt/gentoo/boot</i>
</pre>

<note>
Αν θέλετε το <path>/tmp</path> σας να βρίσκετε σε χωριστή κατάτμηση, μην
ξεχάσετε να αλλάξετε τα δικαιώματά του μετά την προσάρτηση: <c>chmod 1777
/mnt/gentoo/tmp</c>. Αυτό επίσης ισχύει και για το <path>/var/tmp</path>.
</note>

<p>
Επίσης θα πρέπει να προσαρτήσουμε το σύστημα αρχείων proc (μια εικονική διεπαφή
με τον πυρήνα) στο <path>/proc</path>. Αλλά πρώτα θα χρειαστεί να τοποθετήσουμε
τα αρχεία μας στις κατατμήσεις.
</p>

<p>
Συνεχίστε με την <uri link="?part=1&amp;chap=5">Εγκατάσταση των Αρχείων
Εγκατάσταστης του Gentoo</uri>.
</p>

</body>
</section>
</sections>
