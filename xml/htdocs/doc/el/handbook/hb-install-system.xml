<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- Το περιεχόμενο αυτού του κειμένου είναι κατοχυρωμένο υπό την άδεια CC-BY-SA -->
<!-- βλ. http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/el/handbook/hb-install-system.xml,v 1.1 2008/09/28 10:29:54 rane Exp $ -->

<sections>

<abstract>
Αφού εγκαταστήσετε και ρυθμίσετε ένα stage3, ενδεχομένως θα
έχετε στη διάθεσή σας ένα Gentoo base σύστημα. Αυτό το κεφάλαιο
περιγράφει πώς θα φτάσετε σ' αυτό το σημείο.
</abstract>

<version>9.2</version>
<date>2008-05-14</date>

<section>
<title>Chrooting</title>
<subsection>
<title>Προαιρετικά: Επιλογή Mirrors</title>
<body>

<p>
Προκειμένου να κατεβάσετε σύντομα τον πηγαίο κώδικα, καλό
θα είναι να επιλέξετε έναν γρήγορο καθρέπτη (mirror). Το Portage
θα κοιτάξει στο <path>make.conf</path> φάκελό σας για τις
GENTOO_MIRRORS μεταβλητές και θα χρησιμοποιήσει τους καθρέπτες
που αναφέρονται εκεί μέσα. Μπορείτε να σερφάρετε στη <uri
link="/main/en/mirrors.xml">λίστα αλληλογραφίας μας</uri> και
ν' αναζητήσετε για έναν καθρέπτη (ή καθρέπτες) πλησιέστερα σε
σας (καθώς αυτοί είναι συνήθως οι πιο γρήγοροι), αλλά παρέχουμε
ένα ωραίο εργαλείο που ονομάζεται <c>mirrorselect</c> το οποίο
σας προσφέρει μια ωραία διεπαφή για να επιλέξετε τους καθρέπτες
που επιθυμείτε.
</p>

<pre caption="Χρήση του mirrorselect για τη μεταβλητή GENTOO_MIRRORS">
# <i>mirrorselect -i -o &gt;&gt; /mnt/gentoo/etc/make.conf</i>
</pre>

<warn>
Μην επιλέγετε IPv6 καθρέπτες. Τα stages μας προς το παρόν δεν
υποστηρίζουν IPv6.
</warn>

<p>
Μια δεύτερη σημαντικότερη ρύθμιση είναι η ρύθμιση του SYNC στο
<path>make.conf</path>. Αυτή η μεταβλητή περιλαμβάνει τον rsync
server που θέλετε να χρησιμοποιήσετε κάθε φορά που ενημερώνετε
το Portage tree σας (τη συλλογή των ebuilds, scripts που περιέχουν
όλες τις πληροφορίες που χρειάζεται το Portage για να κατεβάσει
και να εγκαταστήσει λογισμικό). Αν και μπορείτε με το χέρι να
εισαγάγετε έναν SYNC server για τον εαυτό σας, το
<c>mirrorselect</c> μπορεί να κάνει εύκολα αυτή την ενέργεια για σας:
</p>

<pre caption="Επιλέξτε έναν rsync mirror χρησιμοποιώντας το mirrorselect">
# <i>mirrorselect -i -r -o &gt;&gt; /mnt/gentoo/etc/make.conf</i>
</pre>

<p>
Αφού τρέξετε το <c>mirrorselect</c> σας συμβουλεύουμε να
διπλοελέγξετε τις ρυθμίσεις στο <path>/mnt/gentoo/etc/make.conf</path> !
</p>

</body>
</subsection>
<subsection>
<title>Αντιγραφή DNS Info</title>
<body>

<p>
Ένα πράγμα απομένει να γίνει πρωτού μπείτε στο νέο περιβάλλον και
αυτό είναι ν' αντιγράψετε την DNS πληροφορία στο
<path>/etc/resolv.conf</path>. Θα πρέπει να το κάνετε αυτό για να
εξασφαλίσετε ότι το δίκτυο θα συνεχίσει να λειτουργεί και μετά την
είσοδο στο νέο περιβάλλον.  Το <path>/etc/resolv.conf</path>
περιέχει τα nameservers για το δίκτυό σας.
</p>

<pre caption="Αντιγραφή της DNS πληροφορίας">
<comment>(Η επιλογή "-L" χρειάζεται για να σιγουρευτούμε ότι δεν
αντιγράφουμε ένα symbolic link)</comment>
# <i>cp -L /etc/resolv.conf /mnt/gentoo/etc/</i>
</pre>

</body>
</subsection>
<subsection test="not(func:keyval('arch')='IA64')">
<title>Προσάρτηση των Αρχείων Συστήματος /proc και /dev</title>
<body>

<p>
Προσαρτήστε το αρχείο συστήματος <path>/proc</path> στο
<path>/mnt/gentoo/proc</path> για να επιτρέψετε στην εγκατάσταση
να χρησιμοποιήσει την παρεχόμενη πληροφόρηση από τον πυρήνα μέσα
στο chrooted περιβάλλον, και τότε ασφαλίστε την προσάρτηση του
αρχείου συστήματος <path>/dev</path>.
</p>

<pre caption="Προσάρτηση /proc και /dev">
# <i>mount -t proc none /mnt/gentoo/proc</i>
# <i>mount -o bind /dev /mnt/gentoo/dev</i>
</pre>

</body>
</subsection>
<subsection test="func:keyval('arch')='IA64'">
<title>Προσάρτηση των Αρχείων Συστήματος /proc, /sys και /dev</title>
<body>

<p>
Προσαρτήστε το αρχείο συστήματος <path>/proc</path> στο
<path>/mnt/gentoo/proc</path> για να επιτρέψετε στην εγκατάσταση
να χρησιμοποιήσει την παρεχόμενη από τον πυρήνα πληροφόρηση
μέσα στο chrooted περιβάλλον, και τότε ασφαλίστε τις προσαρτήσεις
των αρχείων συστήματος <path>/dev</path> και <path>/sys</path>.
</p>

<pre caption="Προσάρτηση /proc /sys και /dev">
# <i>mount -t proc none /mnt/gentoo/proc</i>
# <i>mount -o bind /dev /mnt/gentoo/dev</i>
# <i>mount -o bind /sys /mnt/gentoo/sys</i>
</pre>

</body>
</subsection>
<subsection>
<title>Είσοδος στο Νέο Περιβάλλον</title>
<body>

<p>
Τώρα που όλες οι κατατμήσεις είναι χαρακτηρισμένες και το βασικό
περιβάλλον εγκατεστημένο, είναι η ώρα να μπείτε στο νέο περιβάλλον
εγκατάστασης κάνοντας <e>chroot</e> σε αυτό. Αυτό σημαίνει ότι
αλλάζουμε από το τρέχον περιβάλλον εγκατάστασης (CD Εγκατάστασης
ή άλλο μέσο εγκατάστασης) στο δικό σας σύστημα εγκατάστασης
(δηλαδή οι χαρακτηρισμένες κατατμήσεις).
</p>

<p>
Αυτό το "chrooting" γίνεται σε τρία βήματα. Πρώτον, θ' αλλάξετε το
root από <path>/</path> (στο μέσον εγκατάστασης) σε
<path>/mnt/gentoo</path> (στις κατατμήσεις σας) χρησιμοποιώντας την
εντολή <c>chroot</c>. Τότε θα δημιουργήσουμε ένα νέο περιβάλλον
χρησιμοποιώντας το <c>env-update</c>, που δημιουργεί στην ουσία
μεταβλητές περιβάλλοντος. Στο τέλος, φορτώνουμε αυτές τις μεταβλητές
στη μνήμη χρησιμοποιώντας το <c>source</c>.
</p>

<pre caption = "Κάνοντας Chroot σ' ένα νέο περιβάλλον">
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update</i>
>> Regenerating /etc/ld.so.cache...
# <i>source /etc/profile</i>
# <i>export PS1="(chroot) $PS1"</i>
</pre>

<p>
Συγχαρητήρια! Βρίσκεστε τώρα μέσα στο δικό σας περιβάλλον Gentoo
Linux. Ασφαλώς απέχετε πολύ από το τέλος, και αυτό γιατί η εγκατάσταση
περιλαμβάνει μερικά πράγματα ακόμα :-)
</p>

</body>
</subsection>
</section>

<section>
<title>Ρύθμιση του Portage</title>
<subsection>
<title>Ενημέρωση του Portage tree</title>
<body>

<p>
Θα πρέπει τώρα να ενημερώσετε το Portage tree στην τελευταία έκδοση.
Το <c>emerge --sync</c> το κάνει αυτό για σας.
</p>

<pre caption="Ενημέρωση του Portage tree">
# <i>emerge --sync</i>
<comment>(Εάν χρησιμοποιείτε ένα αργό τερματικό όπως μερικά framebuffers
ή μια serial κονσόλα, μπορείτε να προσθέσετε τη μεταβλητή --quiet
για να επιταχύνετε τη διαδικασία:)</comment>
# <i>emerge --sync --quiet</i>
</pre>

<p>
Εάν βρίσκεστε πίσω από ένα firewall που μπλοκάρει την κίνηση του
rsync, μπορείτε να χρησιμοποιήσετε <c>emerge-webrsync</c> το οποίο
θα κατεβάσει και θα εγκαταστήσει ένα στιγμιότυπο του portage για σας.
</p>

<p>
Εάν έχετε ειδοποιηθεί πως μια νέα έκδοση του Portage είναι διαθέσιμη
και ότι χρειάζεται να ενημερώσετε το Portage, θα πρέπει να το κάνετε
χρησιμοποιώντας <c>emerge --oneshot portage</c>.
</p>

</body>
</subsection>
<subsection>
<title>Επιλέξτε το σωστό προφίλ</title>
<body>

<p>
Κατ' αρχήν, ισχύει ένας μικρός ορισμός.
</p>

<p>
Το προφίλ (profile) είναι μια δομική μονάδα για κάθε σύστημα Gentoo.
Όχι μόνο ορίζει προκαθορισμένες αξίες για τα CHOST, CFLAGS και άλλες
σημαντικές μεταβλητές, αλλά κλειδώνει επίσης το σύστημα σε μια ορισμένη
σειρά των εκδόσεων του πακέτου. Αυτό όλο διατηρείται από τους υπεύθυνους
για την ανάπτυξη του Gentoo.
</p>

<p>
Προηγουμένως, ένα τέτοιο προφίλ ήταν ανέγγιχτο από τους χρήστες.
Εντούτοις, μπορούν να υπάρξουν ορισμένες περιπτώσεις στις οποίες ίσως
αποφασίσετε ότι μια αλλαγή προφίλ είναι απαραίτητη.
</p>

<p>
Μπορείτε να δείτε ποιο τρέχον προφίλ χρησιμοποιείτε, με την ακόλουθη
εντολή:
</p>

<pre caption="Επαλήθευση του προφίλ συστήματος">
# <i>ls -FGg /etc/make.profile</i>
lrwxrwxrwx  1 48 Apr  8 18:51 /etc/make.profile -> ../usr/portage/profiles/<keyval id="profile"/>
</pre>

<p>
Το προκαθορισμένο προφίλ θα σας παράσχει ένα σύστημα βασισμένο σε Linux
2.6. Αυτό είναι και το συνιστώμενο προκαθορισμένο, αλλά έχετε την επιλογή
να επιλέξετε επίσης κάποιο άλλο προφίλ.
</p>

<p>
Υπάρχουν επίσης διαθέσιμα για κάποιες αρχιτεκτονικές, τα <c>desktop</c>
και <c>server</c> υποπροφίλ (subprofiles). Κοιτάξτε μέσα στο προφίλ του
<path>2008.0/</path> για να δείτε αν είναι κάποιο διαθέσιμο για τη δική
σας αρχιτεκτονική. Ίσως να θελήσετε να δείτε το προφίλ του <c>desktop</c>
<path>make.defaults</path> για να αποφασίσετε αν ταιριάζει στις ανάγκες σας.
</p>

<p>
Αφού δείτε τα διαθέσιμα προφίλ για την αρχιτεκτονική σας στο
<path>/usr/portage/profiles/</path>, μπορείτε να χρησιμοποιήσετε κάποιο
άλλο αν το επιθυμείτε:
</p>

<pre caption="Αλλαγή προφίλ">
# <i>ln -snf /usr/portage/profiles/&lt;profile name&gt; /etc/make.profile</i>
</pre>

<p test="func:keyval('arch')='AMD64'">
Εάν θέλετε να έχετε ένα ατόφιο 64-bit περιβάλλον, χωρίς 32-μπιτες εφαρμογές
ή βιβλιοθήκες, θα πρέπει να χρησιμοποιήσετε ένα μη multilib προφίλ:
</p>

<pre test="func:keyval('arch')='AMD64'" caption="Αλλαγή σε ένα μη multilib προφίλ">
# <i>ln -snf /usr/portage/profiles/default/linux/amd64/2008.0/no-multilib /etc/make.profile</i>
</pre>

<note>
Το υποπροφίλ <c>developer</c> είναι ειδικά για τους σκοπούς της ανάπτυξης
του Gentoo Linux.  <e>Δεν</e> προορίζεται να βοηθήσει την οργάνωση γενικά
περιβαλλόντων ανάπτυξης.
</note>

</body>
</subsection>
<subsection id="configure_USE">
<title>Ρύθμιση της μεταβλητής USE</title>
<body>

<p>
Η <c>USE</c> είναι μια από τις πιο ισχυρές μεταβλητές που παρέχει το
Gentoo στους χρήστες του. Μερικά προγράμματα μπορούν να μεταγλωττιστούν με
ή χωρίς προαιρετική υποστήριξη για ορισμένες εφαρμογές. Για παράδειγμα,
κάποια προγράμματα μπορούν να μεταγλωττιστούν με το gtk-support ή με το
qt-support. Άλλα μπορούν να μεταγλωττιστούν με ή χωρίς υποστήριξη SSL.
Μερικά προγράμματα μπορούν ακόμα να μεταγλωττιστούν με υποστήριξη framebuffer
(svgalib) αντί για υποστήριξη X11 (X-server).
</p>

<p>
Οι περισσότερες διανομές μεταγλωττίζουν τα πακέτα τους με υποστήριξη
για όσα το δυνατόν περισσότερα, αυξάνοντας το μέγεθος των προγραμμάτων
και του χρόνου εκκίνησης, για να μην αναφέρουμε ένα τεράστιο αριθμό
εξαρτήσεων. Με το Gentoo μπορείτε να καθορίσετε εσείς με ποιές επιλογές
θα πρέπει να μεταγλωττιστεί ένα πακέτο. Εδώ είναι που μπαίνει στο
παιγνίδι το <c>USE</c>.
</p>

<p>
Στη μεταβλητή <c>USE</c> καθορίζετε τις λέξεις-κλειδιά που εμφανίζονται
στις επιλογές μεταγλώττισης. Για παράδειγμα, το <e>ssl</e> θα μεταγλωττίσει
την SSL-υποστήριξη στα προγράμματα που την υποστηρίζουν. Το <e>-X</e> θα
αφαιρέσει την υποστήριξη Χ-servers (σημειώστε το αρνητικό σημείο μπροστά).
Το <e>gnome gtk -kde -qt3 -qt4</e> θα μεταγλωττίσει τα προγράμματά σας με
την υποστήριξη gnome (και gtk) και όχι με την υποστήριξη kde (και qt),
κάνοντας το σύστημά σας πλήρως διαμορφωμένο για GNOME.
</p>

<p>
Οι προκαθορισμένες ρυθμίσεις του <c>USE</c> έχουν τοποθετηθεί στα αρχεία
<path>make.defaults</path> του προφίλ σας. Θ' ανακαλύψετε τα αρχεία
<path>make.defaults</path> στο directory στο οποίο δείχνει το
<path>/etc/make.profile</path> και όλα επίσης τα parent directories.
Η προκαθορισμένη ρύθμιση του <c>USE</c> είναι το σύνολο όλων των ρυθμίσεων
του <c>USE</c> σε όλα τα αρχεία του <path>make.defaults</path>. Ό,τι
τοποθετείτε στο <path>/etc/make.conf</path> υπολογίζεται ενάντια στις
προεπιλεγμένες ρυθμίσεις. Εάν προσθέτετε κάτι στη ρύθμιση του <c>USE</c>,
αυτό προστίθεται στην προϋπάρχουσα λίστα. Εάν απομακρύνετε κάτι από τη
ρύθμιση του <c>USE</c> (τοποθετώντας το σύμβολο του μείον μπροστά σ' αυτό)
αυτό απομακρύνεται από την προϋπάρχουσα λίστα (εάν υπήρξε ποτέ μέσα στη
λίστα αυτή). <e>Ποτέ</e> μη μεταβάλλετε οτιδήποτε μέσα στο αρχείο
<path>/etc/make.profile</path>: θα σβηστεί όταν θα κάνετε ενημέρωση του Portage!
</p>

<p>
Μια πλήρη περιγραφή του <c>USE</c> μπορεί να βρεθεί στο δεύτερο μέρος
του Εγχειριδίου του Gentoo, <uri link="?part=2&amp;chap=2">USE flags</uri>.
Μια πλήρη περιγραφή των διαθέσιμων USE flags μπορεί να βρεθεί στο σύστημά
σας, στο αρχείο <path>/usr/portage/profiles/use.desc</path>.
</p>

<pre caption="Δείτε τα διαθέσιμα USE flags">
# <i>less /usr/portage/profiles/use.desc</i>
<comment>(Μπορείτε να μετακινηθείτε χρησιμοποιώντας τα βελάκια, εξέρχεστε
πατώντας το 'q')</comment>
</pre>

<p>
Ως παράδειγμα, δείχνουμε μια ρύθμιση του <c>USE</c> για ένα σύστημα
βασισμένο σε KDE με υποστήριξη DVD, ALSA και CD Recording:
</p>

<pre caption="Άνοιγμα του /etc/make.conf">
# <i>nano -w /etc/make.conf</i>
</pre>

<pre caption="Ρύθμιση του USE">
USE="-gtk -gnome qt3 qt4 kde dvd alsa cdr"
</pre>

</body>
</subsection>
<subsection>
<title>Προαιρετικά: glibc Locales</title>
<body>

<p>
Πιθανώς θα χρησιμοποιήσετε μόνο ένα ή ίσως δύο σύνολα εντοπιότητας (locales)
στο σύστημά σας. Μπορείτε να καθορίσετε τα locales που θα χρειαστείτε μέσα
στο αρχείο <path>/etc/locale.gen</path>.
</p>

<pre caption="Άνοιγμα του /etc/locale.gen">
# <i>nano -w /etc/locale.gen</i>
</pre>

<p>
Τα παρακάτω locales είναι ένα παράδειγμα για να έχετε εξίσου Αγγλικά (ΗΠΑ)
και Γερμανικά με τα αντίστοιχα χαρακτηριστικά formats (όπως το UTF-8).
</p>

<pre caption="Καθορίστε την εντοπιότητά σας">
en_US ISO-8859-1
en_US.UTF-8 UTF-8
de_DE ISO-8859-1
de_DE@euro ISO-8859-15
</pre>

<p>
Το επόμενο βήμα είναι να τρέξετε το <c>locale-gen</c>. Θα παραγάγει όλα τα
locales που έχετε καθορίσει στο αρχείο <path>/etc/locale.gen</path>.
</p>

<p>
Τώρα συνεχίστε με τη <uri link="?part=1&amp;chap=7">Ρύθμιση του πυρήνα</uri>.
</p>

</body>
</subsection>
</section>
</sections>
