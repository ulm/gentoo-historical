<?xml version='1.0' encoding='UTF-8'?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/xorg-config.xml,v 1.1 2004/11/25 17:29:38 neysx Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pl/xorg-config.xml" lang="pl">

<title>JakToZrobić Konfiguracja Serwera X</title>

<author title="Autor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Tłumacz">
  <mail link="rofrol@gmail.com">Roman Frołow</mail>
</author>

<abstract>
Xorg jest serwerem X Windows, który umożliwia natychmiastowo posiadanie
graficznego środowiska. Ten dokument JakToZrobić wyjaśnia czym jest Xorg, jak
go zainstalować oraz jakie rożne opcje konfiguracyjne są dostępne.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->
<license/>

<version>1.5</version>
<date>2004-08-01</date>

<chapter>
<title>Co to jest serwer X Window?</title>
<section>
<title>Środowisko Graficzne vs Linia Komend</title>
<body>

<p>
Zwykły użytkownik może się przestraszyć, jeśli będzie musiał wpisywać
polecenia. Dlaczego nie mógłby dowolnie wskazywać i klikać w Gentoo (i w
Linuxie w ogólności)? Więc, *duży uśmiech*, oczywiście możesz to robić :-)
Linux oferuje dużą różnorodność wodotryskowych interfejsów użytkownika i
środowiska, które możesz doinstalować do swego systemu.
</p>

<p>
Jedna z większych niespodzianek, która spotyka nowych użytkowników: graficzny
interfejs użytkownika jest niczym więcej niż aplikacją, która działa w
systemie. To <e>nie</e> jest część jądra Linux lub innych wnętrzności systemu.
Xorg jest potężnym narzędziem, które dostarcza pełnię możliwości graficznych
dla twojej stacji roboczej.
</p>

<p>
Jako że standardy są ważne, standard dla rysowania i przenoszenia okien na
ekranie, współdziałanie z użytkownikiem dzięki myszce i klawiaturze i inne
podstawowe standardy zostały utworzone i nazwane <e>X Window System</e>, zwykle
skracane do <e>X11</e> lub po prostu <e>X-y</e>. Używa się tego na Unixie,
Linuxie i innych podobnych do Unixa systemach operacyjnych na całym świecie.
</p>

<p>
Aplikacja, która udostępnia Użytkownikom Linuxa możliwość działania graficznego
interfejsu użytkownika, i która używa standardu X11 to Xorg-X11, odnoga
projektu XFree86. XFree86 zdecydowało się użyć licencji, która mogłaby nie być
zgodna z licencją GPL; dlatego zalecane jest użycie Xorg. Zauważ jednak, że
różnice pomiędzy Xorg a XFree86 są aktualnie bardzo małe; jeśli znasz jedną,
znasz drugą. Wersje XFree86 wcześniejsze niż 4.4 również są dostępne przez
Portage.
</p>

</body>
</section>
<section>
<title>Projekt X.org</title>
<body>

<p>
Projekt <uri link="http://www.x.org">X.org</uri> stworzył i zarządza
wolnorozprowadzalną otwartoźródłową realizacją systemu X11. Jest to
otwartoźródłowa oparta na X11 infrastruktura pulpitu.
</p>

<p>
Xorg udostępnia interfejs pomiędzy sprzętem a oprogramowaniem graficznym, które
chcesz uruchamiać. Poza tym, Xorg jest również w pełni sieciowo zorientowany,
co oznacza, że możesz uruchomić aplikację na jednym systemie oglądając ją na
innym.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Instalowanie Xorg</title>
<section>
<title>Używanie emerge</title>
<body>

<p>
Wystarczy tej gadki, przejdźmy do konkretów. Aby zainstalować Xorg,
potrzebujesz tylko uruchomić  <c>emerge xorg-x11</c>. Instalowanie Xorg trochę
zajmuje, więc może będziesz chciał coś przegryźć w trakcie czekania.
</p>

<pre caption="Instalowanie Xorg">
# <i>emerge xorg-x11</i>
</pre>

<p>
Kiedy instalacja jest zakończona, możesz potrzebować przeładowania kilku
zmiennych zanim będziesz kontynuować. Uruchom po prostu <c>env-update</c>, a
następnie <c>source /etc/profile</c> i wszystko masz ustawione. To nie uszkadza
w żaden sposób twojego systemu.
</p>

<pre caption="Przeładowywanie zmiennych środowiskowych">
# <i>env-update</i>
# <i>source /etc/profile</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Konfigurowanie Xorg</title>
<section>
<title>Plik xorg.conf</title>
<body>

<p>
Plik konfiguracyjny Xorg nazywa się <path>xorg.conf</path> i znajduje się w
<path>/etc/X11</path>. Pakiet Xorg-X11 dostarcza przykładowy plik
konfiguracyjny <path>/etc/X11/xorg.conf.example</path>, który możesz użyć, aby
stworzyć własny. Zawiera dużo komentarzy, ale jeśli potrzebujesz więcej
dokumentacji odnośnie składni, nie wahaj się przeczytać stronę man:
</p>

<pre caption="Czytanie strony man xorg.conf">
# <i>man 5 xorg.conf</i>
</pre>

<p>
Miłego czytania, jeśli ktoś chce. My na pewno nie chcemy, więc będziemy
kontynuować na sprawdzeniu, jak możemy stworzyć plik automatycznie.
</p>

</body>
</section>
<section>
<title>Domyślnie: Automatyczna Generacja xorg.conf</title>
<body>

<p>
Xorg sam umie dobrać większość parametrów za Ciebie. W większości przypadków,
będziesz musiał tylko zmienić kilka linii, aby uzyskać pożądaną rozdzielczość.
Jeśli interesuje Cię mocniejsze podkręcanie, przeczytaj część Zasoby na końcu
tego rozdziału. Ale najpierw wygenerujmy (miejmy nadzieję działający) plik
konfiguracyjny Xorg.
</p>

<pre caption="Generowanie pliku xorg.conf">
# <i>Xorg -configure</i>
</pre>

<p>
Nie zapomnij przeczytać ostatnich linii wypisanych na ekranie, kiedy Xorg
zakończy wykrywanie sprzętu. Jeśli mówi, że się nie udało w którymś miejscu,
jesteś zmuszony ręcznie napisać plik <path>xorg.conf</path>. Zakładając, że się
udało, powie Ci, że stworzył <path>/root/xorg.conf.new</path> gotowy do testów.
Więc potestujmy :)
</p>

<pre caption="Testowanie pliku xorg.conf.new">
# <i>X -config /root/xorg.conf.new</i>
</pre>

<p>
Jeśli wszystko idzie dobrze, powinieneś zobaczyć brzydkiego, odrażającego,
wzdragającego, zdeformowanego zarządcę okien zwanego <c>twm</c>, prawdopodobnie
najmniejszego dostępnego zarządcę okien. Spróbuj poruszać myszą i zobacz czy
klawiatura i reszta działa. W następnej sekcji zoptymalizujemy nasz plik
<path>xorg.conf</path>, aby pasował do sprzętu. Teraz przejdź do jednego z
terminali, które widzisz na ekranie i wpisz <c>exit</c> (lub naciśnij Ctrl-D)
zanim Xorg nie zakończy pracy. Jeśli nie możesz użyć myszy, aby aktywować okno
terminalu, możesz również nacisnąć  Ctrl-Alt-Backspace, aby zabić serwer X.
</p>

</body>
</section>
<section>
<title>Zastępczo: Półautomatyczna Generacja xorg.conf</title>
<body>

<p>
Xorg udostępnia narzędzie zwane <c>xorgconfig</c>, które spyta Cię o kilka
różnych informacji dotyczących twojego systemu (karta graficzna, klawiatura,
...). Opierając się na twoich wpisach stworzy plik <path>xorg.conf</path>.
</p>

<pre caption="Półautomatyczna Generacja xorg.conf">
# <i>xorgconfig</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Podkręcanie xorg.conf</title>
<section>
<title>Nadpisywanie xorg.conf</title>
<body>

<p>
Najpierw przekopiuj <path>xorg.conf.new</path> na
<path>/etc/X11/xorg.conf</path>, abyśmy nie musieli uruchamiać ciągle <c>Xorg
-config</c> -- wpisywanie <c>startx</c> jest dużo prostsze :)
</p>

<pre caption="Nadpisywanie xorg.conf">
# <i>cp /root/xorg.conf.new /etc/X11/xorg.conf</i>
</pre>

<p>
Teraz uruchom <c>startx</c>, aby  wystartować serwer X. On użyje świeżo
nadpisanego pliku jako własnego pliku konfiguracyjnego. Aby zakończyć sesję X,
wpisz <c>exit</c> lub Ctrl-D w pojawiających się xtermach. Możesz również zabić
sesję X używająć kombinacji Ctrl-Alt-Backspace. To by było jednak hańbiące
wyjście z X - czego nie zawsze byś chciał. Jednak to nie boli :)
</p>

<pre caption="Startowanie X-ów">
# <i>startx</i>
</pre>

</body>
</section>
<section>
<title>Ustawianie Rozdzielczości</title>
<body>

<p>
Jeśli czujesz, że rozdzielczość ekranu jest zła, powinieneś sprawdzić dwie
sekcje w swojej konfiguracji. Najpierw jest sekcja <e>Screen</e>, w której jest
wykaz rozdzielczości - jeśli są jakiekolwiek - które serwer X będzie używał.
Domyślnie, ta sekcja może nie posiadać jakiegokolwiek wpisu o rozdzielczości w
ogóle. Jeśli tak jest, Xorg oszacuje rozdzielczości  opierając się na
informacjach z drugiej sekcji <e>Monitor</e>.
</p>

<p>
Xorg sprawdza wtedy ustawienia <c>HorizSync</c> i <c>VertRefresh</c> z sekcji
<e>Monitor</e>, aby obliczyć odpowiednie dla monitora rozdzielczości. Na tą
chwilę, zostaw te ustawienia tak jak są. Tylko gdy zmiany w sekcji
<e>Screen</e> (co opiszemy za minutę) nie dadzą rezultatu, będziesz musiał
przejrzeć specyfikację twojego monitora i wprowadzić poprawne wartości. Możesz
również użyć narzędzia, które przeszukuje specyfikacje monitora, takiego jak
<c>sys-apps/ddcxinfo-knoppix</c>.
</p>

<warn>
<b>Nie</b> zmieniaj "od tak sobie" tych dwóch wartości odnoszących się do
monitora bez przejrzenia specyfikacji twojego monitora. Ustawienie
nieprawidłowych wartości doprawadza do błędów przekroczenia odświeżania w
najlepszym wypadku, a spalenia ekranu w najgorszym.
</warn>

<p>
Teraz zmieńmy rozdzielczości. W następnym przykładzie z
<path>/etc/X11/xorg.conf</path> dodamy linie <c>Modes</c> i
<c>DefaultDepth</c>, tak aby nasz serwer X startował domyślnie z 24 bitami przy
rozdzielczości 1024x768. Nie zajmuj się podanymi napisami - są przykładami i
zwykle różnią się od ustawień dla twojego systemu.
</p>

<pre caption="Zmienianie sekcji Screen w /etc/X11/xorg.conf">
Section "Screen"
  Identifier  "Default Screen"
  Device    "S3 Inc. ProSavage KN133 [Twister K]"
  Monitor   "Generic Monitor"
  <i>DefaultDepth  24</i>
  <comment># Pewna część tekstu pominięta dla zwiększenia czytelności</comment>
  SubSection "Display"
    Depth   24
    <i>Modes   "1024x768"</i>
  EndSubSection
EndSection
</pre>

<p>
Uruchom X-y (<c>startx</c>), aby sprawdzić, czy używają pożądanej
rozdzielczości :)
</p>

</body>
</section>
<section>
<title>Konfigurowanie Klawiatury</title>
<body>

<p>
Aby ustawić X-y do używania międzynarodowej klawiatury, znajdź sekcję
<e>InputDevice</e>, która konfiguruje klawiaturę i dodaj opcję
<c>XkbLayout</c>, wskazując na klawiaturę, którą chcesz. Na przykład, pokażemy
Ci jak uzyskać klawiaturę Belgijską. Podmień po prostu kod języka na swój:
</p>

<pre caption="Zmienianie układu klawiatury">
Section "InputDevice"
  Identifier  "Generic Keyboard"
  Driver    "keyboard"
  Option    "CoreKeyboard"
  Option    "XkbRules"  "xorg"
  Option    "XkbModel"  "pc105"
  <i>Option    "XkbLayout" "be"</i>
EndSection
</pre>

</body>
</section>
<section>
<title>Konfigurowanie Myszy</title>
<body>

<p>
Jeśli twoja mysz nie działa, najpierw musisz dowiedzieć się czy została wykryta
przez jądro w ogóle. Myszy PS/2 (zgodnie z urządzeniem) widziane są jako
<path>/dev/psaux</path>. Inne myszy (jak myszy USB) są widziane jako
<path>/dev/input</path> (lub <path>/dev/input/mice</path>). W każdym przypadku
możesz sprawdzić, czy urządzenia reprezentują twoją myszę sprawdzając dane
wyjściowe tych plików, kiedy poruszasz myszą. Aby zakończyć sesję naciśnij
<c>Ctrl-C</c>.
</p>

<pre caption="Sprawdzanie plików urządzeń">
# <i>cat /dev/input</i>
<comment>(Nie zapomnij nacisnąć Ctrl-C, aby to przerwać)</comment>
</pre>

<p>
Jeśli twoja mysz nie zostanie wykryta, sprawdź, czy wszystkie niezbędne moduły
są załadowane.
</p>

<p>
Jeśli twoja mysz jest wykryta, wpisz nazwę urządzenia w odpowiedniej sekcji
<e>InputDevice</e>. W następnym przykładzie zobaczysz, jak ustawiamy również
dwie inne opcje: <c>Protocol</c> (wskazuje protokół myszy, który będzie użyty -
większość użytkowników wybierze PS/2 lub IMPS/2) i <c>ZAxisMapping</c> (pozwala
na użycie kółka myszy - jeśli się da).
</p>

<pre caption="Zmienianie ustawień myszy w Xorg">
Section "InputDevice"
  Identifier  "TouchPad Mouse"
  Driver    "mouse"
  Option    "CorePointer"
  <i>Option    "Device"    "/dev/psaux"</i>
  <i>Option    "Protocol"    "IMPS/2"</i>
  <i>Option    "ZAxisMapping"    "4 5"</i>
EndSection
</pre>

<p>
Uruchom <c>startx</c> i ciesz się z rezultatu :) Gratulacje,  teraz posiadasz
(miejmy nadzieję) działające Xorg w twoim systemie. Następny krok to usunięcie
tego lekkiego zarządcy okien i użycie lepszego (lub nawet całego środowiska
pulpitu) takiego jak KDE lub GNOME, ale to nie jest część tego przewodnika :)
</p>

</body>
</section>
</chapter>
<chapter>
<title>Zasoby</title>
<section>
<title>Tworzenie i Podkręcanie xorg.conf</title>
<body>

<p>
Na początek, <c>man 5 xorg.conf</c> udostępnia krótki, już kompletny informator
o składniach użytych w pliku konfiguracyjnym. Otwórz go w terminalu podczas
edycji pliku konfiguracyjnego!
</p>

<p>
Drugi punkt zasobów na twoim systemie to katalog
<path>/usr/X11R6/lib/X11/doc</path> z różnymi plikami <path>README</path> dla
osobnych chipsetów graficznych.
</p>

<p>
Jest również dużo zasobów w sieci o edytowaniu <path>xorg.conf</path>. Podamy
tylko kilka z nich, użyj <uri link="http://www.google.com">Google</uri> aby
znaleźć więcej :) Jako że <path>xorg.conf</path> i <path>XF86Config</path>
(plik konfiguracyjny projektu XFree86) używają tej samej składni dla większości
opcji konfiguracyjnych oraz istnieje więcej informacji o
<path>XF86Config</path>, podamy również i te zasoby.
</p>

<ul>
  <li>
    <uri link="http://tldp.org/HOWTO/XFree-Local-multi-user-HOWTO/">The XFree
    Local Multi-User HOWTO</uri>
  </li>
  <li>
    <uri
    link="http://www-106.ibm.com/developerworks/edu/os-dw-linuxxwin-i.html">An
    Introduction to XFree 4.x</uri> napisana przez Chrisa Housera
  </li>
</ul>

</body>
</section>
</chapter>
</guide>
