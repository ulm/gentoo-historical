<?xml version='1.0' encoding='UTF-8'?>

<!-- $Header $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pl/xfce-config.xml" lang="pl">

<title>Konfiguracja Xfce</title>

<author title="Autor">
  <mail link="nightmorph@gentoo.org">Joshua Saddler</mail>
</author>
<author title="Tłumaczenie">
  <mail link="dawid.weglinski@gmail.com">Dawid Węgliński</mail>
</author>
<abstract>
W przewodniku tym przedstawiono rozszerzone wprowadzenie do szybkiego i
lekkiego środowiska graficznego jakim jest Xfce. 
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.2</version>
<date>2007-02-18</date>

<chapter>
<title>Wprowadzenie</title>
<section>
<title>Środowisko graficzne Xfce</title>
<body>

<p>
<uri link="http://www.xfce.org">Xfce</uri> jest szybkim, lekkim środowiskiem
graficznym dla systemów uniksowych. Został stworzony z myślą o wysokiej
wydajności i możliwością pełnej konfiguracji, zachowując zarazem kompatybilność
ze specyfikacją <uri link="http://www.freedesktop.org">Freedesktop</uri>.
</p>

<p>
W odróżnieniu od cięższych środowisk, takich jak Gnome i KDE, Xfce używa dużo
mniej zasobów systemowych. Dodatkowo, Xfce oferuje większą modularność i mniej
zależności - zajmuje mniej miejsca na przestrzeni dyskowej, a jego instalacja
zajmuje zdecydowanie mniej czasu, co jest dodatkowym atutem.
</p>

<p>
Przewodnik pokaże nie tylko jak zainstalować i skonfigurować środowisko Xfce, ale
również odkryje opcje pozwalające wykorzystać 100% jego możliwości, zachowując
swoją filozofię: lekko, szybko i modularnie.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Instalacja Xfce</title>
<section>
<title>Podstawy</title>
<body>

<p>
Zanim zainstalujemy w pełni funkcjonalną, minimalną wersję, spójrzmy jakie
składniki zostaną zainstalowane.
</p>

<table>
<tr>
  <th>Nazwa</th>
  <th>Opis</th>
</tr>
<tr>
  <ti>xfce4</ti>
  <ti>Podstawa środowiska Xfce</ti>
</tr>
<tr>
  <ti>xscreensaver</ti>
  <ti>
    Screensaver z opcją oszczędności energii i możliwością blokady ekranu w
    celach bezpieczeństwa
  </ti>
</tr>
<tr>
  <ti>hal</ti>
  <ti>
    Hardware Abstraction Layer. Hal umożliwia aplikacjom zlokalizować i użyć
    różnych urządzeń. Ułatwia to pracę z przenośnymi nośnikami danych, takimi
    jak pendrive USB lub CD/DVD. Instalacja <c>hal</c> zainstaluje również
    <c>dbus</c>.
  </ti>
</tr>
<tr>
  <ti>gamin</ti>
  <ti>
    Użyty z graficzną przeglądarką plików staje się bardzo wygodnym narzędziem,
    służącym do monitorowania zmian w plikach.
  </ti>
</tr>
</table>

<p>
Oczywiście istnieje możliwość instalacji każdego innego pakietu, ale założeniem
jest stworzyć szybką, minimalistyczną wersję środowiska. Należy podwójnie
sprawdzić flagi USE w <path>/etc/make.conf</path>. Dobrą opcją jest dodanie
<c>USE="-gnome"</c>, aby zapobiec instalacji niepotrzebnych zależności.
</p>

<pre caption="Instalacja Xfce">
# <i>emerge -avt xfce4 xscreensaver hal gamin</i>
</pre>

<p>
Następnie należy dodać użytkownika do grup <c>plugdev</c>, <c>cdrom</c>,
<c>cdrw</c> i <c>usb</c>, aby w pełni wykorzystać zalety <c>hal</c> i mieć
możliwość montowania i używania nośników takich jak aparaty, czy USB.
</p>

<pre caption="Dodanie użytkownika do odpowiednich grup">
<comment>(Należy zmienić nazwę użytkownika)</comment>
# <i>for x in plugdev cdrom cdrw usb ; do gpasswd -a username $x ; done</i>
</pre>

<p>
Teraz zaktualizujmy zmienne środowiskowe:
</p>

<pre caption="Aktualizacja zmiennych środowiskowych">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Wystartujmy <c>hald</c> i dodajmy go do poziomu uruchamiania default:
</p>

<pre caption="Uruchomienie hald">
# <i>/etc/init.d/hald start</i>
# <i>rc-update add hald default</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Konfiguracja Xfce</title>
<section>
<title>Uruchamianie Xfce</title>
<body>

<p>
Skoro Xfce jest już zainstalowane, zapewne chcemy, aby właśnie ono uruchamiało
sie po wpisaniu komendy <c>startx</c>. W tym celu należy się zalogować jako
zwykły użytkownik i wykonać polecenie:
</p>

<pre caption="Ustawienie Xfce jako domyślne środowisko graficzne">
$ <i>echo "exec startxfce4" > ~/.xinitrc</i>
</pre>

<p>
Uruchomienie Xfce ogranicza się teraz do wpisania <c>startx</c>
</p>

<pre caption="Uruchomienie Xfce">
$ <i>startx</i>
</pre>

<p>
Zespół Xfce wita i gratuluje dobrego wyboru środowiska graficznego. Można teraz
śmiało zaznajomić się z nim, a następnie kontynuować tę lekturę.
</p>

</body>
</section>
<section>
<title>Dostęp do programów</title>
<body>

<p>
Można zauważyć, że prawe kliknięcie myszki na pulpicie otwiera menu wszystkich
zainstalowanych aplikacji. Takie rozwiązanie jest dobre, ale czasami może
sprawić problemu - zwłaszcza, kiedy pulpit jest zasłonięty wieloma oknami. Z
tego powodu jedną z pierwszych rzeczy, które ułatwią użytkowanie Xfce jest
dodanie aplikacji menu do panelu. W tym celu należy nacisnąć prawym przyciskiem
myszy na panelu, a następnie wybrać "Dodaj Nowy Element" i z otwartego okna z
listą aplikacji wybrać "Menu Xfce". Można też wskazać miejsce na panelu, w
którym aplikacja ma być wyświetlana.
</p>

</body>
</section>
<section>
<title>Sesje i uruchamianie</title>
<body>

<p>
Jeśli są zainstalowane (lub planuje się zainstalować) popularne aplikacje z
rodzin Gnome lub KDE, takie jak <c>k3b</c>, <c>nautilus</c>, <c>kmail</c>,
<c>evolution</c> itp, należy mieć pewność, że Xfce uruchomi właściwe serwisy
przy starcie. Przejdźmy do Menu --> Ustawienia --> Sesje i uruchamianie..
W zakładce "Zaawansowane", należy zaznaczyć właściwe opcje. Może to odrobinę
wydłużyć czas uruchamiania się Xfce, ale spowolni czas uruchomienia aplikacji
KDE i Gnome.
</p>

<p>
Xfce ma możliwość zapisania ustawienia sesji i uruchomionych programów. Zapis
może się dokonywać automatycznie podczas wylogowania lub za potwierdzeniem
użytkownika. Służy do tego zakładka "Ogólne" w menu Sesje i uruchamianie. Ta
opcja jest szczególnie użyteczna przy zgubnych błędach konfiguracji. 
Przypadkowo zabity proces panelu? Wystarczy wybrać "Nie" kiedy Xfce zapyta 
się o zapis sesji. Terminal ma sie uruchamiać przy kolejnym logowaniu? 
Najzwyczajniej zapisz sesję przy wylogowaniu.
</p>

<p>
Xfce ma już swoją podstawową funkcjonalność, ale jeśli ktoś jest zainteresowany
czymś więcej, powinien kontynuować lekturę!
</p>

</body>
</section>
</chapter>

<chapter>
<title>Dodatkowe Aplikacje</title>
<section>
<title>Pluginy panelu</title>
<body>

<p>
W tym rozdziale zostaną omówione użyteczne pluginy i aplikacje, spełniające
codzienne potrzeby w obrębie Xfce.
</p>

<p>
W drzewie Portage dostępnych jest wiele pluginów dla panelu Xfce. Można je
przeglądnąć używając komendy <c>emerge --search xfce</c>. W większości
przypadków ich nazwy są wystarczająco wymowne, kilka zasługuje na uwagę,
ponieważ są naprawdę pomocne. Do ich instalacji zwyczajnie używamy polecenia
<c>emerge</c>. Pluginy zostaną dodane do listy w menu "Dodaj nowy element".
</p>

<ul>
  <li>
    <c>xfce4-mount</c> daje możliwość wygodnego montowania urządzeń zapisanych w
    <path>/etc/fstab</path>.
  </li>
<!-- xfce4-taskbar is integrated into the panel in 4.4; remove when stable -->
  <li>
    <c>xfce4-taskbar</c> potrafi całkowicie zamienić listę okien panelu. Jest
    użyteczny jeśli użytkownik lubi oszczędność przestrzeni pulpitu (lub dla
    małych monitorów). Po instalacji można go dodać do panelu, a następnie
    usunąć odseparowany panel z listą okien wykonując polecenie <c>killall -9
    xftaskbar4</c> w terminalu. Uzyskamy w ten sposób jeden panel, na którym
    zamieszczone będą ikony szybkiego uruchamiania, zegar itp.
  </li>
  <li>
    <c>xfce4-battery</c> jest idealny dla użytkowników laptopa. Wyświetla
    procentowo stan naładowania baterii, pozostały czas pracy, moc (AC baterii),
    stan wentylatora, ostrzeżenia. Może być nawet skonfigurowany w taki sposób,
    aby wykonywać polecenia na pewnych poziomach naładowania baterii. Ta opcja
    może być użyta, aby wprowadzić laptopa w stan hibernacji, kiedy bateria jest
    niemalże wyczerpana.
  </li>
  <li>
<!-- xfce4-minicmd has been superceded by verve in 4.4; remove when stable -->
    <c>xfce4-minicmd</c> jest małą linią poleceń wbudowaną w panel. Używanie jej
    jest szybsze niż otwarcie kolejnego terminala.
  </li>
</ul>

</body>
</section>
<section>
<title>Użyteczne programy</title>
<body>

<p>
Teraz dowiedzmy się jak dodać aplikacje zachowując filozofię Xfce.
</p>

<p>
Przede wszystkim należy dokonać zmiany nudnego <c>xterm-a</c> na
<c>xfce-extra/terminal</c>. <c>Terminal</c> jest wiele bardziej konfigurowalny i
użyteczny niż xterm, ponieważ wspiera Unicode, pseudo-przezroczystość i
przezroczystość wzmacnianą przez wbudowany kompresor Xfce. Oczywiście wszystko
bez dodatkowych pluginów.
</p>
<!-- Remove the warning about ~arch once 4.4 and terminal go stable -->
<note>
W czasie pisania tego tekstu <c>Terminal</c> jest zamaskowany na niektórych
architekturach, więc aby go zainstalować, należy dodać go do
<path>/etc/portage/package.keywords</path>.
</note>

<pre caption="Instalacja lepszego terminala">
<comment>(Polecenie to należy wykonać jedynie wtedy, gdy dostaliśmy ostrzeżenie o zamaskowaniu Terminala na naszej architekturze)</comment>
# <i>echo "xfce-extra/terminal" >> /etc/portage/package.keywords</i>

<comment>(W przeciwnym wypadku można spokojnie wykonać następujące polecenie bez dodatkowych kroków)</comment>
# <i>emerge -av xfce-extra/terminal</i>
</pre>

<p>
Kiedy już zostanie zainstalowany, należy zmienić polecenie, które uruchamia
domyślny terminal (mowa o ikonie terminala na panelu), na
<path>/usr/bin/Terminal</path>. Aby tego dokonać - prawy przycisk myszy na
ikonie, opcja "Właściwości".
</p>

<p>
Użytkownicy zwykle pragną też zmienić niewygodny menadżer plików, jakim jest
<c>xffm</c>, na taki, który jest bardziej intuicyjny. Wielu użytkowników chwali
sobie <c>rox</c>, który jest wygodniejszy i przyjemniejszy, ponieważ jest oparty
na ikonach i zachowuje się jak tradycyjny menadżer plików. Jeśli wymagania są
jeszcze mniejsze, warto zwrócić uwagę na aplikację zwaną <c>gentoo</c>.
(<c>Gentoo</c> nie jest w żaden sposób spokrewniony z dystrybucją Gentoo
Linux). Oba menadżery są lekkie i w pełni konfiguracyjne.
</p>

<!-- Remove the note about masked thunar once 4.4 is stable -->
<p>
W przyszłości <c>thunar</c> zastąpi miejsce <c>xffm</c> jako domyślny menadżer
plików dla Xfce, lecz póki co jest wciąż zamaskowany. Jakkolwiek, większość
ostatnich jego wersji jest w pełni użyteczny do codziennej pracy, a zapowiedzi
są obiecujące. Czując się na siłach, warto go wypróbować, instalując tzw.
wydanie kandydujące. Aby dowiedzieć się więcej jak odmaskować program i jego
zależności należy przeczytać rozdział podręcznika, zatytułowany <uri
link="doc/pl/handbook/handbook-x86.xml?part=3&amp;chap=3#doc_chap3">Instalacja
zamaskowanych programów</uri>.
</p>
<!-- remove mousepad once 4.4 is stable; right now it's included by default -->
<p>
Zainstalujmy teraz prosty, graficzny edytor tekstu, który jest łatwiejszy niż
<c>gvim</c> lub <c>xemacs</c> i ma mniej zależności.
</p>

<pre caption="Instalacja edytora tekstu">
# <i>emerge mousepad</i>
</pre>

<p>
Jeśli potrzebny jest bardziej zaawansowany edytor tekstu, ale nie ma to być
OpenOffice, warto zainstalować <c>abiword</c>. <uri
link="http://www.abisource.com">AbiWord</uri> jest lekki, szybki i w pełni
kompatybilny ze standardami obecnych typów dokumentów.
</p>

<pre caption="Instalacja zaawansowanego edytora tekstu">
# <i>emerge -avt abiword</i>
</pre>

<p>
Posiadanie klienta poczty internetowej nie kończy się na
<c>mozilla-thunderbird</c> i <c>evolution</c>. Warto zwrócić uwagę na
<c>sylpheed-claws</c>:
</p>
<!-- replacement seems to be called claws-mail, but still in ~arch -->
<pre caption="Instalacja klienta poczty internetowej">
# <i>emerge -avt sylpheed-claws</i>
</pre>

<p>
Dla potrzeb internetowych rozmów, idealnym kandydatem jest <c>irssi</c>.
Mały, niezwykle konfigurowalny klient IRC, który jest uruchamiany w terminalu.
Do używania większej ilości protokołów, warto pomyśleć o aplikacji, która
obsługuje wszystkie, a przynajmniej większość z nich. Takim programem może
być <c>gaim</c>.
</p>

<p>
Pełne wsparcie dla multimediów takich jak filmy i muzyka posiadają
<c>mplayer</c> oraz <c>audacious</c>. Obie aplikacje potrafią odtwarzać
większość dostępnych formatów oraz posiadają moc dodatkowych pluginów dającym im
dodatkową funkcjonalność.
</p>

<p>
Ostatecznie, potrzeba również przeglądarki internetowej. Prawie każda graficzna
przeglądarka wymaga więcej zasobów niż większość dotychczas zainstalowanych
aplikacji. Zwykle <c>mozilla-firefox</c> (lub <c>mozilla-firefox-bin</c>) jest
dobrym wyborem. Alternatywnie istnieje także <c>opera</c>. Niestety<c>opera</c> 
nie jest dostępna dla wszystkich architektur procesora i ma więcej zależności,
dopóki nie ustawi się dla niej odpowiednich flag USE.
</p>

<pre caption="Instalacja przeglądarki internetowej">
<comment>(Instalacja Mozilli Firefox'a)</comment>
# <i>emerge mozilla-firefox</i>
<comment>(Instalacja Opery)</comment>
# <i>echo "www-client/opera qt-static" >> /etc/portage/package.use</i>
# <i>emerge opera</i>
</pre>

<p>
Skoro już zostało opisanych kilka dobrych sugestii co do wypełnienia systemu
aplikacjami, zastanówmy się co jeszcze można zrobić, aby zdobyć doświadczenie z
xfce.
</p>

</body>
</section>
<section>
<title>Logowanie graficzne</title>
<body>

<p>
Wpis <c>startxfce4</c> został dodany do <path>~/.xinitrc</path>, aby móc się
zalogować wpisując w konsoli <c>startx</c>. Nie jest to złe, ale można logować
się używając graficznego menadżera logowania, który automatycznie uruchomi Xfce.
</p>

<p>
Najpierw należy mieć pewność, że Xfce uruchomi się po procesie bootowania:
</p>

<pre caption="Dodanie xdm do poziomu uruchamiania default">
# <i>rc-update add xdm default</i>
</pre>

<p>
To jeszcze nie koniec. Teraz należy wybrać menadżer logowania i ustawić
odpowiednie zmienne. Jest kilka możliwości w drzewie Portage, lecz ten w tym
przewodniku zostaną omówione dwie opcje: <c>xdm</c> i <c>gdm</c>.
</p>

<p>
<c>xdm</c> jest szybki i lekki, ale nie jest zbyt piękny. Nie jest również w
żaden sposób konfigurowalny. Aby go użyć, należy wykonać polecenie:
</p>

<pre caption="Installing XDM">
# <i>emerge -avt xdm</i>
</pre>

<p>
Następnie należy ustawić zmienną DISPLAYMANAGER w <path>/etc/conf.d/xdm</path>:
</p>

<pre caption="Edycja /etc/conf.d/xdm">
DISPLAYMANAGER="xdm"
</pre>

<p>
Jeśli wygląd <c>xdm</c> nie pasuje użytkownikowi, warto użyć <c>gdm</c>. Jest on
znacznie bardziej konfigurowalny i znacznie, znacznie ładniejszy. Najpierw
należy go zainstalować i w tym celu posłużyć się znanym poleceniem
<c>emerge</c>. Trzeba mieć na uwadze, że chociaż ma kilka zależności, są one
małe i nie jest ich tak wiele jak liczba zależności innych menadżerów.
</p>

<pre caption="Instalacja GDM">
# <i>emerge -avt gdm</i>
</pre>

<p>
Aby gdm został uruchamiany po procesie bootowania, należy odpowiednio ustawić
zmienną DISPLAYMANAGER:
</p>

<pre caption="Edycja /etc/conf.d/xdm">
DISPLAYMANAGER="gdm"
</pre>

</body>
</section>
<section>
<title>Upiększanie środowiska</title>
<body>

<p>
Drobne zmiany wyglądu środowiska mogą być nieco uciążliwe. Xfce ma wszystkie
opcje, jakich oczekuje się od nowoczesnych środowisk. Od wygładzania konturów
czcionek, schematy kolorów, mnóstwo dekoracji okien, motywy i wiele, wiele
innych. Jeśli to za mało, zawsze można zainstalować motywy, ikony, motywy
kursora i tapety.
</p>

<p>
Wyboru ładnej tapety z motywem Gentoo w różnych rozdzielczościach, można dokonać
na stronie <uri link="/main/en/graphics.xml">Grafiki Gentoo Linux</uri>. Ikony i
motywy ściśle przeznaczone dla Xfce, są dostępne na portalu <uri
link="http://www.xfce-look.org/">Xfce-Look</uri>. Ważną rzeczą, o której należy
pamiętać o pobranych paczkach, jest to, że zwykle należy je najpierw rozpakować,
a następnie zainstalować w odpowiednich katalogach. Ikony w
<path>/usr/share/icons/</path>, tematy w <path>/usr/share/themes/</path>. Tych
katalogów należy użyć, jeśli chce się, aby każdy użytkownik mógł z nich
skorzystać. Dla każdego użytkownika indywidualnymi katalogami są odpowiednio
<path>~/.icons/</path> oraz <path>~/.themes/</path>.
</p>

<p>
Tych, którzy zdecydowali się na używanie menadżera GDM, może zainteresować
strona <uri link="http://www.gnome-look.org">Gnome-Look</uri>, na której
znajduje się wiele motywów, właśnie dla tej aplikacji. Aby je zainstalować,
należy je rozpakować i przenieść do katalogu <path>/usr/share/gdm/themes/</path>
lub uruchomić <c>gdmsetup</c> jako <c>root</c>. W ten sposób instalacja
ogranicza się do przeniesienia metodą drag'n'drop archiwum na okno GDM. Są
oczywiście dostępne <uri
link="http://gnome-look.org/content/show.php?content=45575">bardzo ładne</uri>
motywy <uri
link="http://gnome-look.org/content/show.php?content=20071">Gentoo</uri>.
</p>

<p>
Xfce posiada własny, wbudowany kompozytor do zarządzania przezroczystością.
Opcja ta może być znaleziona w Menu --> Ustawienia --> Menadżer Okien. Do
uzyskania lepszych wyników potrzebna jest odpowiednia karta graficzna ze
sterownikiem wspierającym sprzętową akcelerację obrazu oraz włączenie opcji
Composite w <path>/etc/X11/xorg.conf</path>, dodając następującą sekcję:
</p>

<pre caption="Włączenie opcji Composite w xorg.conf">
Section "Extensions"
    Option  "Composite"  "Enable"
EndSection
</pre>

<p>
Jest to oczywiście podstawa konfiguracji, której wymaga Xfce i Xorg-x11.
Ustawienie sprzętowej akceleracji obrazu zależy od posiadanej karty graficznej i
jest poza zakresem tego poradnika. Aby dowiedzieć się czegoś więcej na ten temat
należy zajrzeć do podręcznika 
<uri link="/doc/pl/index.xml?catid=desktop">Dokumentacja dla Gentoo na stacjach 
roboczych</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Podsumowanie</title>
<section>
<body>

<p>
Serdeczne gratulacje dotarcia do tego miejsca poradnika. Xfce zostało poprawnie
zainstalowane i skonfigurowane.
</p>

</body>
</section>
<section>
<title>Zasoby</title>
<body>

<p>
Potrzeba dodatkowej pomocy podczas konfiguracji i użytkowania Xfce? Więcej
sugestii dotyczących lekkich aplikacji? Warto zapytać na:
</p>

<ul>
  <li><uri link="http://forums.gentoo.org">Forum Gentoo</uri></li>
  <li>#xfce na irc.freenode.net</li>
</ul>

<p>
Za obecność Xfce w drzewie Portage odpowiedzialna jest drużyna Xfce Gentoo.
Wszelkie komentarze, podziękowania i sugestie należy wysłać na adres
<mail>xfce@gentoo.org</mail>
</p>

</body>
</section>
</chapter>
</guide>
