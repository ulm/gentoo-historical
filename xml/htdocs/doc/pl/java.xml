<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/java.xml,v 1.4 2005/08/29 11:55:39 rane Exp $ -->

<!-- Orig revision: 1.15  -->
<!-- Translator: muchar <muchar@gentoo.pl> -->
<!-- Title: Java w Gentoo -->
<!-- Status: Finished -->
<!-- $Id: java.xml,v 1.4 2005/08/29 11:55:39 rane Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pl/java.xml" lang="pl">
<title>Java w Gentoo</title>

<author title="Autor">
 <mail link="karltk@gentoo.org">Karl Trygve Kalleberg</mail>
</author>
<author title="Redaktor">
 <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Redaktor">
 <mail link="vanquirius@gentoo.org">Marcelo Góes</mail>
</author>
<author title="Tłumacz">
 <mail link="muchar@gentoo.pl">Robert Muchacki</mail>
</author>

<abstract>
Tekst o konfiguracji i pracy z Javą w Gentoo.
</abstract>

<license/>

<version>0.1.6</version>
<date>2005-03-06</date>

<chapter>
<title>Co to jest Java?</title>
<section>
<title>Ogólny przegląd</title>
<body>

<p>
Java to język programowania opracowany przez inżynierów z laboratoriów Sun
Microsystems. Jest to zorientowany obiektowo język, który może być uruchamiany
na wielu platformach, bez konieczności rekompilacji kodu dla każdej z platform
osobno. Pomimo, że Java może być kompilowana do zwykłego programu, to jej
największą popularność powoduje fakt, że jest wysoce przenoszalna, oraz
posiada możliwość łatwego pozbywania się śmieci z kodu. Możliwość dokonania
jednej kompilacji na wiele platform zapewniona jest przez kompilatory
just-in-time (JIT - "w samą porę"), które kompilują kod Java do kodu natywnego w
trakcie uruchamiania się aplikacji.
</p>

<p>
Aby uruchomić program napisany w Javie, należy mieć zainstalowany JRE (Java
Runtime Environment - środowisko uruchomieniowe Java). JRE instaluje główne
biblioteki, maszynę wirtualną Java, wtyczki do przeglądarek, etc. JDK (Java
Development Kit) dodaje narzędzia programistyczne, jak na przykład kompilator
kodu Java czy debugger.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Instalacja środowiska JRE/JDK</title>
<section>
<title>Wybory</title>
<body>

<p>
W Gentoo dostępne jest kilka rodzajów zarówno JRE jak i JDK.
</p>

<ul>
<li>blackdown-jre oraz blackdown-jdk, z Blackdown Java Kit</li>
<li>sun-jre-bin i sun-jdk, z Sun's Java Kit </li>
<li>ibm-jre-bin oraz ibm-jdk-bin, z IBM Java Kit</li>
<li>compaq-jre i compaq-jdk, z Compaq Java Kit dla platformy Alpha/Linux/GNU</li>
<li>jrockit-jdk-bin, z BEA WebLogic's J2SE Development Kit</li>
</ul>

<p>
Domyślnym jest para JRE/JDK z Blackdown, jako że jej instalacja nie wiąże się z
koniecznością dokonywania jakiejkolwiek rejestracji.
</p>

<p>
Zarówno Sun JRE/JDK jak i IBM JRE/JDK są zdecydowanie szybsze, niemniej jednak,
zdobycie ich wymaga nieco więcej pracy, gdyż należy przeczytać i zaakceptować
ich licencję przed pobraniem plików z sieci (IBM dodatkowo wymaga rejestracji).
</p>

<p>
Ebuildy dla Sun JRE/JDK oraz IBM JRE/JDK powiadomią o tym, skąd można pobrać
odpowiednie pliki.
</p>

</body>
</section>

<section>
<title>Instalowanie Sun/IBM JRE/JDK</title>
<body>

<p>
Jeśli zostanie uruchomione <c>emerge =sun-jdk-1.4.2.06</c> lub
<c>=ibm-jdk-bin-1.4.2</c>, wyświetlony zostanie komunikat o konieczności
pobrania plików samodzielnie. Jest to związane z ograniczeniami licencyjnymi dla
Sun JRE/JDK (licencja dostępna na sieci) oraz IBM JRE/JDK.
</p>

<note>
Obecnie ibm-jdk-bin jest zamaskowane. Przed instalacją, należy go odmaskować.
</note>

<p>
Wszystkie wskazane pliki należy umieścić w katalogu
<path>/usr/portage/distfiles</path>. Dopiero potem można ponownie uruchomić
polecenie emerge, aby dane JRE/JDK zostały poprawnie zainstalowane w
<path>/opt</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Konfiguracja JRE/JDK</title>
<section>
<title>Przegląd</title>
<body>

<p>
Gentoo posiada możliwość zainstalowania wielu JDK oraz JRE równocześnie.
</p>

<p>
Używając z konta roota narzędzia <c>java-config</c>, można ustawić domyślne
środowisko dla całego systemu. Użytkownicy również mogą użyć <c>java-config</c>,
aby ustawić własne domyślne środowisko, które może być inne niż te określone w
systemie.
</p>

</body>
</section>

<section>
<title>Ustawianie domyślnego środowiska JRE/JDK</title>
<body>

<p>
Uruchamiając polecenie <c>java-config --list-available-vms</c>, wyświetlona
zostanie lista dostępnych JRE oraz JDK na danym systemie. Poniżej przedstawiony
został przykład takiej listy:
</p>

<pre caption="Wyświetlanie dostępnych maszyn wirtualnych">
# <i>java-config --list-available-vms</i>
[blackdown-jdk-1.3.1] Blackdown JDK 1.3.1 (/etc/env.d/java/20blackdown-jdk-1.3.1)
[blackdown-jre-1.3.1] Blackdown JRE 1.3.1 (/etc/env.d/java/20blackdown-jre-1.3.1)
[ibm-jdk-1.3.0] IBM JDK 1.3.0 (/etc/env.d/java/20ibm-jdk-1.3.0)
[ibm-jdk-1.3.1] IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
[ibm-jre-1.3.1] IBM JRE 1.3.1 (/etc/env.d/java/20ibm-jre-1.3.1)
[sun-jdk-1.4.0] Sun JDK 1.4.0 (/etc/env.d/java/20sun-jdk-1.4.0)
</pre>

<p>
Nazwy w nawiasach <path>"[]"</path> to wskaźnik lub identyfikator dla konkretnej
maszyny wirtualnej. Przekazując tę zawartość do <c>java-config
--set-system-vm</c>, ustawia się wskazaną maszynę wirtualną jako domyślną.
Poniżej znajduje się przykład takiej czynności.
</p>

<pre caption="Ustawianie domyślnej maszyny wirtualnej dla systemu">
# <i>java-config --set-system-vm=ibm-jdk-1.3.1</i>
Now using IBM JDK 1.3.1 (/etc/env.d/java/20ibm-jdk-1.3.1)
</pre>

<note>
Należy być zalogowanym jako root, aby móc skorzystać z --set-system-vm.
</note>

<p>
Po zmianie domyślnej maszyny wirtualnej Java przy pomocy polecenia
<c>java-config --set-system-vm</c>, należy przegenerować ponownie
/etc/profile.env. Aby tego dokonać, należy wykonać:
</p>

<pre caption="Przegenerowanie /etc/profile.env" >
# <i>env-update</i>
</pre>

<p>
Potem można albo się przelogować albo odświeżyć środowisko wczytując plik
<path>/etc/profile</path>.
</p>

<p>
Jako zwykły użytkownik, można użyć <c>java-config --set-user-vm</c>, który
stworzy <path>~/.gentoo/java-env</path> z odpowiednimi zmiennymi wewnątrz. Plik
ten będzie odczytywany ze skryptu startowego powłoki (na ogół jest to
<path>~/.bashrc</path>).
</p>

</body>
</section>

<section>
<title>Ustawianie domyślnego CLASSPATH</title>
<body>

<p>
<c>java-config</c> może również być użyta do ustawienia domyślnego CLASSPATH na
poziomie całego systemu, oraz oczywiście dla konkretnego użytkownika.
</p>

<p>
Najpierw warto sprawdzić jakie są dostępne biblioteki, które można umieścić w
CLASSPATH. Poniżej przykład jak uzyskać taką listę:
</p>

<pre caption="Tworzenie listy klas">
# <i>java-config --list-available-packages</i>
[bsh] BeanShell is a small, free, embeddable, Java
source interpreter with object scripting language
features. (/usr/share/bsh/package.env)
[oro] A set of text-processing Java classes that
provide Perl5 compatible regular expressions, AWK-like
regular expressions, glob expressions, and utility
classes for performing substitutions, splits, filtering
filenames, etc. (/usr/share/oro/package.env)
[bcel] The Byte Code Engineering Library: analyze, create,
manipulate Java class files (/usr/share/bcel/package.env)
[jsch] JSch is a pure Java implementation of SSH2.
(/usr/share/jsch/package.env)
...
</pre>

<p>
Ponownie, nazwy w nawiasach <path>"[]"</path> to identyfikatory, które należy
przekazać do <c>java-config --set-system-classpath</c>. Poniżej przykład:
</p>

<pre caption="Ustawianie ścieżek dla klas">
# <i>java-config --set-system-classpath=log4j,java-gtk,java-gnome</i>
</pre>

<note>
Bieżąca ścieżka (.) nie będzie częścią systemowej ścieżki do klas, jako że
zostanie dodana do skryptu logowania roota.
</note>

<p>
W tym przypadku również należałoby uruchomić polecenie <c>env-update</c>, aby
zaktualizować środowisko systemu. Można również przelogować się lub ponownie
wczytać <path>/etc/profile</path>.
</p>

<p>
Dla użytkowników, polecenie <c>java-config --set-user-classpath</c> stworzy
<path>~/.gentoo/java-env-classpath</path>, które jest automatycznie dodawane z
pliku <path>~/.gentoo/java-env</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Flagi USE których można użyć z Javą</title>
<section>
<title>Ustawianie flag USE</title>
<body>

<p>
Aby uzyskać więcej informacji dotyczących flag USE, należy odwołać sie do
rozdziału opisującego <uri
link="/doc/pl/handbook/handbook-x86.xml?part=2&amp;chap=2">flagi
USE</uri> w Podręczniku Gentoo.
</p>

</body>
</section>
<section>
<title>Flagi</title>
<body>

<ul>
  <li>Flaga <b>java</b> dodaje obsługę dla Javy w wielu programach</li>
  <li>
    Flaga <b>mozilla</b> dodaje obsługę Javy dla przeglądarek z rodziny
    Mozilli (w tym Firefox) jeżeli używany jest zestaw Javy z Blackdown. Jest to
    potrzebne, aby korzystać z apletów Java w tych przeglądarkach.</li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Dodatkowe zasoby</title>
<section>
<title>Zasoby poza siecią</title>
<body>

<ul>
  <li>Strona podręcznika systemowego java-config</li>
  <li><c>java-config --help</c></li>
  <li>Skrypt <path>/usr/bin/java-config</path> sam w sobie</li>
</ul>

</body>
</section>

<section>
<title>Zasoby w sieci</title>
<body>
<ul>
<li>Archiwa list
<uri link="http://news.gmane.org/gmane.linux.gentoo.devel">gentoo-dev</uri>,
<uri link="http://news.gmane.org/gmane.linux.gentoo.user">gentoo-user</uri>
</li>
<li>Kanały #gentoo oraz #gentoo-java w sieci irc.freenode.net</li>
<li><uri link="http://en.wikipedia.org/wiki/Java_programming_language">Strona Wikipedii o Java</uri></li>
</ul>

</body>
</section>
</chapter>
</guide>
