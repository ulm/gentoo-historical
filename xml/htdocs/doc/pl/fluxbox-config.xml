<?xml version="1.0" encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/fluxbox-config.xml,v 1.10 2005/09/29 01:14:30 rane Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/pl/fluxbox-config.xml" lang="pl">
<title>Fluxbox - instalacja i konfiguracja</title>

<author title="Autor">
  <mail link="smithj@gentoo.org">Jonathan Smith</mail>
</author>
<author title="Redaktor">
  <mail link="alin@gentoo.org">Alin Dobre</mail>
</author>
<author title="Tłumaczenie">
  Mariusz Wołos
</author>

<abstract>
Przewodnik ten opisuje w jaki sposób skonfigurować Fluxbox, menedżer okien
środowiska X11.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.1.8</version>
<date>2005-08-11</date>

<chapter>
<title>Wstęp</title>
<section>
<title>Wprowadzenie do menedżera okien Fluxbox</title>
<body>

<p>
Menedżery okien to programy, które są uruchamiane przez serwer X11 w celu
zarządzania aplikacjami graficznymi. Nie są one wprawdzie niezbędne, ale znacznie
poprawiają brzydki domyślny wygląd serwera X, który jest pozbawiony wielu
nowoczesnych funkcji graficznego środowiska pracy.
</p>

<p>
Fluxbox jest środowiskiem, którego twórcy kładą nacisk na mały rozmiar i
szybkość działania, co daje mu znaczną przewagę nad mało wydajnymi menedżerami w
stylu KDE i GNOME. Fluxbox spełnia te same podstawowe funkcje, ale nie jest
wyposażony w graficzny menedżer plików, ikony, mechanizm typu "start-menu" i
inne niepotrzebne dodatkowe funkcje. Posiada za to możliwość rozszerzenia o te
dodatkowe funkcje w razie potrzeby.
</p>

<p>
Przewodnik ten skierowany jest do osób nie znających Fluxboksa, zainteresowanych
nim oraz chcących go wykorzystać w swoim systemie. Pokażemy w nim jak za
pomocą zewnętrznych aplikacji rozszerzyć Fluxboksa o wiele przydatnych
funkcji.
</p>

<p>
Należy zauważyć, że w roku 2005 serwer XFree86 został zastąpiony w Portage
przez Xorg. W tym przewodniku zakładamy, że użytkownik posiada Xorg. Jeśli nie
jest to prawdą, polecamy szybkie zainstalowanie odpowiedniego serwera przy
pomocy polecenia <c>emerge xorg-x11</c>. Tekst ten może być również przydatny
dla użytkowników Xfree86, nie staramy się jednak w żaden sposób dostosować się
do pracy z tym serwerem.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Instalowanie Fluxboksa</title>
<section>
<title>Instalacja podstawowa</title>
<body>

<p>
Dzięki odpowiedniemu ebuildowi instalacja Fluxboksa jest dość prosta i szybka.
Poprzez dodanie flag USE <c>gnome</c> i <c>kde</c> można zapewnić zgodność
naszego menedżera z jego konkurentami, z doświadczenia wiemy jednak, że nie
jest to absolutnie do niczego potrzebne. Wszystkie aplikacje związane z KDE i
GNOME można zemergować i skonfigurować osobno. Autor tego tekstu z powodzeniem
używa np. k3b (programu z KDE) do nagrywania płyt pod fluxboksem.
</p>

<p>
Warto też zaopatrzyć się w program, który będzie blokował sesję środowiska X
przed nieautoryzowanym dostępem - <c>xlock</c>. Większość użytkowników na pewno
zechce również mieć możliwość zmiany tła pulpitu. W tym celu powinni emergować
<c>eterm</c>, który jednocześnie jest ładnym terminalem dla X11.
</p>

<pre caption="Emergowanie Fluxbox">
# <i>emerge fluxbox xlockmore x11-terms/eterm</i>
</pre>

<p>
Cóż, to wszystko. Fluxbox jest już zainstalowany! Jednak z domyślnym zestawem
narzędzi nie można w pełni korzystać z jego zalet. Kolejne rozdziały
pomogą w zainstalowaniu innych, potencjalnie potrzebnych pakietów oraz w
skonfigurowaniu Fluxboksa i zewnętrznych programów, aby dobrze pracowały dla
użytkownika. Należy pamiętać o tym, że żaden z opisanych kroków nie jest
obowiązkowy, dlatego też można w nich dowolnie przebierać.
</p>


</body>
</section>
</chapter>
<chapter>
<title>Konfigurowanie Fluxboksa</title>
<section>
<title>Przygotowanie środowiska X11</title>
<body>

<p>
Fluxbox można traktować jak każdą inną aplikację uruchamianą w środowisku X11 i
uruchamiać poprzez wpisanie w konsoli <c>startx</c>, a następnie <c>fluxbox</c>
w terminalu serwera X. Jest to jednak dość niewygodna metoda. Możliwe jest
ustawienie automatycznego startowania fluxboksa przy każdym uruchomieniu serwera
X. Dokonuje się tego poprzez wydanie (z konta zwykłego użytkownika) polecenia:
</p>

<pre caption="Edytowanie pliku xinit">
$ <i>echo exec startfluxbox > ~/.xinitrc</i>
</pre>

<p>
Takie rozwiązanie nie jest jednak wygodne dla większości użytkowników, którzy
przez cały czas chcą pracować w środowisku graficznym. Wpisywanie <c>startx</c>
za każdym razem po starcie komputera, aby wydostać ze środowiska graficznego jest
bardzo uciążliwe. Takie postępowanie stanowi też potencjalne zagrożenie dla
nieświadomych użytkowników. Jeżeli ktoś zablokował ekran za pomocą <c>xlock</c>,
ale środowisko X11 uruchomił z konsoli, to ktoś inny, kto posiada fizyczny
dostęp do komputera może przełączyć się na konsolę z której uruchomiono sesję
X11, zabić ją i może używać konta użytkownika. Aby zapobiec takiej sytuacji
można albo uruchomić sesję X11 w tle, albo uruchomić ją w sesji programu screen,
po czym odłączyć screen i wylogować się. Delikatnie mówiąc jest to zadanie dosyć
żmudne. Problem ten nie istnieje jeżeli używany jest graficzny menedżer
logowania. W takim jednak przypadku sesja X11 będzie uruchomiona z konta
superużytkownika (root) co również może nie być dobrym rozwiązaniem. W momencie
powstawania tego przewodnika autor nie posiada wiedzy na temat istnienia
jakiegokolwiek exploitu. Jeżeli jednak ktoś martwi się tym zagadnieniem to może
albo nie używać wcale środowiska graficznego, albo stosować podane wyżej
rozwiązanie ze screenem. Należy przy tym mieć na uwadze fakt, że nie jest to
kwestia Fluxboksa, lecz samego środowiska X11.
</p>

<!--
thanks to Josh Nichols for helping cleanup this section. see comment #4 on bug
87330
-->

<p>
Mamy do wyboru kilka graficznych menedżerów logowania do wyboru. W przewodniku
omówimy gdm. Można też korzystać z innych menedżerów logowania, ale to gdm
najlepiej pracuje zarówno z Fluxboksem jak i z innymi menedżerami okien
zainstalowanymi w komputerze użytkownika takimi jak np. GNOME, KDE czy xfce.
</p>

<pre caption="Menedżer logowania">
# <i>emerge gdm</i>
# <i>rc-update add xdm default</i>
</pre>

<impo>
Należy zwrócić uwagę na to, by najpierw zemergować gdm, a dopiero potem dodawać
skrypt xdm do poziomu startowego. Odwrócenie kolejności wykonania tych poleceń
zakończy się niepowodzeniem. Poza tym należy zmodyfikować jeden systemowy
plik konfiguracyjny.
</impo>

<pre caption="Edycja /etc/rc.conf">
DISPLAYMANAGER="gdm"
</pre>

</body>
</section>
<section>
<title>Wystroje pulpitu i grafika</title>
<body>

<p>
Wszyscy, którzy chcą mieć minimalną wersję Fluxboksa mogą ten rozdział pominąć.
Wszystkim innym wypada jednakże umożliwić zmianę wyglądu menedżera okien. W tym
celu zainstalowane zostaną schematy wyglądu specyficzne dla Fluxboksa, grafiki
związane z Gentoo do wykorzystania w dowolnym menedżerze okien, oraz schematy
wyglądu do wykorzystania w każdym menedżerze okien serii *box.
</p>

<pre caption="Instalowanie wystrojów i grafik">
# <i>emerge commonbox-styles commonbox-styles-extra \
  fluxbox-styles-fluxmod gentoo-artwork</i>
</pre>

</body>
</section>
<section>
<title>Kolorowanie składni Fluxboksa w Vimie</title>
<body>

<p>
Następnie zainstalowany zostanie specjalny schemat kolorowania składni dla
edytora <c>vim</c>. Umożliwia on łatwiejsze i bardziej czytelne edytowanie
zawartości specjalnych plików konfiguracyjnych Fluxboksa takich jak pliki keys i
init. Jest to bardzo mała wtyczka dla vima dlatego też zaleca się jej
zainstalowanie (no chyba, że jesteśmy jednym z fanów emacsa, wtedy
zalecane jest <c>emerge -C emacs &amp;&amp; emerge vim gvim</c>) ;-).
</p>

<pre caption="Emergowanie kolorowania składni Fluxboksa">
# <i>emerge fluxbox-syntax</i>
</pre>


</body>
</section>
<section>
<title>Uruchamianie aplikacji</title>
<body>

<p>
Każdy menedżer okien wyposażony jest (albo powinien być wyposażony) w specjalny
program, za pomocą którego można uruchamiać programy bez konieczności otwierania
konsoli specjalnie do tego celu. We Fluxboksie takim specjalnym programem jest
<c>fbrun</c> i jest on zawsze zainstalowany wraz z Fluxboksem. Program ten można
wywołać poprzez wpisanie w linii poleceń <c>fbrun</c>, jednak uruchamianie z
konsoli programu <c>fbrun</c> po to, aby za jego pomocą uruchomić inny program
jest jeszcze gorszym rozwiązaniem niż po prostu uruchomić ten inny program
wprost z konsoli. Dlatego też powinno się zdefiniować klawisz skrótu albo dodać
odpowiednią pozycje do menu, która będzie uruchamiała <c>fbrun</c>, albo wykonać
obydwie te rzeczy.
</p>

<p>
Aby dodać do menu pozycję "Uruchom..." należy do pliku
<path>~/.fluxbox/menu</path> dopisać linię:
</p>

<pre caption="Dodawanie pozycji w menu uruchamiającej fbrun">
[exec] (Uruchom...) {fbrun}
</pre>

<p>
Więcej informacji na temat menu Fluxboksa znajduje się w dalszej części tego
przewodnika.
</p>

<p>
Więcej informacji, takich jak na przykład opcje uruchamiania, można uzyskać
czytając instrukcję lub wpisując <c>man fbrun</c>. Należy przy tym pamiętać, że
w celu wykorzystania opcji uruchamiania trzeba będzie ponownie edytować plik
keys lub menu, aby te opcje wprowadzić.
</p>

</body>
</section>


<section>
<title>Klawisze skrótów we Fluxboksie</title>
<body>

<p>
Standardowo Fluxbox wyposażony jest w bardzo ubogi zestaw klawiszy skrótu.
Pozwalają one jedynie na przełączanie między oknami oraz między pulpitami.
Zanim jednak zaczniemy modyfikować ten zestaw, należy wiedzieć kilka rzeczy. W
pliku keys jest kilka dziwnych modyfikatorów. Mod1 to powszechne znany klawisz
"Alt", a Mod4 jest klawiszem bez nazwy (klawisz windows). Control i Shift to
po prostu klawisze Control i Shift. Lepiej jest jednak stosować klawisze
Alt/Windows ponieważ inne aplikacje środowiska graficznego zwyczajowo
korzystają z klawiszy Control i Shift dla swoich własnych klawiszy skrótu.
</p>

<p>
Przedstawione przykłady są zupełnie dowolne. Użytkownik może dowolnie modyfikować
je w zależności od swoich potrzeb. Przewodnik ten uwzględnia programy, które według
autora są najczęściej używane, dlatego też również nazwy programów można
zastąpić tymi, które są stosowane przez użytkownika. Więcej informacji można
znaleźć w instrukcji Fluxboksa.
</p>

<p>
Mając tą świadomość, należy uruchomić edytor tekstu (jako zwykły użytkownik, nie
root), otworzyć plik <path>~/.fluxbox/keys</path> i zacząć udoskonalać klawisze
skrótu!
</p>

<pre caption="Modyfikowanie skrótów klawiaturowych.">
<comment>#blokuje sesję X11 dla bieżącego użytkownika</comment>
Mod4 l   :ExecCommand xlock

<comment># uruchamianie różnych programów. To są tylko przykłady dla zobrazowania zastosowania.
</comment>
Mod1 f   :ExecCommand firefox
Mod1 t   :ExecCommand thunderbird
Mod1 o   :ExecCommand oowriter
Mod1 v   :ExecCommand gvim

<comment># Fluxbox nie posiada funkcji regulacji głośności dźwięku. Należy więc
  ją dodać.
# (przyjęto, że używana jest ALSA. Jeżeli wykorzystywany jest oss, to jest się
# zdanym na samego siebie)</comment>
Mod1 e   :ExecCommand Eterm -name alsa -e alsamixer

<comment># Uruchomienie fbrun, który jednorazowo uruchamia inne programy.</comment>
Mod1 r   :ExecCommand fbrun

<comment># Programy pod kontrolą. To po prostu ułatwia życie...</comment>
Mod1 4   :Close
Mod1 m   :Minimize

<comment># jeżeli zainstalowany jest aterm (emerge x11-terms/aterm), to to
# polecenie otworzy ładny terminal, przeźroczysty, bez ramki, dobrze
# wpasowujący się w ekran o rozdzielczości 1024 x 768, pozostawiając miejsce na
# torsmo. Polecenie można dowolnie modyfikować. </comment>
Mod1 a   :ExecCommand aterm -name aterm -sl 3000 -tr +sb -sr -sk -bg black -fg \
white -fade 90 -bl -tn xterm -fn \
-misc-fixed-medium-r-normal-*-*-120-*-*-c-*-iso8859-2 -g 116x57

<comment># tak jak powyżej, ale otwierany jest terminal dla roota. Należy
# oczywiście znać hasło roota, aby z niego skorzystać.</comment>
Mod1 s   :ExecCommand aterm -name aterm -sl 3000 -tr +sb -sr -sk -bg black -fg \
white -fade 90 -bl -tn xterm -fn \
-misc-fixed-medium-r-normal-*-*-120-*-*-c-*-iso8859-2 -g 116x57 -e su -
</pre>

</body>
</section>
<section>
<title>Monitoring systemu.</title>
<body>

<p>
Powszechnym życzeniem użytkowników jest posiadanie monitora systemu w środowisku
graficznym. Najbardziej popularnym narzędziem służącym do monitoringu systemu
jest Gkrellm, ale zgodnie z zasadą minimalizmu jakiej hołduje Fluxbox,
zastosowany zostanie prostszy program: Torsmo. Warto pamiętać, że w Internecie
znajduje się znacznie więcej programów tego typu.
</p>

<pre caption="Instalowanie torsmo.">
# <i>emerge torsmo</i>
</pre>

<p>
Domyślny plik konfiguracyjny dla Torsmo jest kiepsko opisany, ale więcej
informacji można znaleźć w instrukcji do programu lub czytając plik <uri
link="http://torsmo.sourceforge.net/readme.php">readme</uri>.
</p>

</body>
</section>
<section>
<title>Ikony</title>
<body>


<p>
Standardowo Fluxbox nie jest wyposażony w żadne narzędzie do wyświetlania
ikon na pulpicie. Wszystkie czynności załatwiane są za pomocą klawiszy skrótu,
lub za pomocą menu wywoływanego kliknięciem prawym klawiszem myszy. iDesk to
program pozwalający na zaspokojenie tej potrzeby, przeznaczony dla użytkowników
z minimalistycznymi menedżerami okien i umożliwiający wyświetlanie ikon w
głównym oknie. Posiada też kilka świetnych dodatkowych funkcji, na przykład
związanych z przezroczystością. Pomijając nazwę, produkt ten nie ma nic
wspólnego z Apple i Macintoshami (a przynajmniej nic o tym nie wie autor
artykułu). Instalowanie iDesk jest proste:
</p>

<pre caption="Instalowanie iDesk">
# <i>emerge idesk</i>
</pre>

<!--
if someone wants to write a better description of idesk, feel free. it would be
appreciated!
-->

<p>
Po zainstalowaniu należy wybrać zestaw ikon do wyświetlania. IDesk informacje
o wyświetlanych ikonach przechowuje w pliku <path>~/.ideskrc</path>. Dodawanie
ikon jest zadaniem raczej pracochłonnym i nie może zostać dobrze opisane w tym
przewodniku. Aby uzyskać więcej informacji można przeczytać <c>man idesk</c> lub
skorzystać z następujących stron: <uri
link="http://idesk.sourceforge.net/usage.html">iDesk's Usage Guide</uri> oraz
tego <uri link="http://forums.gentoo.org/viewtopic-t-87262.html">wątku</uri> na
oficjalnym forum Gentoo.
</p>

</body>
</section>
<section>
<title>Graficzny menedżer plików.</title>
<body>

<p>
Należy zauważyć, że Gentoo nie potrzebuje graficznego menedżera plików. Wedle
skromnej opinii autora, możliwym i w istocie prostszym jest przeprowadzanie
wszelkich operacji na plikach z linii poleceń. Nie każdy jednak musi się z tym
zgadzać...
</p>

<p>
Wielu nowych użytkowników Gentoo/Fluxboksa jest zniechęconych brakiem
graficznego menedżera plików takiego jak np. <c>nautilus</c> w Gnome. Fluxbox
sam w sobie nie posiada takiego menedżera, ale jak zwykle, bardzo łatwo można
doinstalować taki menedżer plików. Wybór jest bardzo szeroki, ale w tym
przewodniku ograniczymy się do dwóch. Jeden dla <uri
link="#gentoo">minimalistów</uri>, którzy lubią proste tekstowe podejście i
drugi dla wszystkich, którzy lubią <uri link="#rox">klikać w ikony</uri>.
Można oczywiście zainstalować i wypróbować obydwa.
</p>

</body>
</section>
<section id="gentoo">
<title>Menedżer plików gentoo - minimalizm</title>
<body>

<p>
Gentoo jest menedżerem plików, który posiada wszelkie atuty graficznego
menedżera plików, ale pozbawiony jest tych wszystkich kolorowych wodotrysków
jakie zwyczajowo są dołączane do takiego programu.
</p>

<pre caption="Instalowanie graficznego menedżera plików">
# <i>emerge gentoo</i>
</pre>

<note>
Menedżer plików Gentoo jest projektem zupełnie niezwiązanym z dystrybucją
Gentoo Linux. Więcej informacji na ten temat można znaleźć w <uri
link="/main/en/name-logo.xml#doc_chap4">Name and Logo Usage Guidelines</uri>.
</note>

<p>
Z założenia menedżer plików Gentoo ma być w pełni konfigurowalny, a więc można
go dowolnie dopasować do własnych potrzeb.
</p>


</body>
</section>
<section id="rox">
<title>Menedżer plików Rox - zawiera ikony</title>
<body>

<p>
Menedżer plików Rox korzysta z ikon oraz tekstu i w bardzo dużym stopniu
przypomina Eksploratora Windows.
</p>

<pre caption="Instalowanie menedżera plików Rox">
# <i>emerge rox</i>
</pre>

<p>
Działanie menedżera plików Rox jest w zasadzie takie jak wielu innych
tradycyjnych graficznych menedżerów plików, a więc jego obsługa powinna być
intuicyjna. Jeżeli tak nie będzie to zawsze można skorzystać z instrukcji do
programu.
</p>

</body>
</section>
<section>
<title>Przeglądarka obrazów</title>
<body>

<p>
Wiele menedżerów okien wyposażonych jest w narzędzie do przeglądania obrazów. Są
to małe, nie rozbudowane aplikacje, które nie dają możliwości edytowania
plików (co z kolei jest zadaniem aplikacji takich jak <c>gimp</c> i
podobnych). Aplikacja taka jest konieczna jeżeli korzystamy tylko z linii
poleceń lub z menedżera plików takiego jak <c>gentoo</c> lub <c>rox</c>.
</p>

<pre caption="Instalowanie xzgv">
# <i>emerge xzgv</i>
</pre>

<p>
<c>xzgv</c> może zostać uruchomiony w każdym katalogu i można nim przeglądać
obrazy we wszystkich obsługiwanych formatach.
</p>

</body>
</section>
<section>
<title>Ustawienie schematu wyglądu, tła i skryptu startowego</title>
<body>

<p>
Fluxbox posiada wiele schematów wyglądu. Są one dostępne z menu wywoływanego
prawym klinięciem myszy, w pozycji "Fluxbox menu", a potem "System Styles".
Każdy z nich ustawia własne tło, które jest albo jednolitym
kolorem, albo jakimś rodzajem gradientu koloru. Bez względu na to jaki schemat
wyglądu jest wybrany to i tak większość użytkowników woli ustawić własny typ
tła. Aby to zrobić należy poddać edycji kolejny plik konfiguracyjny Fluxboksa,
który odpowiada za to co dzieje się podczas startu Fluxboksa. Należy więc
uruchomić edytor tekstu i otworzyć plik <path>~/.fluxbox/startup</path>.
</p>

<p>
Jeżeli plik ten już istnieje to należy wykasować jego zawartość. Do
nowo utworzonego pliku należy dodać poniżej przedstawioną treść, usuwając wedle
potrzeb znaki komentarza z interesujących użytkownika linii oraz uzupełniając
wartości dla pól wypełnionych DUŻYMI LITERAMI.
</p>

<pre caption="Edytowanie skryptu startowego Fluxboksa.">
<comment># Gentoo's Fluxbox startup script

# Programs which need to run constantly, as opposed to a one time execution,
# need "&amp;" at the end of the command.

# Show the Fluxbox splash-screen
#fbsetbg -C /usr/share/fluxbox/splash.jpg

# This sets a background. You must have a program setup to do this
# (x11-terms/eterm is recommended)
#fbsetbg -f PATH_TO_IMAGE

# Custom fonts directory
#xset +fp PATH_TO_FONT_DIRECTORY

# Starts the icons program
#idesk &amp;

# Launches the Torsmo system monitor
#torsmo &amp;

# This MUST be the last command!</comment>
exec /usr/bin/fluxbox -log ~/.fluxbox/log
</pre>

</body>
</section>
<section>
<title>Generowanie menu.</title>
<body>

<p>
Do stworzenia menu autor używa edytora tekstu. Jeżeli takie podejście jest
interesujące dla użytkownika to można pominąć ten rozdział i przejść od razu
do rozdziału <uri link="#manual_menu">Ręczne edytowanie menu.</uri>.
</p>

<p>
Po utworzeniu menu za pomocą automatycznego generatora (patrz następny
rozdział) można edytować <path>~/.fluxbox/menu</path> ręcznie, aby dodać pozycje,
lub usunąć programy, z których się nie korzysta. Zauważyć przy tym należy, że
usunięcie z menu określonej pozycji nie usuwa z systemu odpowiadającej tej
pozycji aplikacji. Dana aplikacja nadal może być uruchomiona z linii poleceń.
</p>

<p>
W systemie, w którym zainstalowano Fluxboksa jest też program o nazwie
<c>fluxbox-generate_menu</c>, który służy do automatycznego
stworzenia menu. Aby go używać należy posiadać Fluxbox 0.9.13 lub nowszy.
Pewność, że jest to odpowiednia wersja uzyskamy po wydaniu polecenia <c>emerge
--sync &amp;&amp; emerge -u fluxbox</c>. Zainstaluje się dzięki temu specjalna
wersja skryptu, zawierająca poprawki dla Gentoo, które umożliwiają mu
odnalezienie większej ilości programów niż wcześniej. Skrypt dzięki temu staje
się znacznie praktyczniejszy niż poprzednia jego wersja, pozwala na odnalezienie
w systemie programów, o których istnieniu użytkownik nie ma pojęcia. Uruchamiamy
go w poniższy sposób (z konta zwykłego użytkownika):
</p>

<pre caption="Generowanie menu dla wersji >=fluxbox-0.9.13">
$ <i>fluxbox-generate_menu -is -ds</i>
</pre>

<p>
Polecamy uaktualnienie i skorzystanie z polecenia <c>fluxbox-generate_menu -is
-ds</c> zamiast pracy z innymi programami tego typu, jak np. <c>mmaker</c>,
ponieważ nie są one dostosowane do struktury katalogów w Gentoo.
</p>

<note>
Po zastosowaniu tej metody, która automatycznie generuje menu, nadal istnieje
możliwość ręcznego sterowania zawartością menu. Ręczne utworzenie i edycja
<path>~/.fluxbox/usermenu</path> (patrz następny rozdział) pozwala na
stworzenie menu dopasowanego do wymagań użytkownika, które nie zostanie
skasowane przy następnym uruchomieniu skryptu <c>fluxbox-generate_menu</c>.
</note>

</body>
</section>
<section id="manual_menu">
<title>Ręczne edytowanie menu.</title>
<body>

<p>
Menu Fluxboksa znajduje się w pliku tekstowym o bardzo prostej składni opisanej
w tym rozdziale. Domyślnym miejscem przechowywania pliku menu jest
<path>~/.fluxbox/menu</path>.
</p>

<p>
Pozycje w menu, które uruchamiają aplikacje definiowane są za pomocą elementu
<c>[exec]</c>. Pozycje menu definiuje się po elemencie <c>[begin]</c> (pozycje
główne), lub między elementami <c>[submenu]</c> i <c>[end]</c> (podmenu), np.:
</p>

<pre caption="Definiowanie nowej pozycji w menu.">
# Custom fluxbox menu
[begin] (Fluxbox)
  <comment>(...)</comment>
  [exec] (XTerm White on Black) {xterm -ls -fg white -bg black}
  <comment>(...)</comment>
  [submenu] (More terminals)
    [exec] (Aterm default) {aterm}
    [exec] (Rxvt default) {rxvt}
  [end]
  <comment>(...)</comment>
[end]
</pre>

<p>
Główne pozycje menu zaczynają się tagiem <c>[begin]</c>, po którym w
nawiasach umieszczona jest nazwa menu. Główne menu kończy się tagiem
<c>[end]</c>. Wszystkie polecenia menu (zwane tutaj tagami) zamknięte są
w nawiasy prostokątne, nazwy pozycji w nawiasy, a właściwe polecenie zamknięte
jest w nawiasy klamrowe. Składnia pliku dopuszcza stosowanie komentarzy w
postaci linii rozpoczynających się od <c>#</c>.
</p>

<p>
W powyższym przykładzie pierwsza linia z elementem <c>[exec]</c> definiuje nową
pozycję w menu o nazwie "XTerm White on Black", która będzie uruchamiała
polecenie <c>xterm -ls -fg white -bg black</c> zupełnie tak samo jak gdyby to
miało miejsce w linii poleceń. Dalej mamy podmenu zdefiniowane za pomocą tagu
<c>[submenu]</c> o nazwie "More terminals", w którym znajdują się dwie kolejne
pozycje z poleceniami <c>[exec]</c>. Każda definicja podmenu musi być zakończona
tagiem <c>[end]</c>.
</p>
<p>
Istnieją też inne polecenia, które można zastosować w pliku
<path>~/.fluxbox/menu</path>. Więcej informacji na ten temat można znaleźć w <uri
link="http://www.fluxbox.org/docbook.php">oficjalnej dokumentacji</uri>.
</p>

</body>
</section>
<section>
<title>Podsumowanie.</title>
<body>

<p>
Gratulacje! Fluxbox jest już zainstalowany, skonfigurowany i gotowy do pracy.
Pytania i sugestie można kierować poprzez e-mail do autora. Można też zgłosić
raport o błędzie na <uri link="http://bugs.gentoo.org">Bugzillę</uri>.

</p>

</body>
</section>
</chapter>
</guide>
