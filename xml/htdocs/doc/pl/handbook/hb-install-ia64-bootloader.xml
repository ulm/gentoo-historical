<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/handbook/Attic/hb-install-ia64-bootloader.xml,v 1.1 2007/05/09 23:23:38 rane Exp $ -->

<sections>

<version>7.2</version>
<date>2007-02-12</date>

<section>
<title>Instalacja elilo</title>
<body>

<p>
Bootloader obsługujący IA64 nosi nazwę elilo. Możliwe, że będzie trzeba go
najpierw zainstalować.
</p>

<pre caption="Instalacja elilo">
# <i>emerge elilo</i>
</pre>

<p>
Plik konfiguracyjny można znaleźć w <path>/etc/elilo.conf</path>, a plik
przykładowy w standardowym katalogu z dokumentacją
<path>/usr/share/doc/elilo-&lt;ver&gt;/</path>. Poniżej kolejna przykładowa
konfiguracja:
</p>

<pre caption="Przykładowy /etc/elilo.conf">
boot=/dev/sda1
delay=30
timeout=50
default=Gentoo
append="console=ttyS0,9600"
prompt

image=/vmlinuz
        label=Gentoo
        root=/dev/sda2
        read-only

image=/vmlinuz.old
        label=Gentoo.old
        root=/dev/sda2
        read-only
</pre>

<p>
Linia <c>boot</c> powiadamia elilo o lokalizacji partycji startowej (w tym
przypadku <path>/dev/sda1</path>). Linia <c>delay</c> pozwala na zmianę
dziesiątek sekund, po których zostanie automatycznie uruchomiony domyślny
system gdy nie jesteśmy w trybie nieinteraktywnym. Pozycja <c>timeout</c>
wykonuje to samo co delay, tylko dla trybu interaktywnego. Linia <c>default</c>
ustawia domyślne jądro (zdefiniowane poniżej). Wpis <c>append</c> wprowadza
dodatkowe opcje do linii poleceń jądra. <c>prompt</c> wprowadza elilo w tryb
interaktywny.
</p>

<p>
Sekcje rozpoczynające się od <c>image</c> definiują różne obrazy do
uruchomienia. Każdy obraz ma etykietę <c>label</c>, system plików <c>root</c> i
zamontuje ten system w trybie <c>read-only</c> (tylko do odczytu).
</p>

<p>
Gdy konfiguracja zostanie ukończona należy wykonać <c>elilo --efiboot</c>.
Opcja <c>--efiboot</c> dodaje wpis o Gentoo Linux w EFI Boot Manager.
</p>

<pre caption="Zastosowanie konfiguracji elilo">
# <i>elilo --efiboot</i>
</pre>

<p>
Teraz należy <uri link="#reboot">uruchomić ponownie system</uri>.
</p>

</body>
</section>
<section id="reboot">
<title>Ponowne uruchamianie systemu</title>
<subsection>
<body>

<p>
Należy opuścić środowisko chroot i odmontować wszystkie zamontowane partycje.
Po tym wprowadzimy tą magiczną komendę, na którą wszyscy czekali: <c>
reboot</c>.
</p>

<pre caption="Opuszczanie chroot, odmontowywanie oraz restart systemu">
# <i>exit</i>
cdimage ~# <i>cd</i>
cdimage ~# <i>umount /mnt/gentoo/boot /mnt/gentoo/sys /mnt/gentoo/dev /mnt/gentoo/proc /mnt/gentoo</i>
cdimage ~# <i>reboot</i>
</pre>

<p>
Po ponownym uruchomieniu powinniśmy zobaczyć nową opcję menu "Gentoo Linux" w
EFI Boot Manager, która uruchomi Gentoo. Po uruchomieniu instalacji Gentoo
należy ją zakończyć korzystając z<uri link="?part=1&amp;chap=11">Kończenie
instalacji Gentoo</uri>.
</p>

</body>
</subsection>
</section>
</sections>
