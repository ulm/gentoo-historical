<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/handbook/hb-install-ppc64-medium.xml,v 1.19 2006/05/12 18:36:16 shadoww Exp $ -->

<sections>

<version>2.12</version>
<date>2006-04-18</date>

<section>
<title>Wymagania sprzętowe</title>
<subsection>
<title>Wprowadzenie</title>
<body>

<p>
Zanim zaczniemy musimy ustalić jakie wymagania sprzętowe powinien spełniać
komputer, aby pomyślnie zainstalować na nim Gentoo.
</p>

</body>
</subsection>
<subsection>
<title>Wymagania sprzętowe</title>
<body>

<table>
<tr>
  <th>CPU</th>
  <ti>Każdy PowerPC64 CPU</ti>
</tr>
<tr>
  <th>Komputery</th>
  <ti>
    IBM RS/6000, Power Macintosh G5, IBM pSeries i IBM iSeries
  </ti>
</tr>
<tr>
  <th>Pamięć</th>
  <ti>64 MB</ti>
</tr>
<tr>
  <th>Miejsce na dysku</th>
  <ti>1.5 GB (wyłączając partycję wymiany)</ti>
</tr>
<tr>
  <th>Partycja wymiany</th>
  <ti>Co najmniej 256 MB</ti>
</tr>
</table>

<p>
Pełna lista obsługiwanego sprzętu znajduje się pod adresem
<uri>http://www.linuxppc64.org/hardware.shtml</uri>.
</p>

</body>
</subsection>
</section>
<!-- Copy/paste from hb-install-x86-medium.xml, with s/x86/ppc64/ -->
<!-- START -->
<section>
<title>Płyty instalacyjne Gentoo</title>
<subsection>
<title>Wprowadzenie</title>
<body>

<p>
Dzięki płytom instalacyjnym można uruchomić podstawowe środowisko służące do
instalacji całego systemu Gentoo na dysk.  W czasie uruchamiania systemu z
płyty zostanie wykryty sprzęt dostępny w komputerze, a Gentoo automatycznie
załaduje odpowiednie dla niego sterowniki. Płyty te są tworzone i rozwijane
przez deweloperów Gentoo.
</p>

<p>
Jeżeli założymy, że będziemy używać płyt z prekompilowanymi pakietami, aby móc
w szybki sposób zainstalować dodatkowe oprogramowanie, należy się upewnić, że
używamy tej samej podarchitektury co w przypadku archiwum z trzecim etapem
(stage3).
</p>

<p>
Wszystkie płyty instalacyjne pozwalają na uruchomienie środowiska
instalacyjnego, skonfigurowanie ustawień sieciowych, utworzenie i aktywowanie
partycji oraz rozpoczęcie instalowania Gentoo z użyciem Internetu. Są idealnym
środkiem do zbudowania naszej dystrybucji, jeśli zakłada się instalowanie przy
użyciu najnowszych pakietów pobieranych z sieci.
</p>

<p>
Opis instalacji Gentoo bez dostępu do Internetu znajduje się na stronach <uri
link="/doc/pl/handbook/2006.0/index.xml">Podręcznika Gentoo 2006.0</uri>.
</p>

<p>
Są dwa rodzaje płyt instalacyjnych:
</p>

<ul>
  <li>
    "Gentoo <e>Minimal</e> Installation CD" - mała, uruchamialna płyta
    instalacyjna zawierająca wszystko co niezbędne do uruchomienia środowiska,
    z którego można następnie przystąpić do instalowania Gentoo.
  </li>
  <li>
    "Gentoo <e>Universal</e> Installation CD" - uruchamialna płyta posiadająca
    wszystkie funkcje swojego mniejszego odpowiednika, ale poszerzona o tarballe
    z etapami instalacji (stage) optymalizowanymi pod różne podarchitektury.
  </li>
</ul>

<p>
Aby ułatwić wybór odpowiedniej płyty instalacyjnej omówimy plusy i minusy każdej
z nich.
</p>

</body>
</subsection>
<subsection>
<title>Gentoo Minimal Installation CD</title>
<body>

<p>
Obraz tej płyty ma nazwę <c>install-ppc64-minimal-2006.0.iso</c> i zajmuje
jedynie 124 MB miejsca. Można go użyć do zainstalowania Gentoo wyłącznie jeśli
posiada się połączenie z Internetem.
</p>

<table>
<tr>
  <th>Minimal Installation CD</th>
  <th>Plusy i minusy</th>
</tr>
<tr>
  <th>+</th>
  <ti>Mała ilość danych do pobrania.</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Nie zawiera żadnych plików "stage", obrazów drzewa Portage,
    prekompilowanych pakietów i w związku z tym nie nadaje się do instalacji bez
    dostępu do sieci.
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Gentoo Universal Installation CD</title>
<body>

<p>
Obraz tej płyty ma nazwę <c>install-ppc64-universal-2006.0-32ul.iso</c> i
zajmuje około 460 MB miejsca. Można użyć go do zainstalowania Gentoo nawet bez
dostępu do sieci.
</p>

<table>
<tr>
  <th>Universal Installation CD</th>
  <th>Plusy i minusy</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Zawiera wszystko co jest potrzebne do zainstalowania Gentoo, nawet bez
    dostępu do Internetu.
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Duża ilość danych do pobrania.</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Inne płyty</title>
<body>

<p>
Na części naszych serwerów lustrzanych można napotkać płyty zatytułowane
<e>Package CD</e>. Nie są to płyty instalacyjne. Zawierają jedynie
prekompilowane pakiety (tak zwany zestaw pakietów GRP), dzięki którym można
szybko i wygodnie zainstalować dodatkowe oprogramowanie zarówno podczas
instalowania Gentoo bez dostępu do Internetu jak i w przypadku gdy po prostu
chcemy szybko doinstalować któryś z długo kompilujących się programów (KDE,
Gnome, OpenOffice.org ...).
</p>

</body>
</subsection>
<subsection>
<title>Archiwum stage3</title>
<body>

<p>
Plik ten to archiwum zawierające podstawowy system Gentoo, z którego będzie
można kontynuować instalację w sposób opisany w tym Podręczniku. W przeszłości
znajdowały się tu instrukcje dotyczące instalacji z trzech różnych plików tego
typu. Wciąż udostępniamy archiwa stage1 i stage2, ale w oficjalnym opisie
instalacji prezentujemy jedynie czynności związane z użyciem stage3. Informacje
dotyczące instalacji za pomocą stage1 i stage2 znajdują się w Gentoo FAQ w
podrozdziale <uri link="/doc/pl/faq.xml#stage12">How do I Install Gentoo Using
a Stage1 or Stage2 Tarball?</uri>.
</p>

</body>
</subsection>
</section>
<!-- STOP -->

<section>
<title>Pobieranie, nagrywanie i uruchamianie płyt instalacyjnych Gentoo</title>
<subsection>
<title>Pobieranie i nagrywanie płyt instalacyjnych</title>
<body>

<p>
Po pierwsze musimy pobrać jeden z omawianych wcześniej obrazów płyt, żeby
jednak to zrobić trzeba wiedzieć gdzie ich szukać.
</p>

<p>
Wszystkie obrazy płyt instalacyjnych znajdują się na naszych <uri
link="/main/en/mirrors.xml">serwerach lustrzanych</uri> w katalogu
<path>releases/ppc64/2006.0/ppc64/installcd</path>.
</p>

<p>
Wewnątrz tego katalogu znajduje się zbiór plików ISO. Są to pełne i gotowe
do nagrania obrazy płyt CD.
</p>

<p>
Aby zweryfikować poprawność pobranych plików ISO należy porównać ich sumy MD5 z
tymi znajdującymi się na naszym serwerze lustrzanym (np. w pliku o nazwie
<path>install-ppc64-minimal-2006.0.iso.DIGESTS</path>). Sumy MD5 dla pobranych
plików można wygenerować przy pomocy narzędzia <c>md5sum</c> dla Linuksa, lub
jego <uri link="http://www.etree.org/md5com.html">odpowiednika</uri> dla
Windows.  
</p>

<p>
Innym sposobem sprawdzania poprawności pobranych plików jest weryfikacja
ich kryptograficznych sygnatur przy pomocy GnuPG. Sygnatury poprawnych plików
znajdują się w plikach z rozszerzeniem <path>.asc</path>. Najpierw pobieramy
plik sygnatury, a następnie pozyskujemy klucz publiczny:
</p>

<pre caption="Pozyskiwanie klucza publicznego">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Następnie weryfikujemy sygnaturę.
</p>


<pre caption="Weryfikowanie kryptograficznej sygnatury">
$ <i>gpg --verify &lt;plik sygnatury&gt; &lt;pobrane iso&gt;</i>
</pre>

<p>
Pobrane pliki ISO należy nagrywać w trybie RAW. To jak się go   włącza zależy od
programu, którego używamy. W Podręczniku opiszemy nagrywanie za pomocą programów
<c>cdrecord</c> i <c>K3B</c>. Więcej informacji można znaleźć w dokumencie <uri
  link="/doc/pl/faq.xml#isoburning">Gentoo FAQ</uri>.
</p>

<ul>
  <li>
     Jeśli chodzi o cdrecord to wystarczy wpisać polecenie <c>cdrecord
     dev=/dev/hdc &lt;pobrany plik ISO&gt;</c>. Zamiast <path>/dev/hdc</path>
     należy podać odpowiednią ścieżką do urządzenia CD-RW.
  </li>
  <li>
      W K3B trzeba wybierać z menu kolejno zakładki <c>Tools</c> &gt; <c>CD</c>
      &gt; <c>Burn Image</c>. Następnie wskazujemy nasz plik ISO i klikamy w
    przycisk <c>Start</c>.
  </li>
  <li>
    W Mac OS X Panther wystarczy uruchomić narzędzie <c>Disk Utility</c> z
    <path>Applications/Utilities</path>, wybrać <c>Open</c> z menu
    <c>Images</c>, wybrać podmontowany obraz w głównym oknie oraz wybrać
    <c>Burn</c> z menu <c>Images</c>.
  </li>
  <li>
    W Mac OS X Jaguar uruchamiamy <c>Disk Copy</c> z
    <path>Applications/Utilities</path>, wybieramy <c>Burn Image</c> z menu
    <c>File</c>, wybieramy odpowiedni obraz ISO i klikamy przycisk <c>Burn</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Domyślnie: Uruchamianie płyty instalacyjnej na komputerach
Apple/IBM</title>
<body>

<p>
Umieszczamy płytę w napędzie CD-ROM i ponownie uruchamiamy komputer.
W międzyczasie przytrzymujemy klawisz "C". Powinna pojawić się wiadomość
powitalna oraz napis <e>boot:</e>.
</p>

<p>
W tym momencie pojawia się możliwość dostosowania kilku opcji jądra. W
poniższej tabeli podajemy listę możliwych do zastosowania parametrów.
</p>

<table>
<tr>
  <th>Opcja</th>
  <th>Opis</th>
</tr>
<tr>
  <ti><c>video</c></ti>
  <ti>
    Do tej opcji można podać następujące, zależne od producenta karty
    parametry: <c>radeonfb</c>, <c>rivafb</c>, <c>atyfb</c>, <c>aty128</c> lub
    <c>ofonly</c>. Do tego warto również dopisać żądaną rozdzielczość i
    częstotliwość odświeżania. Wpis może na przykład wyglądać tak:
    <c>video=radeonfb:1280x1024@75</c>. Jeśli nie jest się pewnym co wybrać
    należy skorzystać z opcji <c>ofonly</c>, działa ona we wszystkich
    przypadkach.
  </ti>
</tr>
<tr>
  <ti><c>nol3</c></ti>
  <ti>
    Wyłącza cache 3 poziomu w niektórych PowerBookach
  </ti>
</tr>
<tr>
  <ti><c>debug</c></ti>
  <ti>
    Włącza tryb szczegółowego informowania przy uruchomieniu, włącza możliwość
    skorzystania z powłoki intitrd w celu debugowania
  </ti>
</tr>
<tr>
  <ti><c>sleep=X</c></ti>
  <ti>
    Spowoduje odczekanie X sekund przed przejściem do następnego etapu, może to
    być niezbędne dla starych CD-ROM-ów SCSI, który nie są w stanie odczytywać
    płyty odpowiednio szybko.
  </ti>
</tr>
<tr>
  <ti><c>bootfrom=X</c></ti>
  <ti>
    Uruchomienie z innego urządzenia.
  </ti>
</tr>
</table>

<p>
Po wybraniu odpowiedniej opcji należy wcisnąć klawisz enter, aby załadować
kompletne środowisko Gentoo Linux z płyty CD. Kolejna część procesu instalacji
to <uri link="#booted">Czynności po uruchomieniu</uri>.
</p>

</body>
</subsection>
<subsection>
<title>IBM pSeries</title>
<body>

<p>
System płyty instlacyjnej powinien uruchomić się bez problem, ale jeśli to
zawiedzie, są również awaryjne metody. W takim wypadku należy ustawić cd-rom
jako urządzenie uruchamialne w menu multi-boot. Jeśli komputer posiada
klawiaturę i monitor, można dostać się tam po naciśnięciu przycisku F1 przy
starcie maszyny. Jeśli natomiast uruchamia się komputer za pomocą konsoli
szeregowej, należy wcisnąć klawisz <c>1</c>, gdy na ekranie pojawi się taki
napis:
</p>

<pre caption="Kiedy to się pojawi, należy wcisnąć klawisz 1">
memory      keyboard     network      scsi      speaker
</pre>

<p>
Inną opcją jest uruchomienie poprzez OpenFirmware.
</p>

<ul>
  <li>
    Uruchomić OpenFirmware, wciskając F8 lub 8, w tym samym czasie co
    powyżej
  </li>
  <li>Wpisać polecenie 0> boot cdrom:1,yaboot</li>
  <li>Cieszyć się z sukcesu!</li>
</ul>

<note>
Jeśli pojawi się komunikat taki jak poniżej, oznacza to, że OpenFirmware jest
źle skonfigurowane. W takim wypadku należy skorzystać z multi-boot.
</note>

<pre caption="Wynik polecenia jeśli OpenFirmware jest źle skonfigurowane">
0 > boot cdrom:1,yaboot
  ok
0 >
</pre>

</body>
</subsection>
<subsection id="booted">
<title>Czynności po uruchomieniu</title>
<body>

<p>
Pojawi się znak zachęty roota ("#"). Można zmieniać konsole, służą do
kombinacje klawiszy Alt-F2, Alt-F3 itp., na pierwszą wraca się przy pomocy
Alt-F1. Na niektórych komputerach Apple konieczne jest wciśnięcie dodatkowo
przycisku fn.
</p>

<p>
Jeśli instalujemy Gentoo w systemie, w którym mamy klawiaturę inną niż US
musimy wcisnąć F2, aby przejść do trybu potwierdzania kolejnych czynności, a
następnie postępować zgodnie ze wskazówkami na ekranie. Jeśli nie wybierzemy
nowego mapowania w ciągu 10 sekund, zostanie załadowane to domyślne, czyli
amerykańskie. Lista wszystkich dostępnych kodowań pojawi się po wykonaniu
polecenia <c>ls /usr/share/keymaps/i386</c>.
</p>

<pre caption="Listing dostępnych map klawiszy">
<comment>(PPC korzysta z map takich jak x86, mapy klawiszy ADB dla ppc/mac nie
są obsługiwane)</comment>
# <i>ls /usr/share/keymaps/i386</i>
</pre>

<p>
Następnie ładujemy wybraną mapę klawiszy:
</p>

<pre caption="Ładowanie mapy klawiszy">
# <i>loadkeys be-latin1</i>
</pre>

<p>
Kolejna część dokumentu to <uri link="#hardware">Konfigurowanie
dodatkowego sprzętu</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Konfigurowanie dodatkowego sprzętu</title>

<body>

<p>
W czasie uruchamiania system spróbuje wykryć sprzęt i załadować odpowiednie
sterowniki. Zazwyczaj czyni to prawidłowo, ale czasami mogą zdarzyć się problemy
i nie wszystkie moduły zostaną aktywowane. Gdy zawiedzie skanowanie PCI musimy
ręcznie załadować odpowiednie moduły.
</p>

<p>
W poniższym przykładzie spróbujemy załadować moduł <c>8139too</c> (obsługę
wielu różnych kart sieciowych):
</p>

<pre caption="Ładowanie modułu jądra">
# <i>modprobe 8139too</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Poprawianie wydajności twardego dysku</title>
<body>

<p>
Zaawansowanych użytkowników na pewno zainteresuje możliwość zwiększenia
wydajności dysków twardych IDE za pomocą programu <c>hdparm</c>. Obecną
wydajność można przetestować za pomocą parametrów <c>-tT</c> (kilkukrotne
wykonanie polecenia zwiększa precyzję pomiaru):
</p>

<pre caption="Testowanie wydajności twardego dysku">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Aby poprawić wydajność można wykorzystać któryś z poniższych przykładów (lub
eksperymentować samodzielnie). Oczywiście musimy zastąpić <path>/dev/hda</path>
ścieżką do naszego dysku.
</p>

<pre caption="Poprawianie wydajności dysku">
<comment>Aktywowanie DMA:</comment>
# <i>hdparm -d 1 /dev/hda</i>
<comment>Aktywowanie DMA oraz zestawu bezpiecznych opcji poprawiających
wydajność:</comment>
# <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>


</body>
</subsection>
<subsection id="useraccounts">
<title>Opcjonalnie: Konta użytkowników</title>
<body>

<p>
Jeśli planujemy umożliwienie innym osobom dostępu do środowiska instalacyjnego
lub zamierzamy korzystać z <c>irssi</c> nie uruchomionego z przywilejami roota
musimy stworzyć dodatkowe konta.
</p>

<p>
Najpierw jednak należy zmienić hasło roota. Dokonuje się tego przy pomocy
polecenia <c>passwd</c>:
</p>

<pre caption="Zmiana hasła roota">
# <i>passwd</i>
New password: <comment>(Podajemy nowe hasło)</comment>
Re-enter password: <comment>(Potwierdzamy nowe hasło)</comment>
</pre>

<p>
Aby stworzyć konto użytkownika musimy najpierw podać jego parametry, a
następnie ustawić hasło. Skorzystamy przy tym z poleceń <c>useradd</c> oraz
<c>passwd</c>. W przykładzie stworzymy użytkownika o nazwie &quot;rane&quot;.
</p>

<pre caption="Tworzenie konta użytkownika">
# <i>useradd rane</i>
# <i>passwd rane</i>
New password: <comment>(Podajemy hasło)</comment>
Re-enter password: <comment>(Potwierdzamy hasło)</comment>
</pre>


<p>
Aby przełączyć się z konta roota na nowo utworzone konto użytkownika korzystamy
z polecenia <c>su</c>:
</p>

<pre caption="Przełączanie użytkownika">
# <i>su - rane</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Dostęp do dokumentacji podczas instalowania Gentoo</title>
<body>

<p>
Jeśli zamierzamy podczas instalacji korzystać z Podręcznika Gentoo (obojętnie
czy nagranego na CD czy znajdującego się w Internecie) powinniśmy dodać do tych
celów konto zwykłego użytkownika, tak jak opisaliśmy to przed chwilą, a
następnie przejść przy pomocy kombinacji klawiszy <c>Alt-F2</c> na nowy terminal
i tam się zalogować.
</p>

<p>
Do przeglądania dokumentacji nagranej na CD służy program <c>links</c>:
</p>

<pre caption="Przeglądanie dokumentacji na CD">
# <i>links /mnt/cdrom/docs/handbook/html/index.html</i>
</pre>

<p>
Najnowszą i najlepszą dostępną wersją Podręcznika Gentoo jest ta znajdująca się
na naszej stronie internetowej. Polecamy korzystanie właśnie z tej wersji.
</p>

<pre caption="Przeglądanie dokumentacji w Internecie">
# <i>links http://www.gentoo.org/doc/pl/handbook/handbook-ppc64.xml</i>
</pre>

<p>
Na pierwszy terminal powracamy przy pomocy kombinacji klawiszy <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Uruchamianie demona SSH</title>
<body>

<p>
Aby umożliwić innym osobom dostęp do naszego komputera podczas instalacji
(by mogły nam pomóc w konfigurowaniu Gentoo lub nawet przeprowadzić cały proces
za nas) musimy dodać im odpowiednie konta użytkowników lub nawet podać hasło
roota (nie należy tego robić jeśli nie jest to osoba, której ufa się
<e>całkowicie</e>).  
</p>

<p>
Demona SSH uruchamia się następującym poleceniem:
</p>

<pre caption="Uruchamianie demona SSH">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Korzystanie z sshd jest możliwe tylko wtedy, gdy komputer jest połączony z
Internetem. Połączenie nawiążemy dzięki wskazówkom spisany, w
rozdziale zatytułowanym <uri link="?part=1&amp;chap=3">konfiguracja
sieci</uri>.
</p>

</body>
</subsection>
</section>
</sections>
