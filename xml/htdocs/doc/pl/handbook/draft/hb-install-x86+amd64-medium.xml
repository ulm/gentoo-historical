<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/handbook/draft/Attic/hb-install-x86+amd64-medium.xml,v 1.2 2008/03/13 21:58:49 rane Exp $ -->

<sections>

<abstract>
Wybieramy w jaki sposób chcemy zainstalować Gentoo. Opisujemy tu różne media, za
pomocą których można zainstalować Gentoo.
</abstract>

<version>6.0</version>
<date>2008-02-29</date>

<section>
<title>Wymagania sprzętowe</title>
<subsection>
<title>Wprowadzenie</title>
<body>

<p>
Zanim zaczniemy, musimy poznać wymagania sprzętowe jakie powinien spełniać
komputer, aby można było na nim zainstalować Gentoo.
</p>

</body>
</subsection>
<subsection>
<title>Wymagania sprzętowe</title>
<body test="func:keyval('arch')='x86'">

<table>
<tr>
 <ti/>
  <th>Płyta minimalna</th>
  <th>LiveCD</th>
</tr>
<tr>
  <th>Procesor</th>
  <ti>i486 lub nowszy</ti>
  <ti><b>i686</b> lub nowszy</ti>
</tr>
<tr>
  <th>Pamięć</th>
  <ti>64 MB</ti>
  <ti>256 MB</ti>
</tr>
<tr>
  <th>Wolne miejsce na dysku</th>
  <ti colspan="2">1.5 GB (bez miejsca potrzebnego na partycję wymiany)</ti>
</tr>
<tr>
  <th>Miejsce na partycję wymiany</th>
  <ti colspan="2">Co najmniej 256 MB</ti>
</tr>
</table>

</body>
<body test="func:keyval('arch')='AMD64'">

<table>
<tr>
  <ti/>
  <th>Minimalna płyta CD</th>
  <th>Płyta LiveCD</th>
</tr>
<tr>
  <th>Procesor</th>
  <ti colspan="2">Każdy procesor AMD64 lub EM64T</ti>
</tr>
<tr>
 <th>Pamięć</th>
  <ti>64 MB</ti>
  <ti>256MB</ti>
</tr>
<tr>
  <th>Wolne miejsce na dysku</th>
  <ti colspan="2">1.5 GB (bez miejsca potrzebnego na partycję wymiany)</ti>
</tr>
<tr>
  <th>Miejsce na partycję wymiany</th>
  <ti colspan="2">Co najmniej 256 MB</ti>
</tr>
</table>

<p>
Przed przejściem do dalszych etapów instalacji należy zapoznać się z
informacjami zawartymi na stronach <uri link="/proj/pl/base/amd64/">Projektu
Gentoo AMD64</uri>.
</p>

</body>
</subsection>
</section>
<!-- This part can be propagated to the other architectures as well. -->
<!-- START -->
<section>
<title>Płyty instalacyjne Gentoo</title>
<subsection>
<title>Wprowadzenie</title>
<body>

<p>
Dzięki płytom instalacyjnym można uruchomić podstawowe środowisko służące do
instalacji całego systemu Gentoo na dysk. W czasie uruchamiania systemu z płyty
zostanie wykryty sprzęt dostępny w komputerze, a Gentoo automatycznie załaduje
odpowiednie dla niego sterowniki. Płyty te są tworzone i rozwijane przez
deweloperów Gentoo.
</p>

<p>
Wszystkie płyty instalacyjne pozwalają na uruchomienie środowiska
instalacyjnego, skonfigurowanie ustawień sieciowych, utworzenie i aktywowanie
partycji oraz rozpoczęcie instalowania Gentoo z użyciem Internetu. Są idealnym
środkiem do zbudowania naszej dystrybucji, jeśli zakłada się instalowanie przy
użyciu najnowszych pakietów pobieranych z sieci.
</p>

<impo>
Opis instalacji Gentoo bez dostępu do Internetu znajduje się na stronach <uri
link="/doc/pl/handbook/2008.0/index.xml">Podręcznika Gentoo 2008.0</uri>.
</impo>

<p>
Są następujące rodzaje płyt instalacyjnych:
</p>

<ul>
  <li>
    "Gentoo <e>Minimal</e> Installation CD" - mała, uruchamialna płyta
    instalacyjna zawierająca wszystko co niezbędne do uruchomienia środowiska, z
    którego można następnie przystąpić do instalowania Gentoo.
  </li>
  <li>
    "Gentoo <e>Installer</e> LiveCD" - płyta zawierająca wszystkie składniki
    konieczne do instalacji systemu Gentoo. Na płycie tej znajduje się graficzne
    środowisko pracy oraz dwie wersje instalatora, z których jedną można
    uruchomić w konsoli.
  </li>
</ul>

<p>
Aby ułatwić wybór odpowiedniej płyty instalacyjnej omówimy plusy i minusy każdej
z nich.
</p>

</body>
</subsection>
<subsection>
<title>Gentoo Minimal Installation CD</title>
<body>

<p>
Obraz tej płyty ma nazwę <c><keyval id="min-cd-name"/></c> i zajmuje jedynie
<keyval id="min-cd-size"/> MB miejsca. Można go użyć do zainstalowania Gentoo
<e>wyłącznie</e> jeśli posiada się połączenie z Internetem.
</p>

<table>
<tr>
  <th>Minimal Installation CD</th>
  <th>Plusy i minusy</th>
</tr>
<tr>
  <th>+</th>
  <ti>Mała ilość danych do pobrania</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Nie zawiera żadnych pliku "stage3", obrazów drzewa Portage, prekompilowanych
    pakietów i w związku z tym nie nadaje się do instalacji bez dostępu do
    sieci
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Gentoo Installer LiveCD</title>
<body>

<p>
Obraz tej płyty ma nazwę <c><keyval id="live-cd-name"/></c> i zajmuje około
<keyval id="live-cd-size"/> MB miejsca. Można użyć go do zainstalowania Gentoo
nawet bez dostępu do sieci.
</p>

<table>
<tr>
  <th>Installer LiveCD</th>
  <th>Plusy i minusy</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    Zawiera wszystko co jest potrzebne do zainstalowania Gentoo, nawet bez
    dostępu do Internetu
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>Duża ilość danych do pobrania</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Archiwum stage3</title>
<body>

<p>
Plik ten to archiwum zawierające podstawowy system Gentoo, z którego będzie
można kontynuować instalację w sposób opisany w tym Podręczniku. W przeszłości
znajdowały się tu instrukcje dotyczące instalacji z trzech różnych plików tego
typu. Wciąż udostępniamy archiwa stage1 i stage2, ale w oficjalnym opisie
instalacji prezentujemy jedynie czynności związane z użyciem stage3. Informacje
dotyczące instalacji za pomocą stage1 i stage2 znajdują się w Gentoo FAQ w
podrozdziale <uri link="/doc/pl/faq.xml#stage12">Jak zainstalować Gentoo za
pomocą stage1 lub stage2?</uri>.
</p>

<p>
Pliki stage3 można pobrać z katalogu <path><keyval
id="release-dir"/>stages/</path> na każdym z naszych <uri
link="/main/en/mirrors.xml">serwerów lustrzanych</uri>. Pliki te nie znajdują
się na płytach LiveCD.
</p>

</body>
</subsection>
</section>
<!-- STOP -->
<section>
<title>Pobieranie, nagrywanie i uruchamianie płyt instalacyjnych Gentoo</title>
<subsection>
<title>Pobieranie i nagrywanie płyt instalacyjnych</title>
<body>

<p>
Po pierwsze musimy pobrać jeden z omawianych wcześniej obrazów płyt. Trzeba
tylko wiedzieć gdzie ich szukać.
</p>

<p>
Wszystkie obrazy płyt instalacyjnych znajdują się na naszych <uri
link="/main/en/mirrors.xml">serwerach lustrzanych</uri> w katalogu <path><keyval
id="release-dir"/>installcd/</path>.
</p>

<p>
Wewnątrz tego katalogu znajduje się zbiór plików ISO. Są to pełne i gotowe do
nagrania obrazy płyt CD.
</p>

<p>
Aby zweryfikować poprawność pobranych plików ISO, należy porównać ich sumy MD5 z
tymi znajdującymi się na naszym serwerze lustrzanym (w pliku o nazwie
<path><keyval id="min-cd-name"/>.DIGESTS</path>). Sumy MD5 dla pobranych plików
można wygenerować przy pomocy narzędzia <c>md5sum</c> dla Linuksa lub jego <uri
link="http://www.etree.org/md5com.html">odpowiednika</uri> dla Windows.
</p>

<p>
Innym sposobem sprawdzania poprawności pobranych plików jest weryfikacja ich
podpisów przy pomocy GnuPG. Sygnatury poprawnych plików znajdują się w plikach z
rozszerzeniem <path>.asc</path>. Najpierw pobieramy plik sygnatury, a następnie
pozyskujemy klucz publiczny:
</p>

<pre caption="Pozyskiwanie klucza publicznego">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Następnie weryfikujemy podpis.
</p>

<pre caption="Weryfikacja podpisu">
$ <i>gpg --verify &lt;signature file&gt; &lt;downloaded iso&gt;</i>
</pre>

<p>
Pobrane pliki ISO należy nagrywać w trybie RAW. To jak się go włącza zależy od
programu, którego się używa. W Podręczniku opiszemy nagrywanie za pomocą
programów <c>cdrecord</c> i <c>K3B</c>. Więcej informacji o nagrywaniu można
znaleźć w <uri link="/doc/pl/faq.xml#isoburning">Gentoo FAQ</uri>.
</p>

<ul>
  <li>
    W cdrecord to wystarczy wpisać polecenie <c>cdrecord dev=/dev/hdc
    &lt;pobrany plik iso&gt;</c>. Zamiast <path>/dev/hdc</path> należy podać
    odpowiednią ścieżkę do urządzenia CD-RW.
  </li>
  <li>
    W k3b należy wybrać <c>Tools</c> (Narzędzia) &gt; <c>Burn CD Image</c>
    (Nagraj obraz płyty), a następnie wskazać plik ISO w obszarze "Image to
    Burn" (Obraz do nagrania) i kliknąć <c>Start</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Uruchamianie płyty instalacyjnej</title>
<body>

<p>
Po nagraniu płyty instalacyjnej przychodzi pora na uruchomienie z niej systemu.
Upewniamy się, że w napędach nie ma żadnych innych płyt i ponownie uruchamiamy
komputer. Wchodzimy do BIOS-u, zwykle robi się to przy pomocy klawiszy DEL, F1
lub ESC - zależnie od producenta i modelu płyty głównej. Wszystko co musimy tam
zmienić to kolejność w jakiej będą skanowane nasze napędy w poszukiwaniu
aktywnego systemu operacyjnego. Musimy skonfigurować to tak, by CD-ROM był
pierwszym takim napędem. Jeśli nie zmienimy tej opcji, komputer uruchomi się z
dysku ignorując naszą płytę instalacyjną.
</p>

<p>
Teraz możemy umieścić płytę w napędzie i po raz kolejny ponownie uruchomić
komputer. Po pewnym czasie powinien pojawić się znak zachęty (prompt). Mamy tu
dwie możliwości. Możemy od razu nacisnąć enter i rozpocząć proces uruchamiania
Gentoo z płyty instalacyjnej ze standardowymi opcjami lub dodać kilka własnych
ustawień. Dokonuje się tego wpisując nazwę wybranego jądra i opcji z jakimi
chcemy je uruchomić, a następnie naciskając enter.
</p>

<p>
Wybranego jądra? Tak, na płytach instalacyjnych znajduje się kilka jąder
Linuksa. Domyślne i najbardziej uniwersalne z nich ma nazwę <c>gentoo</c>.
Pozostałe jądra są skonfigurowane pod specyficzny sprzęt oraz posiadają
warianty bez sterowników graficznych (<c>-nofb</c>).
</p>

<p>
Oto krótkie omówienie wszystkich dostępnych jąder:
</p>

</body>
<body test="func:keyval('arch')='x86'">

<table>
<tr>
  <th>Jądro</th>
  <th>Opis</th>
</tr>
<tr>
  <ti>gentoo</ti>
  <ti>
    Standardowe jądro serii 2.6 ze wsparciem dla komputerów wieloprocesorowych
  </ti>
</tr>
<tr>
  <ti>gentoo-nofb</ti>
  <ti>Jądro <c>gentoo</c> pozbawione sterowników bufora ramki</ti>
</tr>
<tr>
  <ti>memtest86</ti>
  <ti>Program do testowania pamięci RAM</ti>
</tr>
</table>

</body>
<body test="func:keyval('arch')='AMD64'">

<table>
<tr>
  <th>Jądro</th>
  <th>Opis</th>
</tr>
<tr>
  <ti>gentoo</ti>
  <ti>
    Domyślne jądro z obsługą dla procesorów K8 z NUMA lub procesorów EMT64
  </ti>
</tr>
<tr>
  <ti>memtest86</ti>
  <ti>Program do sprawdzania pamięci RAM</ti>
</tr>
</table>

</body>
<body>

<p>
Można również wybrać opcje z jakimi zostanie uruchomione jądro, kontrolują one
jego określone ustawienia. Poniższa tabela przestawia ich listę, taką samą
otrzymamy naciskając przycisk F2.
</p>

<pre caption="Opcjonalne ustawienia jądra na płycie instalacyjnej">
- agpgart       ładuje agpgart (używane w przypadku problemów z grafiką, zwłaszcza zawieszania się komputera)
- acpi=on       włącza wsparcie dla ACPI
- ide=nodma     wymusza wyłączenie DMA na psujących się napędach IDE
- doscsi        skanuje w poszukiwaniu urządzeń SCSI (może nie działać prawidłowo z niektórymi kartami ethernet)
- dopcmcia      uruchamia obsługę cd-romów PCMCIA
- nofirewire    wyłącza moduły firewire (dla cd-romów firewire, etc.)
- nokeymap      uniemożliwia wybór mapowania klawiatury innego niż US
- docache       cache'uje cały proces uruchamiania CD w RAM-ie, umożliwia to odmontowanie cdromu podczas instalacji
- nodetect      uniemożliwia uruchomienie hwsetup/kudzu i hotplug
- nousb         wyłącza ładowanie modułu usb z initrd, wyłącza też hotplug
- nodhcp        DHCP nie wystartuje automatycznie jeśli zostanie wykryty NIC
- nohotplug     wyłącza ładowanie urządzeń hotplug
- noapic        wyłącza apic (użyj w przypadku problemów ze sprzętem nics, scsi, etc)
- noevms        wyłącza moduły EVMS2
- nolvm         wyłącza moduły LVM2
- hdx=stroke    pozwala na partycjonowanie całego dysku, nawet wtedy, gdy BIOS nie obsługuje dużych dysków
- dosshd        włącza usługę sshd umożliwiając zdalną instalację
- passwd=foo    zmienia hasło na podane po znaku = wyrażenie
                używane z opcją dosshd do zdalnych instalacji
</pre>

<p>
Pora na uruchomienie systemu z płyty. Wybieramy jądro (jeśli domyślne
<c>gentoo</c> nas nie zadowala) oraz opcje z jakimi ma zostać ono uruchomione.
Jako przykład podamy linię uruchamiającą jądro <c>gentoo</c> z opcją
<c>dopcmcia</c>.
</p>

<pre caption="Uruchamianie systemu z płyty instalacyjnej">
boot: <i>gentoo dopcmcia</i>
</pre>

<p>
Jeśli instalujemy Gentoo w systemie, w którym mamy klawiaturę inną niż US,
musimy wcisnąć ALT+F1, aby przejść do trybu potwierdzania kolejnych czynności, a
następnie postępować zgodnie ze wskazówkami na ekranie. Jeśli nie wybierzemy
nowego mapowania w ciągu 10 sekund, zostanie załadowane to domyślne, czyli
amerykańskie. Jak tylko skończy się proces wczytywania systemu, zostaniemy
automatycznie zalogowani do &quot;Live&quot; Gentoo Linux jako &quot;root&quot;,
nazywany też czasem superużytkownikiem. Na bieżącej konsoli powinien pojawić się
znak zachęty (&quot;#&quot;) roota. Konsole zmieniamy kombinacjami klawiszy
Alt-F2, Alt-F3 i Alt-F4. Do konsoli, którą widzieliśmy na początku wracamy
naciskając Alt-F1.
</p>

<p>
Możemy teraz przystąpić do <uri link="#hardware">konfigurowania dodatkowego
sprzętu</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Konfigurowanie dodatkowego sprzętu</title>
<body>

<p>
W czasie uruchamiania system spróbuje wykryć sprzęt i załadować odpowiednie
sterowniki. Zazwyczaj czyni to prawidłowo, ale czasami mogą zdarzyć się problemy
i nie wszystkie moduły zostaną aktywowane. Gdy zawiedzie skanowanie PCI, musimy
ręcznie załadować odpowiednie moduły.
</p>

<p>
W poniższym przykładzie spróbujemy załadować moduł <c>8139too</c> (obsługujący
całą serię urządzeń sieciowych):
</p>

<pre caption="Ładowanie modułów jądra">
# <i>modprobe 8139too</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Poprawianie wydajności twardego dysku</title>
<body>

<p>
Zaawansowanych użytkowników na pewno zainteresuje możliwość zwiększenia
wydajności twardych dysków IDE za pomocą programu <c>hdparm</c>. Obecną
wydajność można przetestować za pomocą parametrów <c>-tT</c> (kilkukrotne
wykonanie polecenia zwiększa precyzję pomiaru):
</p>

<pre caption="Testowanie wydajności twardego dysku">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Aby poprawić wydajność, można wykorzystać któryś z poniższych przykładów (lub
poeksperymentować samodzielnie). Oczywiście musimy zastąpić
<path>/dev/hda</path> ścieżką do naszego dysku.
</p>

<pre caption="Poprawianie wydajności dysku">
<comment>(Aktywowanie DMA)</comment>
# <i>hdparm -d 1 /dev/hda</i>

<comment>(Aktywowanie zestawu bezpiecznych opcji poprawiających wydajność)</comment>
# <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Opcjonalnie: Konta użytkowników</title>
<body>

<p>
Jeśli planujemy umożliwienie innym osobom dostępu do środowiska instalacyjnego
lub zamierzamy korzystać z <c>irssi</c> nieuruchomionego z przywilejami roota,
musimy teraz stworzyć dodatkowe konta.
</p>

<p>
Najpierw jednak należy zmienić hasło roota. Dokonuje się tego przy pomocy
polecenia <c>passwd</c>:
</p>

<pre caption="Zmiana hasła roota">
# <i>passwd</i>
New password: <comment>(Podajemy nowe hasło)</comment>
Re-enter password: <comment>(Potwierdzamy nowe hasło)</comment>
</pre>

<p>
Aby stworzyć konto użytkownika, musimy najpierw podać jego parametry, a
następnie ustawić hasło. Skorzystamy przy tym z poleceń <c>useradd</c> oraz
<c>passwd</c>. W przykładzie stworzymy użytkownika o nazwie &quot;rane&quot;.
</p>

<pre caption="Tworzenie konta użytkownika">
# <i>useradd rane</i>
# <i>passwd rane</i>
New password: <comment>(Podajemy hasło)</comment>
Re-enter password: <comment>(Potwierdzamy hasło)</comment>
</pre>

<p>
Aby przełączyć się z konta roota na nowo utworzone konto użytkownika korzystamy
z polecenia <c>su</c>:
</p>

<pre caption="Przełączanie użytkownika">
# <i>su - rane</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Dostęp do dokumentacji podczas instalowania Gentoo</title>
<body>

<p>
Jeśli zamierzamy podczas instalacji korzystać z Podręcznika Gentoo (obojętnie
czy nagranego na CD czy znajdującego się w Internecie), musimy dodać dla tych
celów <uri link="#useraccounts">konto zwykłego użytkownika</uri>, tak jak
opisano to przed chwilą, a następnie przejść przy pomocy kombinacji klawiszy
<c>Alt-F2</c> na nowy terminal i tam się zalogować.
</p>

<p>
Do przeglądania dokumentacji nagranej na CD służy program <c>links</c>:
</p>

<pre caption="Przeglądanie dokumentacji na CD">
# <i>links /mnt/cdrom/docs/html/index.html</i>
</pre>

<p>
Najnowszą i najlepszą dostępną wersją Podręcznika Gentoo jest ta znajdująca się
na naszej stronie internetowej. Polecamy korzystanie właśnie z tej wersji.
Podobnie jak w przypadku dokumentacji nagranej na CD można użyć do tego programu
<c>links</c>, pod warunkiem oczywiście, że mamy już skonfigurowane i działające
połączenie z Internetem.
</p>

<pre caption="Przeglądanie dokumentacji w Internecie">
# <i>links http://www.gentoo.org/doc/pl/handbook/<keyval id="online-book"/></i>
</pre>

<p>
Na pierwszy terminal powracamy przy pomocy kombinacji klawiszy <c>Alt-F1</c>.
</p>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Uruchamianie demona SSH</title>
<body>

<p>
Aby umożliwić innym osobom dostęp do naszego komputera podczas instalacji (by
mogły nam pomóc w konfigurowaniu Gentoo lub nawet przeprowadziły cały proces za
nas), musimy dodać im odpowiednie konta użytkowników lub nawet podać hasło roota
(nie należy tego robić jeśli nie jest to osoba, której ufa się
<e>całkowicie</e>).
</p>

<p>
Demona SSH uruchamia się następującym poleceniem:
</p>

<pre caption="Uruchamianie demona SSH">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Korzystanie z sshd jest możliwe tylko wtedy, gdy komputer jest połączony z
Internetem. Połączenie nawiążemy dzięki wskazówkom spisanym, w rozdziale
zatytułowanym <uri link="?part=1&amp;chap=3">konfiguracja sieci</uri>.
</p>

</body>
</subsection>
</section>
</sections>
