<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/handbook/hb-install-ia64-medium.xml,v 1.2 2007/05/16 00:31:59 rane Exp $ -->

<sections>

<version>5.0</version>
<date>2007-05-07</date>

<section>
<title>Wymagania sprzętowe</title>
<subsection>
<title>Wprowadzenie</title>
<body>

<p>
Zanim zaczniemy musimy poznać wymagania sprzętowe jakie powinien spełniać
komputer, aby można było na nim zainstalować Gentoo.
</p>

</body>
</subsection>
<subsection>
<title>Wymagania sprzętowe</title>
<body>

<p>
Praktycznie każdy IA64 powinien podołać uruchomieniu Gentoo. Na chwilę obecną
dostarczamy tylko LiveCD, zatem komputer powinien posiadać napęd CDROM.
</p>

</body>
</subsection>
</section>

<section>
<title>Płyty instalacyjne Gentoo</title>
<subsection>
<title>Wprowadzenie</title>
<body>

<p>
Dzięki <c>płytom instalacyjnym Gentoo</c> można uruchomić podstawowe środowisko
służące do instalacji całego systemu Gentoo na dysk. W czasie uruchamiania
systemu z płyty zostanie wykryty sprzęt dostępny w komputerze, a Gentoo
automatycznie załaduje odpowiednie dla niego sterowniki. Płyty te są tworzone
i rozwijane przez deweloperów Gentoo.
</p>

<p>
Wszystkie płyty instalacyjne pozwalają na uruchomienie środowiska
instalacyjnego, skonfigurowanie ustawień sieciowych, utworzenie i aktywowanie
partycji oraz rozpoczęcie instalowania Gentoo z użyciem Internetu. Są idealnym
środkiem do zbudowania naszej dystrybucji, jeśli zakłada się instalowanie przy
użyciu najnowszych pakietów pobieranych z sieci.
</p>

<impo>
Aby zainstalować Gentoo bez połączenia z Internetem lub wykorzystać jeden z
instalatorów, należy skorzystać z <uri link="2007.0/">Podręcznika Gentoo
2007.0</uri>.
</impo>

<p>
Płyty instalacyjne dostępne obecnie dla IA64:
</p>

<ul>
  <li>
    "Gentoo <c>Minimal</c> Installation CD" - mała, uruchamialna płyta
    instalacyjna zawierająca wszystko co niezbędne do uruchomienia środowiska, z
    którego można następnie przystąpić do instalowania Gentoo.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Gentoo Minimal Installation CD</title>
<body>

<p>
Obraz tej płyty ma nazwę <c><keyval id="min-cd-name"/></c> i zajmuje jedynie
<keyval id="min-cd-size"/> MB miejsca. Można go użyć do zainstalowania Gentoo
<e>wyłącznie</e> jeśli posiada się połączenie z Internetem.
</p>

<table>
<tr>
  <th>Minimal Installation CD</th>
  <th>Plusy i minusy</th>
</tr>
<tr>
  <th>+</th>
  <ti>Mała ilość danych do pobrania</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    Nie zawiera pliku "stage3", obrazów drzewa Portage, prekompilowanych
    pakietów i w związku z tym nie nadaje się do instalacji bez dostępu do
    sieci.
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Archiwum stage3</title>
<body>

<p>
Plik ten to archiwum zawierające podstawowy system Gentoo, z którego będzie
można kontynuować instalację w sposób opisany w tym Podręczniku. W przeszłości
znajdowały się tu instrukcje dotyczące instalacji z trzech różnych plików tego
typu. Wciąż udostępniamy archiwa stage1 i stage2, ale w oficjalnym opisie
instalacji prezentujemy jedynie czynności związane z użyciem stage3. Informacje
dotyczące instalacji za pomocą stage1 i stage2 znajdują się w Gentoo FAQ w
podrozdziale <uri link="/doc/pl/faq.xml#stage12">Jak zainstalować Gentoo za
pomocą stage1 lub stage2</uri>.
</p>

<p>
Pliki stage3 można pobrać z katalogu <path><keyval
id="release-dir"/>stages/</path> na każdym z naszych <uri
link="/main/en/mirrors.xml">serwerów lustrzanych</uri>. Pliki te nie znajdują
się na płytach LiveCD.
</p>

</body>
</subsection>
</section>
<section>
<title>Pobieranie, nagrywanie i uruchamianie płyt instalacyjnych Gentoo</title>
<subsection>
<title>Pobieranie i nagrywanie płyt instalacyjnych</title>
<body>

<p>
Wybraliśmy użycie Gentoo Installation CD. Zacznijmy od pobrania i nagrania
wybranej płyty instalacyjnej. Wcześniej omawialiśmy kilka obrazów płyt, ale
gdzie ich szukać?
</p>

<p>
Wszystkie obrazy płyt instalacyjnych znajdują się na naszych <uri
link="/main/en/mirrors.xml">serwerach lustrzanych</uri>. Płyty instalacyjne
znajdują się w katalogu <path><keyval id="release-dir"/>installcd/</path>.
</p>

<p>
Wewnątrz tego katalogu znajduje się zbiór plików ISO. Są to pełne i gotowe do
nagrania obrazy płyt CD.
</p>

<p>
Aby zweryfikować poprawność pobranych plików ISO należy porównać ich sumy MD5 z
tymi znajdującymi się na naszym serwerze lustrzanym (np. w pliku o nazwie
<path><keyval id="min-cd-name"/>.DIGESTS</path>). Sumy MD5 dla pobranych plików
można wygenerować przy pomocy narzędzia <c>md5sum</c> dla Linuksa lub <uri
link="http://www.etree.org/md5com.html">jego odpowiednika</uri> dla Windows.
</p>

<p>
Innym sposobem sprawdzania poprawności pobranych plików jest weryfikacja ich
podpisów, które zapewniamy, przy pomocy GnuPG (pliki z rozszerzeniem
<path>.asc</path>. Najpierw pobieramy plik sygnatury, a następnie pozyskujemy
klucz publiczny:
</p>

<pre caption="Pozyskiwanie klucza publicznego">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
Następnie weryfikujemy podpis:
</p>

<pre caption="Weryfikacja podpisu">
$ <i>gpg --verify &lt;plik z podpisem&gt; &lt;pobrany obraz iso&gt;</i>
</pre>

<p>
Pobrane pliki ISO należy nagrywać w trybie RAW. To jak się go włącza zależy od
programu, którego używamy. W Podręczniku opiszemy nagrywanie za pomocą programów
<c>cdrecord</c> i <c>K3B</c>. Więcej informacji można znaleźć w dokumencie <uri
link="/doc/pl/faq.xml#isoburning">Gentoo FAQ</uri>.
</p>

<ul>
  <li>
    Jeśli chodzi o cdrecord to wystarczy wpisać polecenie <c>cdrecord
    dev=/dev/hdc &lt;pobrany plik iso&gt;</c> (zamiast <path>/dev/hdc</path>
    należy podać odpowiednią ścieżkę do urządzenia CD-RW).
  </li>
  <li>
    W K3B trzeba wybierać z menu kolejno zakładki <c>Tools</c> &gt; <c>CD</c>
    &gt; <c>Burn Image</c>. Następnie wskazujemy nasz plik ISO i klikamy w
    przycisk <c>Start</c>.
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>Uruchamianie płyty instalacyjnej</title>
<body>

<p>
Po nagraniu płyty instalacyjnej przyszedł czas na uruchomienie systemu przy jej
użyciu. Usuń wszystkie płyty z napędów CDROM i włóż Gentoo InstallCD.  Uruchom
ponownie komputer i poczekaj na załadowanie się urządzeń wbudowanych EFI w
konsoli. Dokładna opcja do wyboru będzie się różniła w zależności od sprzętu, na
którym instalujemy Gentoo.
</p>

<p>
Większość implementacji przedstawia nam opcję już w pierwszym menu (Boot Manager
EFI). Oryginalne słownictwo może się różnic, ale będzie oznaczać
&quot;Uruchomienie z płyty&quot;, &quot;Uruchomienie z urządzenia
zewnętrznego&quot; lub &quot;Uruchamialne wewnętrzne DVD&quot;.  Wybieramy tą
opcję.
</p>

<p>
Jeżeli nasza implementacja EFI nie daje nam takich opcji do wyboru można
uruchomić płytę CD korzystając z powłoki EFI. Wszystkie realizacje przedstawią
nam opcję przejścia do powłoki w menu Boot Managera. Wybieramy tą opcję.
Powłoka EFI wyświetli nam listę dostępnych urządzeń blokowych
(<c>blk<b>n</b>:</c>) oraz listę systemów plików, do których powłoka EFI ma
aktualnie dostęp (<c>fs<b>n</b>:</c>).
</p>

<p>
W większości wypadków interesującą nas opcją będzie <c>fs0:</c>; niezależnie od
tego (napęd CD rozpoznaje płytę) powinniśmy ujrzeć jeden wpis <c>fs<b>n</b></c>
dla naszego napędu CD (ścieżka EFI napędu będzie zawierała w nazwie
<c>CDROM</c>). Wprowadzamy <c>fs<b>n</b>:</c>, zastępując <b>n</b> według
potrzeby razem z dwukropkiem, po czym wciskamy przycisk Enter. Następnie
wpisujemy <c>elilo</c> i ponownie wciskamy Enter.
</p>

<p>
Teraz powita nas wiadomość startowa ELILO po czym zostaniemy poproszeni o
podanie jądra do uruchomienia i opcji dodatkowych wprowadzanych do linii poleceń
jądra. W większości przypadków po prostu wciskamy Enter lub czekamy 5 sekund.
Tylko jedno jądro jest wspierane przez płytę instalacyjną IA64, jądro
<c>gentoo</c>.
</p>

<p>
Dostarczanych jest kilka aliasów jądra, zapewniających dodatkowe opcje do linii
poleceń jądra, z których być może będziemy musieli skorzystać zamiast domyślnej
opcji <c>gentoo</c> w zależności od sprzętu, jakim dysponujemy.
</p>

<p>
Opcja <c>gentoo-serial</c> wymusza seryjną konsolę na pierwszym porcie
szeregowym (ttyS0) przy 9600bps. Może to być wymagane na niektórych starszych
implementacjach EFI, gdzie jądro nie wykrywa, z której konsoli ma korzystać.
Należy użyć tej opcji jeżeli uruchomienie z domyślnego jądra <c>gentoo</c> nie
pokaże nic na wyjściu i jeżeli używamy konsoli szeregowej. Jeżeli korzystamy z
konsoli nie połączonej z pierwszym portem szeregowym, należy wybrać konsolę
ręcznie wpisując <c>gentoo console=ttyS#,9600</c> gdzie <c>#</c> jest numerem
portu szeregowego. W normalnych okolicznościach <b>nie</b> powinno się tego
robić, jest to wymagane tylko przy dziwnych implementacjach EFI.
</p>

<p>
Opcja <c>gentoo-sgi</c> wymusza konsolę szeregową na porcie szeregowym
<c>ttySG0</c> przy 115200bps. Opcja ta powinna być wymagana tylko na
urządzeniach SGI oraz jeżeli konsola jest prawidłowo wybrana w domyślnych
ustawieniach EFI. W przypadku użycia konsoli video opcja ta nie powinna być
wymagana.
</p>

</body>
<body>

<p>
Można również wybrać opcje z jakimi zostanie uruchomione jądro. Kontrolują one
jego określone ustawienia, które można (de)aktywować w razie potrzeby.
</p>

<pre caption="Opcje dostępne dla wybranego jądra">
- agpgart       ładuje agpgart (używane w przypadku problemów z grafiką,
                zwłaszcza zawieszania się komputera)
- ide=nodma    wymusza wyłączenie DMA dla źle działających urządzeń IDE
- doscsi        skanuje w poszukiwaniu urządzeń scsi (może nie działać
                prawidłowo z niektórymi kartami ethernet)
- dopcmcia      uruchamia obsługę cdromów PCMCIA
- nofirewire    wyłącza moduły firewire (dla cdromów firewire, etc)
- nokeymap      uniemożliwia wybór mapowania klawiatury innego niż US
- docache       cache'uje cały proces uruchamiania cd w RAM-ie, umożliwia to
                odmontowanie cdromu podczas instalacji
- nodetect      uniemożliwia uruchomienie hwsetup/kudzu i hotplug
- nousb         wyłącza ładowanie modułu usb z initrd, wyłącza też hotplug
- nodhcp        dhcp nie wystartuje automatycznie jeśli zostanie wykryty NIC
- nohotplug     wyłącza ładowanie urządzeń hotplug
- noapic        wyłącza apic (użyj w przypadku problemów ze sprzętem nics,
                scsi, itp)
- noevms        wyłącza ładowanie modułów EVMS2
- nolvm2        wyłącza ładowanie modułów LVM2
- noload=module1,[module2,[...]]
                wyłącza ładowanie wybranych modułów jądra
</pre>

<p>
Zostaniemy powitani przez ekran uruchomieniowy. Jeżeli Gentoo będzie instalowane
na komputerze z klawiaturą o innym layoucie od US należy wybrać teraz inny
układ. Jeżeli nie zostanie to wykonane w ciągu 10 sekund, domyślny układ
(klawiatura US) zostanie zaakceptowany i proces uruchomienia będzie
kontynuowany. Gdy proces ten się zakończy zostaniemy automatycznie zalogowani do
Gentoo Linux "Live" jako superużytkownik "root". Powinniśmy mieć znak root ("#")
w bieżącej konsoli. Jeżeli używana jest konsola video i mamy podłączoną
klawiaturę, można przełączać się między konsolami wciskając Alt-F2, Alt-F3 oraz
Alt-F4. Wracamy do tej, od której zaczęliśmy naciskając Alt-F1.
</p>

<p>
Kolejny etap to <uri link="#hardware">Konfigurowanie dodatkowego sprzętu</uri>.
</p>

</body>
</subsection>
<subsection id="hardware">
<title>Konfigurowanie dodatkowego sprzętu</title>
<body>

<p>
W czasie uruchamiania system spróbuje wykryć sprzęt i załadować odpowiednie
moduły jądra. Zazwyczaj czyni to prawidłowo, ale czasami mogą zdarzyć się
problemy i nie wszystkie moduły zostaną aktywowane. Gdy zawiedzie skanowanie PCI
musimy ręcznie załadować odpowiednie moduły.
</p>

<p>
W poniższym przykładzie spróbujemy załadować moduł <c>8139too</c> (obsługujący
całą serię urządzeń sieciowych):
</p>

<pre caption="Ładowanie modułów jądra">
# <i>modprobe 8139too</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Poprawianie wydajności twardego dysku</title>
<body>

<p>
Zaawansowanych użytkowników na pewno zainteresuje możliwość zwiększenia
wydajności twardych dysków IDE za pomocą programu <c>hdparm</c>. Obecną
wydajność można przetestować za pomocą parametrów <c>-tT</c> (kilkukrotne
wykonanie polecenia zwiększa precyzję pomiaru):
</p>

<pre caption="Testowanie wydajności twardego dysku">
# <i>hdparm -tT /dev/hda</i>
</pre>

<p>
Aby poprawić wydajność można wykorzystać któryś z poniższych przykładów (lub
poeksperymentować samodzielnie). Oczywiście musimy zastąpić
<path>/dev/hda</path> ścieżką do naszego dysku.
</p>

<pre caption="Poprawianie wydajności dysku">
<comment>(Aktywowanie DMA)</comment>
# <i>hdparm -d 1 /dev/hda</i>
<comment>(Aktywowanie zestawu bezpiecznych opcji poprawiających wydajność)</comment>
# <i>hdparm -d 1 -A 1 -m 16 -u 1 -a 64 /dev/hda</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>Opcjonalnie: Konta użytkowników</title>
<body>

<p>
Jeśli planujemy umożliwienie innym osobom dostępu do środowiska instalacyjnego
lub zamierzamy korzystać z irssi nie uruchomionego z przywilejami roota musimy
stworzyć dodatkowe konta i zmienić hasło roota.
</p>

<p>
Aby zmienić hasło roota użyjemy polecenia <c>passwd</c>:
</p>

<pre caption="Zmiana hasła roota">
# <i>passwd</i>
New password: <comment>(Podajemy nowe hasło)</comment>
Re-enter password: <comment>(Potwierdzamy nowe hasło)</comment>
</pre>

<p>
Aby stworzyć konto użytkownika musimy najpierw podać jego parametry, a następnie
ustawić hasło. Skorzystamy przy tym z poleceń <c>useradd</c> oraz <c>passwd</c>.
W przykładzie stworzymy użytkownika o nazwie "john".
</p>

<pre caption="Tworzenie konta użytkownika">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Podajemy hasło)</comment>
Re-enter password: <comment>(Potwierdzamy hasło)</comment>
</pre>

<p>
Aby przełączyć się z konta roota na nowo utworzone konto użytkownika korzystamy
z polecenia <c>su</c>:
</p>

<pre caption="Przełączanie użytkownika">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Uruchamianie demona SSH</title>
<body>

<p>
Aby umożliwić innym osobom dostęp do naszego komputera podczas instalacji (by
mogły nam pomóc w konfigurowaniu Gentoo lub nawet przeprowadziły cały proces za
nas) musimy dodać im odpowiednie konta użytkowników lub nawet podać hasło roota
(<e>nie</e> należy tego robić jeśli nie jest to osoba, której <b>ufa się
całkowicie</b>).
</p>

<p>
Demona SSH uruchamia się następującym poleceniem:
</p>

<pre caption="Uruchamianie demona SSH">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
Korzystanie z sshd jest możliwe tylko wtedy, gdy komputer jest w sieci..
Połączenie nawiążemy dzięki wskazówkom spisanym w rozdziale zatytułowanym <uri
link="?part=1&amp;chap=3">konfiguracja sieci</uri>.
</p>

</body>
</subsection>
</section>
</sections>
