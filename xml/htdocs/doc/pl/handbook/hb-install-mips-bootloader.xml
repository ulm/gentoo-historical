<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/handbook/hb-install-mips-bootloader.xml,v 1.2 2004/12/31 17:14:15 swift Exp $ -->


<sections>

<version>1.5</version>
<date>2004-11-28</date>

<section>
<title>MIPS PROM.</title>
<subsection>
<body>

<p>
MIPS nie wymaga instalacji bootloadera. MIPS PROM jest w stanie
uruchomić system, ale musisz zainstalować jądro jako opcję wykonalną.
</p>

<p>
Po pierwsze, zainstaluj <c>dvhtool</c>, który będzie potrzebny do skopiowania
jądra na SGI Volume Header.
</p>

<pre caption="Instalowanie dvhtool">
# <i>emerge dvhtool</i>
</pre>

<p>
Teraz przekopiuj kernel na SGI Volume Header. Domyślnie <c>dvhtool</c>
zakłada obecność SGI Volume Header na <path>/dev/sda</path>. Jeśli w tym
przypadku tak nie jest (na przykład gdy IRIX jest zainstalowany na
<path>/dev/sda</path> a Gentoo/MIPS na <path>/dev/sdb</path>),
musisz o tym poinformować <c>dvhtool</c> przy pomocy <c>-d &lt;urządzenie&gt;</c>.
</p>

<pre caption="Kopiowanie jądra na SGI Volume Header">
# <i>dvhtool --unix-to-vh &lt;kernel name in /boot&gt; &lt;name you want to give in volume header&gt;</i>
</pre>

<p>
Jeśli chcesz obejrzeć wszystkie dostępne wpisy woluminu
wpisz <c>--print-volume-directory</c>:
</p>

<pre caption="Oglądanie dostępnych wpisów wolumenu">
# <i>dvhtool --print-volume-directory</i>

</pre>

<p>
Musisz zmodyfikować kilka opcji w MIPS PROM by system Gentoo/MIPS
był w stanie się uruchomić. 
</p>

<p>
Następnie przejdź do rozdziału<uri link="#reboot">Ponowne uruchamianie systemu</uri>.
</p>

</body>
</subsection>
</section>
<section id="reboot">
<title>Ponowne uruchamianie systemu.</title>
<subsection>
<body>

<p>
Opuść chrootowane środowisko i odmonuj wszystkie zamontowane partycje. Następnie wpisz komendę <c>reboot</c>.
</p>

<pre caption="Opuszczanie chroota, odmontowywanie partycji oraz ponowne uruchamianie komputera">
# <i>exit</i>
cdimage ~# <i>cd</i>
cdimage ~# <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
cdimage ~# <i>reboot</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Dostosowywanie MIPS PROM.</title>
<subsection>
<body>

<p>
Po ponownym uruchomieniu wejdź do <e>System Maintenance Menu</e> i wybierz
<e>Enter Command Monitor</e> (<c>5</c>). Jeśli chcesz przetestować teraz swoje
nowe Gentoo wpisz <c>boot -f &lt;nazwa jądra&gt;</c>. Jeśli chcesz żeby Gentoo
było domyślnym systemem na stałe musisz wprowadzić jeszcze kilka zmian w MIPS
PROM.
</p>

<pre caption="Konfigurowanie MIPS PROM do uruchamiania Gentoo">
1) Start System
2) Install System Software
3) Run Diagnostics
4) Recover System
5) Enter Command Monitor

Option? <i>5</i>
Command Monitor.  Type "exit" to return to the menu.

<comment>(&lt;root device&gt; = partycja root Gentoo, np. /dev/sda3)</comment>
&gt;&gt; <i>setenv OSLoadPartition &lt;root device&gt;</i>

<comment>(Żeby zobaczyć listę wszystkich dostępnych kerneli wpisz "ls")</comment>
&gt;&gt; <i>setenv OSLoader &lt;kernel name&gt;</i>
&gt;&gt; <i>setenv OSLoadFilename &lt;kernel name&gt;</i>

<comment>(Podaj parametry z jakimi chcesz uruchomić system)</comment>
&gt;&gt; <i>setenv OSLoadOptions &lt;kernel parameters&gt;</i>

<comment>(Dostarczanie lokalizacji Volume Header)</comment>
&gt;&gt; <i>setenv SystemPartition scsi(0)disk(1)rdisk(0)partition(8)</i>

<comment>(Automatyczne uruchamianie Gentoo)</comment>
&gt;&gt; <i>setenv AutoLoad Yes</i>

<comment>(Ustawienie strefy czasowej)</comment>
&gt;&gt; <i>setenv TimeZone EST5EDT</i>

<comment>(Użycie konsoli szeregowej - użytkownica adaptera graficznego powinni
wpisać tu "g" zamiast "d1" (jeden))</comment>
&gt;&gt; <i>setenv console d1</i>
</pre>

<p>
Następnie zakończ proces instalacji zgodnie ze wskazówkami spisanymi w rozdziale
<uri link="?part=1&amp;chap=11">Finalizowanie instalacji Gentoo</uri>.
</p>

</body>
</subsection>
</section>
</sections>
