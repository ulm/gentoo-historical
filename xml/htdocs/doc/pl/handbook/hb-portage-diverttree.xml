<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/handbook/hb-portage-diverttree.xml,v 1.12 2006/01/04 07:11:28 rane Exp $ -->

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<sections>

<version>1.4</version>
<date>2005-11-25</date>

<section>
<title>Używanie podzestawów drzewa Portage</title>
<subsection>
<title>Pomijanie kategorii/pakietów</title>
<body>

<p>
Możemy też selektywnie uaktualniać poszczególne kategorie/pakiety oraz
zignorować pozostałe kategorie/pakiety. Osiągamy to zmuszając <c>rsync</c> do
pominięcia kategorii/pakietów podczas wykonywania <c>emerge --sync</c>.
</p>

<p>
W pliku  <path>/etc/make.conf</path> można skonfigurować zmienną
<c>RSYNC_EXCLUDEFROM</c>, która powinna zawierać ścieżkę do pliku, w którym
znajdują się informacje o kategoriach i pakietach, które mają być pomijane przy
aktualizowaniu drzewa.
</p>

<pre caption="Definiowanie pliku z pominiętymi pakietami w make.conf">
RSYNC_EXCLUDEFROM=/etc/portage/rsync_excludes
</pre>

<pre caption="Wyłączanie wszystkich gier w pliku /etc/portage/rsync_excludes">
games-*/*
</pre>

<p>
Należy zwrócić uwagę, że może to doprowadzić do problemów z zależnościami, gdyż
nowe, niepominięte pakiety mogą zależeć od nowych lecz pominiętych pakietów.
</p>

</body>
</subsection>
</section>
<section>
<title>Dodawanie nieoficjalnych ebuildów</title>
<subsection>
<title>Definiowanie katalogu-nakładki na Portage</title>
<body>

<p>
Można zmusić Portage, aby używało ebuildów, które nie są dostępne w oficjalnym
drzewie. Należy utworzyć nowy katalog (na przykład <path>/usr/local/portage</path>) 
w którym będą znajdować się dodatkowe ebuildy. Należy pamiętać o zachowaniu
struktury katalogów takiej jak w oficjalnym drzewie Portage.
</p>

<p>
Następnie trzeba zdefiniować zmienną PORTDIR_OVERLAY w pliku
<path>/etc/make.conf</path> tak żeby wskazywała na właśnie utworzony katalog.
Możliwe jest teraz użycie tych ebuildów bez obawy, że zostaną usunięte lub
nadpisane przy następnym uruchomieniu <c>emerge --sync</c>. 
</p>

</body>
</subsection>
<subsection>
<title>Praca z kilkoma powłokami</title>
<body>

<p>
Dla zaawansowanych użytkowników będących deweloperami i korzystających z kilku
powłok, testujących pakiety przed dodaniem ich do Portage lub chcących po
prostu używać nieoficjalnych ebuildów pochodzących z różnych źródeł, z pakietem 
<c>app-portage/gentoolkit-dev</c> zostaje dostarczony <c>gensync</c>, 
narzędzie, dzięki któremu będziemy mogli utrzymać nasze repozytorium aktualnym.
</p>

<p>
<c>gensync</c> daje nam możliwość aktualizacji wszystkich repozytoriów za
jednym razem lub wybranie tylko kilku z nich. Każde repozytorium powinno
posiadać plik <path>.syncsource</path> w katalogu konfiguracyjnym 
<path>/etc/gensync/</path>, w którym znajduje się lokalizacja repozytorium,
nazwa, ID, itp.
</p>

<p>
Przypuśćmy, że posiadamy dwa repozytoria nazwane <c>java</c> (dla ebuildów
java) oraz <c>entapps</c> (dla aplikacji rozwijanych w warunkach domowych,
jednak na potrzeby przedsiębiorstw). Aktualizację, możemy przeprowadzić w
następujący sposób:
</p>

<pre caption="Użycie gensync do aktutalizacji repozytoriów">
# <i>gensync java entapps</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Programy spoza Portage</title>
<subsection>
<title>Portage kontra własnoręcznie zarządzane pakiety</title>
<body>

<p>
W niektórych przypadkach chcemy skonfigurować, zainstalować i zarządzać
programami samodzielnie, bez pomocy Portage w automatyzacji tego procesu, nawet
jeśli Portage zawiera te programy. Najczęściej są to źródła jądra i
sterowniki nvidii. Można skonfigurować Portage tak by myślało, że dany pakiet
jest zainstalowany w systemie. Ten proces nazywany jest
<e>wstrzykiwaniem</e> i jest obsługiwany przez Portage dzięki plikowi
<path>/etc/portage/profile/package.provided</path>.
</p>

<p>
Dla przykładu, jeśli chcemy poinformować Portage, że ręcznie zainstalowaliśmy
<c>development-sources-2.6.11.6</c> dodajemy następującą linijkę do
<path>/etc/portage/profile/package.provided</path>:
</p>

<pre caption="Przykładowa linijka dla pliku package.provided">
sys-kernel/development-sources-2.6.11.6
</pre>

</body>
</subsection>
</section>
</sections>
