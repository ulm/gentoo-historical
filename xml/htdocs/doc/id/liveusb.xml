<?xml version='1.0' encoding="UTF-8"?>
<!-- $Id: liveusb.xml,v 1.3 2006/09/21 10:54:56 neysx Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/id/liveusb.xml" lang="id">
<title>Panduan Gentoo Linux LiveUSB</title>

<author title="Author">
  <mail link="henrik@brixandersen.dk">Henrik Brix Andersen</mail>
</author>
<author title="Translator">
  <mail link="kucrut.dz@gmail.com">Dzikri Aziz</mail>
</author>

<abstract>
Panduan ini menjelaskan cara membuat Gentoo Linux LiveUSB, atau dengan kata
lain, cara mengemulasi CD Instalasi Linux dengan menggunakan flash drive.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.6</version>
<date>2006-09-18</date>

<chapter>
<title>Pendahuluan</title>
<section>
<title>LiveUSB</title>
<body>

<p>
Panduan ini menjelaskan cara membuat Gentoo Linux LiveUSB, atau dengan kata
lain, cara mengemulasi CD Instalasi Linux dengan menggunakan flash drive. Hal
ini berguna untuk menginstal Gentoo Linux pada laptop modern yagn tidak
memiliki CD-ROM.
</p>

<p>
Walaupun petunjuk-petunjuk pada dokumen ini ditujukan untuk mengemulasikan
CD Instalasi Gentoo Linux dengan menggunakan flash drive USB, anda juga
dapat menggunakan block device apa saja selama anda menyesuaikan nama device.
</p>

</body>
</section>
<section>
<title>Kebutuhan</title>
<body>

<p>
Berikut ini yang perlukan untuk menggunakan Gentoo Linux LiveUSB:
</p>

<ul>
  <li>Bootable USB flash drive (paling kecil 64MB)</li>
  <li>Komputer x86 dengan dukungan boot dari USB</li>
</ul>

<p>
Anda juga memerlukan akses berikut ini untuk menciptakan LiveUSB:
</p>

<ul>
  <li>
    Komputer dengan Gentoo Linux (atau disto Linux lain)
  </li>
</ul>

</body>
</section>
</chapter>
<chapter>
<title>Menyiapkan flash drive USB</title>
<section>
<title>Mempartisi drive</title>
<body>

<warn>
Perintah berikut ini akan menghapus seluruh data di flash drive USB anda.
Pastikan anda telah membuat cadangan untuk data anda.
</warn>

<impo>
Panduan ini menganggap flash driver USB anda adalah <path>/dev/sda</path>.
Jika anda memiliki perangkat mirip SCSI lainnya, pastikan anda menggunakan
nama device yang benar.
</impo>

<p>
Ciptakan sebuah partisi FAT32 pada flash drive USB anda dan tandakan sebagai
bootable dengan menggunakan <c>fdisk</c>. Berikut ini adalah contoh skema
partisi:
</p>

<pre caption="Contoh skema partisi">
# <i>fdisk -l /dev/sda</i>

Disk /dev/sda: 1048 MB, 1048313856 bytes
33 heads, 61 sectors/track, 1017 cylinders
Units = cylinders of 2013 * 512 = 1030656 bytes

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1        1017     1023580    b  W95 FAT32
</pre>

</body>
</section>
<section>
<title>Menciptakan filesystem</title>
<body>

<p>
Ciptakan filesystem FAT32 pada flash drive USB dengan <c>mkdosfs</c>:
</p>

<pre caption="Menjalankan mkdosfs">
<comment>(Pastikan anda telah menginstal sys-fs/dosfstools)</comment>
# <i>emerge -av sys-fs/dosfstools</i>
# <i>mkdosfs -F 32 /dev/sda1</i>
mkdosfs 2.11 (12 Mar 2005)
</pre>

</body>
</section>
<section>
<title>Menginstal Master Boot Record</title>
<body>

<p>
Instal Master Boot Record (MBR) yang telah dikompilasi dari <c>syslinux</c>
pada flash drive USB:
</p>

<pre caption="Instalasi Master Boot Record">
<comment>(Pastikan anda telah menginstal sys-boot/syslinux-3.00 atau yang lebih baru)</comment>
# <i>emerge -av '>=sys-boot/syslinux-3*'</i>
# <i>dd if=/usr/lib/syslinux/mbr.bin of=/dev/sda</i>
0+1 records in
0+1 records out
</pre>

</body>
</section>
</chapter>
<chapter>
<title>Menyalin file-file</title>
<section>
<title>Mount CD Instalasi Gentoo Linux</title>
<body>

<warn>
Panduan ini ditulis hanya untuk digunakan dengan rilis Gentoo 2006.0. Jangan
mencoba untuk menggunakan CD 2006.1 atau yang lebih baru, anda hanya akan
menghasilkan disk USB yang tidak dapat boot.
</warn>

<p>
Download <path>install-x86-minimal-2006.0.iso</path> dari <uri
link="/main/en/where.xml">mirror</uri> Gentoo Linux lalu mount imej ISO
tersebut di <path>/mnt/cdrom/</path> seperti berikut ini:
</p>

<pre caption="Mount imej ISO CD Instalasi Gentoo Linux">
<comment>(Ciptakan mount point /mnt/cdrom/ jika belum ada)</comment>
# <i>mkdir -p /mnt/cdrom</i>
# <i>mount -o loop,ro -t iso9660 install-x86-minimal-2006.0.iso /mnt/cdrom/</i>
</pre>

<note>
Jika anda mendapatkan pesan error <e>Could not find any loop device</e> ketika
anda me-mount ISO, anda perlu mengaktifkan opsi <c>Loopback device support</c>
pada konfigurasi kernel anda.
</note>

</body>
</section>
<section>
<title>Mount LiveUSB</title>
<body>

<p>
Mount flash drive USB yang telah diformat di <path>/mnt/usb/</path> seperti
berikut ini:
</p>

<pre caption="Mount flash drive USB">
<comment>(Ciptakan mount point /mnt/usb/ jika belum ada)</comment>
# <i>mkdir -p /mnt/usb</i>
# <i>mount -t vfat /dev/sda1 /mnt/usb/</i>
</pre>

</body>
</section>
<section>
<title>Menyalin file-file</title>
<body>

<p>
Salinlah file-file dari CD Instalasi Gentoo Linux ke LiveUSB. File-file ini
perlu kita sesuaikan karena kita akan menggunakan bootloader <c>syslinux</c>,
bukan <c>isolinux</c>:
</p>

<pre caption="Menyalin file-file">
# <i>cp -r /mnt/cdrom/* /mnt/usb/</i>
# <i>mv /mnt/usb/isolinux/* /mnt/usb/</i>
# <i>mv /mnt/usb/isolinux.cfg /mnt/usb/syslinux.cfg</i>
# <i>rm -rf /mnt/usb/isolinux*</i>

<comment>(Kita perlu mengganti nama kernel memtest86 agar dapat di-load dengan syslinux)</comment>
# <i>mv /mnt/usb/memtest86 /mnt/usb/memtest</i>
</pre>

<p>
Sekarang anda dapat meng-unmount imej ISO:
</p>

<pre caption="Unmount imej ISO">
# <i>umount /mnt/cdrom/</i>
</pre>

</body>
</section>
<section>
<title>Merubah konfigurasi bootloader</title>
<body>

<p>
Edit file konfigurasi syslinux dengan menggunakan <c>sed</c> seperti yang
ditunjukkan di bawah ini. Parameter <c>dobladecenter</c> akan mengakibatkan
delay sebelum mencoba untuk me-mount filesystem. Hal ini diperlukan agar
flash driver USB telah siap ketika dideteksi.
</p>

<pre caption="Edt parameter boot">
# <i>sed -i \
    -e "s:cdroot:cdroot dobladecenter:" \
    -e "s:kernel memtest86:kernel memtest:" \
    /mnt/usb/syslinux.cfg</i>
</pre>

<note>
Anda boleh menambahkan <c>docache</c> pada parameter boot agar anda dapat
meng-unmount <path>/mnt/cdrom/</path> setelah selesai boot dan mencabut flash
drive USB. Jangan gunakan parameter ini kecuali komputer target memiliki RAM
paling sedikit 128MB.
</note>

</body>
</section>
</chapter>
<chapter>
<title>Instalasi bootloader</title>
<section>
<title>Unmount drive</title>
<body>

<p>
Pastikan anda telah meng-unmount flash drive USB sebelum menginstal bootloader.
</p>

<pre caption="Unmount flash drive USB">
# <i>umount /mnt/usb/</i>
</pre>

</body>
</section>
<section>
<title>Instalasi syslinux</title>
<body>

<p>
Akhirnya, instal bootloader <c>syslinux</c> pada flash drive USB:
</p>

<pre caption="Menjalankan syslinux">
# <i>syslinux /dev/sda1</i>
</pre>

<impo>
Anda perlu menjalankan <c>syslinux /dev/sda1</c> kembali setiap anda merubah
file <path>syslinux.cfg</path> agar perubahan konfigurasi diterapkan.
</impo>

</body>
</section>
</chapter>
<chapter>
<title>Menggunakan LiveUSB</title>
<section>
<title>Boot</title>
<body>

<p>
Colokkan flash drive USB lalu nyalakan komputer anda, pastikan agar BIOS telah
diatur untuk boot dari USB. Jika semuanya berjalan dengan-baik-dan-benar, anda
akan disambut dengan prompt syslinux.
</p>

<p>
Dari sini anda seharusnya sudah dapat mengikuti petunjuk instalasi biasa dari
<uri link="/doc/id/handbook/">Buku Panduan Gentoo Linux</uri>.
</p>

</body>
</section>
</chapter>
</guide>
