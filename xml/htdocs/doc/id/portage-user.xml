<?xml version='1.0' encoding="UTF-8"?>
<!-- English doc rev. 1.15 -->
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/id/Attic/portage-user.xml,v 1.1 2003/11/18 14:33:22 erwin Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/id/portage-user.xml">
<title>Panduan Portage</title>

<author title="Chief Architect">
  <mail link="drobbins@gentoo.org">Daniel Robbins</mail>
</author>
<author title="Editor">
  <mail link="thomasfl@gentoo.org">Thomas Flavel</mail>
</author>
<author title="Editor"><!-- zhen@gentoo.org -->
  John P. Davis
</author>
<author title="Editor">
  <mail link="carl@gentoo.org">Carl Anderson</mail>
</author>
<author title="Editor">
  <mail link="peesh@gentoo.org">Jorge Paulo</mail>
</author>
<author title="Editor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>

<abstract>
Panduan ini akan secara singkat mengajarkan anda cara menjaga paket anda
tetap up-to-date, dan cara me-maintain sistem anda.
</abstract>

<version>1.4</version>
<date>October 9, 2003</date>

<license/>

<chapter>
<title>Memulai</title>
<section>
<title>Mendapatkan Portage yang baru</title>
<body>

<p>
Setelah anda menginstal Gentoo Linux dan bermain-main di dalamnya, anda
mungkin menemukan beberapa bug atau masalah pada beberapa paket, atau
mungkin anda ingin menginstal paket software terbaru Gentoo Linux atau
mengupdate paket-paket anda yang sekarang. Untuk melakukan hal ini, anda
perlu mendownload <e>Portage tree</e> kami. Kami menyediakan beberapa
server rsync anonymous yang dapat anda gunakan untuk mendapatkan <e>Portage
tree</e> terbaru kami. Berikut ini merupakan cara melakukannya:
</p>

<p>
Gunakan perintah berikut ini untuk mengsinkronisasi <e>Portage tree</e> anda:
</p>

<pre caption = "Mengupdate Portage tree">
# <c>emerge sync</c>
</pre>

<p>
Catat bahwa <c>emerge sync</c> secara otomatis menjalankan opsi
<c>--clean</c>, yang akan menghapus seluruh perubahan atau penambahan
yang anda lakukan pada <path>/usr/portage</path>. Jika anda ingin menyimpan
ebuild pribadi anda terpisah dari <e>Portage tree</e> utama, gunakan fungsi
<c>PORTDIR_OVERLAY</c>.
</p>

<pre caption = "Menggunakan PORTDIR_OVERLAY">
<comment>Tambahkan baris berikut pada <path>/etc/make.conf</path></comment>
PORTDIR_OVERLAY="/tempat/ebuild/anda/berada"
</pre>

<p>
Jika anda mulai mengubah banyak ebuild, membetulkan bug, dll, anda mungkin
ingin bergabung dengan tim pengembangan Gentoo Linux. Silahkan hubungi
<mail link="drobbins@gentoo.org">Daniel Robbins</mail> atau <mail
link="seemant@gentoo.org">Seemant Kulleen</mail> untuk informasi lebih lanjut.
</p>

</body>
</section>
<section>
<title>Mengupdate Portage</title>
<body>

<p>
Sebelum menggunakan <e>Portage tree</e> kami, penting untuk mengupdate
portage dahulu dengan menjalankan perintah berikut:
</p>

<pre caption = "Update Portage">
<comment>Perintah ini akan menampilkan paket-paket apa saja yang akan diupdate</comment>
# <i>emerge -up system </i>
<comment>Perintah ini akan mengupdate paket-paket penting</comment>
# <c>emerge -u system </c>
</pre>

<p>
Sekarang anda telah memiliki versi terbaru dari Portage, anda dapat mulai
menggunakan sistem ebuild kamu untuk mengupdate software-software yang
terinstal.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Pengenalan <c>emerge</c></title>
<section>
<title><c>emerge --pretend</c></title>
<body> 

<p>
Sebelum menginstal sebuah paket, adalah ide yang bagus untuk melihat
dependency-dependency apa saja yang akan diinstal, paket-paket apa yang
perlu diupdate, dll. <c>emerge --pretend</c> atau <c>emerge -p</c> akan
melakukannya untuk anda.
</p>

<pre caption = "Menggunakan emerge -p">
# <i>emerge -p xchat</i>

These are the packages that I would emerge, in order.

Calculating dependencies......... done!
[ebuild   U] sys-libs/zlib-1.1.3-r2 to /
[ebuild   U] dev-libs/glib-1.2.10 to /
[ebuild N  ] media-libs/jpeg-6b-r2 to /
[ebuild N  ] x11-base/xfree-4.0.3-r3 to /
[ebuild N  ] x11-libs/gtk+-1.2.10-r1 to /
[ebuild N  ] media-libs/giflib-4.1.0-r3 to /
[ebuild N  ] media-libs/tiff-3.5.6_beta to /
[ebuild N  ] media-libs/imlib-1.9.10 to /
[ebuild N  ] net-irc/xchat-1.4.3 to /
</pre>

<p>
Dalam kasus ini, kita mencoba untuk me-emerge <c>xchat</c> pada sebuah
sistem yang tidak memiliki X terinstal. Karena itu, <c>emerge --pretend</c>
dengan tepat mengidentifikasi beberapa dependency yang perlu diinstal dahulu.
Yaitu, <path>sys-libs/zlib</path> dan <path>dev-libs/glib</path> perlu
diupdate dan beberapa ebuild lainnya (termasuk <path>x11-base/xfree</path>)
perlu di emerge.
</p>

</body>
</section>
<section>
<title>USE dan <c>emerge</c></title>
<body>

<p>
Pada perintah di atas, penulis menjalankan <c>emerge --pretend</c> pada
sistem yang tidak memiliki <c>gnome</c> terdefenisi di variabel <c>USE</c>
di file <path>/etc/make.conf</path>. Hal ini berarti dukungan tambahan GNOME,
jika ada, tidak akan diaktifkan. <path>xchat</path> memiliki dukungan tambahan
GNOME, jadi mari kita lihat tampilan <c>emerge --pretend</c> setelah penulis
menambahkan <c>gnome</c> pada variabel environment <c>USE</c> di
<path>/etc/make.conf</path>:
</p>

<pre caption = "Menggunakan emerge dengan variabel USE">
# <i>emerge -p xchat</i>

These are the packages that I would emerge, in order.

Calculating dependencies............................ done!
[ebuild N  ] media-libs/jpeg-6b-r2 to /
[ebuild N  ] gnome-base/libghttp-1.0.9 to /
[ebuild N  ] media-libs/audiofile-0.2.1 to /
[ebuild N  ] media-sound/esound-0.2.22-r2 to /
[ebuild N  ] gnome-base/gnome-env-1.0 to /
[ebuild N  ] gnome-base/libxml-1.8.11 to /
[ebuild N  ] gnome-base/ORBit-0.5.8 to /
[ebuild N  ] gnome-base/oaf-0.6.5 to /
[ebuild   U] dev-libs/glib-1.2.10 to /
[ebuild N  ] net-libs/libwww-5.3.2-r1 to /
[ebuild N  ] media-libs/giflib-4.1.0-r3 to /
[ebuild N  ] dev-util/guile-1.4-r3 to /
[ebuild   U] sys-libs/zlib-1.1.3-r2 to /
[ebuild N  ] x11-base/xfree-4.0.3-r3 to /
[ebuild N  ] x11-libs/gtk+-1.2.10-r1 to /
[ebuild N  ] media-libs/tiff-3.5.6_beta to /
[ebuild N  ] media-libs/imlib-1.9.10 to /
[ebuild N  ] gnome-base/gnome-libs-1.2.13 to /
[ebuild N  ] gnome-base/glibwww-0.2-r1 to /
[ebuild N  ] gnome-base/gdk-pixbuf-0.11.0 to /
[ebuild N  ] gnome-base/gconf-1.0.0 to /
[ebuild N  ] gnome-base/gnome-vfs-1.0.1 to /
[ebuild N  ] gnome-base/control-center-1.4.0.1 to /
[ebuild N  ] gnome-base/scrollkeeper-0.2 to /
[ebuild N  ] dev-util/xml-i18n-tools-0.8.1 to /
[ebuild N  ] gnome-base/libglade-0.16-r1 to /
[ebuild N  ] gnome-base/gnome-core-1.4.0.4 to /
[ebuild N  ] net-irc/xchat-1.4.3 to /
</pre>

<p>
Seperti yang anda lihat, dengan <c>gnome</c> ditambahkan ke <c>USE</c>,
emerge mendeteksi bahwa xchat harus mengaktifkan dukungan tambahan GNOME.
Tentu saja, agar dukungan tambahan GNOME ini dapat dikompilasi dan dijalankan
dengan benar, GNOME harus pertama-tama diinstal. <c>emerge</c>
memperhitungkan semuanya dan menambahkan berbagai paket-paket yang
dibutuhkan oleh GNOME di daftar ebuild-ebuildnya untuk di-emerge.
Kadang-kadang bila variabel <c>USE</c> anda tidak diset dengan benar, emerge
akan mengikutsertakan ataupun tidak menambahkan dukungan untuk beberapa
dukungan tambahan lainnya. Karena itu penulis merekomendasikan anda untuk
selalu menjalankan <c>emerge --pretend</c> sebelum menjalankan perintah
<c>emerge</c>, terutama bagi ebuild-ebuild baru atau yang tidak dikenal.
Dengan begitu, anda akan tahu apa yang akan dijalankan :) Setelah segalanya
tampak bagus, anda dapat menjalankan perintah <c>emerge</c> dengan
membuang opsi <c>--pretend</c>:
</p>

<pre caption = "Emerge xchat">
# <c>emerge xchat</c>
</pre>

<p>
Setelah semua dependency di-emerge (jika ada; tidak semua paket-paket memiliki
dependency), source xchat akan didownload (ke
<path>/usr/portage/distfiles</path>), diverifikasi, di-<e>unpack</e>,
dikompilasi, dan diinstal ke direktori sementara bernama <e>sandbox</e>. Lalu,
paket tersebut akan di-emerge ke filesistem lokal dan sebuah database paket
akan diciptakan di <path>/var/db/pkg/net-irc/xchat-1.4.3/CONTENTS</path>,
yang berisi file-file yang diinstal dan md5sum seluruh file.
</p>

<p>
Jika anda ingin melihat flag USE apa yang dapat digunakan pada sebuah paket
tertentu, dan flag USE yang mana yang diaktifkan di sistem anda, tambahkan
opsi <c>-v</c> atau <c>--verbose</c> ke <c>emerge -p</c>:
</p>

<pre caption = "Menggunakan emerge dengan --verbose">
# <i>emerge -pv gentoo-sources</i>

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild    U ] sys-kernel/gentoo-sources-2.4.20-r5 -build +crypt -evms2 
-aavm -usagi 
</pre>

</body>
</section>
<section>
<title>Mencari tahu apa yang telah berubah</title>
<body>

<p>
Jika anda ingin mencari tahu apa yang telah berubah antara versi paket yang
telah anda instal, dan versi paket yang tersedia di Portage, tambahkan opsi
<c>--changelog</c> atau <c>-l</c>:
</p>

<pre caption = "Melihat ChangeLog">
# <i>emerge -pl mozilla</i>

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild    U ] net-www/mozilla-1.3-r1 [1.2.1-r5] 

*mozilla-1.3-r1

  22 Mar 2003; Martin Schlemmer &lt;azarah@gentoo.org&gt; mozilla-1.3-r1.ebuild :
  Add Gtk2 patch.  Add default/prefs/xft.js when Xft is enabled.  Some other
  long overdue cleanups.

*mozilla-1.3

  21 Mar 2003; Jay Kwak &lt;jayskwak@gentoo.org&gt; mozilla-1.3.ebuild :
  Add XIM input patch for GTK
             
  18 Mar 2003; Martin Schlemmer &lt;azarah@gentoo.org&gt; mozilla-1.3.ebuild :
  New version.

  13 Mar 2003; Olivier Reisch &lt;doctomoe@gentoo.org&gt; mozilla-1.2.1-r5.ebuild :
  Marked ppc stable

*mozilla-1.3_beta

  23 Feb 2003; Martin Schlemmer &lt;azarah@gentoo.org&gt; mozilla-1.3_beta.ebuild :
  New version.

</pre>

</body>
</section>
</chapter>

<chapter>
<title>Upgrade paket</title>
<section>
<body>

<p>
Cara umum untuk mengupdate sebuah paket di Portage adalah menggunakan
perintah <c>emerge --update</c> atau <c>emerge -u</c>:
</p>

<pre caption = "Menggunakan emerge -u">
# <c>emerge -u xchat</c>
</pre>

<p>
Portage menggunakan sistem yang bernama "safe" unmerge; Portage hanya akan
melakukan unlink pada file-file asli. Jika sebuah file telah ditimpa
(overwrite) atau dimodifikasi, file tersebut akan tetap berada pada filesystem
(dengan anggapan, anda menginstal versi yang lebih baru dari sebuah paket).
Jadi, jika anda melakukan unmerge pada versi lama xchat setelah emerge paket
dengan versi yang lebih baru, file-file xchat tidak akan dihapus dari
filesystem anda, karena file tersebut memiliki timestamp yang lebih baru dan
md5sum yang berbeda. Sistem safe unmerge sangat mengagumkan karena
sistem tersebut memastikan bahwa beberapa versi dari sebuah aplikasi tersedia
setiap saat. Jika anda harus melakukan unmerge duluan, maka xchat tidak akan
tersedia untuk beberapa menit sewaktu versi yang lebih baru didownload,
dikompilasi, diinstal dan di-emerge.
</p>

<impo>
Saat ini, Portage memiliki fitur spesial bernama "proteksi file konfigurasi".
Tujuan dari fitur ini adalah untuk mencegah instalasi paket baru untuk
mengacaukan file konfigurasi yang telah ada. Secara default, proteksi file
konfigurasi diaktifkan pada /etc dan direktori-direktori konfigurasi KDE;
beberapa lagi mungkin akan ditambahkan di waktu mendatang. Ketikkan
<c>emerge --help config</c> untuk informasi lebih lanjut.
</impo>

</body>
</section>
</chapter>

<chapter>
<title>Membetulkan Paket-paket yang terblok</title>
<section>
<body>

<p>
Paket-paket yang saat ini terinstal kadang-kadang dapat memblok/menghalangi
instalasi paket-paket lain. Hal ini dapat terjadi jika fungsi dari sebuah
paket telah dipindahkan ke paket lain atau sewaktu dua paket-paket tidak
sesuai satu sama lain. Sebuah paket yang menghalangi harus dihapus dari
sistem anda sebelum paket yang terblok dapat di-emerge.
</p>

<pre caption = "Emerge paket yang terblok">
# <i>emerge -pv libbonobo</i>

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[blocks B     ] gnome-base/bonobo-activation (from pkg gnome-base/libbonobo-2.4.0) 
[ebuild     U ] gnome-base/ORBit2-2.8.1 [2.6.3] -doc +ssl 
[ebuild     U ] gnome-base/libbonobo-2.4.0 [2.2.3] -doc 
</pre>

<p>
Pada contoh di atas, paket bonobo-activation menghalangi instalasi
libbonobo-2.4.0.
</p>

<pre caption = "Menghapus paket yang memblok dari sistem">
# <i>emerge -C bonobo-activation</i>
# <i>emerge libbonobo</i>
</pre>

<p>
Penghapusan bonobo-activation dari sistem anda akan memungkinkan
anda untuk melakukan emerge libbonobo-2.4.0 dengan sukses.
</p>

<impo>
Melakukan unmerge (<c>emerge -C</c>) akan menghapus sebuah paket walaupun
paket tersebut merupakan dependency bagi paket-paket lain, dan mungkin akan
merusak sistem anda.
</impo>
</body>
</section>
</chapter>

<chapter>
<title>Mengontrol Tingkah Laku Portage</title>
<section>
<body>

<p>
Jika anda ingin mengubah tingkah laku Portage, anda sebaiknya mengubah file
<path>/etc/make.conf</path>. FIle tersebut mengandung variabel-variabel
(atau contoh nilai-nilai bagi variabel) yang dapat anda defenisikan untuk
mengubah tingkah laku Portage. Sebagai contoh, jika anda ingin mengubah
cara Portage mendownload sourcecode, anda sebaiknya mengubah variabel
<c>FETCHCOMMAND</c> sesuai kebutuhan anda.
</p>

<p>
File <path>/etc/make.conf</path> memiliki banyak contoh-contoh setting
variabel yang dapat anda ikuti untuk mendefinisikannya. Anda sebaiknya juga
melihat manpage <path>make.conf</path> (<c>man make.conf</c>) dan, jika
anda ingin menyelam lebih dalam ke dunia Portage, silahkan membaca <uri
link="/doc/id/portage-manual.xml">Manual Portage</uri>.
</p>

<p>
Jika anda perlu mengubah sebuah variabel untuk sekali jalan saja, maka anda
dapat mengeset variabel tersebut sebagai variabel environment daripada
mengubah file <path>/etc/make.conf</path> dua kali. Sebagai contoh,
<c>AUTOCLEAN="no" emerge kde</c> akan menonaktifkan autoclean sewaktu
melakukan <c>emerge kde</c> saja.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Apakah arti paket-paket termask (masked) ?</title>
<section>
<body>

<p>
Banyak sekali orang ingin tahu mengapa paket-paket yang baru dirilis tidak
diikutsertakan sewaktu mereka menjalankan <c>emerge -u world</c>. Sebuah
contoh yang bagus adalah xfree-4.3.0 (versi pada saat penulisan). Jika anda
menjalankan <c>emerge sync</c> dan diikuti oleh <c>emerge -u world</c>,
anda tidak akan mendapatkan xfree sebagai kandidat update. Mengapa?
</p>

<p>
Alasannya adalah karena beberapa paket-paket tertentu ditandai sebagai
"masked" -- yaitu, paket tersebut tidak akan secara otomatis diupgrade atau
diinstal kecuali anda melakukan beberapa jalan tertentu. Untuk penjelasan
cara melakukan instalasi paket-paket termask (masked), kami menyarankan
anda untuk mengunjungi <uri
link="http://forums.gentoo.org/viewtopic.php?t=33534">FAQ Paket-Paket Termask
</uri> di <uri link="http://forums.gentoo.org/">Forum Gentoo</uri> kami.
</p>

</body>
</section>
</chapter>
</guide>
