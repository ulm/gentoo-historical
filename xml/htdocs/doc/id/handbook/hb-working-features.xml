<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- English doc rev. 1.11 -->
<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<sections>
<section>
<title>DistCC</title>
<subsection>
<title>Apakah DistCC itu?</title>
<body>

<p>
<c>distcc</c> adalah sebuah program untuk mendistribusikan proses kompilasi
kepada beberapa mesin, tidak harus sama jenisnya, yang terhubung di sebuah
jaringan. Klien <c>distcc</c> mengirimkan semua informasi yang diperlukan ke
server DistCC yang tersedia (yang menjalankan <c>distccd</c>), sehingga
mereka dapat mengkompilasi potongan-potongan kode sumber untuk klien. Hasil
akhirnyanya adalah waktu kompilasi yang lebih singkat.
</p>

<p>
Anda dapat memperoleh informasi lebih lanjut tentang <c>distcc</c> (dan
informasi bagaimana menjalankannya pada Gentoo) di <uri 
link="/doc/en/distcc.xml">Dokumentasi Distcc Gentoo </uri> kami.
</p>

</body>
</subsection>
<subsection>
<title>Instalasi DistCC</title>
<body>

<p>
Distcc dilengkapi dengan sebuah monitor grafis untuk memonitor tugas-tugas yang
dikirimkan oleh komputer Anda untuk kompilasi. Jika Anda menggunakan Gnome
maka taruhlah 'gnome' pada setting <c>USE</c> Anda. Jika Anda tidak 
menggunakan Gnome dan tetap ingin memiliki monitor ini, maka Anda harus 
menaruh 'gtk' pada setting <c>USE</c> Anda. 
</p>

<p>
Menginstalasi distcc, sebagaimana seperti software lainnya, dapat dilakukan
melalui Portage Gentoo, dengan sangat mudah:
</p>

<note>
Mulai sekarang, sebagaimana Anda telah mengetahui cara menginstalasi paket
binari kalau Anda menginginkannya, kami tidak akan menyebutkan opsi 
<c>--usepkg</c> dari sekarang sampai akhir dari Handbook Gentoo.
</note>

<pre caption="Instalasi Distcc">
# <i>emerge distcc</i>
</pre>

</body>
</subsection>
<subsection>
<title>Aktivasi Dukungan Portage</title>
<body>

<p>
Jika instalasi adalah tugas yang mudah, maka selanjutnya seharusnya mudah
juga :) Marilah kita segera mengaktifkan dukungan Portage untuk <c>distcc</c>.
</p>

<p>
Pertama-tama, bukalah <path>/etc/make.conf</path> dan edit variabel
<c>FEATURES</c> sehingga berisi kata kunci <c>distcc</c>. Selanjutnya, edit
variabel <c>MAKEOPTS</c> sehingga terbaca sebagai <c>-jX</c> dengan
<c>X</c> adalah jumlah CPU yang menjalankan <c>distccd</c> (termasuk juga
host tersebut) ditambah satu:
</p>

<pre caption="Kemungkinan setting MAKEOPTS pada /etc/make.conf">
<comment># Andaikata Anda memiliki 2 distccd host satu-CPU tidak termasuk
host ini:</comment>
MAKEOPTS="-j4"
</pre>

<p>
Sekarang, masih tetap di dalam <path>/etc/make.conf</path>, 
hapus tanda komentar pada baris <c>PORTAGE_TMPDIR</c> dan tambahkan
baris berikut pada akhir dari file:
</p>

<pre caption="Menambahkan sebuah variabel khusus distcc tambahan pada /etc/make.conf">
<comment># Jangan lupa untuk menghapus tanda komentar pada variabel PORTAGE_TMPDIR</comment>
DISTCC_DIR=${PORTAGE_TMPDIR}/portage/.distcc
</pre>

<p>
Sekarang jalankan <c>distcc-config</c> dan masukkan daftar dari server DistCC
yang tersedia. Sebagai contoh sederhana, kami menganggap bahwa server DistCC 
yang tersedia adalah <c>192.168.1.102</c> (host ini), <c>192.168.1.103</c>
dan <c>192.168.1.104</c> (dua host "remote"):
</p>

<pre caption="Mengkonfigurasi distcc untuk menggunakan tiga server DistCC 
yang tersedia">
# <i>distcc-config --set-hosts "192.168.1.102 192.168.1.103 192.168.1.104"</i>
</pre>

<p>
Tentu saja, jangan lupa untuk menjalankan servis <c>distccd</c>:
</p>

<pre caption="Menjalankan servis distcc">
# <i>/etc/init.d/distccd start</i>
</pre>

<p>
Selamat, sistem Anda sekarang akan menggunakan kompilasi terdistribusi!
Untuk informasi yang lebih lanjut dan mendalam tentang DistCC dan Gentoo,
silahkan membaca <uri link="/doc/en/distcc.xml">Dokumentasi DistCC
Gentoo</uri> kami.
</p>

</body>
</subsection>
</section>
<section>
<title>ccache</title>
<subsection>
<title>Apakah ccache itu?</title>
<body>

<p>
<c>ccache</c>  adalah cache kompiler yang cepat. Ketika Anda mengkompilasi
sebuah program, hasil tengah kompilasi akan dicache, sehingga jika Anda
mengkompilasi ulang program yang sama, waktu kompilasinya akan berkurang drastis.
Untuk kompilasi umum, hasil yang dicapai adalah kompilasi yang lebih singkat
5 sampai 10 kali. 
</p>

<p>
Jika Anda tertarik dengan isi luar dan dalam <c>ccache</c>, silahkan mengunjungi
<uri link="http://ccache.samba.org">website ccache</uri>.
</p>

</body>
</subsection>
<subsection>
<title>Instalasi ccache</title>
<body>

<p>
Instalasi <c>ccache</c> dengan Gentoo seperti angin. Hanya emerge dan
selesai :)
</p>

<pre caption="Instalasi ccache">
# <i>emerge ccache</i>
</pre>

</body>
</subsection>
<subsection>
<title>Aktivasi Dukungan Portage</title>
<body>

<p>
Pertama-tama, edit <path>/etc/make.conf</path> dan ubahlah variabel 
<c>FEATURES</c> sehingga berisi kata kunci  <c>ccache</c>:
</p>

<pre caption="Edit FEATURES dalam /etc/make.conf">
FEATURES="ccache"
</pre>

<p>
Selanjutnya, edit (atau buatlah) variabel <c>CCACHE_SIZE</c> (juga di file
<path>/etc/make.conf</path>) sehingga berisi jumlah ruang disk yang akan
Anda korbankan untuk <c>ccache</c>:
</p>

<pre caption="Edit CCACHE_SIZE di /etc/make.conf">
CCACHE_SIZE="2G"
</pre>

<p>
Mulai sekarang, Portage akan menggunakan <c>ccache</c> untuk mempersingkat
kompilasi dimana memungkinkan. Jika Anda tidak yakin bahwa <c>ccache</c>
bekerja atau tidak, Anda dapat menjalankan <c>ccache -s</c> untuk melihat 
statistik <c>ccache</c>:
</p>

<pre caption="Melihat statistik ccache">
# <i>ccache -s</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Paket Binari</title>
<subsection>
<title>Membuat paket binari</title>
<body>

<p>
Kami telah mendiskusikan bagaimana bekerja dengan paket prebuilt, tetapi
bagaimanakah cara membuat paket prebuilt Anda sendiri?
</p>

<p>
Jika paket tersebut telah terinstal, Anda dapat menggunakan perintah
<c>quickpkg</c> yang akan membuat sebuah tarbal dari file yang telah terinstal.
Hal ini  sangat menarik untuk tujuan backup!
</p>

<pre caption="Menggunakan quickpkg">
# <i>quickpkg gnumeric</i>
</pre>

<p>
Jika paket tersebut belum terinstal, Anda dapat menginstalnya dengan
menggunakan <c>emerge</c> dan meminta Portage untuk membuat paket binari juga.
<c>emerge</c> menggunakan opsi <c>--buildpkg</c> (<c>-b</c> untuk singkatnya)
untuk ini:
</p>

<pre caption="Instalasi gnumeric dan membuat paket binari juga">
# <i>emerge --buildpkg gnumeric</i>
</pre>

<p>
Jika Anda menginginkan Portage untuk melakukan hal ini secara default, Anda
harus men-set kata kunci <c>buildpkg</c> dalam variabel <c>FEATURES</c>
yang dideklarasikan dalam file <path>/etc/make.conf</path>.
</p>

<pre caption="Membuat paket binari secara otomatis">
FEATURES="buildpkg"
</pre>

<p>
Jika Anda tidak ingin menginstalasi software, tetapi hanya membuat paket,
Anda dapat menggunakan opsi <c>--buildpkgonly</c> (<c>-B</c> untuk singkatnya):
</p>

<pre caption="Membuat paket binari untuk gnumeric">
# <i>emerge --buildpkgonly gnumeric</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Fitur yang Berhubungan dengan Keamanan</title>
<subsection>
<title>Sandbox</title>
<body>

<p>
Ketika membuat dan menginstalasi paket, Portage menggunakan <e>sandbox</e>
untuk melindungi sistem Anda yang sedang berjalan.
Hal ini berarti, selama paket tersebut tidak diinstal pada sistem Anda,
paket tersebut tidak dapat menyentuh file apapun di luar sandbox.
Jadi hal ini akan memastikan bahwa Portage tahu file-file apa yang dibuat
dan dimodifikasi oleh suatu paket. 
</p>

<p>
Ketika kompilasi paket tersebut selesai, Portage akan melakukan "pra-instalasi"
paket tersebut dalam sandbox, mendaftarkan file-file apa yang ditempatkan dan
di mana letaknya. Kemudian Portage akan memindahkan file-file tersebut dari
sandbox ke sistem Anda yang berjalan.
</p>

</body>
</subsection>
<subsection>
<title>Hak Khusus (Privilege) User</title>
<body>

<p>
Portage juga mendukung pembuatan paket oleh user bukan root (lebih tepatnya,
sebagai user "portage", group "portage"). Hal ini akan meningkatkan
keamanan selama proses pembuatan. Anda dapat memilih untuk menggunakan hak
khusus user dengan atau tanpa sandbox. Tentu saja, tanpa perlu disebutkan lagi
bahwa hak khusus user dan sandbox adalah metode pilihan utama.
</p>

</body>
</subsection>
<subsection>
<title>Aktivasi sandbox dan/atau userpriv</title>
<body>

<p>
Portage akan menggunakan <c>sandbox</c> secara default. Jika Anda 
menginginkan <c>userpriv</c>, Anda harus menambahkannya pada variabel
<c>FEATURES</c>. Catatan, dengan mengaktifkan <c>userpriv</c> maka dukungan
terhadap <c>sandbox</c> akan dibatalkan, kecuali jika Anda mengaktifkan 
juga <c>usersandbox</c>:
</p>

<pre caption="Aktivasi userpriv dan usersandbox">
FEATURES="userpriv usersandbox"
</pre>

<warn>
<e>Jangan</e> menghapus <c>sandbox</c> dari variabel <c>FEATURES</c>!
</warn>

</body>
</subsection>
<subsection>
<title>Pemeriksaan Ketat</title>
<body>

<p>
Portage dapat diminta untuk bereaksi secara keras terhadap kemungkinan kondisi
yang membahayakan (seperti file-file Manifest yang hilang atau tidak cocok).
Untuk mengaktifkan pemeriksaan ketat ini, tambahkan kata kunci <c>strict</c>
pada variabel <c>FEATURES</c>:
</p>

<pre caption="Aktivasi pemeriksaan ketat">
FEATURES="strict"
</pre>

</body>
</subsection>
<subsection>
<title>Perijinan Sistem File yang Cerdas</title>
<body>

<p>
Portage dapat diperintahkan untuk secara otomatis menangani
perijinan file yang berpotensi bahaya menimbulkan resiko keamanan.
Hal ini dilakukan dengan membuang bit-bit baca "group" dan "other"
pada file setuid dan membuang bit baca "other" pada file setgid
pada fase pra instalasi. Untuk mengaktifkan perijinan file secara
cerdas, tambahkan kata kunci <c>sfperms</c> pada variabel
<c>FEATURES</c>:
</p>

<pre caption="Aktivasi perijinan sistem file yang cerdas">
FEATURES="sfperms"
</pre>

</body>
</subsection>
</section>
<section>
<title>Fitur-fitur Lain</title>
<subsection>
<title>Bantuan untuk Portage</title>
<body>

<p>
Terdapa beberapa kata kunci lain yang dapat Anda tempatkan pada variabel
<c>FEATURES</c>. Kebanyakan ditujukan bagi para developer dan tidak
menarik bagi pengguna biasa. Jika Anda tertarik untuk mempelajari fitur ini
lebih lanjut (atau Portage secara umum), jangan lupa untuk membaca
halaman manual <path>make.conf</path> yang kami sediakan.
</p>

<pre caption="Informasi lebih lanjut tentang Portage">
# <i>man make.conf</i>
</pre>

</body>
</subsection>
</section>
</sections>
