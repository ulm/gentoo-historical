<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- English doc rev. 1.12 -->

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<sections>
<section>
<title>Apakah Flag USE itu?</title>
<subsection>
<title>Ide dibalik flag USE</title>
<body>

<p>
Ketika Anda menginstalasi Gentoo (atau distribusi yang lain, atau pun sistem
operasi yang lain), Anda membuat pilihan berdasarkan lingkungan tempat Anda
bekerja. Setup untuk suatu server berbeda dari setup untuk suatu workstation.
Workstation untuk game juga berbeda dari workstation untuk render 3D.
</p>

<p>
Hal ini tidak hanya berlaku untuk memilih paket apa saja yang akan Anda instalasi,
tetapi juga fitur apa yang harus didukung oleh paket-paket tertentu. Jika Anda
tidak membutuhkan OpenGL, mengapa Anda harus memusingkan diri untuk menginstalasi
OpenGL dan mengaktifkan dukungan OpenGL pada hampir semua paket Anda? Jika Anda
tidak ingin menggunakan KDE, mengapa Anda harus melakukan kompilasi paket dengan
dukungan untuk KDE jika paket tersebut bisa berjalan lancar tanpa dukungan itu?
</p>

<p>
Untuk membantu user menentukan apa yang diinstalasi/diaktifkan dan apa yang
tidak, kita menginginkan user menentukan lingkungannya sendiri dengan cara
yang mudah. Hal ini akan memaksa user untuk menentukan apa yang benar-benar 
diinginkan dan memudahkan proses Portage, sistem pengaturan paket kami, untuk
membuat keputusan yang berguna.
</p>

</body>
</subsection>
<subsection>
<title>Defenisi dari suatu flag USE</title>
<body>

<p>
Perhatikan flag USE. Flag tersebut adalah suatu kata kunci yang mengaktifkan
dukungan dan informasi dependensi untuk suatu konsep tertentu. Jika Anda
mendefenisikan suatu flag USE, Portage akan mengetahui bahwa Anda membutuhkan
dukungan untuk beberapa kata kunci pilihan. Tentu saja hal ini akan mengubah
informasi dependensi untuk sebuah paket.
</p>

<p>
Marilah kita melihat sebuah contoh khusus : kata kunci <c>kde</c>. Jika Anda tidak
memiliki kata kunci ini pada variabel <c>USE</c> Anda, semua paket yang memiliki
<e>opsi</e> dukungan KDE akan dikompilasi <e>tanpa</e> dukungan KDE. Semua
paket yang memiliki dependensi <e>opsi</e> KDE akan diinstalasi <e>tanpa</e>
instalasi pustaka KDE (sebagai ketergantungannya). Jika Anda telah mendefenisikan
kata kunci <c>kde</c>, maka paket tersebut <e>akan</e> dikompilasi dengan dukungan
KDE, dan pustaka KDE akan diinstal sebagai dependensi-nya.
</p>

<p>
Dengan mendefenisikan secara benar kata-kata kunci, Anda akan memiliki
sistem yang dibuat khusus untuk memenuhi kebutuhan Anda.
</p>

</body>
</subsection>
<subsection>
<title>Apa saja flag USE yang tersedia?</title>
<body>

<p>
Terdapat dua jenis flag USE : flag USE <e>global</e> dan <e>lokal</e>.
</p>

<ul>
  <li>
    Sebuah flag USE <e>global</e> digunakan oleh beberapa paket, untuk 
    keseluruhan sistem. Flag ini yang paling sering ditemui orang
    sebagai flag-flag USE.
  </li>
  <li>
    Sebuah flag USE <e>lokal</e> digunakan oleh suatu paket tunggal untuk
    membuat keputusan yang berkaitan dengan paket tertentu.
  </li>
</ul>

<p>
Daftar flag USE global yang tersedia dapat diperoleh
<uri link="/dyn/use-index.xml">online</uri> atau secara lokal di file
<path>/usr/portage/profiles/use.desc</path>. Uraian singkat (<e>sangat</e>
tidak lengkap) flag USE adalah sebagai berikut:
</p>

<pre caption="Uraian singkat dari flag USE yang tersedia">
gtk     - Menambahkan dukungan untuk x11-libs/gtk+ (The GIMP Toolkit).
gtk2    - Menggunakan gtk+-2.0.0 daripada gtk+-1.2 dalam hal dimana suatu program mendukung keduanya.
gtkhtml - Menambahkan dukungan untuk gnome-extra/gtkhtml.
guile   - Menambahkan dukungan untuk dev-util/guile (interpreter untuk Scheme).
icc     - Menggunakan Intel C++ Compiler jika paket tersebut menggunakannya.
icc-pgo - Menghidupkan pembentukan data atau penggunaan PGO ketika menggunakan icc.
imap    - Menambahkan dukungan untuk IMAP
</pre>

</body>
</subsection>
</section>
<section>
<title>Menggunakan flag USE</title>
<subsection>
<title>Deklarasi flag USE secara permanen</title>
<body>

<p>
Dengan harapan Anda dapat diyakinkan akan pentingnya flag USE, kami akan
menginformasikan bagaimana cara mendeklarasikan flag USE.
</p>

<p>
Sebagaimana disebutkan sebelumnya, semua flag USE dideklarasikan di dalam
variabel <c>USE</c>. Untuk memudahkan user mencari dan memilih flag USE,
kami telah memberikan suatu setting USE <e>default</e>. Setting ini adalah
kumpulan dari flag USE yang kami rasa sering digunakan oleh user Gentoo.
Setting default ini dideklarasikan pada file
<path>/etc/make.profile/make.defaults</path>.
Marilah kita melihat setting default ini:
</p>

<pre caption="Variabel USE /etc/make.profile/make.defaults">
USE="x86 oss apm arts avi berkdb crypt cups encode foomaticdb gdbm gif gpm gtk 
     imlib jpeg kde gnome libg++ libwww mad mikmod motif mpeg ncurses nls 
     oggvorbis opengl pam pdflib png python qt quicktime readline sdl slang 
     spell ssl svga tcpd truetype X xml2 xmms xv zlib"
</pre>

<p>
Seperti yang Anda lihat, variabel ini sudah memiliki cukup banyak kata kunci.
<b>Jangan</b> mengubah file <path>/etc/make.profile/make.defaults</path> untuk
menyesuaikan variabel <c>USE</c> dengan kebutuhan Anda: perubahan ini akan 
dibatalkan ketika Anda memperbarui Portage!
</p>

<p>
Untuk mengubah setting default ini, Anda perlu menambahkan atau mengubah
kata kunci pada variabel <c>USE</c>. Hal ini dilakukan secara global dengan
mendefenisikan variabel <c>USE</c> pada <path>/etc/make.conf</path>. Dalam
variabel ini, Anda menambahkan flag USE tambahan yang Anda butuhkan, atau
membuang flag USE yang tidak Anda butuhkan. Yang kedua ini dapat dilakukan
dengan menambahkan kata kunci dengan tanda minus ("-").
</p>

<p>
Sebagai contoh, untuk membuang dukungan untuk KDE dan QT tetapi menambahkan
dukungan untuk ldap, variabel <c>USE</c> berikut dapat didefenisikan pada 
<path>/etc/make.conf</path>:
</p>

<pre caption="Suatu contoh setting USE pada /etc/make.conf">
USE="-kde -qt ldap"
</pre>

</body>
</subsection>
<subsection>
<title>Deklarasi flag USE sementara</title>
<body>

<p>
Kadang-kadang Anda ingin mendefenisikan setting pada USE tertentu untuk
penggunaan sekali saja. Daripada mengubah file <path>/etc/make.conf</path>
dua kali (melakukan dan membatalkan perubahan USE), Anda dapat
mendeklarasikan variabel USE sebagai variabel lingkungan.
</p>

<p>
Sebagai contoh, kita akan menonaktifkan java untuk sementara dari
setting USE selama instalasi mozilla.
</p>

<note>
Perintah <c>emerge</c> akan didiskusikan lebih lanjut pada <uri
link="?part=2&amp;chap=2">Portage dan Software</uri>.
</note>

<pre caption="Menggunakan USE sebagai variabel lingkungan">
# <i>USE="-java" emerge mozilla</i>
</pre>

</body>
</subsection>
<subsection>
<title>Mewarisi flag USE</title>
<body>

<p>
Beberapa paket tidak hanya menerima flag USE, tetapi juga menyediakan
flag USE. Ketika Anda menginstalasi paket seperti itu, flag USE 
yang diberikan tersebut akan ditambahkan pada setting USE Anda.
Untuk melihat daftar dari paket yang memberikan flag USE, periksalah 
file <path>/etc/make.profile/use.defaults</path>:
</p>

<pre caption="Uraian singkat dari /etc/make.profile/use.defaults">
gnome           gnome-base/gnome
gtk             x11-libs/gtk+
qt              x11-libs/qt
kde             kde-base/kdebase
motif           x11-libs/openmotif
</pre>

</body>
</subsection>
<subsection>
<title>Urutan-urutan</title>
<body>

<p>
Tentu saja terdapat urutan-urutan  setting yang memiliki prioritas atas
setting USE. Anda tentu saja tidak ingin mendeklarasi <c>USE="-java"</c>
hanya untuk melihat bahwa <c>java</c> ternyata dideklarasikan. Urutan untuk
setting USE adalah, diurutkan berdasarkan prioritas (yang pertama mempunyai
prioritas terendah):
</p>

<ol>
  <li>
    Setting USE default yang dideklarasikan di file
    <path>/etc/make.profile/make.defaults</path>
  </li>
  <li>
    Setting USE yang diwarisi jika suatu paket dari 
    <path>/etc/make.profile/use.defaults</path> diinstalasi
  </li>
  <li>
    Setting USE yang didefenisikan user pada
    <path>/etc/make.conf</path>
  </li>
  <li>
    Setting USE yang didefinisikan user sebagai variabel lingkungan
  </li>
</ol>

<p>
Untuk melihat setting <c>USE</c> akhir yang dilihat oleh Portage, jalankan 
<c>emerge info</c>. Perintah ini akan memberikan daftar semua variabel yang
relevan (termasuk variabel <c>USE</c>) yang digunakan oleh Portage.
</p>

<pre caption="Menjalankan emerge info">
# <i>emerge info</i>
</pre>

</body>
</subsection>
<subsection>
<title>Adaptasi Seluruh Sistema Anda ke Flag-Flag USE Baru</title>
<body>

<p>
Jika anda telah mengubah flag-flag USE anda dan ingin mengupdate seluruh
sistem anda ke flag-flag USE baru tersebut, anda dapat mencoba menggunakan
langkah-langkah berikut untuk melakukannya. Catat juga bahwa langkah-langkah
ini akan berlangsung sangat lama dan developer sedang berusaha untuk
membuat Portage menangani keadaan ini secara lebih singkat dan otomatis.
</p>

<p>
Pertama-tama, bangun ulang seluruh sistem anda menggunakan flag-flag USE baru:
</p>

<pre caption="Bangun ulang seluruh sistem anda">
# <i>emerge --emptytree world</i>
</pre>

<p>
Selanjutnya, jalankan depclean Portage untuk menghapus semua dependensi
kondisional yang ter-emerge pada sistem "lama" anda, tetapi tidak lagi digunakan
karena flag-flag USE baru.
</p>

<warn>
Menjalankan <c>emerge depclean</c> adalah langkah yang berbahaya dan sebaiknya
ditangani secara hati-hati. Periksa kembali daftar paket-paket yang "tidak
digunakan" lagi yang diberikan untuk memastikan Portage tidak menghapus
paket-paket yang anda perlukan. Di contoh berikut ini, kami menambahkan opsi
<c>-p</c> agar depclean hanya menampilkan daftar paket-paket tanpa
menghapusnya.
</warn>

<pre caption="Menghapus paket-paket yang tidak digunakan lagi">
# <i>emerge -p depclean</i>
</pre>

<p>
Setelah depclean selesai, sistem anda telah menggunakan setting flag USE
baru anda.
</p>

</body>
</subsection>
</section>
<section>
<title>Flag USE dari paket tertentu</title>
<subsection>
<title>Melihat flag USE yang tersedia</title>
<body>

<p>
Dalam bab berikutnya mengenai <uri link="?part=2&amp;chap=2">Portage dan
Software</uri> kami akan menjelaskan bagaimana mengelola software yang sudah
Anda instalasikan dan bagaimana cara bekerja dengan <c>emerge</c>.
Tetapi kami ingin memberikan pendahuluan <c>emerge</c> kepada Anda dengan
menunjukkan kepada Anda bagaimana melihat flag USE apa yang digunakan oleh
suatu paket.
</p>

<p>
Marilah gunakan contoh dari <c>mozilla</c>: apakah flag USE yang digunakannya?
Untuk mengetahuinya, kami menggunakan <c>emerge</c> dengan opsi <c>--pretend</c>
(tidak benar-benar melakukan apapun) dan opsi <c>--verbose</c> (memberikan
tampilan lebih banyak):
</p>

<pre caption="Melihat flag USE yang digunakan">
# <i>emerge --pretend --verbose mozilla</i>
These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild  N    ] net-www/mozilla-1.5-r1 +java +crypt -ipv6 -gtk2 +ssl +ldap 
+gnome -debug +mozcalendar -mozaccess -mozxmlterm -moznoirc -moznomail
-moznocompose -moznoxft 
</pre>

<p>
<c>emerge</c> bukan hanya satu-satunya alat untuk pekerjaan ini. Sesungguhnya
kami memiliki suatu utilitas yang didedikasikan untuk melihat
informasi paket, yang disebut <c>etcat</c>, yang berada di dalam paket
<c>gentoolkit</c>. Pertama-tama, instalasi <c>gentoolkit</c>:
</p>

<pre caption="Instalasi gentoolkit">
# <i>emerge --usepkg gentoolkit</i>
</pre>

<p>
Sekarang jalankan <c>etcat</c> dengan  argumen <c>uses</c> untuk
melihat flag USE dari suatu paket. Sebagai contoh, untuk paket 
<c>gnumeric</c>:
</p>

<pre caption="Menggunakan etcat untuk melihat flag USE yang digunakan">
# <i>etcat uses gnumeric</i>
[ Colour Code : <i>set</i> <comment>unset</comment> ]
[ Legend      : (U) Col 1 - Current USE flags        ]
[             : (I) Col 2 - Installed With USE flags ]

 U I [ Found these USE variables in : app-office/gnumeric-1.2.0 ]
 - - <comment>libgda</comment>  : Adds GNU Data Access (CORBA wrapper) support for gnumeric
 - - <comment>gnomedb</comment> : unknown
 + + <i>python</i>  : Adds support/bindings for the Python language
 + + <i>bonobo</i>  : Adds support for gnome-base/bonobo (Gnome CORBA interfaces)
</pre>

</body>
</subsection>
</section>
</sections>
