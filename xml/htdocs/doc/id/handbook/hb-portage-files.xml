<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<sections>

<version>1.7</version>
<date>2005-06-27</date>

<section>
<title>File-file Portage</title>
<subsection>
<title>Perintah-perintah Konfigurasi</title>
<body>

<p>
Portage memiliki sebuah konfigurasi default yang ditempatkan di
<path>/etc/make.globals</path>. Ketika anda melihat isi file ini, anda akan
mengetahui bahwa semua konfigurasi portage ditangani oleh variabel-variabel.
Variabel apa yang dibaca oleh Portage dan apa arti setiap variabel akan
kita diskusikan nanti.
</p>

<p>
Karena banyak perintah konfigurasi yang berbeda untuk setiap arsitektur,
Portage juga memiliki file-file konfigurasi default yang merupakan bagian
dari profil anda. Profil yang anda gunakan ditunjukkan oleh symlink
<path>/etc/make.profile</path>; konfigurasi-konfigurasi Portage di-set di
file <c>make.defaults</c> milik profil anda dan semua profil parent. Kita
akan berbicara tentang profil dan <path>/etc/make.profile</path> nanti.
</p>

<p>
Jika anda berencana untuk mengganti sebuah variabel konfigurasi, <c>jangan</c>
merubah isi file <path>/etc/make.globals</path> atau <path>make.defaults</path>.
Tapi ubahlah isi file <path>/etc/make.conf</path> yang memiliki hak lebih tinggi
daripada file-file tersebut di atas. Anda juga akan menemukan file
<path>/etc/make.conf.example</path>. Seperti namanya, file ini hanya merupakan
file konfigurasi contoh - Portage tidak membaca isi file ini.
</p>

<p>
Anda juga dapat mendefinisikan sebuah variabel konfigurasi Portage sebagai
variabel lingkungan, tapi kami tidak menganjurkan penggunaannya.
</p>

</body>
</subsection>
<subsection>
<title>Informasi Khusus Profil</title>
<body>

<p>
Kita telah menemui direktori <path>/etc/make.profile</path>. Sebenarnya ini
bukan sebuah direktori, tapi sebuah link symbolik yang menunjuk ke sebuah
profil yang secara default adalah salah satu dari isi
<path>/usr/portage/profiles</path>, walaupun anda juga dapat membuat profil
anda sendiri. Profil yang ditunjuk oleh symlink ini adalah profil yang
digunakan oleh sistem anda.
</p>

<p>
Sebuah profil berisi informasi spesifik arsitektur untuk Portage, seperti
daftar paket yang dapat digunakan dan yang tidak dapat digunakan (di-mask)
oleh sistem, dll.
</p>

</body>
</subsection>
<subsection>
<title>Konfigurasi Sepesifik User</title>
<body>

<p>
Jika anda ingin merubah tingkah laku Portage ketika menginstal software,
anda perlu mengedit file-file di <path>/etc/portage</path>. Anda <e>sangat
dianjurkan</e> untuk menggunakan file-file di <path>/etc/portage</path>
dan <e>tidak</e> merubah tingkah laku portage melalui variabel lingkungan!
</p>

<p>
Di dalam <path>/etc/portage</path> anda dapat menciptakan file-file
berikut ini:
</p>

<ul>
  <li>
    <path>package.mask</path> berisi daftar paket yang tidak pernah ingin
    anda instal dengan Portage
  </li>
  <li>
    <path>package.unmask</path> berisi daftar paket yang ingin anda instal
    walaupun para pengembang Gentoo sangat tidak menyarankan anda untuk
    menginstalnya
  </li>
  <li>
    <path>package.keywords</path> berisi daftar paket yang ingin anda instal
    walaupun paket ini dianggap belum cocok dengan arsitektur anda.
  </li>
  <li>
    <path>package.use</path> berisi flag-flag USE yang ingin anda gunakan
    pada paket-paket tertentu tanpa menggunakannya untuk seluruh sistem
  </li>
</ul>

<p>
Untuk info lebih lanjut tentang direktori <path>/etc/portage</path> dan
daftar lengkap file yang bisa diletakkan di dalamnya, silahkan baca
manual Portage:
</p>

<pre caption="Membaca manual Portage">
$ <i>man portage</i>
</pre>

</body>
</subsection>
<subsection>
<title>Mengganti File Portage &amp; Lokasi Direktori</title>
<body>

<p>
File-file konfigurasi yang telah disebutkan di atas tidak dapat diletakkan
di lokasi lain - Portage akan selalu mencari file-file tersebut di tempat
asalnya. Bagaimanapun juga, Portage menggunakan banyak lokasi yang lain
untuk berbagai macam kegunaan: direktori build, tempat source code, lokasi
pohon Portage, ...
</p>

<p>
Semua kegunaan ini memiliki lokasi default yang telah dikenal baik, tapi dapat
anda ganti sesuai keinginan anda melalui file <path>/etc/make.conf</path>.
Selanjutnya di bab ini, kami hanya akan menjelaskan kegunaan khusus dari
setiap lokasi yang digunakan Portage dan bagaimana cara merubah penempatannya
di sistem anda.
</p>

<p>
Dokumen ini tidak dibuat untuk digunakan sebagai referensi. Jika anda
ingin mengetahui secara mendalam, silahkan baca manual Portage dan
<path>make.conf</path>.
</p>

<pre caption="Membaca manual Portage dan make.conf">
$ <i>man portage</i>
$ <i>man make.conf</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Penempatan File-file</title>
<subsection>
<title>Pohon Portage</title>
<body>

<p>
Lokasi default pohon Portage adalah <c>/usr/portage</c>. Lokasi ini
didefinisikan oleh variabel PORTDIR. Jika anda menempatkan pohon Portage di
lokasi lain (dengan megubah variabel ini), jangan lupa untuk menyesuaikan
link simbolik <path>/etc/make.profile</path>.
</p>

<p>
Jika anda merubah variabel PORTDIR, anda juga mungkin ingin merubah
variabel-variabel berikut ini karena perubahan pada variabel PORTDIR tidak
akan mempengaruhinya. Hal ini disebabkan oleh cara Portage menangani
variabel-variabel: PKGDIR, PKGDIR, DISTDIR, RPMDIR.
</p>

</body>
</subsection>
<subsection>
<title>Binari Prebuilt</title>
<body>

<p>
Walaupun secara default Portage tidak menggunakan binari prebuilt, Portage
sangat mendukungnya. Ketika anda meminta Portage untuk bekerja dengan paket
prebuilt, Portage akan mencarinya di <path>/usr/portage/packages</path>.
Lokasi ini didefinisikan oleh variabel PKGDIR.
</p>

</body>
</subsection>
<subsection>
<title>Source Code</title>
<body>

<p>
Secara default, source code aplikasi diletakkan di
<path>/usr/portage/distfiles</path>. Lokasi ini didefinisikan oleh
variabel DISTDIR.
</p>

</body>
</subsection>
<subsection>
<title>File-file RPM</title>
<body>

<p>
Walaupun Portage tidak dapat menggunakan file-file RPM, Portage dapat
menciptakannya dengan menggunakan perintah <c>ebuild</c> (baca <uri
link="?part=3&amp;chap=6">Aplikasi Ebuild</uri>). Lokasi default untuk
penyimpanan file-file RPM adalah <path>/usr/portage/rpm</path> dan
didefinisikan oleh variabel RPMDIR.
</p>

</body>
</subsection>
<subsection>
<title>Database Portage</title>
<body>

<p>
Portage menyimpan status (paket-paket apa saja yang telah terinstal, file apa
milik paket mana,...) sistem anda di <path>/var/db/pkg</path>. <e>Jangan</e>
merubah file-file ini karena bisa mengacaukan pengetahuan Portage tentang
sistem anda!
</p>

</body>
</subsection>
<subsection>
<title>Cache Portage</title>
<body>

<p>
Cache Portage (berisi waktu modifikasi, paket-paket virtual, informasi urutan
dependensi, ...) ditempatkan di <path>/var/cache/edb</path>. Lokasi ini
bernar-benar merupakan cache: anda dapat menghapusnya kapan saja jika anda
sedang tidak melakukan aplikasi yang berhubungan dengan Portage.
</p>

</body>
</subsection>
</section>
<section>
<title>Membangun Software</title>
<subsection>
<title>File-file Sementara Portage</title>
<body>

<p>
Secara default, file-file sementara Portage <path>/var/tmp</path>. Lokasi
ini didefinisikan oleh variabel PORTAGE_TMPDIR.
</p>

<p>
Jika anda merubah variabel PORTAGE_TMPDIR, anda juga mungkin ingin merubah
variabel-variabel berikut ini karena perubahan pada variabel PORTAGE_TMPDIR
tidak mempengaruhinya. Hal ini disebabkan oleh cara Portage menangani
variabel: BUILD_PREFIX.
</p>

</body>
</subsection>
<subsection>
<title>Direktori Build</title>
<body>

<p>
Portage menciptakan direktori build khusus untuk setiap paket yang di-emerge
di dalam <path>/var/tmp/portage</path>. Lokasi ini didefinisikan oleh variabel
BUILD_PREFIX.
</p>

</body>
</subsection>
<subsection>
<title>Lokasi Live Filesystem</title>
<body>

<p>
Secara default, Portage menginstal semua file ke filesystem yang sedang
digunakan (<path>/</path>), tapi anda dapat merubahnya dengan variabel
lingkungan ROOT. Ini berguna jika anda ingin menciptakan imej build baru.
</p>

</body>
</subsection>
</section>
<section>
<title>Fitur-fitur Logging</title>
<subsection>
<title>Logging Ebuild</title>
<body>

<p>
Portage dapat menciptakan file log untuk setiap ebuild, tapi hanya jika
variabel PORT_LOGDIR di-set untuk menunjuk ke sebuah lokasi yang dapat ditulis
oleh Portage (user portage). Secara default, variabel ini tidak di-set.
</p>

</body>
</subsection>
</section>
</sections>
