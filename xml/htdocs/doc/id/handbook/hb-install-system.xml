<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- English doc rev. 1.36 -->

<sections>
<section>
<title>Chroot</title>
<subsection>
<title>Opsional: Memilih Mirror</title>
<body>

<p>
Jika anda boot menggunakan LiveCD Gentoo, anda dapat menggunakan utilitas
<c>mirrorselect</c> untuk mengupdate file <path>/etc/make.conf</path> agar
menggunakan mirror yang kencang bagi Portage dan source code (tentu saja
hanya berlaku jika anda memiliki koneksi jaringan internet).
</p>

<pre caption="Memilih mirror yang kencang">
# <i>mirrorselect -a -s4 -o &gt;&gt; /mnt/gentoo/etc/make.conf</i>
</pre>

<p>
Jika <c>mirrorselect</c> gagal, jangan panik. Langkah ini hanyalah opsional.
nilai default yang telah ada sudah cukup.
</p>

</body>
</subsection>
<subsection>
<title>Copy Informasi DNS</title>
<body>

<p>
Satu hal yang masih harus dilakukan sebelum kita memasuki lingkungan baru
adalah meng-copy informasi DNS di file <path>/etc/resolv.conf</path>. Anda
perlu melakukan langkah ini untuk memastikan koneksi jaringan anda tetap
berfungsi setelah memasuki lingkungan baru. File <path>/etc/resolv.conf</path>
mengandung nameserver-nameserver untuk jaringan anda.
</p>

<pre caption="Copy Informasi DNS">
<comment>(Opsi "-L" diperlukan untuk memastikan kita tidak meng-copy link simbolik)</comment>
# <i>cp -L /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
</pre>

</body>
</subsection>
<subsection>
<title>Memasuki Lingkungan Baru</title>
<body>

<p>
Setelah semua partisi tercipta dan lingkungan dasar terinstal, sekarang
saatnya untuk memasuki lingkungan instalasi baru kita dengan melakukan
<e>chroot</e> ke dalamnya. Artinya, kita berpindah tempat dari lingkungan
instalasi kita saat ini (LiveCD atau media instalasi lain) ke sistem instalasi
anda (yaitu partisi-partisi yang baru diciptakan).
</p>

<p>
Proses chroot ini dilakukan dalam tiga langkah. Pertama, kita akan memindahkan
root dari <path>/</path> (di media instalasi) ke <path>/mnt/gentoo</path>
(di partisi anda) menggunakan perintah <c>chroot</c>. Lalu, kita akan
menciptakan sebuah lingkungan baru menggunakan perintah <c>env-update</c>,
yang akan menciptakan variabel-variabel lingkungan. Terakhir, kita akan
me-load variabel-variabel tersebut menggunakan perintah <c>source</c>.
</p>

<pre caption = "Melakukan chroot ke lingkungan baru">
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update</i>
Regenerating /etc/ld.so.cache...
# <i>source /etc/profile</i>
</pre>

<p>
Selamat! Anda sekarang berada di lingkungan Gentoo Linux anda. Tentu saja,
ini masih jauh dari selesai, karena itu proses instalasi masih memiliki
beberapa bagian lagi :-)
</p>

</body>
</subsection>
<subsection>
<title>Opsional: Update Portage</title>
<body>

<p>
Jika anda belum menginstal snapshot Portage di bab sebelumnya, anda harus
mendownload Portage tree terbaru dari internet. <c>emerge sync</c> akan
melakukan hal ini bagi anda. Pengguna-pengguna lain harus melewati bagian
ini dah lanjutkan ke <uri link="#configure_USE">Konfigurasi Variabel USE</uri>.
</p>

<pre caption="Update Portage">
# <i>emerge sync</i>
<comment>(Jika anda tidak dapat menggunakan rsync, gunakan "emerge-webrsync" yang
 akan mendownload dan menginstal snapshot portage bagi anda)</comment>
# <i>emerge-webrsync</i>
</pre>

<p>
Jika anda diperingati bahwa versi Portage yang lebih baru tersedia dan anda
sebaiknya mengupdate Portage, anda sebaiknya mengabaikannya. Portage
akan diupdate nantinya sewaktu proses instalasi berlangsung.
</p>

</body>
</subsection>
<subsection id="configure_USE">
<title>Konfigurasi Variabel USE</title>
<body>

<p>
<c>USE</c> merupakan salah satu variabel yang paling mengagumkan yang
disediakan oleh Gentoo untuk para penggunanya. Beberapa program dapat
dikompilasi dengan atau tanpa dukungan tambahan terhadap beberapa hal.
Sebagai contoh, beberapa program dapat dikompilasi dengan dukungan gtk, atau
dengan dukungan qt. Program-program lainnya dapat dikompilasi dengan atau
tanpa dukungan SSL. Beberapa program bahkan dapat dikompilasi dengan dukungan
framebuffer (svgalib) sebagai ganti X11 (X-server).
</p>

<p>
Kebanyakan distro linux mengkompilasi paket-paket mereka dengan dukungan
sebanyak mungkin, sehingga meningkatkan ukuran program dan waktu yang
diperlukan untuk menjalankan program tersebut, dan juga banyak sekali
dependency yang diperlukan. Dengan Gentoo, anda dapat mendefenisikan
opsi-opsi apa saja yang harus dikompilasi di sebuah paket. Di sinilah dimana
variabel <c>USE</c> berperan penting.
</p>

<p>
Di variabel <c>USE</c>, anda mendefenisikan keyword-keyword yang tertuju
ke opsi kompilasi. Sebagai contoh, <e>ssl</e> akan mengkompilasi dukungan
ssl ke program yang mendukungnya. <e>-X</e> akan menonaktifkan dukungan
X-server (perhatikan tanda minus di depannya). <e>gnome gtk -kde -qt</e> akan
mengkompilasi program-program anda dengan dukungan gnome (dan gtk), tanpa
dukungan kde (dan qt), sehingga sistem anda akan lebih ramping untuk GNOME.
</p>

<p>
Setting-setting <c>USE</c> default disimpan di file
<path>/etc/make.profile/make.defaults</path>. Apa yang anda simpan di file
<path>/etc/make.conf</path> dikalkulasi terhadap setting default. Jika anda
menambahkan sebuah keyword ke setting <c>USE</c>, keyword tersebut akan
ditambahkan ke daftar default. Jika anda menghapus sebuah keyword dari setting
<c>USE</c> (dengan menambahkan tanda minus di depannya), keyword tersebut
akan dihapus dari daftar default (tentu saja, jika sebelumnya keyword tersebut
berada di daftar default). <e>Jangan pernah</e> mengubah sesuatu di dalam
direktori <path>/etc/make.profile</path>; isi direktori tersebut ditimpa
setiap kali anda mengupdate Portage!
</p>

<p>
Deskripsi variabel <c>USE</c> yang lengkap dapat ditemukan di bagian dua
Buku Panduan Gentoo, <uri link="?part=2&amp;chap=1">Bab 1: Flag USE</uri>.
Deskripsi lengkap tentang flag-flag USE yang tersedia dapat ditemukan di
sistem anda di file <path>/usr/portage/profiles/use.desc</path>. 
</p>

<pre caption="Melihat flag-flag USE yang tersedia">
# <i>less /usr/portage/profiles/use.desc</i>
</pre>

<p>
Sebagai contoh, kita akan melihat setting <c>USE</c> untuk sistem berbasis
KDE dengan dukungan DVD, ALSA dan CD-Recording:
</p>

<pre caption="Membuka file /etc/make.conf">
# <i>nano -w /etc/make.conf</i>
</pre>

<pre caption="Setting USE">
USE="-gtk -gnome qt kde dvd alsa cdr"
</pre>

</body>
</subsection>
<subsection>
<title>Opsional: Menggunakan Kompilasi Terdistribusi</title>
<body>

<p>
Jika anda tertarik untuk menggunakan beberapa sistem untuk membantu
kompilasi sistem anda, anda mungkin ingin membaca <uri
link="/doc/en/distcc.xml">Panduan DistCC</uri> kami. Dengan menggunakan
<c>distcc</c>, anda dapat menggunakan tenaga kompilasi beberapa sistem
untuk membantu instalasi anda.
</p>

</body>
</subsection>
</section>
<section>
<title>Perbedaan antara Stage1, Stage2, dan Stage3</title>
<body>

<p>
Sekarang duduklah dan pikirkan kembali langkah-langkah yang anda ambil
sebelumnya. Kami menanyakan anda untuk memilih <e>stage1</e>, <e>stage2</e>,
atau <e>stage3</e> dan mengingatkan anda kalau pilihan anda penting untuk
langkah-langkah instalasi selanjutnya. Nah, di sini merupakan tempat pertama
dimana pilihan anda menentukan langkah-langkah selanjutnya.
</p>

<ul>
<li>
  Jika anda memilih <e>stage1</e>, maka anda harus mengikuti <e>kedua</e>
  langkah-langkah di bab ini (mulai dari bagian <uri link="#doc_chap3">Memulai
  dari Stage1 ke Stage2</uri>)
</li>
<li>
  Jika anda memilih <e>stage2</e>, anda dapat melewati bagian pertama dan
  langsung mulai di bagian ke dua (yaitu <uri link="#doc_chap4">Memulai dari
  Stage2 ke Stage3</uri>)
</li>
<li>
  Jika anda memilih <e>stage3</e> (dengan atau tanpa GRP), maka anda dapat
  melewati kedua langkah-langkah di bawah dan melanjutkan ke <uri
  link="?part=1&amp;chap=7">Mengkonfigurasi Kernel</uri>
</li>
</ul>

</body>
</section>
<section>
<title>Memulai dari Stage1 ke Stage2</title>
<subsection>
<title>Pengenalan ke Proses Bootstrap</title>
<body>

<p>
Jadi, anda ingin mengkompilasi semuanya dari dasar? Baiklah :-)
</p>

<p>
Di langkah ini, kita akan melakukan <e>proses bootstrap</e> pada sistem
Gentoo anda. Proses ini berjalan cukup lama, tetapi hasil akhirnya adalah
sebuah sistem yang dioptimasi penuh dari dasar sesuai mesin dan kebutuhan
anda.
</p>

<p>
<e>Proses bootstrap</e> artinya membangun pustaka GNU C (library), Koleksi
Kompiler GNU (GCC), dan beberapa program-program sistem utama lain.
</p>

<p>
Sebelum memulai proses bootstrap, kami akan memberikan beberapa pilihan
yang mungkin anda inginkan atau tidak. Jika anda tidak ingin membaca
pilihan-pilihan tersebut, lanjutkan ke <uri link="#doc_chap3_sect4">
Menjalankan Proses Bootstrap Sistem</uri>
</p>

</body>
</subsection>
<subsection>
<title>Opsional: Mempersingkat Waktu Kompilasi</title>
<body>

<p>
Jika anda ingin mempersingkat proses bootstrap, anda dapat menonaktifkan
dukungan java secara sementara. Hal ini berarti Koleksi Kompiler GNU (GCC)
dan Pustaka GNU C (library) akan dikompilasi tanpa dukungan java (yang akan
mempersingkat waktu kompilasi). Walaupun hal ini berarti anda tidak akan
memiliki Kompiler Java GNU (<c>gcj</c>), hal ini <e>bukan</e> berarti sistem
anda tidak dapat menggunakan applet java dan hal-hal yang berhubungan dengan
java.
</p>

<p>
Untuk menonaktifkan dukungan java secara sementara, defenisikan
<e>USE="-java"</e> sebelum menjalankan skrip bootstrap.
</p>

<pre caption = "Menonaktifkan dukungan java">
# <i>export USE="-java"</i>
</pre>

<p>
Jangan lupa untuk unset variabel tersebut setelah proses bootstrap:
</p>

<pre caption="Unset USE">
# <i>unset USE</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opsional: Mendownload Source Dahulu</title>
<body>

<p>
Jika anda belum meng-copy seluruh source code sebelumnya, maka skrip
bootstrap akan mendownload semua file-file yang diperlukan. Tentu saja, ini
hanya berlaku jika anda memiliki koneksi jaringan internet :-) Jika anda ingin
mendownload source code-nya dahulu dan nantinya melakukan proses bootstrap
pada sistem anda (misalnya karena anda tidak ingin koneksi internet anda hidup
sewaktu kompilasi), gunakan opsi <e>-f</e> pada skrip bootstrap, yang akan
mendownload semua source code bagi anda.
</p>

<pre caption = "Mendownload source-source yang diperlukan">
# <i>cd /usr/portage</i>
# <i>scripts/bootstrap.sh -f</i>
</pre>

</body>
</subsection>
<subsection>
<title>Menjalankan Proses Bootstrap Sistem</title>
<body>

<p>
Baiklah, ambil keyboard anda dan ketikkan perintah berikut ini untuk
menjalankan proses bootstrap. Lalu, carilah kesibukan lain untuk dilakukan
karena proses ini akan berlangsung cukup lama.
</p>

<pre caption = "Menjalankan proses bootstrap">
# <i>cd /usr/portage</i>
# <i>scripts/bootstrap.sh</i>
</pre>

<p>
Jika anda telah mengubah setting <c>CHOST</c> di file
<path>/etc/make.conf</path> sebelumnya, anda perlu menginisialisasi kembali
beberapa variabel agar <c>gcc</c> dapat bekerja cepat:
</p>

<pre caption="Menginisialisasi kembali variabel lingkungan">
# <i>source /etc/profile</i>
</pre>

<p>
Sekarang, lanjutkan ke langkah berikutnya, <uri link="#doc_chap4">
Memulai dari Stage2 ke Stage3</uri>.
</p>

</body>
</subsection>
</section>
<section>
<title>Memulai dari Stage2 ke Stage3</title>
<subsection>
<title>Pendahuluan</title>
<body>

<p>
Jika anda membaca bagian ini, berarti anda telah memiliki sistem yang
ter-bootstrap (karena anda melakukan proses bootstrap sebelumnya, atau
anda menggunakan <e>stage2</e>). Maka sekarang saatnya untuk
membangun semua paket-paket sistem.
</p>

<p>
<e>Semua</e> paket-paket sistem? Tidak, sebenarnya tidak. Di langkah ini,
anda akan membangun paket-paket sistem yang tidak memiliki alternatif lain.
Beberapa paket sistem memiliki beberapa alternatif untuk dipilih (mis. logger
sistem) dan karena Gentoo adalah tentang pilihan, kami tidak akan memaksakan
kepada anda.
</p>

</body>
</subsection>
<subsection>
<title>Opsional: Melihat apa yang akan dijalankan</title>
<body>

<p>
Jika anda ingin mengetahui paket-paket apa saja yang akan diinstal, jalankan
<c>emerge --pretend system</c>. Perintah tersebut akan menampilkan semua
paket-paket yang akan dibangun. Karena tampilan tersebut cukup panjang, anda
sebaiknya menggunakan sebuah pager mis. <c>less</c> atau <c>more</c>
untuk naik atau turun tampilan tersebut.
</p>

<pre caption = "Melihat apa yang akan dilakukan 'emerge system'">
# <i>emerge --pretend system | less</i>
</pre>

</body>
</subsection>
<subsection>
<title>Opsional: Mendownload Source</title>
<body>

<p>
Jika anda ingin <c>emerge</c> mendownload source-source yang diperlukan
dahulu sebelum melanjutkan (mis. karena anda tidak ingin koneksi internet anda
hidup sewaktu membangun semua paket-paket), anda dapat menggunakan opsi
<e>--fetchonly</e> ke perintah <c>emerge</c> yang akan mendownload source
bagi anda.
</p>

<pre caption = "Mendownload source-source">
# <i>emerge --fetchonly system</i>
</pre>

</body>
</subsection>
<subsection>
<title>Membangun Sistem</title>
<body>

<p>
Untuk mulai membangun sistem anda, jalankan perintah <c>emerge system</c>.
Lalu carilah kesibukan lain, karena langkah ini berlangsung cukup lama.
</p>

<pre caption = "Membangun Sistem">
# <i>emerge system</i>
</pre>

<p>
Sekarang, anda dapat dengan aman mengabaikan segala peringatan tentang file-file
konfigurasi yang perlu diupdate (dan <c>etc-update</c>). Sewaktu sistem Gentoo
anda selesai terinstal dan diboot dengan sukses, ingat untuk membaca
dokumentasi kami tentang <uri link="?part=2&amp;chap=4#doc_chap1">
Proteksi File Konfigurasi</uri>.
</p>

<p>
Sewaktu proses tersebut selesai, lanjutkan ke <uri 
link="?part=1&amp;chap=7">Mengkonfigurasi Kernel</uri>
</p>

</body>
</subsection>
</section>

</sections>
