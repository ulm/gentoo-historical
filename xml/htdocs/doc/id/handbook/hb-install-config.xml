<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- $Id: hb-install-config.xml,v 1.15 2007/03/27 11:06:01 neysx Exp $ -->

<sections>

<abstract>
Anda perlu mengedit beberapa file konfigurasi penting. Pada bab ini, anda
diberikan garis besar tentang file-file ini beserta penjelasannya.
</abstract>

<version>7.7</version>
<date>2007-03-12</date>

<section>
<title>Informasi Filesystem</title>
<subsection>
<title>Apakah fstab itu?</title>
<body>

<p>
Di Linux, semua partisi yang digunakan di sistem harus terdaftar di
<path>/etc/fstab</path>. File ini berisi titik mount dari semua partisi
tersebut (yang dapat ditemui pada struktur filesystem), cara partisi tersebut
di-mount dan dengan opsi-opsi khusus apa saja (otomatis atau tidak, dapatkah
user me-mount, dll.).
</p>

</body>
</subsection>
<subsection>
<title>Menciptakan /etc/fstab</title>
<body>

<p>
<path>/etc/fstab</path> menggunakan sebuah sintaks khusus. Setiap baris
memiliki 6 bagian, yang dipisahkan oleh spasi (spasi, tab, atau keduanya).
Setiap bagian memiliki artinya tersendiri:
</p>

<ul>
<li>
  Bagian pertama menunjukkan <b>partisi</b> yang dijelaskan (path ke file
  device tersebut)
</li>
<li>
  Bagian kedua menunjukkan <b>titik mount</b> tempat partisi tersebut di-mount
</li>
<li>
  Bagian ketiga menunjukkan <b>filesystem</b> yang digunakan oleh partisi
  tersebut
</li>
<li>
  Bagian keempat menunjukkan <b>opsi mount</b> yang digunakan oleh <c>mount</c>
  ketika me-mount partisi tersebut. Karena setiap filesystem memiliki opsi-opsi
  mount mereka sendiri, anda dianjurkan untuk membaca manual mount (<c>man
  mount</c>) untuk mendapatkan daftar yang lengkap. Opsi-opsi mount dipisahkan
  dengan koma.
</li>
<li>
  Bagian kelima digunakan oleh <c>dump</c> untuk menentukan apakah sebuah
  partisi perlu di-<b>dump</b> atau tidak. Pada umumnya, anda dapat mengisi
  bagian ini dengan <c>0</c> (nol)
</li>
<li>
  Bagian keenam digunakan oleh <c>fsck</c> untuk menentukan urutan dari
  filesystem yang akan <b>diperiksa</b> jika sistem tidak dimatikan dengan
  benar. Filesystem root seharusnya berisi angka <c>1</c> dan sisanya berisi
  angka <c>2</c> (atau <c>0</c> jika pemeriksaan filesystem tidak diperlukan)
</li>
</ul>

<impo>
File <path>/etc/fstab</path> default yang disediakan oleh Gentoo <e>bukanlah
file fstab yang benar</e>, anda harus menciptakan file <path>/etc/fstab</path>
anda sendiri:
</impo>

<pre caption="Membuka /etc/fstab">
# <i>nano -w /etc/fstab</i>
</pre>

</body>
<body test="func:keyval('/boot')">

<p>
Mari kita lihat cara menulis opsi-opsi untuk partisi <path>/boot</path>.
Berikut ini hanyalah sebuah contoh, jika anda tidak membuat atau tidak dapat
membuat <path>/boot</path>, jangan ditiru langsung.
</p>

<p test="contains(func:keyval('/boot'), '/dev/hd')">
Pada contoh partisi <keyval id="arch"/> default kita, <path>/boot</path>
biasanya merupakan partisi <path><keyval id="/boot"/></path> (atau
<path>/dev/sda*</path> jika anda menggunakan drive SATA atau SCSI) dengan
<c>ext2</c> sebagai filesystem. Partisi ini perlu diperiksa sewaktu proses
boot, jadi kita isi dengan:
</p>

<p test="contains(func:keyval('/boot'), '/dev/sd')">
Pada contoh partisi <keyval id="arch"/> default kita, <path>/boot</path>
biasanya merupakan partisi <path><keyval id="/boot"/></path> dengan
<c>ext2</c> sebagai filesystem. Partisi ini perlu diperiksa sewaktu proses
boot, jadi kita isi dengan:
</p>

<pre caption="Sebuah contoh baris /boot di /etc/fstab">
<keyval id="/boot"/>   /boot     ext2    defaults      1 2
</pre>

<p>
Sebagian pengguna tidak ingin partisi <path>/boot</path> mereka di-mount secara
otomatis untuk meningkatkan keamanan sistem mereka. Pengguna tersebut sebaiknya
menggantikan opsi <c>defaults</c> dengan <c>noauto</c>. Ini berarti anda perlu
me-mount partisi ini secara manual setiap kali ingin menggunakannya.
</p>

</body>
<body>

<p test="not(func:keyval('arch')='SPARC')">
Tambahkan baris-baris yang sesuai dengan skema partisi anda, juga baris untuk
<path>/proc</path>, <c>tmpfs</c>, untuk CD-ROM anda, dan pastinya, jika anda
memiliki partisi atau drive lain, jangan lupa tambahkan juga.
</p>

<p test="func:keyval('arch')='SPARC'">
Tambahkan baris-baris yang sesuai dengan skema partisi anda, juga baris untuk
<path>/proc/openprom</path>, <path>/proc</path>, <c>tmpfs</c>, untuk CD-ROM
anda, dan pastinya, jika anda memiliki partisi atau drive lain, jangan lupa
tambahkan juga.
</p>

<p>
Sekarang gunakan <e>contoh</e> di bawah ini untuk menciptakan
<path>/etc/fstab</path> anda:
</p>

<pre caption="Contoh /etc/fstab lengkap" test="func:keyval('arch')='AMD64' or func:keyval('arch')='x86'">
<keyval id="/boot"/>   /boot        ext2    defaults,noatime     1 2
/dev/hda2   none         swap    sw                   0 0
/dev/hda3   /            ext3    noatime              0 1

proc        /proc        proc    defaults             0 0
shm         /dev/shm     tmpfs   nodev,nosuid,noexec  0 0

/dev/cdrom  /mnt/cdrom   auto    noauto,user          0 0
</pre>

<pre caption="Contoh /etc/fstab lengkap" test="func:keyval('arch')='HPPA'">
<keyval id="/boot"/>   /boot        ext2    defaults,noatime     1 2
/dev/sda3   none         swap    sw                   0 0
/dev/sda4   /            ext3    noatime              0 1

proc        /proc        proc    defaults             0 0
shm         /dev/shm     tmpfs   nodev,nosuid,noexec  0 0

/dev/cdrom  /mnt/cdrom   auto    noauto,user          0 0
</pre>

<pre caption="Contoh /etc/fstab lengkap" test="func:keyval('arch')='Alpha' or func:keyval('arch')='MIPS'">
<keyval id="/boot"/>   /boot        ext2    defaults,noatime     1 2
/dev/sda2   none         swap    sw                   0 0
/dev/sda3   /            ext3    noatime              0 1

proc        /proc        proc    defaults             0 0
shm         /dev/shm     tmpfs   nodev,nosuid,noexec  0 0

/dev/cdrom  /mnt/cdrom   auto    noauto,user          0 0
</pre>

<pre caption="Contoh /etc/fstab lengkap" test="func:keyval('arch')='SPARC'">
/dev/sda1   /               ext3        noatime              0 1
/dev/sda2   none            swap        sw                   0 0
/dev/sda4   /usr            ext3        noatime              0 2
/dev/sda5   /var            ext3        noatime              0 2
/dev/sda6   /home           ext3        noatime              0 2

openprom    /proc/openprom  openpromfs  defaults             0 0
proc        /proc           proc        defaults             0 0
shm         /dev/shm        tmpfs       nodev,nosuid,noexec  0 0

/dev/cdrom  /mnt/cdrom      auto        noauto,user          0 0
</pre>

<note test="func:keyval('arch')='PPC'">
Ada beberapa perbedaan penting di antara komputer-komputer PPC. Pastikan anda
mengadaptasi contoh-contoh berikut ini ke sistem anda.
</note>

<pre caption="Contoh /etc/fstab lengkap" test="func:keyval('arch')='PPC'">
/dev/hda4   /            ext3    noatime              0 1
/dev/hda3   none         swap    sw                   0 0

proc        /proc        proc    defaults             0 0
shm         /dev/shm     tmpfs   nodev,nosuid,noexec  0 0

/dev/cdrom  /mnt/cdrom   auto    noauto,user          0 0
</pre>

<pre caption="Contoh /etc/fstab lengkap" test="func:keyval('arch')='PPC64'">
/dev/sda4   /            ext3    noatime              0 1
/dev/sda3   none         swap    sw                   0 0

proc        /proc        proc    defaults             0 0
shm         /dev/shm     tmpfs   nodev,nosuid,noexec  0 0

/dev/cdrom  /mnt/cdrom   auto    noauto,user          0 0
</pre>

<p>
Opsi <c>auto</c> memerintahkan <c>mount</c> untuk menebak filesystem
(direkomendasikan untuk media yang dapat dipindah-pindah karena media ini bisa
berisi berbagai filesystem) dan opsi <c>user</c> mengizinkan user non-root
untuk me-mount CD.
</p>

<p>
Untuk meningkatkan performa, anda dapat menambahkan opsi mount <c>noatime</c>,
yang akan menjadikan sistem anda lebih kencang karena waktu akses tidak
didaftarkan (biasanya anda memang tidak membutuhkannya).
</p>

<p>
Periksa kembali file <path>/etc/fstab</path> anda, simpan dan keluarlah untuk
melanjutkan ke bagian selanjutnya.
</p>

</body>
</subsection>
</section>
<section>
<title>Informasi Jaringan</title>
<subsection>
<title>Nama Host, Domain, dll</title>
<body>

<p>
Salah satu pilihan yang harus dibuat oleh pengguna adalah memberi nama PC
mereka. Hal ini tampaknya mudah, tetapi <e>banyak</e> pengguna yang menemui
kesulitan untuk mencari sebuah nama yang tepat untuk komputer mereka. Untuk
mempersingkat waktu - nama yang anda pilih dapat diubah-ubah nantinya - anda
dapat saja memberi nama sistem anda <c>tux</c> dan nama domainnya
<c>homenetwork</c>.
</p>

<pre caption="Pengaturan hostname">
# <i>nano -w /etc/conf.d/hostname</i>

<comment>(Set variabel HOSTNAME dengan nama host anda)</comment>
HOSTNAME="<i>tux</i>"
</pre>

<p>
Kemudian, <e>jika</e> anda membutuhkan domainname, maka tentukan di
<path>/etc/conf.d/net</path>. Anda hanya membutuhkannya jika admin ISP atau
jaringan anda memerintahkan anda untuk menggunakannya, atau jika anda
menggunakan server DNS, bukan DHCP. Anda tidak perlu khawatir tentang DNS atau
domainname jika jaringan anda menggunakan DHCP.
</p>

<pre caption="Pengaturan domainname">
# <i>nano -w /etc/conf.d/net</i>

<comment>(Set variabel dns_domain ke nama domain anda)</comment>
nis_domain_lo="<i>my-nisdomain</i>"
</pre>

<note>
Untuk info lebih lanjut tentang konfigurasi DNS dan NIS, silakan baca contoh
yang terdapat di <path>/etc/conf.d/net.example</path>. Anda juga mungkin perlu
meng-emerge <c>resolvconf-gentoo</c> untuk mempermudah pengaturan DNS/NIS anda.
</note>

</body>
</subsection>
<subsection>
<title>Konfigurasi jaringan</title>
<body>

<p>
Sebelum anda merasa "Hey, kita telah melakukannya", anda seharusnya ingat bahwa
jaringan yang kita konfigurasi pada awal proses instalasi Gentoo ditujukan
untuk instalasi. Sekarang, anda akan mengkonfigurasi jaringan untuk sistem
Gentoo anda secara permanen.
</p>

<note>
Penjelasan lebih rinci tentang jaringan, termasuk topik-topik lanjutan seperti
bonding, bridging, 802.1Q VLANs atau jaringan nirkabel (wireless) terdapat di
seksi <uri link="?part=4">Konfigurasi Jaringan Gentoo</uri>.
</note>

<p>
Seluruh informasi jaringan dikumpulkan di file <path>/etc/conf.d/net</path>.
File tersebut menggunakan sintaks yang mudah tapi tidak mudah dimengerti
jika anda tidak tahu cara mengatur jaringan secara manual, tidak usah takut,
kami akan menjelaskan semuanya. Contoh-contoh yang diberi komentar untuk
berbagai macam konfigurasi terdapat di <path>/etc/conf.d/net.example</path>.
</p>

<p>
DHCP digunakan secara default. Agar DHCP berfungsi dengan benar, anda perlu
menginstal klien DHCP. Hal ini dijelaskan di <uri
link="?part=1&amp;chap=9#networking-tools">Instalasi Utilitas Sistem yang
Diperlukan</uri>. Jangan lupa untuk menginstal klien DHCP.
</p>

<p>
Jika anda perlu mengkonfigurasi jaringan anda karena harus menggunakan opsi
khusus DHCP atau karena anda tidak menggunakan DHCP sama sekali, bukalah file
<path>/etc/conf.d/net</path> dengan editor favorit anda (<c>nano</c> pada
contoh ini):
</p>

<pre caption="Edit file /etc/conf.d/net">
# <i>nano -w /etc/conf.d/net</i>
</pre>

<p>
Anda akan melihat file berikut ini:
</p>

<pre caption="Default /etc/conf.d/net">
  # This blank configuration will automatically use DHCP for any net.*
  # scripts in /etc/init.d.  To create a more complete configuration,
  # please review /etc/conf.d/net.example and save your configuration
  # in /etc/conf.d/net (this file :]!).
</pre>

<p>
Untuk memasukkan alamat IP, netmask dan gateway, anda perlu menentukan
<c>config_eth0</c> dan <c>routes_eth0</c>:
</p>

<pre caption="Mengatur informasi IP untuk eth0 secara manual">
  config_eth0=( "192.168.0.2 netmask 255.255.255.0 brd 192.168.0.255" )
  routes_eth0=( "default gw 192.168.0.1" )
</pre>

<p>
Untuk menggunakan DHCP dan opsi khusus DHCP, masukkan <c>config_eth0</c> dan
<c>dhcp_eth0</c>:
</p>

<pre caption="Mendapatkan alamat IP untuk eth0 secara otomatis">
  config_eth0=( "dhcp" )
  dhcp_eth0="nodns nontp nonis"
</pre>

<p>
Silahkan baca <path>/etc/conf.d/net.example</path> untuk mendapatkan daftar
opsi yang tersedia.
</p>

<p>
Jika anda memiliki beberapa antarmuka jaringan, ulangi langkah-langkah di atas
untuk <c>config_eth1</c>, <c>config_eth2</c>, dll.
</p>

<p>
Sekarang simpan konfigurasi anda kemudian keluar.
</p>

</body>
</subsection>
<subsection>
<title>Menjalankan Jaringan secara otomatis ketika boot</title>
<body>

<p>
Agar antarmuka jaringan anda langsung diaktifkan ketika boot, anda perlu
menambahkannya ke runlevel default. Jika anda memiliki antarmuka PCMCIA, anda
harus melangkahi bagian ini karena interface PCMCIA akan dijalankan oleh skrip
init PCMCIA.
</p>

<pre caption="Menambahkan net.eth0 ke runlevel default">
# <i>rc-update add net.eth0 default</i>
</pre>

<p>
Jika anda memiliki beberapa antarmuka jaringan, anda perlu menciptakan skrip
init <path>net.eth1</path>, <path>net.eth2</path> dll, yang sesuai. Anda dapat
menggunakan <c>ln</c> untuk melakukan ini:
</p>

<pre caption="Menciptakan skrip init tambahan">
# <i>cd /etc/init.d</i>
# <i>ln -s net.lo net.eth1</i>
# <i>rc-update add net.eth1 default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Menulis informasi jaringan</title>
<body>

<p>
Sekarang anda perlu menginformasikan Linux tentang jaringan anda. Ini
didefenisikan di file <path>/etc/hosts</path> dan membantu dalam resolusi
hostname ke alamat IP dari host yang tidak dapat diresolusi oleh
<e>nameserver</e> anda. Anda perlu mencantumkan sistem anda. Anda juga mungkin
ingin mencantumkan sistem lain yang ada di jaringan anda jika anda ingin
mengatur sistem DNS internal anda.
</p>

<pre caption="Membuka file /etc/hosts">
# <i>nano -w /etc/hosts</i>
</pre>

<pre caption="Mengisi informasi jaringan">
<comment>(Baris ini mencantukan sistem yang sekarang)</comment>
127.0.0.1     tux.homenetwork tux localhost

<comment>(Cantumkan sistem-sistem lain yang ada di jaringan anda,
semuanya harus memiliki IP tetap (static) untuk dicantumkan dengan cara
seperti ini.)</comment>
192.168.0.5   jenny.homenetwork jenny
192.168.0.6   benny.homenetwork benny
</pre>

<p>
Simpan dan keluarlah dari editor untuk melanjutkan
</p>

<p test="func:keyval('arch')='AMD64' or func:keyval('arch')='x86' or substring(func:keyval('arch'),1,3)='PPC'">
Jika anda tidak memiliki PCMCIA, anda dapat langsung melanjutkan ke <uri
link="#doc_chap3">Informasi Sistem</uri>. Pengguna PCMCIA sebaiknya membaca
bagian berikut tentang PCMCIA.
</p>

</body>
</subsection>
<subsection test="func:keyval('arch')='AMD64' or func:keyval('arch')='x86' or substring(func:keyval('arch'),1,3)='PPC'">
<title>Opsional: Memfungsikan PCMCIA</title>
<body>

<p>
Pengguna PCMCIA pertama-tama harus menginstal paket <c>pcmcia-cs</c>. Termasuk
juga pengguna yang ingin menggunakan kernel 2.6 (walaupun mereka tidak akan
menggunakan driver-driver PCMCIA dari paket ini). Flag <c>USE="-X"</c>
diperlukan untuk menghindari instalasi xorg-x11 pada saat ini:
</p>

<pre caption="Instalasi pcmcia-cs">
# <i>USE="-X" emerge pcmcia-cs</i>
</pre>

<p>
Setelah <c>pcmcia-cs</c> terinstal, tambahkan <c>pcmcia</c> ke runlevel
<e>default</e>:
</p>

<pre caption="Menambahkan pcmcia ke runlevel default">
# <i>rc-update add pcmcia default</i>
</pre>

</body>
</subsection>
</section>

<section id="sysinfo">
<title>Informasi Sistem</title>
<subsection>
<title>Password root</title>
<body>

<p>
Pertama-tama, kita tentukan password root dengan mengetik:
</p>

<pre caption="Set password root">
# <i>passwd</i>
</pre>

<p>
Jika anda ingin agar root dapat login melalui konsol serial, tambahkan
<c>tts/0</c> ke <path>/etc/securetty</path>:
</p>

<pre caption="Menambahkan tts/0 ke /etc/securetty">
# <i>echo "tts/0" &gt;&gt; /etc/securetty</i>
</pre>

</body>
</subsection>
<subsection>
<title>Informasi sistem</title>
<body>

<p>
Gentoo menggunakan file <path>/etc/rc.conf</path> untuk konfigurasi umum
sistem. Bukalah file <path>/etc/rc.conf</path> dan nikmati semua
komentar-komentar di dalam file tersebut :-)
</p>

<pre caption="Membuka /etc/rc.conf">
# <i>nano -w /etc/rc.conf</i>
</pre>

<p>
Setelah anda selesai mengkonfigurasi <path>/etc/rc.conf</path>, simpanlah
kemudian keluar.
</p>

<p>
Seperti yang dapat anda lihat, file ini berisi banyak komentar-komentar yang
membantu anda dalam mengatur variabel-variabel konfigurasi penting. Anda dapat
mengkonfigurasi sistem anda untuk menggunakan <e>unicode</e> dan memilih editor
default serta <e>display manager</e> (seperti gdm atau kdm).
</p>

<p>
Gentoo menggunakan <path>/etc/conf.d/keymaps</path> untuk menangani konfigurasi
keyboard. Edit file ini untuk mengkonfigurasi keyboard anda.
</p>

<pre caption="Membuka /etc/conf.d/keymaps">
# <i>nano -w /etc/conf.d/keymaps</i>
</pre>

<p>
Perhatikan dengan baik variable <c>KEYMAP</c>: jika anda memilih <c>KEYMAP</c>
yang salah, anda akan mendapatkan tampilan yang aneh ketika anda mengetik
di keyboard anda.
</p>

<note test="func:keyval('arch')='SPARC'">
Pengguna sistem <b>SPARC</b> berbasis USB dan clone <b>SPARC</b> mungkin
perlu memilih keymap i386 (mis. "us") daripada "sunkeymap".
</note>

<note test="substring(func:keyval('arch'),1,3)='PPC'">
<b>PPC</b> menggunakan keymap x86 pada kebanyakan sistem. Pengguna yang ingin
menggunakan keymap ADB ketika boot harus mengaktifkan pengiriman keycode ADB
pada kernelnya dan harus menggunakan keymap mac/ppc di
<path>/etc/conf.d/keymaps</path>.
</note>

<p>
Setelah anda selesai mengkonfigurasi <path>/etc/conf.d/keymaps</path>,
simpanlah kemudian keluar.
</p>

<p>
Gentoo menggunakan <path>/etc/conf.d/clock</path> untuk mengatur opsi jam
(clock). Edit file ini sesuai kebutuhan anda.
</p>

<pre caption="Membuka /etc/conf.d/clock">
# <i>nano -w /etc/conf.d/clock</i>
</pre>

<p>
Jika jam hardware anda tidak menggunakan UTC, anda perlu menambahkan
<c>CLOCK="local"</c> di file ini. Jika tidak, anda akan melihat jam yang tidak
stabil.
</p>

<p>
Setelah selesai mengkonfigurasi <path>/etc/conf.d/clock</path>, simpanlah
kemudian keluar.
</p>

<p test="not(func:keyval('arch')='PPC64')">
Silakan lanjutkan dengan <uri link="?part=1&amp;chap=9">Instalasi Utilitas
Sistem yang Diperlukan</uri>.
</p>

</body>
</subsection>
<subsection test="func:keyval('arch')='PPC64'">
<title>Konfigurasi Konsol</title>
<body>

<p>
Jika anda menggunakan konsol virtual, anda harus menghapus beberapa baris
komentar di <path>/etc/inittab</path> agar konsol virtual bisa mengeluarkan
prompt login.
</p>

<pre caption="Mengaktifkan dukungan hvc atau hvsi di /etc/inittab">
hvc0:12345:respawn:/sbin/agetty -L 9600 hvc0
hvsi:12345:respawn:/sbin/agetty -L 19200 hvsi0
</pre>

<p>
Anda juga harus menggunakan waktu ini untuk memeriksa apakah konsol yang benar
telah tercantum di <path>/etc/securetty</path>.
</p>

</body>
</subsection>
</section>
</sections>
