<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Id: altinstall.xml,v 1.1 2006/07/22 10:29:16 neysx Exp $ -->

<guide link="/doc/id/altinstall.xml" lang="id">

<title>Panduan metode alternatif instalasi Gentoo Linux</title>

<author title="Contributor">
  <mail link="gerrynjr@gentoo.org">Gerald Normandin Jr.</mail>
</author>
<author title="Contributor">
  <mail link="lordviram@rebelpacket.net">Travis Tilley</mail>
</author>
<author title="Contributor">
  <mail link="volontir@yahoo.com">Oleg Raisky</mail>
</author>
<author title="Contributor">
  <mail link="luminousit@hotmail.com">Alex Garbutt</mail>
</author>
<author title="Contributor">
  <mail link="alex@openvs.com">Alexandre Georges</mail>
</author>
<author title="Contributor">
  <mail link="vargen@b0d.org">Magnus Backanda</mail>
</author>
<author title="Contributor">
  <mail link="davoid@gentoo.org">Faust A. Tanasescu</mail>
</author>
<author title="Contributor">
  <mail link="aliz@gentoo.org">Daniel Ahlberg</mail>
</author>
<author title="Editor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Reviewer">
  Ken Nowack <!-- antifa@gentoo.org seems out -->
</author>
<author title="Editor">
  <mail link="blubber@gentoo.org">Tiemo Kieft</mail>
</author>
<author title="Editor">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Editor">
  <mail link="smithj@gentoo.org">Jonathan Smith</mail>
</author>
<author title="Translator">
  <mail link="dezzou@gmail.com">Dzikri Aziz</mail>
</author>

<abstract>
Panduan ini dibuat sebagai kumpulan metode-metode alternatif instalasi
Gentoo, bagi para pengguna dengan kebutuhan khusus seperti yang tidak memiliki
cdrom atau komputer yg tidak bisa di-boot dari cd.
</abstract>

<license/>

<version>0.69</version>
<date>2006-07-21</date>

<chapter>
<title>Tentang dokumen ini</title>
<section>
<body>

<p>
Jika anda tidak bisa menjalankan metode instalasi boot-dari-cd (atau anda
tidak menyukainya), anda sekarang mendapatkan bantuan di sini. Dokumen ini
adalah kumpulan teknik-teknik alternatif instalasi Gentoo Linux bagi yang
membutuhkannya. Atau, bisa juga sebagai tempat Anda menyimpan metode-metode
edan instalasi Anda. Jika anda memiliki metode instalasi yg menurut Anda
berguna, atau Anda telah menemukan cara instalasi Gentoo yang asyik, jangan
ragu untuk menulis dan mengirimkannya ke <uri
link="http://bugs.gentoo.org">Bugzilla</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Menjalankan CD Instalasi dengan Smart BootManager</title>
<section>
<body>

<p>
Download Smart BootManager yang tersedia di
<uri>http://btmgr.sourceforge.net/download.html</uri>.
Format source atau binary untuk Linux dan .exe untuk windows juga tersedia,
seperti halnya paket-paket untuk bahasa lain. Bagaimanapun juga, metode yg
diutamakan untuk saat ini adalah menggunakan format binary, karena source-nya
tidak bisa dikompilasi dengan NASM versi terbaru.
</p>

<p>
Anda dapat mengkompilasi paket ini dari source atau mengambil format binarinya
saja. Anda punya beberapa pilihan ketika membuat boot floppy, seperti terlihat
di bawah ini.
</p>

<pre caption="Opsi-opsi Smart BootManager">
sbminst [-t theme] [-d drv] [-b backup_file] [-u backup_file]

   -t theme       select the theme to be used, in which the theme could be:
                    us = English theme       de = German theme
                    hu = Hungarian theme     zh = Chinese theme
                    ru = Russian theme       cz = Czech theme
                    es = Spanish theme       fr = French theme
                    pt = Portuguese theme


   -d drv         set the drive that you want to install Smart BootManager on;
                  for Linux:
                    /dev/fd0 is the first floppy driver,
                    /dev/hda is the first IDE harddisk driver.
                    /dev/sda is the first SCSI harddisk driver.
                  for DOS:
                    0   is the first floppy drive
                    128 is the first hard drive;

   -c             disable CD-ROM booting feature;

   -b backup_file backup the data that will be overwritten for
                  future uninstallation;

   -u backup_file uninstall Smart BootManager, should be used alone;

   -y             do not ask any question or warning.
</pre>

<pre caption="Menggunakan sbminst untuk membuat boot floppy">
# <i>sbminst -t us  -d /dev/fd0</i>
</pre>

<note>
Ganti <path>fd0</path> dengan nama device floppy Anda yang sesuai jika
tidak sama.
</note>

<p>
Sekarang masukkan floppy di drive floppy komputer yang ingin Anda jalankan
dengan CD Instalasi, masukkan juga CD Instalasi pada CD-ROM kemudian boot
komputer Anda.
</p>

<p>
Anda akan disambut dengan dialog Smart BootManager. Pilihlah CD-ROM dan tekan
ENTER untuk menjalankan CD Instalasi. Kemudian teruskan instalasi dengan
petunjuk standar.
</p>

<p>
Informasi lebih lanjut tentang Smart BootManager Bisa ditemukan di
<uri>http://btmgr.sourceforge.net/</uri>
</p>

</body>
</section>
</chapter>

<chapter>
<title>Instalasi Knoppix</title>
<section>
<body>

<note>
Knoppix hanya tersedia bagi para pengguna x86.
</note>

<!-- this works with knoppix 3.6+ and gentoo 2004.3, 2005.0-->

<p>
Booting dari LiveCD <uri link="http://www.knoppix.org/">Knoppix</uri>
merupakan salah satu cara untuk mendapatkan fungsi sistem secara penuh sambil
mengkompilasi Gentoo. Tux Racer akan membantu Anda menghabiskan waktu menunggu,
dan OpenOffice dapat Anda gunakan untuk bekerja.
</p>

<warn>
Berhati-hatilah jika Anda menyimpan sesuatu di direktori home Knoppix ketika
menunggu instalasi Gentoo Anda selesai, karena tidak akan ada lagi ketika anda
masuk ke Gentoo. Pastikan untuk menyimpan berkas-berkas penting ke harddisk
atau ke komputer lain!
</warn>

<p>
Boot dari CD Knoppix. Jika Anda memiliki Knoppix 3.6-3.8.2, anda perlu
menentukan <c>knoppix26</c> sebagai pilihan boot untuk memuat kernel 2.6.
Jika Anda melewatkan langkah ini, ketika anda melakukan <c>chroot</c>, Anda
akan mendapatkan pesan error yang mengatakan bahwa kernel Anda terlalu tua.
Tapi langkah ini tidak diperlukan lagi jika Anda memiliki Knoppix 3.9+, sebab
kernel 2.6 merupakan default.
</p>

<p>
Secara default Knoppix masuk ke desktop KDE. Bukalah <c>konsole</c> kemudian
<c>su -</c> agar Anda bisa mengganti password Anda. Dengan begini Anda bisa
menentukan password root Knoppix. Anda bisa mengatur login <c>sshd</c> dari
jauh, dengan kesukaan Anda sendiri.
</p>

<pre caption="Menciptakan mountpoint /mnt/gentoo">
# <i>mkdir /mnt/gentoo</i>
</pre>

<p>
Dari sini, Anda bisa meneruskan dengan dokumentasi instalasi standar di <uri
link="/doc/en/handbook/handbook-x86.xml?part=1&amp;chap=4">Bab 4</uri>.
Namun ketika Anda diminta untuk me-mount proc system, masukkan perintah ini
sebagai gantinya:
</p>

<pre caption="Bind-mount filesystem palsu proc">
# <i>mount -o bind /proc /mnt/gentoo/proc</i>
</pre>

<p>
Perlu anda ketahui juga bahwa sebagian dari FEATURES Portage tidak akan
berfungsi di knoppix. Terutama <c>userpriv</c> dan <c>usersandbox</c>. Jika
anda mendapatkan banyak error, mungkin Anda lebih baik meniadakan sebagian
atau seluruh fitur-fitur opsional tersebut.
</p>

<!--
  Commenting out due to #78716. If it needs to be restated again, note
  that some will require to bind-mount it, others don't, and that you have
  a 50-50 chance of winning the gold strike.


<p>
Anda juga perlu melakukan bind-mount untuk tree device untuk mengatasi masalah
permission pada beberapa file device.
</p>

< ! - -
  If this doesn't seem to work, #71901 mentions the following command:
    mount -o remount,rw,nosuid /dev/hd* /mnt/hd*
  before all. Looks weird to me, but if this doesn't work, we might want to try
  that.
- - >

<pre caption="Melakukan bind-mounting tree device">
# <i>mount -o bind /dev /mnt/gentoo/dev</i>
</pre>
-->

</body>
</section>
</chapter>

<chapter>
<title>Instalasi dari Stage 1 tanpa akses internet</title>
<section>
<body>

<p>
Burn sebuah ISO CD Instalasi.
</p>

<p>
Ambil snapshot Portage terbaru dari
<uri>http://distro.ibiblio.org/pub/linux/distributions/gentoo/snapshots/</uri>
(atau <uri
link="http://www.gentoo.org/main/en/mirrors.xml">mirror</uri> kesukaan anda).
Anda boleh meletakkan tarbal ini di partisi yang telah ada di komputer yang
akan Anda instal atau memuatnya ke dalam CD.
</p>

<p>
Ikuti seluruh petunjuk di Buku Pegangan Instalasi Gentoo sampai <c>chroot
/mnt/gentoo</c> di Bab 6. Jika Anda hanya memiliki satu CD-ROM ingatlah
untuk menggunakan pilihan <c>docache</c> ketika boot agar Anda bisa melepas
CD Instalasi dan menggantinya dengan CD snapshot Portage Anda.
</p>

<p>
Bukalah console baru (Alt-F2), kita akan berlanjut dengan Dokumentasi Instalasi
sampai ke langkah untuk menjalankan skrip <c>bootstrap.sh</c>
</p>

<warn>
CD Instalasi versi lama mengharuskan Anda untuk mengganti password dengan
perintah <c>passwd</c>, sebelum login.
</warn>

<p>
Kembali ke console pertama (Alt-F1, tanpa chroot) kemudian mount CD kedua di
<path>/mnt/gentoo/mnt/cdrom2</path>. Salin tarbal Portage dari cdrom2 kemudian
ekstrak ke <path>/mnt/gentoo/usr</path>.
</p>

<pre caption="Mount cd snapshot">
# <i>umount /mnt/cdrom</i>
# <i>mkdir /mnt/gentoo/mnt/cdrom2</i>
# <i>mount /dev/cdroms/cdrom0 /mnt/gentoo/mnt/cdrom2</i>
# <i>cp /mnt/gentoo/mnt/cdrom2/portage-$date.tar.bz2 /mnt/gentoo/usr</i>
# <i>cd /mnt/gentoo/usr</i>
# <i>tar -xvjpf portage-$date.tar.bz2</i>
</pre>

<p>
Kembalilah ke console F2. Sekarang jika Anda mencoba menjalankan
<c>bootstrap.sh</c>  maka akan gagal karena tidak bisa mendownload file apapun.
Kita akan mendownload berkas-berkas ini ke tempat lain kemudian meletakkannya
di<path>/usr/portage/distfiles</path> (pada console F2).
</p>

<p>
Anda memerlukan daftar paket Stage1: glibc, baselayout, texinfo, gettext, zlib,
binutils, gcc, ncurses bersama ketergantungannya masing-masing.
</p>

<note>
Setiap paket harus memiliki versi yang sama dengan yang terdapat di
pohon Portage.
</note>

<pre caption="Mendapatkan daftar download">
<comment>(Jangan lupakan 2 di depan &gt;)</comment>
# <i>emerge -fp glibc baselayout texinfo gettext zlib binutils gcc ncurses 2&gt; stage1.list</i>
# <i>mount -t vfat /dev/fd0 /mnt/floppy</i>
# <i>cp /mnt/gentoo/stage1.list /mnt/floppy</i>
# <i>umount /mnt/floppy</i>
</pre>

<p>
Bawalah floppy tersebut ke komputer yang memiliki akses internet cepat.
Jika Anda melihat ke file <path>stage1.list</path>, Adna akan tahu bahwa file
tersebut memberikan anda beberapa URL untuk di-download. Sayangnya, file ini
juga mencantumkan beberapa URL yang mungkin untuk setiap paket, padahal Anda
tidak membutuhkannya. Pertama-tama, sisihkan semua URL, kecuali satu:
</p>

<pre caption="Menyisihkan URL">
<comment>(Skrip ini bergantung kepada format keluaran dari emerge yang mungkin saja
berubah pada waktu mendatang tanpa pemberitahuan - gunakan dengan hati-hati!)</comment>
# <i>cut -f 1 -d ' ' stage1.list > stage1.download</i>
</pre>

<p>
Sekarang gunakan <c>wget</c> untuk mendownload seluruh source:
</p>

<pre caption="Menggunakan wget untuk mendapatkan paket-paket Anda">
# <i>wget -N -i stage1.download</i>
</pre>

<p>
Ketika semua paket yang dibutuhkan telah tersedia, bawa dan salinlah ke
<path>/mnt/gentoo/usr/portage/distfiles</path>. Anda nanti akan bisa
menjalankan <c>bootstrap.sh</c>. Ulangi langkah-langkah ini untuk stage2 dan 3.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Instalasi tanpa disk menggunakan PXE boot</title>
<section>
<title>Kebutuhan</title>
<body>

<p>
Anda akan memerlukan kartu network di klien tanpa harddisk yang menggunakan
protokol PXE untuk boot, seperti kartu-kartu 3com. Anda juga akan memerlukan
BIOS yang mendukung boot dari PXE.
</p>

</body>
</section>
<section>
<title>Setup untuk server</title>
<body>

<p>
Menciptakan direktori: Hal pertama yang harus dilakukan ialah menciptakan
direktori untuk tempat penyimpanan sistem diskless. Ciptakan sebuah direktori
bernama <path>/diskless</path> yang akan menampung sebuah direktori untuk
setiap klien diskless. Untuk seterusnya dalam panduan ini, kita akan
menggunakan 'eta' sebagai nama klien.
</p>

<pre caption="Setup direktori">
# <i>mkdir /diskless</i>
# <i>mkdir /diskless/eta</i>
# <i>mkdir /diskless/eta/boot</i>
</pre>

<p>
Setup DHCP dan TFTP: klien akan mendapatkan informasi boot dengan menggunakan
DHCP kemudian mendownload semua file yang dibutuhkan dengan TFTP. Emerge saja
DHCP kemudian konfigurasikan untuk kebutuhan dasar anda. Kemudian, tambahkan
baris-baris berikut ini di <path>/etc/dhcp/dhcpd.conf</path>.
</p>

<note>
Ini akan memberikan sebuah alamat IP statis (tetap) untuk klien, dan path dari
imej boot PXE, yaitu <c>pxegrub</c>. Anda harus mengganti alamat MAC kartu Ethernet
klien dan direktori tempat anda meletakkan file-file klien dengan yang anda
gunakan.
</note>

<p>
Untuk DHCPd, jalankan <c>emerge dhcp</c> (atau server DHCP lain yang anda
pilih). Pastikan interface yang benar telah dipilih di
<path>/etc/conf.d/dhcp</path>.
</p>

<pre caption="dhcp.conf">
option option-150 code 150 = text ;
ddns-update-style none ;
host eta {
hardware ethernet 00:00:00:00:00:00;
fixed-address <i>ip.add.re.ss</i>;
option option-150 "/eta/boot/grub.lst";
filename "/eta/boot/pxegrub";
}
</pre>

<p>
Untuk TFTP, emerge <c>app-admin/tftp-hpa</c>. Di file
<path>/etc/conf.d/in.tftpd</path>, masukkan baris-baris berikut :
</p>

<pre caption="in.tftpd">
INTFTPD_PATH="/diskless"
INTFTPD_USER="nobody"
INTFTPD_OPTS="-u ${INTFTPD_USER} -l -vvvvvv -p -c -s ${INTFTPD_PATH}"
</pre>

<p>
Setup GRUB: Untuk menyediakan booting PXE saya menggunakan GRUB. Anda harus
mengkompilasinya sendiri agar dapat mengaktifkan kompilasi imej PXE..... tapi
proses ini mudah saja. Pertama, dapatkan source GRUB versi terbaru
(<c>emerge -f grub</c> akan meletakkan tarbalnya di
<path>/usr/portage/distfiles</path>). Salin tarbal ini ke
<path>/diskless</path> kemudian build untuk menciptakan binari pxe capable.
Jika binarinya telah di-built, salinlah ke direktori boot klien diskless.
Kemudian edit file konfigurasi <path>grub.lst</path>-nya.
</p>

<pre caption="Setup grub">
# <i>tar zxvf grub-0.92.tar.gz</i>
# <i>cd grub-0.92</i>
# <i>./configure --help</i>
<comment>(Pada bagian opsi-opsi, anda akan melihat daftar driver interface network
yang didukung. Pilihlah driver yang cocok dengan kartu network klien anda. Di sini
direferensikan sebagai $nic)</comment>
# <i>./configure --enable-diskless --enable-$nic</i>
# <i>make</i>
# <i>cd stage2</i>
# <i>cp pxegrub /diskless/eta/boot/pxegrub</i>
# <i>nano -w /diskless/eta/boot/grub.lst</i>
</pre>

<pre caption="grub.lst">
default 0
timeout 30

title=Diskless Gentoo
root (nd)
kernel /eta/bzImage ip=dhcp root=/dev/nfs nfsroot=<i>ip.add.re.ss</i>:/diskless/eta

<comment># Untuk opsi nfsroot, alamat IP-nya adalah IP milik server, dan
  direktorinya adalah direktori tempat file-file klien diskless anda diletakkan
  (di server).</comment>
</pre>

<p>
Setup NFS: NFS sangat mudah dikonfigurasi. Anda hanya perlu menambahkan sebuah
baris di file konfigurasi <path>/etc/exports</path> :
</p>

<pre caption="/etc/exports">
# <i>nano -w /etc/exports</i>
# /etc/exports: NFS file systems being exported.  See exports(5).
/diskless/eta eta(rw,sync,no_root_squash)
</pre>

<p>
Update host-host anda: Satu hal penting yang harus dilakukan ialah merubah
isi file <path>/etc/hosts</path> agar sesuai dengan kebutuhan anda.
</p>

<pre caption="/etc/hosts">
127.0.0.1 localhost

192.168.1.10 eta.example.com eta
192.168.1.20 sigma.example.com sigma
</pre>

</body>
</section>
<section>
<title>Menciptakan sistem di server</title>
<body>

<p>
Anda mungkin ingin me-reboot server dengan CD Instalasi Gentoo, tetapi anda
juga bisa langsung melanjutkan jika anda sudah tahu cara meneruskan
dengan Petunjuk Instalasi Gentoo. Ikuti prosedur standar instalasi seperti
yang dijelaskan di <uri link="/doc/en/handbook/">Buku Panduan Gentoo</uri>,
TETAPI dengan perbedaan-perbedaan berikut: Ketika anda me-mount filesystem,
lakukan yang berikut ini (<path>hdaX</path> adalah partisi tempat anda
menciptakan direktori /diskless). Anda tidak perlu me-mount partisi lain
karena semua file akan diletakkan di direktori <path>/diskless/eta</path>.
</p>

<pre caption="Mount filesystem">
#<i> mount /dev/hdaX /mnt/gentoo</i>
</pre>

<p>
Tarbal stage dan chroot: Contoh ini menggunakan tarbal stage3. Mount
<path>/proc</path> ke direktori diskless anda lalu chroot ke dalamnya untuk
melanjutkan instalasi. Kemudian ikuti petunjuk instalasi sampai
konfigurasi kernel.
</p>

<warn>
Berhati-hatilah kemana anda mengekstrak tarbal stage. Anda tidak ingin menimpa
instalasi yang telah ada.
</warn>

<pre caption="Ekstrak tarbal stage">
# <i>cd /mnt/gentoo/diskless/eta/</i>
# <i>tar -xvjpf  /mnt/cdrom/gentoo/stage3-*.tar.bz2</i>
# <i>mount -t proc /proc /mnt/gentoo/diskless/eta/proc</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/diskless/eta/etc/resolv.conf</i>
# <i>chroot /mnt/gentoo/diskless/eta/ /bin/bash</i>
# <i>env-update</i>
# <i>source /etc/profile</i>
</pre>

<p>
Konfigurasi kernel: ketika anda menjalankan <c>make menuconfig</c> untuk
konfigurasi kernel anda, jangan lupa untuk mengaktifkan opsi-opsi berikut ini
bersama opsi lain yang dianjurkan di petunjuk instalasi.
</p>

<pre caption="Opsi-opsi menuconfig">
- Dukungan kartu network anda
<comment>(Di dalam kernel, *bukan* sebagai modul!)</comment>

- Di bagian "Networking options" :

[*] TCP/IP networking
[*] IP: kernel level autoconfiguration
[*] IP: DHCP support
[*] IP: BOOTP support


- Di bagian "File systems --> Network File Systems" :

&lt;*&gt; NFS file system support
[*] Provide NFSv3 client support
[*] Root file system on NFS
</pre>

<p>
Simpan kernel di dalam <path>/</path> chroot (bukan di <path>/boot</path>)
sesuai dengan setting pxegrub yang telah anda atur tadi. Kemudian
konfigurasikan <path>/etc/fstab</path> klien diskless .
</p>

<pre caption="/etc/fstab">
# <i>nano -w /etc/fstab</i>
/dev/cdroms/cdrom0 /mnt/cdrom iso9660 noauto,ro 0 0
proc /proc proc defaults 0 0
tmpfs /dev/shm tmpfs nodev,nosuid,noexec 0 0
</pre>

<p>
Anda juga perlu mencegah klien menjalankan pemeriksaan filesystem:
</p>

<pre caption="Mencegah klien menjalankan pemeriksaan filesystem">
# <i>touch /fastboot</i>
# <i>echo "touch /fastboot" &gt;&gt; /etc/conf.d/local.start</i>
</pre>

<p>
Instal <c>nfs-utils</c> karena klien anda akan sangat bergantung pada
paket ini:
</p>

<pre caption="Instalasi nfs-utils">
# <i>emerge nfs-utils</i>
</pre>

<p>
Bootloader. Jangan instal bootloader lain karena kita telah punya satu -
pxegrub. Selesaikan saja instalasi lalu restart server. Jalankan
service-service yang akan anda butuhkan untuk mem-boot klien baru:
DHCP, TFTPD, dan NFS.
</p>

<pre caption="Menjalankan service">
# <i>/etc/init.d/dhcp start</i>
# <i>/etc/init.d/in.tftpd start</i>
# <i>/etc/init.d/nfs start</i>
</pre>

</body>
</section>
<section>
<title>Boot klien baru</title>
<body>

<p>
Agar klien baru dapat boot dengan sempurna, anda perlu mengkonfigurasi BIOS-nya
agar menggunakan PXE sebagai metode boot pertama - sebelum CD-ROM atau floppy.
Silahkan baca manual atau halaman website pembuat hardware anda untuk
mendapatkan bantuan dalam hal konfigurasi BIOS. Kartu network harus mendapatkan
sebuah alamat IP menggunakan DHCP lalu mendownload imej PXE GRUB menggunakan
TFTP. Kemudian, anda seharusnya melihat menu boot hitam-putih GRUB yang keren,
tempat anda memilih kernel untuk boot lalu tekan Enter. Jika semuanya berjalan
dengan baik, kernel akan boot, melakukan mount filesystem root menggunakan NFS,
dan menyediakan prompt login untuk anda. Enjoy!
</p>

</body>
</section>
</chapter>

<chapter>
<title>Instalasi Gentoo dari distribusi Linux yang telah terinstal</title>
<section>
<title>Kebutuhan</title>
<body>

<p>
Untuk melakukan instalasi Gentoo dari distribusi Linux anda yang telah
terinstal, anda harus memiliki perintah chroot yang terinstal, dan tarbal
instalasi Gentoo atau ISO yang ingin anda instal. Koneksi jaringan (internet)
juga bagus jika anda menginginkan lebih dari yang disediakan di tarbal anda.
(Ngomong-ngomong, tarbal hanyalah sebuah file yang berakhir dengan .tbz2 atau
.tar.gz.). Penulis menggunakan RedHat Linux 7.3 sebagai sistem operasi "host",
tapi ini tidak terlalu penting. Mari kita mulai!
</p>

</body>
</section>
<section>
<title>Gambaran</title>
<body>

<p>
Pertama kita akan mengalokasikan sebuah partisi untuk Gentoo dengan me-resize
partisi Linux kita, mount partisi tersebut, ekstrak tarbal ke partisi yang
telah di-mount, chroot ke dalam sistem palsu, kemudian memulai build. Ketika
proses bootstrap selesai, kita akan melakukan konfigurasi akhir untuk
memastikan sistem bisa boot, kemudian kita siap untuk reboot dan
menggunakan Gentoo.
</p>

</body>
</section>
<section>
<title>Bagaimana cara membuat space untuk Gentoo?</title>
<body>

<p>
Partisi root adalah filesystem yang di-mount di <path>/</path>. Menjalankan
perintah <c>mount</c> di sistem saya menampilkan apa yang saya maksud. Kita
juga akan menggunakan <c>df</c> untuk melihat berapa banyak space yang tersisa
dan bagaimana cara me-resize partisi. Catat bahwa me-resize partisi bukanlah
suatu keharusan! Anda boleh saja me-resize partisi lain yang didukung oleh
resizer kami, tapi kita akan membicarakannya nanti.
</p>

<pre caption="Informasi filesystem">
# <i>mount</i>
/dev/hdb2 on / type ext3 (rw)
none on /proc type proc (rw)
none on /dev/pts type devpts (rw,gid=5,mode=620)
none on /dev/shm type tmpfs (rw,nodev,nosuid,noexec)
# <i>df -h </i>
Filesystem           Size Used Avail Use% Mounted on
/dev/hdb2            4.0G 1.9G  2.4G  82% /
none                  38M    0   38M   0% /dev/shm
</pre>

<p>
Sebagaimana yang bisa kita lihat, partisi yang di-mount sebagai <path>/</path>
bernama <path>/dev/hdb2</path> memiliki ruang kosong 2.4 GB. Di kasus saya,
saya kira saya akan me-resize sampai tersisa ruang kosong sebesar 400 MB,
jadi ada 2 GB yang dialokasikan untuk Gentoo. Lumayan, saya bisa menginstal
banyak paket di dalamnya. Bagaimanapun juga, pikirkan bahwa 1 GB sudah cukup
untuk kebanyakan user. Jadi mari kita mulai partisi ini!
</p>

</body>
</section>
<section>
<title>Build parted untuk me-resize partisi</title>
<body>

<p>
Parted adalah sebuah utilitas dari GNU foundation, proyek tua yang dihormati,
dan sofwarenya sedang anda gunakan saat ini. Tapi ada satu tool yang sangat
berguna untuk kita saat ini. Namanya <c>parted</c>, editor partisi yang bisa
kita dapatkan dari <uri>http://www.gnu.org/software/parted/</uri>
</p>

<note>
Tersedia juga beberapa tool lain untuk me-resize partisi, tapi penulis kurang
yakin/tidak tertarik apakah PartitionMagic(tm) atau software lain sejenisnya
bisa melakukan tugas ini. Adalah tugas pembaca untuk mencobanya.
</note>

<p>
Carilah jenis filesystem yang ingin anda resize di halaman itu, dan lihat
apakah parted bisa me-resize-nya. Jika tidak, berarti anda kurang beruntung,
anda harus menghapus sebuah partisi untuk memberikan space untuk Gentoo,
lalu instal-ulang lagi. Lanjutkan dengan mendownload software tadi lalu
instal. Di sini kita mendapatkan masalah. Kita ingin me-resize partisi root
Linux kita, untuk itu kita harus boot dari sebuah floppy boot yang berisi
sistem Linux minimal dan menggunakan parted yang telah kita kompilasi dan
letakkan di dalamnya. Tapi, jika anda bisa meng-umount partisi ini ketika
sedang digunakan berarti anda beruntung. Anda tidak perlu mengikuti petunjuk
di bawah ini. Cukup kompilasi parted lalu jalankan di partisi pilihan anda
yang telah di-umount. Ini cara yang saya lakukan di sistem saya.
</p>

<impo>
Pastikan bahwa partisi yang ingin anda resize didukung oleh parted!
</impo>

<p>
Dapatkan disk boot/root <c>mininux</c> (sebuah distribusi Linux mini dengan
kernel 2.4 dalam sebuah floppy - gratis) dari
<uri>http://mininux.free.fr/uk/</uri>. Buatlah sebuah floppy seperti yang
dijelaskan di Dokumentasi paket software tersebut dan masukkan sebuah floppy
baru ke drive untuk langkah selanjutnya.
</p>

<note>
Catat lagi bahwa Linux adalah persamaan kata dari "Ada cara lain untuk
melakukannya". Tujuan anda adalah menjalankan parted di partisi yang telah
di-umount agar ia bisa melakukan tugasnya. Anda boleh saja menggunakan disk
boot/root selain mininux. Bahkan anda mungkin tidak perlu melalui langkah ini
jika anda sudah bisa me-umount filesystem yang ingin anda resize di sesi Linux
anda dan menjalankan parted di dalamnya.
</note>

<pre caption="Pembuatan disk utilitas">
# <i>mkfs.minix /dev/fd0</i>
480 inodes
1440 blocks
Firstdatazone=19 (19)
Zonesize=1024
Maxsize=268966912
</pre>

<p>
Sekarang kita akan meneruskan ke proses build parted. Jika anda belum
mendownload dan mengekstraknya, lakukan sekarang lalu <c>cd</c> ke direktori
yang bersangkutan. Sekarang jalankan kumpulan perintah-perintah berikut ini
untuk mem-build utilitas tersebut dan menyalinnya ke floppy disk anda.
</p>

<pre caption="Building the utility floppy">
# <i> mkdir /floppy; mount -t minix /dev/fd0 /floppy &amp;&amp;
export CFLAGS="-O3 -pipe -fomit-frame-pointer -static" &amp;&amp; ./configure
&amp;&amp; make &amp;&amp; cp parted/parted /floppy &amp;&amp; umount /floppy </i>
</pre>

<p>
Selamat, anda telah siap untuk reboot dan me-resize partisi anda. Hanya lakukan
ini setelah membaca dokumentasi parted di website GNU. Proses resize akan
memakan waktu sekitar 30 menit untuk harddisk paling besar, bersabarlah. Reboot
sistem anda dengan disk boot mininux, dan ketika anda sudah login, gantikan
disk mininux anda dengan disk utilitas yang telah kita buat kemudian ketik
<c>mount /dev/fd0 /floppy</c> untuk mendapatkan parted dari
<path>/floppy</path>. Jalankan parted dan anda akan dapat me-resize partisi
anda. Setelah proses yang panjang ini selesai, kita siap untuk bersenang-senang,
dengan menginstal Gentoo. Reboot kembali ke sistem Linux lama anda. Drive yang
ingin anda operasikan adalah drive yang berisi partisi yang ingin kita resize.
Sebagai contoh, jika kita ingin me-resize <path>/dev/hda3</path>, maka
drive-nya adalah <path>/dev/hda</path>.
</p>

<pre caption="Perintah-perintah yang dijalankan ketika sudah login ke sistem mininux">
# <i>mount /dev/fd0 /floppy </i>
# <i>cd /floppy; ./parted [drive yang ingin anda operasikan]</i>
(parted) <i> print </i>
Disk geometry for /dev/hdb: 0.000-9787.148 megabytes
Disk label type: msdos
Minor    Start       End     Type      Filesystem  Flags
1          0.031   2953.125  primary   ntfs
3       2953.125   3133.265  primary   linux-swap
2       3133.266   5633.085  primary   ext3
4       5633.086   9787.148  extended
5       5633.117   6633.210  logical
6       6633.242   9787.148  logical   ext3
(parted) <i> help resize </i>
  resize MINOR START END        resize filesystem on partition MINOR

        MINOR is the partition number used by Linux.  On msdos disk labels, the
        primary partitions number from 1-4, and logical partitions are 5
        onwards.
        START and END are in megabytes
(parted) <i> resize 2 3133.266 4000.000 </i>
</pre>

<impo>
Sabarlah! Komputer sedang bekerja! Perhatikan saja LED harddisk di case anda
untuk melihat apakah komputer benar-benar sedang bekerja. Proses ini bisa
memakan waktu antara 2 sampai 30 menit.
</impo>

<p>
Setelah anda selesai me-resize, boot kembali ke sistem Linux lama anda seperti
yang telah dijelaskan. Kemudian bacalah
<uri link="/doc/en/handbook/handbook-x86.xml?part=1&amp;chap=4">Buku Panduan
Gentoo: Mempersiapkan Disk</uri> dan ikuti petunjuk-petunjuknya. Ketika
melakukan chroot, gunakan perintah berikut ini untuk meratakan lingkungan anda:
</p>

<pre caption="Meratakan lingkungan ketika chroot">
# <i>env -i HOME=$HOME TERM=$TERM chroot /mnt/gentoo /bin/bash</i>
# <i>/usr/sbin/env-update</i>
# <i>source /etc/profile</i>
</pre>

<p>
Enjoy!
</p>

</body>
</section>
</chapter>
</guide>
