<?xml version='1.0' encoding="utf-8"?>
<!DOCTYPE guide SYSTEM "http://www.gentoo.org/dtd/guide.dtd">

<!-- English CVS version: 1.37 -->

<guide link="/doc/de/desktop.xml">
  <title>Anleitung zur Gentoo Linux Desktop Konfiguration</title>

  <author title="Author"><mail link="zhen@gentoo.org">John P. Davis</mail></author>
  <author title="Author"><mail link="g2boojum@gentoo.org">Grant Goodyear</mail></author>
  <author title="Editor"><mail link="swift@gentoo.org">Sven Vermeulen</mail></author>
  <author title="Editor"><mail link="klasikahl@gentoo.org">Zack Gilburd</mail></author>
  <author title="Editor"><mail link="bennyc@gentoo.org">Benny Chuang</mail></author>
  <author title="Übersetzer"><mail link="gentoo@naggelgames.de">Hendrik Richter</mail></author>
  <author title="Übersetzer"><mail link="pylon@gentoo.org">Lars Weiler</mail></author>

  <abstract>Mit Hilfe dieser Anleitung können Sie Ihr Gentoo Linux zu einem
  vollwertigen Desktop-System einrichten. Sie erfahren, wie man X, KDE, OSS
  (Sound), postfix (E-Mail) und Samba (Unix/Windows Dateiaustausch) installiert
  und konfiguriert.</abstract>

  <license/>

  <version>1.4.6</version>
  <date>30. September 2003</date>

  <chapter>
    <title>Voraussetzungen</title>
    <section>
      <body>

        <p>Eigentlich nicht nötig zu erwähnen: bevor Sie mit dieser Anleitung
        anfangen, müssen Sie Gentoo Linux <uri
        link="gentoo-x86-install.xml">installiert</uri> haben. Nach Abschluss
        dieser recht amüsanten Prozedur brauchen Sie zusätzlich den aktuellen
        <e>Portage</e> tree. Es ist wirklich empfehlenswert, das <uri
        link="portage-user.xml">Portage User Handbuch</uri> zu lesen, aber falls
        Sie ungeduldig sind oder unter Zeitdruck stehen, schreiben Sie
        einfach:</p>

        <pre caption="Den Portage Tree auf den neuesten Stand bringen">
# <i>emerge sync</i>
        </pre>

        <p>Noch ein kurzer Hinweis zu den Paketen die ich hierfür ausgewählt
        habe. Gentoo Linux hat eine riesige Auswahl an Window Managern,
        E-Mail-Programmen, etc, die einfach installiert werden können. Die
        Pakete, die ich ausgewählt habe sind nicht speziell für Gentoo Linux
        gemacht, es sind einfach die Pakete, die der Autor kennt und zu
        konfigurieren weiß. Mit anderen Worten, dies sind die Pakete des
        Desktops des Autors.</p>

        <impo>Abhängig davon welchen Desktop Sie installieren werden, sollten
        Sie die Unterstützung für Desktops, die sie nicht verwenden in der
        <path>/etc/make.conf</path> abschalten.  Fügen Sie zur <i>USE</i> Zeile
        <e>-gnome -gtk</e> hinzu, wenn Sie KDE verwenden werden oder <e>-kde
        -qt</e>, bei der Verwendung von GNOME.</impo>

        <warn>Wenn Sie zwischendurch einen Fehler (Bug) finden, melden Sie ihn
        unter <uri>http://bugs.gentoo.org/</uri>.  Melden Sie ihn <e>nicht</e>
        an die Personen, die sich um das Paket kümmern (wie z.B. das
        KDE-Team); die Entwickler bei Gentoo werden den Fehler nötigenfalls
        schon weiterreichen.</warn>

      </body>
    </section>
  </chapter>

  <chapter>
    <title>XFree86 Installieren</title>
    <section>
      <title>Installation</title>
      <body>

        <p>Die Installation von X wird selbst auf schnellen Rechnern ein
        Weilchen dauern.  Das System ist recht groß, von daher richten Sie sich
        darauf ein, ein Buch zu lesen oder ein Nickerchen zu halten...</p>

        <p>Um X zu "mergen" brauchen Sie lediglich folgendes zu tippen:</p>

        <pre caption="XFree86 mergen">
# <i>emerge xfree</i>
# <i>env-update &amp;&amp; source /etc/profile</i>
        </pre>

        <p>Nach Abschluss dieses recht langen Prozesses beginnt die
        Konfiguration.</p>

      </body>
    </section>

    <section>
      <title>X Konfigurieren</title>
      <body>

        <p>Um X zu konfigurieren, mag ich das Konsolen-basierte
        <c>xf86config</c>, obwohl die davon generierte Datei
        <path>/etc/X11/XF86Config</path> nicht sehr elegant ist.  Bevor Sie
        starten, sollten Sie die horizontal und vertical refresh rates Ihres
        Monitors (mein Viewsonic G773 hat horizontal: 30-69kHz, vertical:
        55-90Hz), den Typ und die Größe des RAM (in kB) Ihrer Grafikkarte (eine
        32768kB GeForce Karte in meinem Fall) und das Modell und Device Ihrer
        Maus (eine Intellimouse angestöpselt an den PS/2-Port unter
        <path>/dev/psaux</path>) in Erfahrung bringen.</p>

        <pre caption="xf86config ausführen">
# <i>/usr/X11R6/bin/xf86config</i>
        </pre>

        <p>Da ich eine Drei-Button-Maus habe, wähle ich nicht die
        3-button-emulation.  Vergessen Sie nicht die XKB-Unterstützung zu
        aktivieren, wenn Sie nicht eine US-Tastatur haben (was ich stark
        annehme) oder mehrere Layouts unterstützt haben möchten.  Bei der
        Auflösung und der Farbtiefe müssen Sie selbst entscheiden, was Sie
        bevorzugen.  Ich lasse 1280x1024 bei 24bpp (bits per pixel, also 16
        Millionen Farben) auf meinem Viewsonic laufen, aber nur, da er nicht mit
        höheren Auflösungen klar kommt.  Wenn Sie dieses vorher noch nie getan
        haben, seien Sie nicht überrascht, wenn Sie mehrere Male
        <c>xf86config</c> aufrufen müssen.</p>

        <p>Einen anderen Weg XFree86 zu konfigurieren bietet <c>XFree86
        -configure.</c>  Dises Kommando erzeugt eine (hoffentlich
        funktionierende) <path>XF86Config</path> Datei im Home-Verzeichnis von
        root (<path>/root</path>).  Danach können Sie diese Datei Ihren
        Anforderungen entsprechend editieren und später nach
        <path>/etc/X11/XF86Config</path> kopieren.</p>

        <p>Schauen Sie in <uri
        link="http://www-106.ibm.com/developerworks/edu/os-dw-linuxxwin-i.html">dises
        Tutorial</uri> für eine tiefergehende X Konfiguration.</p>

        <note>Wenn Sie die refresh rates Ihres Monitors nicht kennen, versuchen
        Sie eine Suche mit der Modellbezeichnung und dem Hersteller bei <uri
        link="http://www.google.com/">Google</uri>.  Die refresh rates
        werden normalerweise bei den Technischen Spezifikationen mit
        angegeben.</note>

        <note>Benötigen Sie Umlaute oder "dead keys" (z.B. um è, é, ê, ë, ò, ó,
        etc. mit dem Apostroph zu erstellen) auf Ihrer Tastatur, müssen Sie Ihre
        locale angeben bevor Sie X starten.  Dazu erstellen Sie die Datei
        <path>/etc/env.d/02locale</path> und fügen die Zeile
        <c>LC_CTYPE="xx_XX"</c> ein, wobei <c>xx</c> für Ihre Sprache steht
        (z.B. "de") und <c>XX</c> für Ihr Land (z.B.  "AT").  Möchen Sie das
        EURO-Zeichen verwenden, hängen Sie an die Variable "<c>@euro</c>" an
        (z.B.  <c>LC_CTYPE="de_AT@euro"</c>).  Vergessen Sie nicht <c>env-update
        &amp;&amp; source /etc/profile</c> nach diesen Änderungen
        auszuführen.</note>

        <p>Wenn Sie ein Veteran im Konfigurieren von X sind, sind Sie gewohnt
        einen symbolischen Link von Ihrem Maus-Device zu <path>/dev/mouse</path>
        zu erstellen.  Solche Symlinks sind problematisch bei der Verwendung von
        devfs, da sie ab und an dazu neigen nach einem Neustart verschwunden zu
        sein.  Jedoch geht Gentoo Linux korrekt mit symbolischen Links in
        <path>/dev</path> um.  Erstellen Sie einfach den <path>/dev/mouse</path>
        Symlink indem Sie <c>ln -s</c> verwenden und er wird den Reboot
        überleben.</p>

        <p>Entscheiden Sie sich zur Verwendung des XFS (den XFontServer), folgen
        Sie den entsprechenden Anleitungen weiter unten.  XFS zu verwenden ist
        empfohlen, da es die Schriftenkonfiguration um <e>einiges</e> einfacher
        macht.  Schauen Sie sich dazu <uri
        link="http://www.redhat.com/docs/manuals/linux/RHL-7.3-Manual/ref-guide/s1-x-fonts.html">diesen
        Artikel von RedHat</uri> über XFS an.</p>

        <pre caption="Konfiguration Testen">
# <i>rc-update add xfs default</i>
# <i>/etc/init.d/xfs start</i>
# <i>startx</i>
        </pre>

        <p>Haben Sie X ordentlich konfiguriert, sollte <c>startx</c> einen
        erstaunlich hässlichen X Windowmanager starten (twm, um genau zu sein).
        Startet X, sind Sie auf dem richtigen Weg.  Drücken Sie
        <c>&lt;ctrl&gt;&lt;alt&gt;&lt;backspace&gt; um den X server zu
        beenden.</c></p>

        <p><c>xf86config</c> wird nur eine Konfigurationsdatei für übliche
        Komponenten erzeugen.  NVIDIA-Karten, USB-Mäuse und viele andere
        Optionen müssen von Hand eingestellt werden.  Ich werde diese Optionen
        weiter unten erläutern; schauen Sie jedoch ruhig schon mal in die Datei
        <i>XF86Config</i>.  Sie ist nicht allzu kryptisch und Sie sollten in der
        Lage sein, einige interessante Einstellungen vorzunehmen.  Folgen Sie
        dem Link, um einen Einstieg in die <uri
        link="http://www.tldp.org/HOWTO/mini/FDU/">Optimierung des
        Aussehens</uri> zu erhalten.</p>

        </body>
    </section>

    <section>
      <title>Eine PS/2-Maus konfigurieren</title>
      <body>

        <p>Besitzen Sie eine Maus mit Scrollrad werden Sie Ihre XF86Config Datei
        von Hand ändern müssen:</p>

        <pre caption="Editieren der XF86Config">
<comment>Um auf Nummer sicher zu gehen wird eine Kopie der lauffähigen
Konfigurationsdatei erstellt</comment>
# <i>cp /etc/X11/XF86Config /etc/X11/XF86Config.working</i>
# <i>nano -w /etc/X11/XF86Config</i>
        </pre>

        <pre caption="Abschnitt Pointer in der XF86Config">
Section "InputDevice"

#Identifier and driver

Identifier  "Mouse1"
Driver  "mouse"
<i>Option  "Protocol"  "IMPS/2" </i>
Option  "Device"  "/dev/psaux"
<i>Option  "ZAxisMapping"  "4 5"</i>
        </pre>

        <p>Da ich eine IntelliMouse besitze, habe ich das "Protocol"
        von "PS/2" in "IMPS/2" geändert.  Um das Rädchen zum
        Scrollen zu verwenden muss lediglich die Zeile 'Option
        "ZAxisMapping" "4 5"' hingefügt werden; 4 und 5
        entsprechen Scrollrad hoch und Scrollrad runter.</p>

        <note>Netscape 4.x lässt sich auf diese Weise nicht zum Scrollen
        bewegen; dazu muss erst die Datei <path>.Xdefaults</path> erstellt
        werden.  Schauen Sie sich die entsprechende <uri
        link="http://www-sop.inria.fr/koala/colas/mouse-wheel-scroll/">Anleitung</uri>
        dazu an.  Generell ist es jedoch besser <c>konqueror</c>,
        <c>mozilla</c>, <c>galeon</c>, <c>opera</c> oder einen anderen modernen
        Browser zu verwenden.</note>

        <p>Lassen Sie zur Sichereit, dass X weiterhin startet, nochmals
        <c>startx</c> laufen.</p>

      </body>
    </section>

    <section>
      <title>Eine USB-Maus konfigurieren</title>
      <body>

        <p>Eine USB-Maus ist Ihr Freund bei hochauflösenden Bildschirmen.  Der
        Kernel kümmert sich um die Skalierung, sodass Sie nicht fünf Mal ihre
        Maus quer über das Mauspad schieben müssen, um einmal quer über den
        Bildschirm zu kommen.</p>

        <p>Das erste was getan werden muss, ist die Installation der
        Kernel-Module.  Für die Verwendung einer USB-Maus werden die Module
        <i>usbmouse</i>, <i>mousedev</i>, <i>hid</i>, <i>usbcore</i>,
        <i>usb-uhci</i> und <i>input</i> benötigt.  Ist die benötigte
        Kernelkonfiguration erledigt, laden Sie mit <c>insmod</c> die
        Module.</p>

        <note>Verwenden Sie entweder <i>usbmouse</i> <b>oder</b> <i>hid</i>.
        Laden Sie beide Module, wird die Maus ihre Tätigkeit einstellen.</note>

        <note>Bei der Konfiguration des Input Core Support für die Maus stellen
        Sie bei der Bildschirmauflösung jene ein, die Sie unter X verwenden
        wollen.  Das ergibt ein schönes und korrektes Scaling.</note>

        <p>Stöpseln Sie nun Ihre Maus raus und wieder rein und checken Sie im
        Kernel-Log, ob dort eine Meldung ähnlich zu der folgenden einschien:</p>

        <pre caption="Kernel Meldung">
hub.c: USB new device connect on bus1/1, assigned device number 2
input0,hiddev0: USB HID v1.00 Mouse [Microsoft Microsoft IntelliMouse Optical] on usb1:2.0
        </pre>

        <p>Da die Maus nun entdeckt wurde, überprüfen Sie
        <path>/dev/input</path>, ob Ihre Maus dort ist und funktioniert.</p>

        <pre caption="USB-Maus überprüfen">
# <i>cd /dev/input</i>
# <i>cat mice</i>
<comment>Bewegen Sie die Maus während Sie auf dem Device lauschen -- Sie sollten
nun einen Haufen Müll sehen.  Zum Beenden drücken Sie <c>CTRL-c</c>.</comment>
        </pre>

        <p>Sobald die Maus vom System ordentlich entdeckt und installiert wurde,
        muss X gesagt bekommen, dass wir die USB-Maus verwenden möchten.  Alles
        was benötigt wird, ist eine kleine Änderung des von X verwendeten Geräts
        für die Maus:</p>

        <pre caption="Editieren der XF86Config">
<comment>Um auf Nummer sicher zu gehen wird eine Kopie der lauffähigen
Konfigurationsdatei erstellt</comment>
# <i>cp /etc/X11/XF86Config /etc/X11/XF86Config.working</i>
# <i>nano -w /etc/X11/XF86Config</i>
        </pre>

        <pre caption="Abschnitt Pointer in der XF86Config">
Section "InputDevice"

#Identifier and driver

Identifier  "Mouse1"
Driver  "mouse"
Option  "Protocol"  "IMPS/2"
<i>Option  "Device"  "/dev/input/mice"</i>
Option  "ZAxisMapping"  "4 5"
        </pre>

        <p>Okay, starten Sie erneut X und die Maus sollte funktionieren!</p>

        <p>Vergessen Sie nicht die benötigten Module zur Datei
        <path>/etc/modules.autoload.d/kernel-2.4</path> hinzuzufügen.</p>

        <pre caption="Module zur modules.autoload.d/kernel-2.4 hinzufügen">
# <i>echo $'\n'mousedev $'\n'hid $'\n'usbcore $'\n'input &gt;&gt; /etc/modules.autoload.d/kernel-2.4</i>
        </pre>

      </body>
    </section>

    <section>
      <title>Eine NVIDIA-Grafikkarte konfigurieren</title>
      <body>

        <p>Sollten Sie eine NVIDIA-Grafikkarte besitzen, ist es nun an der Zeit
        die beschleunigten Treiber von NVIDIA zu installieren.</p>

        <note>Wenn Sie später Ihren Kernel neu kompilieren, müssen Sie auch
        <i>nvidia-kernel</i> neu kompilieren.  Das kommt daher, da während des
        Kernel kompilierens die nvidia-Module gelöscht werden.</note>

        <pre caption="Nur für Besitzer von NVIDIA-Grafikkarten">
# <i>emerge nvidia-glx</i>
# <i>emerge nvidia-kernel</i>
# <i>nano -w /etc/X11/XF86Config</i>
# <i>modprobe nvidia</i>
        </pre>

        <note>Verwenden Sie eine Kernel Version anders als 2.4, ersetzen Sie 2.4
        mit dieser Version.</note>

        <pre caption="/etc/modules.autoload.d/kernel-2.4 (nur für NVidia Besitzer)">
# <i>nano -w /etc/modules.autoload.d/kernel-2.4</i>
<comment># Fügen Sie die folgende Zeile zu der Datei hinzu</comment>
nvidia
        </pre>

        <pre caption="GLX in der XF86Config aktivieren">
Section "Module"

# This loads the GLX module
    Load       "glx" <comment>(Nehmen Sie das Kommentarzeichen # am Anfang der Zeile heraus)</comment>
        </pre>

        <pre caption="X soll den NVIDIA-Treiber verwenden">
Section "Device"
  Identifier  "NVIDIA GeForce"
  #Driver      "nv"
  <i>Driver      "nvidia"</i>
  #VideoRam    32768
  # Insert Clocks lines here if appropriate
EndSection
        </pre>

        <p>Lassen Sie <c>startx</c> ein weiteres Mal laufen, um sicherzustellen,
        dass X immer noch startet (dieses Mal mit einem NVIDIA-Logo, wenn die
        Treiber korrekt installiert wurden).</p>

        <note>Wenn Sie Probleme mit X haben, schauen Sie in die
        glx-Dokumentation unter
        <path>/usr/share/doc/nvidia-glx-1.0.XXXX/README.gz</path>.  Dort gibt es
        eine Menge Konfigurationsvariablen, die sich erheblich auf die
        Systemperformanz auswirken können.</note>

      </body>
    </section>
  </chapter>

  <chapter>
    <title>Window Manager</title>
    <section>
      <title>Einführung</title>
      <body>

        <p>Im Grunde wird als erstes nach einer X-Installtion ein Window Manager
        installiert.  Natürlich können Sie auch bei twm bleiben, wenn Sie einen
        hässlichen - ich meine funktionalen - Window Manager bevorzugen.</p>

        <p>Es gibt viele Window Manger aus denen Sie wählen können, wie
        beispielsweise KDE, GNOME, Fluxbox, Blackbox, die anderen *box'en,
        Windowmaker, Enlightenment, Sawfish, etc.  Sie sehen, es gibt eine gute
        Auswahl an Window Mangern in Gentoo Linux.</p>

      </body>
    </section>

    <section>
      <title>KDE</title>
      <body>
        
        <p>Ich gehe davon aus, dass Sie KDE installieren möchten, wenn Sie
        diesen Abschnitt lesen.  KDE wird komplett von Gentoo Linux unterstützt,
        aber es gibt einige Dinge, die Sie überprüfen sollten, bevor Sie KDE
        emergen:</p>

        <ul>
          <li>"qt" und "kde" müssen in der USE-Variable in der Datei <path>/etc/make.conf</path> angegeben sein.</li>
          <li>"-gnome" und "-gtk" sollten gesetzt sein, sind aber nicht zwingend erforderlich</li>
        </ul>

        <p>Beide Schritte können folgendermaßen durch Edititeren der
        <path>/etc/make.conf</path> erledigt werden:</p>

        <pre caption="Editieren der make.conf">
# <i>nano -w /etc/make.conf</i>
<comment>Innerhalb der <i>make.conf</i></comment>

USE="qt kde -gnome -gtk"
        </pre>

        <p>Wenn Sie mehr über USE-Variablen erfahren möchten, schauen Sie sich
        das <uri link="use-howto.xml">USE HOWTO</uri> an.</p>

        <p>Es ist immer nützlich mit dem <c>--pretend</c> Attribut bei
        <c>emerge</c> zu schauen, welche Abhängigkeiten installiert werden --
        und in unserem Fall sind es eine ganze Menge.</p>

        <pre caption="Ausgeben der KDE-Abhängigkeiten und Installation">
# <i>emerge --pretend kde</i>
# <i>emerge kde</i>
# <i>env-update &amp;&amp; source /etc/profile</i>
        </pre>

        <p>Schauen Sie in das Verzeichnis <path>/etc/X11/Sessions/</path>
        welche KDE-Sessions existieren (z.B. <path>kde-3.1.2</path>).  Öffnen
        Sie daraufhin <path>/etc/rc.conf</path> und editieren Sie diese
        folgendermaßen:</p>

        <pre caption="Die XSESSION Variable setzen">
XSESSION="kde-3.1.2"
        </pre>

        <p>Wenn Sie KDE nicht mit allen seinen Komponenten installieren wollen
        (was passiert, wenn Sie <c>emerge kde</c> eingeben), aber stattdessen
        die KDE Pakete installieren, <e>die</e> Sie wollen, dann machen Sie es
        einzelen.  Die folgende Tabelle zeigt eine Auswahl der möglichen KDE
        Pakete.  Installieren Sie die gewünschten Pakete mit <c>emerge
        &lt;Paketname&gt;</c>.</p>

        <table>
          <tr><th>Paket</th><th>Beschreibung</th></tr>
          <tr><ti>kdebase</ti><ti>KDE Basispaket und notwendige Applikationen</ti></tr>
          <tr><ti>kdeaddons</ti><ti>Diverse ältere oder nicht mehr verwendete KDE Tools</ti></tr>
          <tr><ti>kdeadmin</ti><ti>KDE Administrationstools</ti></tr>
          <tr><ti>kdeedu</ti><ti>KDE Lehrprogramme</ti></tr>
          <tr><ti>kdegames</ti><ti>KDE Spiele</ti></tr>
          <tr><ti>kdegraphics</ti><ti>Grafikprogramme für KDE</ti></tr>
          <tr><ti>kdemultimedia</ti><ti>Multimediaprogramme für KDE</ti></tr>
          <tr><ti>kdenetwork</ti><ti>KDE Netzwerktools</ti></tr>
          <tr><ti>kdepim</ti><ti>Personal Information Manager, KDE Kalender, Schreibtischnotizen etc.</ti></tr>
          <tr><ti>kdetoys</ti><ti>Unterhaltungstools für den KDE Desktop</ti></tr>
          <tr><ti>kdeutils</ti><ti>Grafische Systemprogramme</ti></tr>
        </table>

        <note>Wenn Sie CUPS zum Drucken verwenden möchten, sollten Sie "cups"
        zur USE-Variable in der <path>/etc/make.conf</path> hinzufügen bevor Sie
        KDE emergen.  Genauso gut kann man es auch per Kommandozeile mittels
        <c>USE="cups" emerge kde</c> machen.  Für eine komplette
        CUPS-Installation schauen Sie bitte im <uri
        link="printing-howto.xml">Gentoo Print Guide</uri> nach.</note>

        <p>Habe Sie nun ein nettes Nickerchen!</p>

        <note>Sollten Sie eine Gentoo Linux Binary CD besitzen können Sie die
        Pakete direkt von der CD installieren.</note>

        <pre caption="Installation der Binärpakete von CD">
<comment>Für gewöhnlich erwartet portage fertige Pakete in /usr/portage/packages</comment>
# <i>emerge --usepkg /mnt/cdrom/gentoo/packages/All/kdebase-x.y.z.tbz2</i>
<comment>Die Angabe <c>--usepkg</c> stellt sicher, dass Binärpakete (falls
vorhanden) bei Abhängigkeiten verwendet werden.</comment>
# <i>env-update &amp;&amp; source /etc/profile</i>
        </pre>

      </body>
    </section>

    <section>
      <title>KDM konfigurieren</title>
      <body>
        
        <p>Ist die Installation von KDE beendet, möchten Sie sicherlich einen
        netten Login Manager haben, in diesem Fall den KDE Login Manager, oder
        KDM.  KDM ist in den KDE Paketen enthalten und braucht lediglich nur noch
        aufgerufen werden:</p>

        <pre caption="KDM starten">
# <i>kdm</i>
        </pre>

        <p>Sie sollten sich einloggen können und KDE komplett lauffähig sehen.
        Okay, Sound klappt noch nicht und Sie haben den nervigen
        KDE-Start-Sound verpasst, doch das werden wir in wenigen Augenblicken
        beheben.  Öffnen Sie eine Konsole und tippen Sie <c>ls /usr/bin</c>
        (oder irgend etwas anderes, das das Konsolenfester über den Rand füllt)
        und schauen Sie, ob Sie mit dem Scrollrad an der Maus im Konsolenfenster
        hoch- und runterscrollen können.  Es sollte wirklich klappen!</p>

        <p>Übrig bleibt noch, dass X ebenso startet, wenn Gentoo bootet.
        Editieren Sie die Datei <path>/etc/rc.conf</path> sodass dort
        <e>DISPLAYMANAGER="kdm"</e> steht.</p>

        <pre caption="/etc/rc.conf editieren">
# <i>nano -w /etc/rc.conf</i>
        </pre>

        <pre caption="Einstellen des Displaymanger in der /etc/rc.conf">
# What display manager do you use ? [ xdm | gdm | kdm ]
DISPLAYMANAGER="kdm"
        </pre>

        <p>Überprüfen Sie nun, dass das <e>xdm</e> Start-Skript beim Booten
        eingelesen wird.</p>

        <pre caption="XDM Skript zum default runlevel hinzufügen">
# <i>rc-update add xdm default</i>
        </pre>

        <p>Rebooten Sie und schauen Sie ob X/KDE starten!</p>

        <impo>Das <c>rc-update</c> Kommando ist Gentoo Linux' verbesserte
        Version des ehrwürdigen <c>chkconfig</c> Kommandos zum managen von
        Init-Skripten.  Geben Sie nur <c>rc-update</c> auf der Kommadozeile ein
        und lassen Sie sich die Liste an Optionen ausgeben.</impo>

      </body>
    </section>
  </chapter>

  <chapter>
    <title>GNOME</title>
    <section>
      <title>Installation</title>
      <body>
        
        <p>Bevor Sie die GNOME Pakete installieren, sollten Sie Ihre
        USE-Variable anpassen.  Damit wird die GNOME-Unterstützung in
        Applikationen, die Sie installieren, aktiviert.</p>

        <ul>
          <li>"gtk" und "gnome" müssen in der USE-Variable in der Datei <path>/etc/make.conf</path> angegeben sein.</li>
          <li>"-kde" und "-qt" sollten gesetzt sein, sind aber nicht zwingend erforderlich</li>
        </ul>

        <p>Beide Schritte können folgendermaßen durch Edititeren der
        <path>/etc/make.conf</path> erledigt werden:</p>

        <pre caption="Editieren der make.conf">
# <i>nano -w /etc/make.conf</i>
<comment>Innerhalb der <i>make.conf</i></comment>

USE="gnome gtk -kde -qt"
        </pre>

        <p>Wenn Sie mehr über USE-Variablen erfahren möchten, schauen Sie sich
        das <uri link="use-howto.xml">USE HOWTO</uri> an.</p>

        <p>Es ist immer nützlich mit dem <c>--pretend</c> Attribut bei
        <c>emerge</c> zu schauen, welche Abhängigkeiten installiert werden --
        und in unserem Fall sind es eine ganze Menge.</p>

        <pre caption="Ausgeben der GNOME-Abhängigkeiten und Installation">
# <i>emerge --pretend gnome</i>
# <i>emerge gnome</i>
# <i>emerge xscreensaver</i>
# <i>env-update &amp;&amp; source /etc/profile</i>
        </pre>

        <p>Das nimmt nun einige Zeit in Anspruch, von daher lehnen Sie sich
        zurück und schauen Sie sich einen Film an (der Autor empfielt "Pulp
        Fiction").</p>

        <p>Öffnen Sie danach die Datei <path>/etc/rc.conf</path> und ändern Sie
        die XSESSION Variable folgendermaßen:</p>

        <pre caption="XSESSION Variable in der /etc/rc.conf ändern">
XSESSION="Gnome"
        </pre>

        <p>Die GNOME-Konfiguration ist ab diesem Punkt annähernd die gleiche wie
        die von KDE.  Es gibt keine GNOME-spezifischen Konfigurationsdateien,
        jedoch gibt es GDM, den GNOME Login Manager einzurichten.</p>

      </body>
    </section>

    <section>
      <title>GDM konfigurieren</title>
      <body>
        
        <p>Nachdem GNOME installiert ist, möchten Sie sicherlich einen netten
        Login Manager, in diesem Fall den GNOME Login Manger, oder GDM
        verwenden.  GDM ist im bereits installierten GDE-Paket enthalten, sodass
        er zum starten nur noch aufgerufen werden muss:</p>

        <pre caption="GDM starten">
# <i>gdm</i>
        </pre>

        <p>Sie sollten sich einloggen können und GNOME komplett lauffähig sehen.
        Okay, Sound klappt noch nicht und Sie haben den nervigen
        GNOME-Start-Sound verpasst, doch das werden wir in wenigen Augenblicken
        beheben.  Öffnen Sie eine Konsole und tippen Sie <c>ls /usr/bin</c>
        (oder irgend etwas anderes, das das Konsolenfester über den Rand füllt)
        und schauen Sie, ob Sie mit dem Scrollrad an der Maus im Konsolenfenster
        hoch- und runterscrollen können.  Es sollte wirklich klappen!</p>

        <p>Übrig bleibt noch, dass X ebenso startet, wenn Gentoo bootet.
        Editieren Sie die Datei <path>/etc/rc.conf</path> sodass dort
        <e>DISPLAYMANAGER="gdm"</e> steht.</p>

        <pre caption="/etc/rc.conf editieren">
# <i>nano -w /etc/rc.conf</i>
        </pre>

        <pre caption="Einstellen des Displaymanger in der /etc/rc.conf">
# What display manager do you use ? [ xdm | gdm | kdm ]
DISPLAYMANAGER="gdm"
        </pre>

        <p>Überprüfen Sie nun, dass das <e>xdm</e> Start-Skript beim Booten
        eingelesen wird.</p>

        <pre caption="XDM Skript zum default runlevel hinzufügen">
# <i>rc-update add xdm default</i>
        </pre>

        <p>Rebooten Sie und schauen Sie ob X/GNOME starten!</p>

        <impo>Das <c>rc-update</c> Kommando ist Gentoo Linux' verbesserte
        Version des ehrwürdigen <c>chkconfig</c> Kommandos zum managen von
        Init-Skripten.  Geben Sie nur <c>rc-update</c> auf der Kommadozeile ein
        und lassen Sie sich die Liste an Optionen ausgeben.</impo>

      </body>
    </section>
  </chapter>

  <chapter>
    <title>Sound Konfiguration</title>
    <section>
      <title>ALSA</title>
      <body>

        <p>Zur Installation von ALSA, schauen Sie bitte in den <uri
        link="alsa-guide.xml">Gentoo Linux ALSA Setup Guide</uri>.</p>

      </body>
    </section>

    <section>
      <title>KDE und Sound</title>
      <body>

        <p>KDE hat einige nette Sound Utensilien, inklsive dem KDE Sound Mixer
        <c>kmix</c>.</p>

        <note>Wenn kmix keinen Mixer finden kann, dann denkt es vermutlich, dass
        Sie keine Soundunterstützung haben.  Loggen Sie sich ein und entfernen
        Sie die Dateien <path>~/.kde/share/config/kmixrc</path> und
        <path>~/.kde/share/config/kmix:*</path> und loggen Sie sich erneut ein.
        Dieses Mal sollte es den Sound Mixer ordentlich finden.</note>

      </body>
    </section>

    <section>
      <title>GNOME und Sound</title>
      <body>
        
        <p>Wird in der nächsten Version eingefügt.</p>

      </body>
    </section>
  </chapter>

  <chapter>
    <title>Mail</title>
    <section>
      <title>Postfix -- Installation und Konfiguration</title>
      <body>
        
        <p>Ich mag <c>postfix</c>, da es <c>sendmail</c> emuliert, ohne den
        Alptraum einer <c>sendmail</c>-Konfiguration durchleben zu müssen.  Wo
        wir gerade dabei sind, werden wir gleich <c>mutt</c> installieren, ein
        Mail-Programm, sodass wir unsere <c>postfix</c>-Konfiguration testen
        können.</p>

        <pre caption="emergen von postfix und mutt">
# <i>emerge postfix mutt</i>
        </pre>

        <p>Wenn Sie Ihren Mail-Server nur zum Ausliefern von Mail verwenden
        möchten, dann ist er bereits fertig aufgesetzt.  Anderfalls müssen Sie
        die Datei <path>/etc/postfix/main.cf</path> anpassen.  Diese Datei ist
        sehr gut dokumentiert und die Standardeinstellungen sind ausreichend für
        eine alleinstehende Maschine.  Ist Ihr Rechner direkt an das Internet
        angeschlossen (z.B. mit einer IP-Adresse aus dem nicht-privaten Bereich
        und einem DNS-Namen), dann sind die folgenden aufgeführten Änderungen
        vorzunehmen:</p>

        <pre caption="Mailempfang in main.cf einschalten">
# RECEIVING MAIL

# The inet_interfaces parameter specifies the network interface
# addresses that this mail system receives mail on.  By default,
# the software claims all active interfaces on the machine. The
# parameter also controls delivery of mail to user@[ip.address].
#
#inet_interfaces = all
#inet_interfaces = $myhostname
#inet_interfaces = $myhostname, localhost
<i>inet_interfaces = $myhostname, localhost</i>
<i>mydestination = $myhostname, localhost.$mydomain</i>
        </pre>

      </body>
    </section>

    <section>
      <title>Testen von Postfix (mit Mutt)</title>
      <body>
        
        <p>Schauen wir, ob es klappt:</p>

        <pre caption="Testen von Postfix">
# <i>postfix check</i>
# <i>newaliases</i>
# <i>postfix start</i>
postfix-script: starting the Postfix mail system
# <i>mutt -x root</i>
/root/.maildir does not exist. Create it? ([y]/n): <comment>[antworten Sie mit y]</comment>
To:  &lt;root&gt;
Subject: test
(End message with a . on a line by itself)
test
.

# <i>mutt</i>
<comment>[Sie sollten nun Ihre Nachricht sehen]</comment>
        </pre>

        <p>Mit <c>postfix check</c> stellen wir sicher, dass die
        <path>main.cf</path> fehlerfrei ist und einige wichtige Verzeichnisse
        erstellt werden.  <c>newaliases</c> stellt die Aliase bereit und
        <c>postfix start</c> startet letztendlich den Mail Server.  Dann habe
        ich <c>mutt</c> (im alten <c>mailx</c> oder <c>mail</c> Modus)
        verwendet, um eine Nachricht an mich selbst auf meinem Rechner zu
        senden.  Danach erstellt <c>mutt</c> den Mail Spool des Benutzers (in
        diesem Fall root) im Verzeichnis <path>~/.maildir</path>.  Ein darauf
        aufgerufenes <c>mutt</c> im kompletten interaktiven Modus zeigt die
        versandte Nachricht, sodass wir sichergehen können, dass lokales
        Versenden und Zustellen funktioniert.  Nicht gezeigt ist das Versenden
        an eine nicht-lokale E-Mail-Adresse.  Führen Sie dieses auch aus, um
        sicherzustellen, dass dieses ebenso funktioniert.</p>

        <warn>Versenden Sie von eine lokalen Netzwerk mit einer IP-Adresse aus
        dem privaten Adressbereich mit der Standard-<path>main.cf</path> eine
        Nachricht an eine externe Adresse, ist es möglich, dass Sie diese
        niemals sehen werden.  Viele Mailserver vernichten automatisch
        Nachrichten, die von einem Rechner kommen, der nicht über reverse-DNS
        erreichbar ist.</warn>

        <p>Angommen alles läuft, sollten Sie postfix zu den Programmen
        hinzufügen, die beim Systemstart ausgeführt werden:</p>

        <pre caption="postfix beim Booten mitstarten">
# <i>postfix stop</i>
postfix-script: stopping the Postfix mail system
# <i>rc-update add postfix default</i>
* postfix added to runlevel default...
* Caching service dependencies...          [ ok ] 
* rc-update complete.
# <i>/etc/init.d/postfix start</i>
Starting postfix......     [  ok  ]
        </pre>

        <impo>Veteranen in <c>sendmail</c> oder <c>postfix</c> Junkies können es
        gewöhnt sein, dass die Nachrichten in <path>/var/spool/mail</path>
        anstelle der Benutzerverzeichnisse und im <e>mbox</e>- anstatt des
        <e>maildir</e>-Format gespeichert werden.  Es ist nicht allzuschwer,
        <c>postfix</c> und <c>mutt</c> so umzukonfigurieren, dass sie das
        Standard Unix mailbox System (<e>mbox</e>) verwenden.  Editieren Sie die
        <path>/etc/postfix/main.cf</path> indem Sie <i>home_mailbox</i>
        kommentieren und <i>mail_spool_directory = /var/spool/mail</i>
        einschalten.  Erstellen Sie das Mail Spool Verzeichnis mit <c>mkdir -p
        /var/spool/mail</c> und starten Sie <c>postfix</c> neu.  Das wäre es für
        den Mail-Server.  Für <c>mutt</c> müssen Sie die
        <path>/etc/mutt/Muttrc</path> editieren und <i>set mbox_type = mbox</i>
        für die Verwendung von <e>mbox</e> einfügen.  Außerdem setzen Sie <i>set
        spoolfile=/var/spool/mail</i>, damit das richtige Verzeichnis verwendet
        wird.</impo>

        <p>Bevorzugen Sie ein grafisches E-Mail-Programm, so werden wir später
        einen Web-basierten Mail-Server, Squirrelmail, installieren.  Alternativ
        empfiehlt Daniel Robbins eine Kombination aus IMAP (was wir später
        zusammen mit Squirrelmail installieren werden) und KDEs <c>kmail</c>.
        Dieser ist Teil von <path>kde-base/kdenetwork</path>.</p>

        <p>Weiter unten werden wir auch Ximinans <e>Evolution</e> als Ihre
        Personal Information Management (PIM) Software installieren -- komplett
        mit einer Unterstützung für den Palm pilot.  Es kann auch als ein
        hervorragendes E-Mail-Programm verwendet werden.</p>

      </body>
    </section>
  </chapter>

  <chapter>
    <title>Samba</title>
    <section>
      <title>Installation und Konfiguration von Samba</title>

      <body>
        
        <p>Samba ist ein ausgezeichnetes Paket um Dateien und Drucker von Ihrem
        Linux Rechner an Windows Maschinen zur Verfügung zu stellen.  Für
        detaillierte Informationen lesen Sie den Samba Artikel von Daniel
        Robbins unter
        <uri>http://www.ibm.com/developerworks?ca=dgr-GentoodWhp</uri>.</p>

        <pre caption="Samba installieren">
# <i>emerge samba</i>
# <i>rc-update add samba default</i>
# <i>cd /etc/samba</i>
# <i>cp smb.conf.example smb.conf</i>
# <i>nano -w smb.conf</i>
        </pre>

        <pre caption="smb.conf -- Workgroup einstellen">
# workgroup = NT-Domain-Name or Workgroup-Name, eg: REDHAT4
workgroup = MYGROUP <comment>[Ändern Sie den Gruppennamen entsprechend]</comment>
        </pre>

        <pre caption="smb.conf -- Drucken mit CUPS">
# It should not be necessary to specify the print system type unless
# it is non-standard. Currently supported print systems include:
# bsd, sysv, plp, lprng, aix, hpux, qnx
;   printing = bsd
printing = cups
        </pre>

        <pre caption="smb.conf -- Verschlüsselung">
# You may wish to use password encryption. Please read
# ENCRYPTION.txt, Win95.txt and WinNT.txt in the Samba documentation.
# Do not enable this option unless you have read those documents
encrypt passwords = yes
        </pre>

        <p>Ich habe recht wenig Verwendung für Samba.  Ich möchte nur Dateien
        zwischen meinen Linux und Windows Rechnern austauschen und meinen Linux
        Rechner als Print Server (mit <c>CUPS</c>) verwenden.  Nach der
        Installation müssen ein paar Änderungen an der Datei
        <path>/etc/samba/smb.conf</path> vorgenommen werden.  Im einzelnen muss
        die <e>workgroup</e> Variable den Namen des Windows Netzwerks enthalten
        (ich verwende normalerweise "OLYMPUS", doch "WORKGROUP" ist der Standard
        unter Windows, wenn ich mich richtig erinnere).  <e>printing</e> muss
        von <e>bsd</e> auf <e>cups</e> geändert werden.  Und vor der Zeile
        <e>encrypt password = yes</e> muss das Kommentarzeichen entfernt werden.
        Windows Maschinen verwenden generell Verschlüsselung, sodass die letzte
        Änderung essentiell ist -- außer Sie wollen die Windows Registry auf
        allen Ihren Windows Rechnern hacken <comment>[nicht
        empfehlenswert]</comment>.  Unglücklicherweise verwendet Windows für die
        Passwörter eine andere Verschlüsselungsmethode als Linux, somit müssen
        Sie eine separate Passwortdatei für Samba verwalten.</p>

        <pre caption="Benutzer in Samba hinzufügen">
# <i>smbpasswd -a benutzer</i> <comment>[Ersetzen Sie "benutzer" durch Ihren Benutzernamen]</comment>
New SMB password:
Retype new SMB password:
Added user benutzer.
        </pre>

        <note>Bevor Sie Benutzer in die Samba Passwortdatei hinzufügen, müssen
        diese in <path>/etc/passwd</path> gelistet sein.</note>

        <p>Für jeden Benutzer, der Samba von einer Windows Maschine benutzen soll,
        muss <c>smbpasswd</c> ausgeführt werden.  Samba speichert die Passwörter
        in <path>/etc/samba/private/smbpasswd</path>, die automatisch erstellt
        wird, wenn Sie das erste Mal <c>smbpasswd</c> aufrufen.</p>

        <pre caption="Samba starten">
# <i>/etc/init.d/samba start</i>
Starting samba...        [  ok  ]
        </pre>

        <p>Starten Sie Samba und Sie sollten nun auf die Gentoo Linux Maschine
        von jedem Windows Rechner Ihres Netzwerks zugreifen können.  Für den
        Benutzer, mit dem Sie zugreifen, sollte das Home-Verzeichnis sichtbar
        sein.  Ebenso sollten die Drucker angezeigt sein.  Wenn Sie nicht auf
        den Linux Rechner zugreifen können, schauen Sie in
        <path>/usr/share/doc/samba-2.2.5-r1/full_docs/textdocs/DIAGNOSIS.txt.gz</path>
        für weitere Hilfe nach.</p>

      </body>
    </section>
  </chapter>

  <chapter>
    <title>Apache und Squirrelmail Webmail</title>
    <section>
      <title>Apache mit SSL und PHP</title>
      <body>
        
        <p>Angenommen, Sie haben eine feste IP-Adresse (oder benutzen einen
        Dienst wie dyndns mit Ihrer dynamischen IP-Adresse), dann möchten Sie
        einen praktischen Weg nutzen, Ihre E-Mails zu lesen, wenn Sie nicht
        daheim sind.  Die Lösung, die ich ausgewählt habe, ist einen
        Webmail-Server, Squirrelmail, aufzusetzen, den ich von außen über einen
        beliebigen Webbrowser erreichen kann.</p>

        <p>Der erste Schritt ist den Web-Server zu installieren.  Die halbe Welt
        nutzt Apache; also machen wir es auch.  Wir werden ebenso PHP (derzeit
        PHP4) installieren, da Squirrelmail ein PHP-Programm ist.  Die
        Versionsnummern, die im unten stehenden Code gezeigt sind, können
        inzwischen schon veraltet sein.  Bitte ändern Sie diese entsprechend.
        Verwenden Sie <e>kein</e> copy-and-paste zu Ihrem Terminal!</p>

        <pre caption="Installation und Konfiguration von Apache">
# <i>emerge apache php mod_php</i>
# <i>ebuild /var/db/pkg/dev-php/mod_php-4.2.2-r1/mod_php-4.2.2-r1.ebuild config</i>
        </pre>

        <p>Sie sollten einen ausführlichen Blick in
        <path>/etc/apache2/conf/apache2.conf</path> werden, da Apache sehr
        vielfältig anpassbar ist.  Standardmäßig ist der Apache DocumentRoot
        (dort, wo zuerst nach html-Dateien geschaut wird, wenn Sie auf
        http://www.ihrservername.lan oder http://localhost zugreifen)
        <path>/home/httpd/htdocs</path>; ändern Sie diesen, wenn Sie wollen.</p>

        <pre caption="/etc/apache/conf/apache.conf">
# Do NOT add a slash at the end of the directory path.
#
DocumentRoot "/home/httpd/htdocs" <comment>(passen Sie diese Zeile ggf. an)</comment>
        </pre>

        <pre caption="Apache beim Booten starten">
# <i>rc-update add apache2 default</i>
 * apache2 added to runlevel default...
 * Caching service dependencies...               [ ok ]
 * rc-update complete.
# <i>nano -w /etc/conf.d/apache2</i>
        </pre>

        <p>Verwenden Sie <c>rc-update</c>, um Apache zum default runlevel
        hinzuzufügen.  Dann editieren Sie die Datei
        <path>/etc/conf.d/apache2</path> und fügen die folgenden Zeilen hinzu,
        sodass Apache automatisch das SSL und PHP-Modul beim Starten lädt.</p>

        <pre caption="/etc/conf.d/apache">
APACHE_OPTS="-D SSL -D PHP4"
        </pre>

        <pre caption="Apache neu starten">
# <i>/etc/init.d/apache2 start</i>
 * Starting Apache...                            [ OK ]
# <i>lynx localhost</i>
        </pre>

        <p>Sie können testen, ob Ihr Apache Web-Server läuft, indem Sie mit
        einem Webbrowser <uri>localhost</uri> aufrufen.  Für den Test der
        SSL-Unterstützung rufen Sie mit einem Webbrowser
        <uri>http<comment>s</comment>://localhost</uri> auf.  Das
        <c>https</c>-Prefix teilt dem Webbrowser mit, eine <e>sichere</e>
        Verbindung zur Seite mittels SSL aufzubauen.  Graphische Webbrowser
        zeigen für eine sichere Verbindung meistens irgendwo ein geschlossenes
        Vorhängeschloss-Symbol an.</p>

        <note>Wenn Sie eine sichere Verbindung zu Ihrem Server aufbauen, werden
        Sie vermutlich eine Meldung erhalten, dass das Sicherheitszertifikat
        nicht gültig ist.  Das SSL Modul installiert ein selbst-signiertes
        Sicherheitszertifikat, das für Testzwecke gedacht ist.  Für die private
        Nutzung sind selbst-signierte Zertifikate okay.</note>

        <p>Nun müssen wir herausfinden, dass PHP ordentlich funktioniert.  Der
        erste Schritt ist die Erstellung einer einfachen PHP-Datei.  Diese wird
        dann in das DocumentRoot-Verzeichnis kopiert.</p>

        <pre caption="PHP testen">
# <i>nano -w /home/httpd/htdocs/test.php</i>
&lt;? phpinfo(=; &gt;
# <i>lynx http://localhost/test.php</i>
        </pre>

        <pre caption="funktionierender Apache + PHP">
                                                             phpinfo() (p1 of 26)
                                   PHP Logo
   
                              PHP Version 4.0.6
 
     System Linux my.server.edu 2.4.10 #1 Tue Oct 9 16:33:50 Local
           time zone must be set--see zic manuali686 i686 unknown
                            Build Date Oct 16 2001

        </pre>

        <p>Wenn Sie etwas wie das obrige sehen, dann kann der Apache den
        PHP-Code ordentlich ausführen.</p>

        <warn>Wenn Sie sich die komplette Ausgabe anschauen, werden Sie
        herausfinden, dass das Script <path>test.php</path> eine <e>Menge</e>
        Informationen über Ihr System liefert.  Sie werden vermutlich genug
        davon haben, sobald Sie wissen, dass PHP funktioniert.  (Oder sie können
        das tun, was ich mache: <c>mv test.php test.phps</c>.  Dadurch wird
        Apache <path>test.phps</path> als eine einfache PHP Quelldatei anzeigen
        anstatt das Script auszuführen.</warn>

      </body>
    </section>

    <section>
      <title>Courier IMAP</title>
      <body>
        
        <p>Squirrelmail ist eine PHP-Applikation, aber sie beruht auf einem
        IMAP-Server als Bindeglied zwischen dem Web-Server und den E-Mails.  Da
        Gentoo Linux üblicherweise <e>maildir</e> Mail Verzeichnisse verwendet,
        ist Courier IMAP eine gute Wahl.</p>

        <pre caption="emergen und testen von Courier IMAP">
# <i>emerge courier-imap</i>
# <i>rc-update add courier-imapd default</i>
 * courier-imapd added to runlevel default...
 * Caching service dependencies...                        [ ok ]
 * rc-update complete.
# <i>nano -w /etc/courier-imap/authdaemonrc</i>
# <i>/etc/init.d/courier-imapd start</i>
# <i>telnet localhost 143</i>
Trying 127.0.0.1...
Connected to localhost.localdomain.
Escape character is '^]'.
* OK Courier-IMAP ready. Copyright 1998-2001 Double Precision, Inc.
See COPYING for distribution information.
1 LOGIN benutzer passwd <comment>(&lt;-- ersetzen Sie "benutzer" durch Ihren
Benutzernamen und "passwd" durch Ihr Passwort)</comment>
1 OK LOGIN OK
<comment>(Drücken Sie &lt;ctrl&gt;-"]" und geben "quit" zum Beenden ein)</comment>
        </pre>

        <pre caption="Korrekte Authorisation in /etc/courier-imap/authdaemonrc">
##NAME: authmodulelist:0
#
# The authentication modules that are linked into authdaemond.  The
# default list is installed.  You may selectively disable modules simply
# by removing them from the following list.  The available modules you
# can use are: authcustom authcram authuserdb authpam

#authmodulelist="authcustom authcram authuserdb authpam"
authmodulelist="authpam"
        </pre>

        <impo>Normalerweise wird in der Datei
        <path>/usr/lib/courier-imap/imapd.rc</path> Courier IMAP davon ausgehen,
        dass die im <e>maildir</e>-Format vorliegende Inbox des Benutzers in
        <path>$HOME/Maildir</path> vorzufinden ist.  Gentoo Linux hingegen
        benutzt <path>$HOME/.maildir</path>, sodass das courier-imap ebuild das
        Script <path>imapd.rc</path> anpasst, um <e>$MAILDIR</e> zu verwenden,
        welches vom Gentoo Init Script <path>/etc/init.d/courier-imap</path>
        gesetzt wird.  Möchten Sie eine andere Mailbox anstatt
        <path>.maildir</path> verwenden, müssen Sie den Eintrag
        <e>MAILDIR=.maildir</e> im courier-imap Init Script ändern.</impo>

        <p>Soll Courier IMAP SSL unterstützen, müssen Sie das IMAP SSL
        Zertifikat erstellen (und Courier IMAP mitteilen, wo es zu finden ist),</p>

        <pre caption="SSL Zertifikat für IMAP erstellen">
# <i>/usr/sbin/mkimapdcert</i>
        </pre>

        <p>und dann <e>imap-ssl</e> starten.</p>

        <pre caption="Courier IMAP zum defautl runlevel hinzufügen">
# <i>rc-update add courier-imap-ssl default</i>
# <i>/etc/init.d/courier-imapd-ssl start</i>
        </pre>

        <p>Sie können mit einer E-Mail-Applikation mit IMAP-Unterstützung, wie
        z.B. Mozilla, kmail oder mutt, überprüfen, ob imap funktioniert.</p>

        <pre caption="Testen Ihres IMAP Server">
# <i>mutt -f imap://localhost</i>
        </pre>

        <pre caption="Testen Ihres SSL IMAP Server">
# <i>mutt -f imaps://localhost</i>
        </pre>
      </body>
    </section>

    <section>
      <title>Squirrelmail</title>
      <body>
        
        <p>Glücklicherweise ist, nachdem nun die anderen Komponenten zur
        Verfügung stehen, die Installation und Konfiguration von Squirrelmail
        recht einfach.</p>

        <pre caption="Squirrelmail mergen">
# <i>emerge squirrelmail</i>
# <i>cd /home/httpd/htdocs</i>
# <i>cd squirrelmail</i>
# <i>./configure</i>
        </pre>

        <note>Wenn Ihr Apache DocumentRoot nicht <path>/home/httpd/htdocs</path>
        ist, müssen Sie das <path>net-mail/squirrelmail</path> ebuild editieren
        und den Pfad anpassen.</note>

        <p>Damit Squirrelmail einwandfrei funktioniert, überprüfen Sie, dass
        alle seine Dateien dem Benutzer gehören, unter dem Apache läuft (das
        squirrelmail ebuild nimmt an, dass dieses der Benutzer "apache" ist).
        Innerhalb von <c>./configure</c> wählen Sie die Option <c>2</c> aus.</p>

        <pre caption="Squirrelmail Konfiguration -- Server Settings">
SquirrelMail Configuration : Read: config.php
---------------------------------------------------------
Server Settings
1.  Domain               : my.server.edu
2.  IMAP Server          : localhost
3.  IMAP Port            : 143
4.  Use Sendmail/SMTP    : SMTP
6.    SMTP Server        : localhost
7.    SMTP Port          : 25
8.    Authenticated SMTP : false
9.  Server               : courier
10. Invert Time          : false
11. Delimiter            : detect

R   Return to Main Menu
C.  Turn color off
S   Save data
Q   Quit
 
Command >>
        </pre>

        <p>Überprüfen Sie, dass <e>Server</e> auf <e>courier</e> steht.  Gehen
        Sie zum Hauptmenü zurück und wählen Sie die Option <c>4</c>, allgemeine
        Optionen.</p>

        <pre caption="Squirrelmail Konfiguration -- General options">
SquirrelMail Configuration : Read: config.php
---------------------------------------------------------
General Options
1.  Default Charset        : iso-8859-1
2.  Data Directory         : ../data/
3.  Attachment Directory   : /tmp/
4.  Default Left Size      : 150
5.  Usernames in Lowercase : false
 
R   Return to Main Menu
C.  Turn color off
S   Save data
Q   Quit
 
Command >>
        </pre>

        <p>Ich verwende das Data Directory innerhalb des squirrelmail-Pakets,
        obwohl es sicherer wäre, eines außerhalb des Apache DocumentRoot zu
        verwenden.  Außerdem nutze ich <path>/tmp</path> als Verzeichnis zum
        auslagern von Anhängen.</p>

        <p>Nun müssen wir noch Apache neu starten und sind fertig!</p>

        <pre caption="Apache neustarten">
# <i>/etc/init.d/apache2 restart</i>
        </pre>

        <p>Öffnen Sie nun mit einem Webbrowser
        <uri>https://localhost/squirrelmail/src/login.php</uri>, was klappen
        sollte.</p>

        <pre caption="Squirrelmail testen">
# <i>lynx https://localhost/squirrelmail/</i>
        </pre>

        <pre caption="Squirrelmail Login Seite">
                                           SquirrelMail - Login
                                [sm_logo.jpg]

                       SquirrelMail version 1.2.0 [rc2]
                     By the SquirrelMail Development Team
 
                              SquirrelMail Login
 
       Name: ____________________
 Password: ____________________
 
                                    Login
        </pre>

        <p>(Ich empfehle nicht wirklich Squirrelmail mit lynx zu bedienen, aber
        Sie können es tun!)</p>

      </body>
    </section>
  </chapter>

  <chapter>
    <title>Personal Information Management (PIM)</title>
    <section>
      <title>Evolution mit Unterstützung für Palm</title>
      <body>
        
        <p>Evolution ist eine ganz besonders nette Personal Information
        Management Software, die mit dem Palm pilot recht gut syncen kann.  Der
        erste Schritt ist Evolution zu mergen.  Wenn Sie Evolution mit einem
        Palm pilot verwenden möchten, schauen Sie nach, dass <e>pda</e> in Ihrer
        USE Variable in <path>/etc/make.conf</path> mit angeben ist, bevor Sie
        Evolution mergen.</p>

        <pre caption="Evolution mergen">
# <i>emerge --pretend evolution</i>
# <i>emerge evolution</i>
        </pre>

        <p>Unglücklicherweise benötigt das Kompilieren von Evolution eine
        Ewigkeit (beachten Sie, dass <c>mozilla</c> eine Abhängigkeit ist!);
        halten Sie mehrere Kannen Kaffee/Tee bereit, während Sie warten.</p>

        <p>Beim Kompilieren von <c>evolution</c> werden die benötigten Palm
        pilot Tools direkt mit gebaut.  Damit normale Benutzer den Palm pilot
        syncen können, müssen wir ein paar Änderungen an den Rechten für den
        seriellen Port vornehmen.  Ich gehe davon aus, dass Ihre Palm-Station an
        den ersten seriellen Port angeschlossen ist (<path>/dev/ttyS0</path>
        oder <path>/dev/tts/0</path> in der "devfs" Notation).</p>

        <pre caption="Hinzufügen von seriellen Geräten">
# <i>groupadd serial</i>
# <i>chown root.serial /dev/tts/0</i>
# <i>chmod g+rw /dev/tts/0</i>
# <i>ls -l /dev/tts/0</i>
crw-rw----    1 root     serial     4,  64 Jan  1 1970 /dev/tts/0
# <i>ln -s /dev/tts/0 /dev/pilot</i>
# <i>nano -w /etc/group</i> <comment>(fügen Sie die entsprechenden Benutzer zur Gruppe serial hinzu)</comment>
        </pre>

        <p>Wir haben eine "serial" Gruppe zum System hinzugefügt und Sie sollten
        alle Benutzer, die den seriellen Port benötigen (jeder Palm pilot
        Benutzer), zur Gruppe serial hinzufügen.  Wir haben der serial Gruppe
        "rw" Rechte für <path>/dev/tts/0</path> vergeben und für die zukünftige
        Verwendung den symbolischen Link <path>/dev/pilot</path> auf
        <path>/dev/tts/0</path> erstellt.  Dank der neuesten Änderungen wie
        devfs unter Gentoo gehandhabt wird, bleiben diese Änderungen nach einem
        Reboot bestehen.</p>

<!-- einen Abschnitt über ein devfs-Upgrade ausgelassen, da dieser völlig
überaltet ist und mehr irritiert als nützlich ist -->

        <p>Um die Gnome pilot Software einzurichten, verwenden Sie das
        <path>tools/Pilot settings</path> Menü in Evolution.  Vergessen Sie
        nicht im Gnome Control Center die "Pilot Conduits" einzurichten als auch
        den "Pilot Link" zu setzen.</p>

      </body>
    </section>
  </chapter>
</guide>
