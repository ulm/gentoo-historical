<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/gentoolkit.xml,v 1.7 2005/07/05 18:34:09 grahl Exp $ -->

<!-- English CVS Version: 1.18 -->

<guide link = "/doc/de/gentoolkit.xml">
<title>Gentoolkit</title>

<author title="Autor">
  <mail link="mbutcher@aleph-null.tv"> Matt Butcher</mail>
</author>
<author title="Bearbeiter">
  <!-- zhen@gentoo.org -->John P. Davis
</author>
<author title="Bearbeiter">
  <mail link="erwin@gentoo.org">Erwin</mail>
</author>
<author title="Editor">
  <mail link="fox2mike@gmail.com">Shyam Mani</mail>
</author>
<author title="Editor">
  <mail link="neysx@gentoo.org">Xavier Neys</mail>
      </author>
<author title="Übersetzer">
  <mail link="dl@ibwag.com">David Leder</mail>
</author>
<author title="Korrektor">
  <mail link="grahl@gentoo.org">Jan Hendrik Grahl</mail>
</author>
<!-- Licensed under GFDL -->

<abstract>
Gentoolkit ist eine Zusammenfassung von Werkzeugen für das einfache
Administrieren eines Gentoo Systems. Dieses Dokument deckt die Basis einiger
Werkzeuge des aktuellen Gentoolkits ab.
</abstract>

<version>1.5</version>
<date>2004-12-27</date>

<chapter>
<title>Einleitung</title>
<section>
<title>Was ist Gentoolkit?</title>
<body>

<p>
Gentoo ist eine einzigartige Distribution und hat einige Komplexitäten,
die in anderen Distributionen gar nicht vorhanden sind. Als Gentoo
Entwickler und Mitarbeiter ein paar dieser Komplexitäten entdeckten,
schrieben sie Werkzeuge um den Benutzern und Administratoren zu
helfen. Viele dieser Werkzeuge befinden sich im Gentoo Projekt
und sind im Paket <path>app-portage/gentoolkit</path>.
</p>

<note>
Momentan gibt es zwei verschiedene Versionen von Gentoolkit: 
<c>app-portage/gentoolkit</c> und <c>app-portage/gentoolkit-dev</c>. 
Das erste Paket enthält Administrationsskripte und das letztere enthält 
Skripte spezifisch hilfreich für die Entwicklung von Gentoo. Dieses Dokument 
bespricht nur gentoolkit.
</note>

<p>
Gentoolkit beinhaltet eine ganze Menge von nützlichen Werkzeugen mit denen 
Sie Ihre Pakete verwalten können und im Auge behalten können was sich an Ihrem 
System ändert. Die meisten Benutzer -- vor allem diejenigen die ihr System oft 
updaten -- werden einen Nutzen aus dem installierten Gentoolkit ziehen.
</p>

</body>
</section>
<section>
<title>Installation</title>
<body>

<p>
Einfach wie mit allen Gentoo Paketen, besteht die Installation
nur durch emerge.
</p>

<pre caption="Installieren von Gentoolkit">
# <i>emerge gentoolkit</i>
</pre>

<note>
Viele der der Tools im Gentoolkit enthüllen wichtige Informationen
über das System oder erfordern root Berechtigungen. Darum können
einige Programme, (oder damit sie richtig funktionieren) nur als
Benutzer mit root Berechtigungen ausgeführt werden.
</note>

</body>
</section>
<section>
<title>Dokumentationen finden</title>
<body>

<p>
Jegliche Dokumentation die ein Programm haben könnte (abgesehen von den man 
Seiten) ist gespeichert in 
<path>/usr/doc/gentoolkit-[Version]/[Programm-Name]/</path>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>equery</title>
<section>
<title>Einleitung</title>
<body>

<p>
<c>equery</c> ist ein Werkzeug dass Funktionen unterstützt die <c>epm</c> 
(und das veraltete <c>qpkg</c> hat, jedoch hat es einen eigenen Satz von 
Funktionen, die es wirklich nutzvoll machen. <c>equery --help</c> liefert 
alle möglichen Optionen. Es ist nur eine Frage der Zeit bis <c>etcat</c> von 
<c>equery</c> ersetzt wird.
</p>

<note>
Nicht alle Funktionen die von <c>equery --help</c> ausgegeben werden wurden 
auch schon implementiert. Jene die es noch nicht sind deutlich erwähnt worden.
</note>

</body>
</section>
<section>
<title>Das Finden von Paketgrößen</title>
<body>

<p>
Haben Sie sich schon einmal gefragt wieviel Platz ein bestimmtes Paket wohl 
belegt? Da ein Paket seine Dateien über eine Mehrzahl von Verzeichnissen 
verteilt haben könnte wird das übliche <c>du -hc</c> möglicherweise nicht die 
korrekte Größe ausgeben. Dieses Dilemma wird von <c>equery</c> gelöst!
</p>

<pre caption="Paketgröße">
# <i>equery size openoffice-bin</i>
* app-office/openoffice-bin-1.1.2
Total Files : 2908
Total Size  : 223353.31 KiB
</pre>

<p>
<c>qpkg</c> las sich durch die ebuild Dateien für die fünf <path>net-misc/neon</path>
ebuilds und schrieb die Informationen DESCRIPTION und HOMEPAGE auf den Bildschirm.
</p>

</body>
</section>
<section>
<title>Auflistung von USE-Flags für ein Paket</title>
<body>

<p>
<c>equery</c> kann so eingesetzt werden, dass es Informationen darüber liefert 
was für USE-Flags von einen spezifischen Paket verwendet werden. Es teilt uns 
mit was unsere momentanen USE-Flags für ein Paket sind und welche USE-Flags 
für das Paket verfügbar sind.
</p>

<pre caption="Gesetzte und nicht gesetzte USE-Flags">
# <i>equery uses ethereal</i>
[ Colour Code : set unset ]
[ Legend    : (U) Col 1 - Current USE flags        ]
[           : (I) Col 2 - Installed With USE flags ]

U I [ Found these USE variables in : net-analyzer/ethereal-0.10.6 ]
- - adns  : Adds support for the adns DNS client library
+ + gtk   : Adds support for x11-libs/gtk+ (The GIMP Toolkit)
- - ipv6  : Adds support for IP version 6
- - snmp  : Adds support for the Simple Network Management Protocol if available
+ + ssl   : Adds support for Secure Socket Layer connections
+ + gtk2  : Use gtk+-2.0.0 over gtk+-1.2 in cases where a program supports both.
- - debug : Tells configure and the makefiles to build for debugging. Effects vary across packages,
but generally it will at least add -g to CFLAGS. Remember to set FEATURES=nostrip too
</pre>

<p>
Ethereal ist bei mir so installiert, dass nur die gtk, ssl und gtk2 Flags 
gesetzt sind, aber die anderen USE Flags für ethereal sind 
adns, ipv6, snmp und debug. Für weitere Informationen zu USE-Flags lesen 
Sie bitte das <uri
link="/doc/en/handbook/handbook-x86.xml?part=2&amp;chap=2">USE Flags</uri>
Kapitel des <uri link="/doc/en/handbook/">Gentoo Handbuchs</uri>.
</p>

</body>
</section>
<section>
<title>Wo ist das Ebuild?</title>
<body>

<p>
Wir können mit <c>equery</c> auch herausfinden welches Ebuild für ein 
spezifisches Paket verwendet wird. Dies geschieht durch Verwendung des
<c>equery which</c> Befehls, welcher den kompletten Pfad zum Ebuild ausgibt.
</p>

<pre caption="Anzeigen des Ebuildpfads">
  # <i>equery which cdrtools</i>
  /usr/portage/app-cdr/cdrtools/cdrtools-2.01_alpha37.ebuild
</pre>

</body>
</section>
<section>
<title>Graph von Abhängigkeiten</title>
<body>

<p>
<c>equery</c> ist dazu fähig uns einen Graph von Abhängigkeiten für ein 
spezifisches Paket ausgeben. Der Graph von Abhängigkeiten gibt Ihnen eine 
Auflistung von allen Paketen die direkte und indirekte Abhängigkeiten zum 
fraglichen Paket haben.
</p>

<pre caption="Graph von Abhängigkeiten für cdrtools">
# <i>equery depgraph cdrtools</i>
Displaying dependencies for app-cdr/cdrtools-2.01_alpha37
`-- app-cdr/cdrtools-2.01_alpha37
 `-- sys-libs/glibc-2.3.4.20040808 (virtual/libc)
  `-- sys-kernel/linux-headers-2.4.22 (virtual/os-headers)
   `-- sys-apps/baselayout-1.10.4
    `-- sys-apps/sysvinit-2.85-r1
     `-- sys-apps/gawk-3.1.3-r1
      `-- sys-apps/util-linux-2.12-r4
          `-- sys-apps/sed-4.0.9
	      `-- sys-libs/ncurses-5.4-r4
	          `-- sys-apps/pam-login-3.14
	          `-- sys-libs/pam-0.77-r1
                 `-- sys-libs/cracklib-2.7-r10
               `-- sys-apps/miscfiles-1.3-r1
              `-- app-arch/gzip-1.3.5-r1
              `-- sys-apps/portage-2.0.50-r10
</pre>

<p>
Zum Beispiel ist glibc eine direkte Abhängigkeit von cdrtools und 
linux-headers ist eine indirekte Abhängigkeit von cdrtools.
</p>

</body>
</section>
</chapter>

<chapter>
<title>euse</title>
<section>
<title>Einleitung</title>
<body>

<p>
<c>euse</c> ist ein Werkzeug mit dem man USE Flags an zahlreichen Stellen 
sehen, aktivieren und deaktivieren kann. Für weitere Informationen zu 
USE-Flags lesen Sie bitte das <uri
link="/doc/en/handbook/handbook-x86.xml?part=2&amp;chap=2">USE Flags</uri>
Kapitel des <uri link="/doc/en/handbook/">Gentoo Handbuchs</uri>.
</p>

</body>
</section>
<section>
<title>Lesen, aktivieren und deaktivieren von USE-Flags</title>
<body>

<p>
Der <c>euse --conf</c> Befehl zeigt die momentan gesetzten und nicht 
gesetzten USE-Flags von make.conf.
</p>

<pre caption="Betrachten der momentanen Flags aus make.conf">
# <i> euse --conf</i>
USE setting in make.conf:
alsa acpi apache2 cups cdr crypt cscope -doc ethereal fbcon gif gimpprint gnome
gpm gstreamer gtk2 gtkhtml imlib imlib2 innodb -java javascript jpeg libg++ libwww
mad md5sum mikmod mmx motif mozilla mpeg mpeg4 mysql ncurses oggvorbis odbc
offensive opengl pam pdflib perl png python quicktime readline sdl spell sse ssl
svga tcltk tiff truetype usb vanilla X xml2 xmms xosd xv xvid x86 zlib
</pre>

<p>
Setzen eines Use-Flags geschieht mit der Hilfe des <c>euse --enable</c> 
Befehls und benötigt zwingend den Namen eines Flag als Argument. Wenn das Flag 
nicht bereits gesetzt ist wird <c>euse</c> das USE-Flag ans Ende der 
momentanen USE-Flag Einstellungen anhängen. Sollte das USE-Flag ungültig sein, 
wird eine Warnung angezeigt. Entfernen eines USE-Flags geschieht durch die 
Verwendung des <c>euse --disable</c> Befehls. Wenn ein ungültiges Flag 
spezifiziert wird der Benutzer entsprechend gewarnt. Wenn das Flag vorhanden 
ist word es deaktiviert mit einem -Flag in make.conf.
</p>

<pre caption="Aktivieren des 3dfx Use-Flags">
# <i>euse --enable 3dfx</i>
USE setting in make.conf after enabling:
alsa acpi apache2 cups cdr crypt cscope -doc ethereal fbcon gif gimpprint gnome
gpm gstreamer gtk2 gtkhtml imlib imlib2 innodb -java javascript jpeg libg++ libwww
mad md5sum mikmod mmx motif mozilla mpeg mpeg4 mysql ncurses oggvorbis odbc
offensive opengl pam pdflib perl png python quicktime readline sdl spell sse ssl
svga tcltk tiff truetype usb vanilla X xml2 xmms xosd xv xvid x86 zlib 3dfx
</pre>

<pre caption="Deaktivieren des 3dfx Use-Flags">
# <i>euse --disable 3dfx</i>
USE setting in make.conf after disabling:
alsa acpi apache2 cups cdr crypt cscope -doc ethereal fbcon gif gimpprint gnome
gpm gstreamer gtk2 gtkhtml imlib imlib2 innodb -java javascript jpeg libg++ libwww
mad md5sum mikmod mmx motif mozilla mpeg mpeg4 mysql ncurses oggvorbis odbc
offensive opengl pam pdflib perl png python quicktime readline sdl spell sse ssl
svga tcltk tiff truetype usb vanilla X xml2 xmms xosd xv xvid x86 zlib -3dfx
</pre>

<note>
<c>euse</c> entfernt das Flag nicht direkt aus make.conf, es fügt nur ein - 
(Minus) am Anfang des Flags ein. Um unnötige Variablen zu vermeiden müssen 
Sie unter Umständen Ihre make.conf manuell bearbeiten.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Weitere Werkzeuge</title>
<section>
<title>revdep-rebuild</title>
<body>

<p>
Dieses Werkzeug ist dazu da reverse Abhängigkeiten neu erstellt. Es durchsucht 
Ihre installierten Ebuilds um Pakete zu finden die nicht länger funktionieren 
wegen einem Upgrade eines Paketes von welchem es abhängig war. Es kann diese 
Pakete für Sie mit emerge installieren, aber es kann auch geschehen dass ein 
gegebenes Paket nicht mehr mit den momentan installierten Paketen funktioniert. 
In diesem Fall sollten Sie das funktionsunfähige Paket auf eine neuere Version
aktualisieren. Revdep-rebuild wird Flags an emerge übergeben, welche es Ihnen 
ermöglichen das <c>--pretend</c> Flag zu verwenden, um zu sehen was mit emerge 
neu installiert werden würde, bevor Sie weiter fortfahren.
</p>

<pre caption="Ausführen von revdep-rebuild im Pretend-Modus">
# <i>revdep-rebuild -p</i>

Checking reverse dependencies...
Packages containing binaries and libraries broken by any package update,
will be recompiled.

Collecting system binaries and libraries... done.
  (/root/.revdep-rebuild.1_files)

Collecting complete LD_LIBRARY_PATH... done.
  (/root/.revdep-rebuild.2_ldpath)

Checking dynamic linking consistency...
  broken /usr/lib/ao/plugins-2/libarts.so (requires libartsc.so.0)
  broken /usr/lib/kde3/libkpresenterpart.so (requires libartskde.so.1 libqtmcop.so.1
         libsoundserver_idl.so.1 libkmedia2_idl.so.1 libartsflow.so.1 libartsflow_idl.so.1 libmcop.so.1)
  broken /usr/lib/ruby/site_ruby/1.8/i686-linux/fox.so (requires libFOX-1.0.so.0)
  broken /usr/lib/xine/plugins/1.0.0/xineplug_ao_out_arts.so (requires libartsc.so.0)
  broken /usr/lib/perl5/vendor_perl/5.8.0/i686-linux/auto/SDL_perl/SDL_perl.so (requires libSDL_gfx.so.0)
  broken /usr/lib/libloudmouth-1.so.0.0.0 (requires libgnutls.so.10)
  broken /usr/bin/k3b (requires libartskde.so.1 libqtmcop.so.1 libsoundserver_idl.so.1 libkmedia2_idl.so.1
         libartsflow.so.1 libartsflow_idl.so.1 libmcop.so.1)
  broken /usr/bin/lua (requires libhistory.so.4)
  broken /usr/bin/lyx (requires libAiksaurus-1.0.so.0)
  broken /usr/bin/luac (requires libhistory.so.4)
  broken /usr/bin/avidemux2 (requires libartsc.so.0)
  broken /usr/bin/pptout (requires libxml++-0.1.so.11)
  broken /usr/bin/xml2ps (requires libxml++-0.1.so.11)
 done.
  (/root/.revdep-rebuild.3_rebuild)

Assigning files to ebuilds... done.
  (/root/.revdep-rebuild.4_ebuilds)

Evaluating package order... done.
  (/root/.revdep-rebuild.5_order)

All prepared. Starting rebuild...
emerge --oneshot --nodeps -p =app-cdr/k3b-0.11.14 =app-office/koffice-1.3.2 =app-office/lyx-1.3.4 \
       =app-office/passepartout-0.2 =dev-lang/lua-5.0.2 =dev-ruby/fxruby-1.0.29 =media-libs/libao-0.8.5 \
       =media-libs/xine-lib-1_rc5-r3 =media-video/avidemux-2.0.26 =net-libs/loudmouth-0.16 

These are the packages that I would merge, in order:

Calculating dependencies ...done!
[ebuild   R   ] app-cdr/k3b-0.11.14  
[ebuild   R   ] app-office/koffice-1.3.2  
[ebuild   R   ] app-office/lyx-1.3.4  
[ebuild   R   ] app-office/passepartout-0.2  
[ebuild   R   ] dev-lang/lua-5.0.2  
[ebuild   R   ] dev-ruby/fxruby-1.0.29  
[ebuild   R   ] media-libs/libao-0.8.5  
[ebuild   R   ] media-libs/xine-lib-1_rc5-r3  
[ebuild   R   ] media-video/avidemux-2.0.26  
[ebuild   R   ] net-libs/loudmouth-0.16  

Now you can remove -p (or --pretend) from arguments and re-run revdep-rebuild.
</pre>

<p>
Wenn Sie einige Pakete neu erstellen müssen, dann können Sie 
<c>revdep-rebuild</c> ohne das <c>-p</c> Flag ausführen und die aufgelisteten 
Pakete werden erneut mit emerge installiert.
</p>

</body>
</section>
<section>
<title>glsa-check</title>
<body>

<p>
<c>glsa-check</c> ist hauptsächlich ein Testprogramm, welches die 
verschiedenen GLSA (Gentoo Linux Security Advisory) im Auge behält und wird 
letztendlich in <c>emerge</c> und <c>equery</c> integriert werden. Besuchen 
Sie bitte die <uri
link="/proj/en/portage/glsa-integration.xml">Portage GLSA Integrationsseite</uri> 
für weitere Informationen.
</p>

</body>
</section>
</chapter>

</guide>
