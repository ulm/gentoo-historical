<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/gentoo-upgrading.xml,v 1.3 2005/08/03 22:10:00 grahl Exp $ -->

<!-- English CVS Version: 1.19 -->

<guide link="/doc/en/gentoo-upgrading.xml">
<title>Gentoo Upgrade Leitfaden</title>

<author title="Autor">
  <mail link="greg_g@gentoo.org">Gregorio Guidi</mail>
</author>
<author title="Übersetzer">
	<mail link="grahl@gentoo.org">Jan Hendrik Grahl</mail>
</author>

<abstract>
Diese Dokument erklärt wie ein neue Version (engl. Release) von Gentoo bestehende 
Installationen beeinflusst.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.0 -->
<license/>

<version>2.8</version>
<date>2005-01-22</date>

<chapter>
<title>Gentoo und Upgrades</title>
<section>
<title>Philosophie</title>
<body>

<p>
Ein Update in der Welt von Gentoo ist, verglichen mit der restlichen Linux-Welt, 
durchaus eine ganz andere Sache. Sie werden wahrscheinlich schon wissen dass 
wir nicht den "klassischen" Weg zur Aktualisierung von Software bestreiten. 
Bei diesem Weg wartet man normalerweise auf eine neue Version, lädt sie 
herunter, brennt sie, legt sie ins CD-ROM Laufwerk und folgt den Anweisungen 
des Updates.
</p>

<p>
Sie werden wissen (schließlich sind Sie ein Gentoo Benutzer), dass dieser 
Prozess extrem frustrierend ist für Poweruser welche gerne die neuesten 
Entwicklungen nutzen möchten. Selbst Poweruser von anderen Distributionen 
teilen wohl dieses Gefühl, wenn man die Popularität und Verbreitung von 
Hilfsprogrammen wie apt oder apt-rpm betrachtet, welche schnelle und 
häufige Aktualisierungen ermöglichen. Jedoch eignet sich keine Distribution 
besser als Gentoo um die Bedürfnisse dieser anspruchsvollen Anwender 
zu erfüllen. Von Anfang an wurde Gentoo mit dem Prinzip von schnellen und
wachsenden Updates im Auge entwickelt.
</p>

<p>
Im Idealfall installieren sie einmal und neue Versionen sind von da an 
unwichtig: folgen Sie einfach den Anweisungen in <uri
link="/doc/de/handbook/handbook-x86.xml?part=2&amp;chap=1">Eine Portage 
Einführung</uri> im <uri link="/doc/de/handbook/">Gentoo Handbuch</uri>, 
welche erklären wie Sie Ihr System auf dem neuesten Stand halten. Dies ist die 
gängige Vorgehensweise, aber manchmal werden Veränderungen am Kernsystem 
vorgenommen die eine manuelle Aktualisierung erfordern.
</p>

</body>
</section>
<section>
<title>Versionen und Profile</title>
<body>

<p>
Eine wiederkehrende Frage zur Prozedur der Gentoo Versionen ist: "Warum 
werden häufig neue Versionen herausgebracht, wenn diese gar nicht dazu gedacht 
sind, dass Benutzer ihre Software aktualisieren sollen?"
Hierfür gibt es verschiedene Gründe:
</p>

<ul>
  <li>
    Eine neue Version bedeutet neue LiveCDs mit behobenen Fehlern und 
    mehr Funktionen.
  </li>
  <li>
    Eine neue Version enthält einen aktualisierten Satz von GRP Paketen und 
    deshalb haben Benutzer, die "den schnellen Weg" bei der Installation nehmen
    (Stage 3 mit vorkompilierten Paketen), kein veraltetes System.
  </li>
  <li>
    Letzlich kann es vorkommen, dass von Zeit zu Zeit eine neue Funktion 
    implementiert wird, die inkompatibel ist mit älteren Versionen.
  </li>
</ul>

<p>
Wenn eine Version neue und inkompatible Funktionen enthält oder einen Satz von 
Kernpaketen und Einstellungen liefert, welche das Verhalten des Systems stark 
verändern, dann spricht man davon, dass es ein neues <e>Profil</e> liefert.
</p>

<p>
Ein <e>Profil</e> ist ein Satz von Konfigurationsdateien, welches in einem 
Unterzeichnis von <path>/usr/portage/profiles</path> gespeichert wird. Es 
definiert Dinge wie Ebuilds die als <e>System</e> Pakete angesehen werden, 
Standard USE-Flags, die Standardzuordnung von virtuellen Paketen und die 
Architektur auf welcher das System läuft.
</p>

<p>
Das Profil welches momentan verwendet wird ist bestimmt durch den 
symbolischen Link <path>/etc/make.profile</path>. Er verweist auf 
ein Unterverzeichnis von <path>/usr/portage/profiles</path> welches 
die Profildateien enthält. Das Profil für x86 2004.2 findet sich zum Beispiel 
in <path>/usr/portage/profiles/default-x86-2004.2</path> (alte Speicherweise) 
oder in <path>/usr/portage/profiles/default-linux/x86/2004.2</path> (neue 
Speicherweise - nur verwendet von Portage 2.0.51 und neuer). Beachten Sie 
bitte, in Bezug auf die neue Schreibweise von Profilverzeichnissen, dass die 
Dateien in den übergeordneten Verzeichnissen Teil des Profils sind (und werden 
daher von Subprofilen gemeinsam genutzt).
</p>

<p>
Profile, welche durch neuere überflüssig werden finden sich noch in 
<path>/usr/portage/profiles</path> neben den aktuellen, aber sie sind als 
veraltet markiert. Wenn dies geschieht, dann wird eine Datei mit Namen 
<path>deprecated</path> in das Verzeichnis des Profils gelegt.
Die Datei beinhaltet den Namen des Profils auf welches aktualisiert werden 
sollte. Portage verwendet diese Information um Sie automatisch zu warnen, wenn
Sie auf ein neues Profil aktualisieren sollten.
</p>

<p>
Es gibt vielzählige Gründe für die Erstellung eines neuen Profils: Die 
Veröffentlichung einer neuen Version eines Kernpaketes (wie <c>baselayout</c>, 
<c>gcc</c> oder <c>glibc</c>) welche mit älteren Versionen inkompatibel ist. 
Eine Änderung in den Standard USE-Flags oder in der Zuordnung der Virtuals. 
Vielleicht auch eine Änderung bei systemweiten Einstellungen (wie z.B. das 
Ernennen von udev zum Standardmanager von <path>/dev</path> anstatt devfs).
</p>

</body>
</section>
</chapter>

<chapter>
<title>Mit neuen Versionen auf dem Laufenden bleiben</title>
<section>
<title>Versionen ohne Profiländerungen</title>
<body>

<p>
Wenn eine Gentoo Version ohne ein neues Profil angekündigt wird (wie die 
2004.1 Version für x86), dann können Sie diese Version ohne Probleme 
ignorieren.
</p>

<p>
Wenn Sie Ihre installierten Pakete aktualisieren, 
<uri link="/doc/en/handbook/handbook-x86.xml?part=2&amp;chap=1">wie im Gentoo
Handbuch erklärt</uri>, dann wird Ihr System exakt genauso sein wie eins, 
welches mit der neuen Version installiert wurde. 
</p>

</body>
</section>
<section>
<title>Versionen mit Profiländerungen</title>
<body>

<p>
Wenn eine Version mit einem neuen Profil eingeführt wird haben Sie die 
Möglichkeit auf das neue Profil zu wechseln.
</p>

<p>
Natürlich sind Sie nicht gezwungen dies zu tun und Sie können weiterhin Ihr 
altes Profil verwenden und einfach Ihre Pakete, wie 
<uri link="/doc/en/handbook/handbook-x86.xml?part=2&amp;chap=1"> im 
Gentoo Handbuch erläutert</uri>, aktualisieren.
</p>

<p>
Wir möchten trotzdem darauf hinweisen, dass die Aktualisierung des Profils 
empfohlen wird, sowie es als veraltet gekennzeichnet ist. Wenn dies geschieht, 
bedeutet es, dass die Gentoo Entwickler planen es nicht weiter zu 
unterstützten. Mit der folgenden Tabelle können Sie schnell überprüfen 
welche Profile momentan unterstützt werden.
</p>

<p>
Wenn Sie sich dazu entschließen zu einem neuen Profil zu wechseln, dann 
müssen Sie diese Aktualisierung manuell durchführen. Die Art und Weise wie man 
aktualisiert, abhängig von Version zu Version, kann sehr unterschiedlich 
sein. Es hängt davon ab wie umfangreich die eingeführten Veränderungen 
im neuen Profil sind.
</p>

<p>
Im simpelsten Fall müssen Sie einfach nur den symbolischen Link 
<path>/etc/make.profile</path> ändern. Schlimmstenfalls müssen Sie Ihr 
System von Grund auf neu kompilieren und die Daumen drücken. Der Wechsel wird 
normalerweise in den Release Notes thematisiert (z.B. <uri 
link="/proj/de/releng/release/2004.3/x86-release-notes.xml">die x86 2004.3
Release Notes</uri>). Außerdem finden Sie <uri 
link="#instructions">Anleitungen</uri> am Ende dieses Leitfadens.
 </p>

</body>
</section>
<section>
<title>Unterstützte Profile</title>
<body>

<p>
Die folgenden Profile werden offiziell von Gentoo Entwicklern unterstützt:
</p>

<table>
<tr>
  <th>Architektur</th>
  <th>Aktuelleste Profile</th>
  <th>Andere unterstützte Profile</th>
</tr>
<tr>
  <th>alpha</th>
  <ti>2004.3</ti>
  <ti></ti>
</tr>
<tr>
  <th>arm</th>
  <ti>2004.3</ti>
  <ti></ti>
</tr>
<tr>
  <th>amd64</th>
  <ti>2004.3</ti>
  <ti>2004.2, 2004.0</ti>
</tr>
<tr>
  <th>hppa</th>
  <ti>2004.3</ti>
  <ti>2004.2</ti>
</tr>
<tr>
  <th>ia64</th>
  <ti>2004.3</ti>
  <ti></ti>
</tr>
<tr>
  <th>ppc</th>
  <ti>2004.3</ti>
  <ti>2004.0</ti>
</tr>
<tr>
  <th>mips</th>
  <ti>2004.2</ti>
  <ti></ti>
</tr>
<tr>
  <th>s390</th>
  <ti>2004.3</ti>
  <ti></ti>
</tr>
<tr>
  <th>sparc</th>
  <ti>2004.3</ti>
  <ti>2004.0</ti>
</tr>
<tr>
  <th>x86</th>
  <ti>2004.3</ti>
  <ti>2004.2, 2004.0</ti>
</tr>
</table>

</body>
</section>
</chapter>

<chapter id="instructions">
<title>Anleitung zur Profilaktualisierung</title>
<section>
<title>Aktualisieren auf 2004.3</title>
<body>

<p>
Mit der Einführung des 2004.3 Profils gibt es für Anwender keine großen 
Modifikationen an Ihren Systemen (siehe unten für Details). Jedoch entschieden 
sich die Gentoo Entwickler dieses neue Profil herauszubringen und durchaus 
einige Profile als veraltet zu markieren um die Einführung der 
<e>geschichteten Profile</e> (engl. stacked) zu beschleunigen. Das sind jene 
Profile welche dem neuen Layout des <path>/usr/portage/profiles</path> 
Verzeichnisses folgen; zum Beispiel 
<path>/usr/portage/profiles/default-linux/x86/2004.3</path> (unterstützt von
Portage 2.0.51 oder neuer).
</p>

<p>
Um auf das 2004.3 Profil zu wechseln verweisen Sie den symlink 
<path>/etc/make.profile</path> auf den neuen Speicherort:
</p>

<warn>
Vergessen Sie nicht Portage zu aktualisieren <e>bevor</e> Sie Ihr Profil
ändern!!
</warn>

<pre caption="Aktualisieren des symbolischen Links /etc/make.profile">
<comment>substitute &lt;arch&gt; with your arch</comment>
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-linux/&lt;arch&gt;/2004.3 /etc/make.profile</i>
</pre>

<p>
<b>Alle Architekturen</b> - Wie oben erwähnt sind keine großen Veränderungen 
mit diesem Profil eingeführt worden. Jedoch sollte erwähnt werden, dass 
<c>sys-apps/slocate</c> und <c>net-misc/dhcpcd</c> nicht länger als 
Systempakete angesehen werden. Das bedeutet, dass wenn Sie 
<c>emerge --depclean</c> durchführen, Portage versuchen wird diese vom 
System zu entfernen. Wenn Sie diese Pakete benötigen fügen Sie diese bitte, 
nach dem Profilwechsel, zu <path>/var/lib/portage/world</path> hinzu. Sie 
können diese auch mit emerge manuell installieren.
</p>

<p>
<b>ppc</b> - <c>sys-fs/udev</c> ist nun anstatt <c>sys-fs/devfs</c> der 
Standard für neu installierte Systeme. Dies hat jedoch keinen Effekt auf 
bereits installierte Systeme.
</p>

</body>
</section>
<section>
<title>Aktualisieren auf 2004.2</title>
<body>

<p>
Um auf das 2004.2 Profil zu wechseln verweisen Sie den symlink 
<path>/etc/make.profile</path> auf den neuen Speicherort:
</p>

<warn>
Vergessen Sie nicht Portage zu aktualisieren <e>bevor</e> Sie Ihr Profil
ändern!!
</warn>

<pre caption="Aktualisieren des symbolischen Links /etc/make.profile">
<comment>substitute &lt;arch&gt; with your arch</comment>
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-linux/&lt;arch&gt;/2004.2 /etc/make.profile</i>
</pre>

<p>
<b>x86</b> - Dieses Profil wechselt bei der Standard X11 Implementierung von 
<c>x11-base/xfree</c> zu <c>x11-base/xorg-x11</c>. Diese Veränderung 
betrifft nur den <e>Standard</e>wert und ist nur relevant für diejenigen, welche 
noch keinen X Server installiert haben. Wenn Sie bereits einen installiert 
haben werden Sie von der Veränderung nicht betroffen sein. Sie haben die 
freie Wahl, wie vorher auch, von einem X Server zum anderen zu wechseln.
</p>

<p>
<b>amd64</b> - Es gibt keine fundamentalen Veränderungen zu vorherigen 
Profilen. Kein spezifischer Vorgang muss durchgeführt werden.
</p>

</body>
</section>
<section>
<title>Aktualisieren auf 2004.0</title>
<body>

<p>
Um auf das 2004.0 Profil zu wechseln verweisen Sie den symlink 
<path>/etc/make.profile</path> auf den neuen Speicherort:
</p>

<pre caption="Aktualisieren des symbolischen Links /etc/make.profile">
<comment>substitute &lt;arch&gt; with your arch</comment>
# <i>rm /etc/make.profile</i>
# <i>ln -s ../usr/portage/profiles/default-&lt;arch&gt;-2004.0 /etc/make.profile</i>
</pre>

<p>
<b>Alle Architekturen</b> - Es gibt keine fundamentalen Veränderungen zu
vorherigen Profilen. Kein spezifischer Vorgang muss durchgeführt werden.
</p>

</body>
</section>
<section>
<title>Aktualisieren von Profilen älter als 1.4 zu 1.4</title>
<body>

<p>
Die Anleitung für dieses Upgrade ist relativ komplex, Sie finden sie
<uri link="/doc/de/new-upgrade-to-gentoo-1.4.xml">hier</uri>.
</p>

</body>
</section>
</chapter>

</guide>