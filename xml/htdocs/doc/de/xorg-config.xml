<?xml version='1.0' encoding='UTF-8'?>

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/xorg-config.xml,v 1.1 2004/12/24 13:17:51 dertobi123 Exp $ -->

<!-- English CVS version: 1.6 -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/de/xorg-config.xml">

<title>Das X-Server Konfigurations HOWTO</title>

<author title="Autor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Übersetzer">
  <mail link="Hannes@Schwendau.net">Hannes Jochriem</mail>
</author>
<author title="Übersetzer">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>

<abstract>
Xorg ist der X-Window-Server, der es einem Benutzer ermöglicht, eine
grafische Benutzeroberfläche zu verwenden. Dieses HOWTO erklärt, was Xorg ist,
wie man es installiert und was für Konfigurationen es bietet.
</abstract>

<!-- Der Inhalt dieses Dokuments steht unter der CC-BY-SA Lizenz  -->
<!-- Infos unter: http://creativecommons.org/licenses/by-sa/1.0 -->
<license/>

<version>1.0</version>
<date>01. August 2004</date>

<chapter>
<title>Was ist der X-Window-Server?</title>
<section>
<title>Grafik gegen Texteingabe</title>
<body>

<p>
Jeder normale Anwender hat wahrscheinlich Angst, wenn er daran denkt,
Befehle eintippen zu müssen.
Warum ist es nicht möglich sich durch die von Gentoo (und Linux allgemein) zur
Verfügung gestellte Freiheit einfach mit der Maus durchzuklicken? Ok,
natürlich ist dies möglich! Linux bietet uns dazu eine große Palette an
Benutzeroberflächen und -umgebungen, die man auf der bereits installierten
Version installieren kann.
</p>

<p>
Die größte Überraschung, die Sie dabei erleben ist die, dass eine grafische
Benutzeroberfläche lediglich ein Programm ist, das auf Ihrem System läuft. Es
ist <e>kein</e> Teil des Linux-Kernels oder des Systems. Es ist ein kraftvolles
Tool, welches die grafischen Fähigkeiten von Ihrem Computer aktiviert.
</p>

<p>
Da Standards wichtig sind, wurde ein Standard zur Erstellung und Bewegung von
Fenstern am Bildschirm, kommunizieren mit dem Benutzer über Maus und Tastatur
und anderen grundlegend wichtigen Dingen erschaffen. Benannt wurde dieser dann
<e>X Window System</e>, kurz <e>X11</e> oder nur <e>X</e>. Verwendet wird er auf
Unix, Linux und Unix-ähnlichen Betriebssystemen auf der ganzen Welt.
</p>

<p>
Ein Programm, welches dem Benutzer ermöglicht, grafische Benutzeroberflächen zu
starten und den X11 Standard verwendet ist Xorg-X11, eine Abspaltung vom
XFree86-Projekt. XFree86 hat entschlossen, eine Lizenz zu verwenden, die nicht
kompatibel mit der GPL ist; die Verwendung von Xorg ist daher empfehlenswert.
Man muss jedoch beachten, dass die Unterschiede zwischen Xorg und XFree86
trotzdem sehr gering sind. Wenn man Xorg kennt, kennt man auch XFree86 und
umgedreht. XFree86 bis Version 4.4 ist sogar über Portage verfügbar.
</p>

</body>
</section>
<section>
<title>Das X.org Projekt</title>
<body>

<p>
Das <uri link="http://www.x.org">X.org</uri> Projekt macht und wartet eine frei
kopierbare open-source Implementation des X11-Systems.
Es ist eine Open Source X11 basierende Desktop Infrastruktur.
</p>

<p>
Xorg unterstützt die Schnittstelle zwischen Hardware und der grafischen
Software, die Sie starten wollen. Nebenbei hat Xorg auch noch volle
Netzwerkunterstützung, was bedeutet, dass Programme auf einem Rechner laufen und
auf einem anderen angezeigt werden können.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Installation von Xorg</title>
<section>
<title>"emerge xorg-x11"</title>
<body>

<p>
Jetzt aber genug Schwafelei! Sollen wir nun ein bisschen Aktion ins Spiel
bringen? Um Xorg zu installieren, brauchen Sielediglich <c>emerge xorg-x11</c>
einzutippen. Die Installation dauert eine Weile, es wäre also ratsam, einen
Kaffee oder Snack zur Hand zu haben.
</p>

<pre caption="Installation von Xorg">
# <i>emerge xorg-x11</i>
</pre>

<p>
Wenn die Installation fertig ist, müssen Sie eventuell ein paar
Entwicklungsvariablen reinitialisieren. Dies geht mit folgenden zwei Befehlen
ganz einfach: <c>env-update</c> und dann <c>source /etc/profile</c>. Dies
schadet auf keinen Fall!
</p>

<pre caption="Reinitialisierung der Entwicklungsvariablen">
# <i>env-update</i>
# <i>source /etc/profile</i>
</pre>

</body>
</section>
</chapter>
<chapter>
<title>Konfiguration von Xorg</title>
<section>
<title>Die xorg.conf Datei</title>
<body>

<p>
Die Konfigurationsdatei von Xorg heißt <path>xorg.conf</path> und befindet sich
in <path>/etc/X11</path>. Das Xorg-X11 Paket enthält ein Beispiel für eine
solche Konfigurationsdatei, nämlich <path>/etc/X11/xorg.conf.example</path>.
Diese Datei hat jede Menge Kommentare, falls Ihnen diese nicht genügen, können
Sie noch die Manual Page zu Rate ziehen:
</p>

<pre caption="Lesen der xorg.conf Manual Page">
# <i>man 5 xorg.conf</i>
</pre>

<p>
Viel Spaß beim Lesen, wir werden diese Konfigurationsdatei nun jedoch
automatisiert erzeugen.
</p>

</body>
</section>
<section>
<title>Standard: Automatische Erzeugung von xorg.conf</title>
<body>

<p>
Xorg ist dazu fähig, die meisten Einstellungen für Sie zu übernehmen. In den
meisten Fällen wird es nur nötig sein, ein paar Zeilen zu ändern um die
Auflösung einzustellen. Wenn Sie etwas über "Tweaking" erfahren wollen, schauen
Sie am Ende dieses Kapitels nach! Aber zuerst werden wir nun versuchen, eine
(hoffentlich) lauffähige Xorg-Konfigurationsdatei zu generieren.
</p>

<pre caption="Generieren der xorg.conf Datei">
# <i>Xorg -configure</i>
</pre>

<p>
Vergessen Sie nicht die letzten Zeilen die Xorg auf den Bildschirm schreibt, zu
lesen! Wenn irgendwo steht, dass etwas schief gegangen ist, müssen Sie die
<path>xorg.conf</path> Datei wohl oder übel selbst schreiben. Für den Fall,
dass es keine Fehler gab, wird bestätigt, dass die <path>/root/xorg.conf.new</path>
Datei bereit zum Testen ist. Also tun wir das auch! ;)
</p>

<pre caption="Testen der xorg.conf.new Datei">
# <i>X -config /root/xorg.conf.new</i>
</pre>

<p>
Wenn alles geklappt hat, sollten Sie dann einen hässlichen, ekelhaften,
abstoßenden und deformierten Window-Manager mit dem Namen <c>twm</c> (der
kleinste Window-Manager den es gibt) sehen. Versuchen Sie die Maus zu bewegen und
überprüfen Sie, ob die Tastatur funktioniert. Im nächsten Schritt werden wir
Ihre <path>xorg.conf</path>Datei optimieren, damit sie zu Ihrer Hardware passt.
Gehen Sie in ein Terminal auf dem Bildschirm und geben Sie dort <c>exit</c> ein
(es geht auch, wenn Sie Strg+D drücken), um den X-Server zu beenden.
Wenn die Maus nicht funktioniert, können Sie den X-Server auch mit
Strg+Alt+Backspace "töten".
</p>

</body>
</section>
<section>
<title>Alternative: Halbautomatische Generierung der xorg.conf Datei</title>
<body>

<p>
Xorg unterstützt ein Tool genannt <c>xorgconfig</c>, welches Sie über die
verschiedenen Informationen von deinem System befragt (Grafikkarte, Tastatur,
...). Basierend auf diese Eingaben erstellt es dann eine <path>xorg.conf</path>
Datei.
</p>

<pre caption="Halbautomatische Generierung von xorg.conf">
# <i>xorgconfig</i>
</pre>

</body>
</section>
</chapter>
<chapter>
<title>Tweaking xorg.conf</title>
<section>
<title>Kopieren der xorg.conf Datei</title>
<body>

<p>
Zuerst kopieren Sie die <path>xorg.conf.net</path> nach
<path>/etc/X11/xorg.conf</path>, sodass Sie nicht immer <c>Xorg -config</c>
tippen müssen, da <c>startx</c> ein Stück leichter ist.
</p>

<pre caption="Kopieren der xorg.conf">
# <i>cp /root/xorg.conf.new /etc/X11/xorg.conf</i>
</pre>

<p>
Geben Sie nun <c>startx</c> ein, um den X-Server zu starten. Dieser wird nun die
gerade frisch kopierte Konfigurationsdatei verwenden. Um die X-Session zu verlassen,
geben Sie einfach <c>exit</c> ein drücken Sie in einem Terminal Strg+D. Notfalls
können Sie die X-Session auch "töten", indem Sie Strg+Alt+Backspace drücken. Mit
dieser Methode wird X auf brutalste Weise beendet - Was nicht immer das ist, was
man will. Aber keine Angst: Es tut nicht weh! 
</p>

<pre caption="Starten von X">
# <i>startx</i>
</pre>

</body>
</section>
<section>
<title>Einstellen der Auflösung</title>
<body>

<p>
Wenn es Ihnen so vorkommt, dass die Bildschirmauflösung nicht richtig ist,
müssen Sie zwei Abschnitte in der Konfiguration kontrollieren. Als erstes den
<e>Screen</e> Abschnitt, in welchem die gesamten Auflösungen, mit denen der
X-Server dann läuft, enthält. Standardmäßig sind hier keine Einstellungen
vorgegeben. Wenn dies der Fall ist, nimmt Xorg die Auflösungen, die im Abschnitt
<e>Monitor</e> stehen.
</p>

<p>
Xorg kontrolliert die Einstellungen für <c>HorizSync</c> und <c>VertRefresh</c>
im <e>Monitor</e> Abschnitt und wählt daraus die richtige Auflösung.
Daher lassen wir diese Einstellungen noch wie sie sind. Nur, und nur dann, wenn
die Änderungen im <e>Screen</e> Abschnitt (darauf gehen wir gleich ein) nichts
bewirken, müssen Sie die Eigenschaften des Monitor herausfinden und richtig
eintragen. Ein Tool, um dies zu tun, ist zum Beispiel
<c>sys-apps/ddcxinfo-knoppix</c>.
</p>

<warn>
Ändern Sie die Werte dieser beiden Variablen <b>nicht</b>, ohne
zuvor die genauen Spezifikationen des Bildschirms zu kennen. Dies kann im besten
Fall dazu führen, dass Sie eine Fehlermeldung des Monitors erhalten oder der
Monitor schlimmstenfalls, dass der Monitor unter die Raucher geht ...
</warn>

<p>
Nun ändern Sie die Auflösung. Im nächsten Beispiel von
<path>/etc/X11/xorg.conf</path> fügen Sie die Zeilen <c>Modes</c> und
<c>DefaultDepth</c> hinzu, damit der X-Server standardmäßig mit 24bit
Farbtiefe und 1024x768 startet. Beachten Sie dabei die anderen Werte nicht, sie
sind Beispiele und können abweichen!
</p>

<pre caption="Ändern der Screen Sektion in /etc/X11/xorg.conf">
Section "Screen"
  Identifier  "Default Screen"
  Device    "S3 Inc. ProSavage KN133 [Twister K]"
  Monitor   "Generic Monitor"
  <i>DefaultDepth  24</i>
  <comment># Ein wenig Text wurde der Lesbarkeit halber übersprungen</comment>
  SubSection "Display"
    Depth   24
    <i>Modes   "1024x768"</i>
  EndSubSection
EndSection
</pre>

<p>
Starte nun X (<c>startx</c>), um herauszufinden, ob die Auflösung auch wirklich
verwendet wird.
</p>

</body>
</section>
<section>
<title>Konfiguration der Tastatur</title>
<body>

<p>
Um X beizubringen, eine internationale Tastatur zu verwenden, suchen Sie in der
Konfigurationsdatei nach dem <e>InputDevice</e> Abschnitt, in dem die Tastatur
konfiguriert wird und fügem Soe <c>XkbLayout</c> hinzu. Als Beispiel hier eine
Konfiguration für eine deutsche Tastatur. Für ein anderes Tastaturlayout ist nur
der Landes-Keycode zu ersetzen:
</p>

<pre caption="Ändern des Tastaturlayouts">
Section "InputDevice"
  Identifier  "Generic Keyboard"
  Driver    "keyboard"
  Option    "CoreKeyboard"
  Option    "XkbRules"  "xorg"
  Option    "XkbModel"  "pc105"
  <i>Option    "XkbLayout" "de"</i>
EndSection
</pre>

</body>
</section>
<section>
<title>Konfigurieren der Maus</title>
<body>

<p>
Wenn Ihre Maus nicht funktioniert, sollten Sie zuerst kontrollieren, ob sie
überhaupt vom Kernel erkannt wird. PS/2-Mäuse werden als
<path>/dev/psaux</path>, andere Mäuse (zum Beispiel USB) werden als
<path>/dev/input</path> (oder <path>/dev/input/mice</path>) erkannt. In jedem
Fall können Sie überprüfen, ob die Maus erkannt wurde, indem Sie nachfolgenden
Befehl eingeben und die Maus bewegen. Um die Überprüfung zu beenden, drücken Sie
<c>Strg+C</c>.
</p>

<pre caption="Überprüfen der Maus">
# <i>cat /dev/input</i>
<comment>(Nicht vergessen: mit Strg+C beendet man das wieder)</comment>
</pre>

<p>
Wenn die Maus nicht erkannt wurde, sollen Sie sich vergewissern, dass alle
Module richtig geladen wurden.
</p>

<p>
Für den Fall, dass die Maus gefunden wurde, schreiben Sie das richtige Device
in die Option "Device" im Abschnitt <e>InputDevice</e>. Im nächsten Beispiel
werden wir auch noch zwei andere Einstellungen ändern: <c>Protocol</c> (Enthält
das Protokoll, mit dem die Maus läuft - meistens PS/2) und <c>ZAxisMapping</c> 
(Dies ermöglicht es, ein Mausrad (falls vorhanden) zu verwenden).
</p>

<pre caption="Ändern der Mauseinstellungen in /etc/X11/xorg.conf">
Section "InputDevice"
  Identifier  "TouchPad Mouse"
  Driver    "mouse"
  Option    "CorePointer"
  <i>Option    "Device"    "/dev/psaux"</i>
  <i>Option    "Protocol"    "IMPS/2"</i>
  <i>Option    "ZAxisMapping"    "4 5"</i>
EndSection
</pre>

<p>
Geben Sie nun erneut <c>startx</c> ein und freuen Sie sich über das bereits
erzielte Ergebnisse. Gratulation, Sie haben nun ein funktionierendes Xorg auf
Ihrem System. Der nächste Schritt ist, diesen hässlichen
Leichtgewicht-Window-Manager zu entfernen und einen "richtigen" (zum Beispiel
KDE oder GNOME) zu installieren.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Ressourcen</title>
<section>
<title>Erzeugen und tweaken von xorg.conf</title>
<body>

<p>
Zuallererst: <c>man 5 xorg.conf</c> stellt eine gute Referenz aller
Einstellungen der Konfigurationdatei zur Verfügung. Halten Sie diese immer in
näheren Umgebung geöffnet, wenn Sie Änderungen vornehmen!
</p>

<p>
Eine zweite Möglichkeit für Ressourcen auf Ihrem System ist der
<path>/usr/X11R6/lib/X11/doc</path> Pfad mit jeder Menge <path>README</path>
Dateien für verschiedene Grafik-Chipsätze.
</p>

<p>
Es gibt auch jede Menge Beschreibungen im Internet. Wir führen hier nur ein paar
auf. Wenn weitergehende Informationen benötigen, scheuen Sie sich nicht davor <uri
link="http://www.google.com">Google</uri> zu verwenden. Da
<path>xorg.conf</path> und <path>XF86Config</path> (die Konfigurationsdatei vom
XFree86-Projekt) die selben Konfigurationen verwenden und im Internet mehr für
<path>XF86Config</path> zu finden ist, listen wir diese Ressourcen natürlich
auch auf.
</p>

<ul>
  <li>
    <uri link="http://tldp.org/HOWTO/XFree-Local-multi-user-HOWTO/">Das XFree
    Local Multi-User HOWTO</uri>
  </li>
  <li>
    <uri
    link="http://www-106.ibm.com/developerworks/edu/os-dw-linuxxwin-i.html">Eine
Einführung für XFree 4.x</uri> von Chris Houser
  </li>
</ul>

</body>
</section>
</chapter>
</guide>
