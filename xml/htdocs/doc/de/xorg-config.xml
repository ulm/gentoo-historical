<?xml version='1.0' encoding='UTF-8'?>

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/xorg-config.xml,v 1.12 2006/02/05 19:09:47 grahl Exp $ -->

<!-- English CVS Version: 1.17 -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/doc/de/xorg-config.xml" lang="de">

<title>Das X-Server Konfigurations HOWTO</title>

<author title="Autor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Übersetzer">
  <mail link="Hannes@Schwendau.net">Hannes Jochriem</mail>
</author>
<author title="Übersetzer">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Korrektor">
  <mail link="grahl@gentoo.org">Jan Hendrik Grahl</mail>
</author>

<abstract>
Xorg ist der X-Window-Server, der es einem Benutzer ermöglicht, eine
grafische Benutzeroberfläche zu verwenden. Dieses HOWTO erklärt, was Xorg ist,
wie man es installiert, und was für Konfigurationen es bietet.
</abstract>

<!-- Der Inhalt dieses Dokuments steht unter der CC-BY-SA Lizenz  -->
<!-- Infos unter: http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.13</version>
<date>2005-09-09</date>

<chapter>
<title>Was ist der X-Window-Server?</title>
<section>
<title>Grafik gegen Texteingabe</title>
<body>

<p>
Jeder normale Anwender hat wahrscheinlich Angst, wenn er daran denkt,
Befehle eintippen zu müssen.
Warum ist es nicht möglich sich durch die von Gentoo (und Linux allgemein) zur
Verfügung gestellte Freiheit einfach mit der Maus durchzuklicken? Ok,
natürlich ist dies möglich! Linux bietet uns dazu eine große Palette an
Benutzeroberflächen und -umgebungen, die man auf der bereits installierten
Version installieren kann.
</p>

<p>
Die größte Überraschung, die Sie dabei erleben ist die, dass eine grafische
Benutzeroberfläche lediglich ein Programm ist, das auf Ihrem System läuft. Es
ist <e>kein</e> Teil des Linux-Kernels oder des Systems. Es ist ein kraftvolles
Tool, welches die grafischen Fähigkeiten von Ihrem Computer aktiviert.
</p>

<p>
Da Standards wichtig sind, wurde ein Standard zur Erstellung und Bewegung von
Fenstern am Bildschirm, kommunizieren mit dem Benutzer über Maus und Tastatur
und anderen grundlegend wichtigen Dingen erschaffen. Benannt wurde dieser dann
<e>X Window System</e>, kurz <e>X11</e> oder nur <e>X</e>. Verwendet wird er auf
Unix, Linux und Unix-ähnlichen Betriebssystemen auf der ganzen Welt.
</p>

<p>
Ein Programm, welches dem Benutzer ermöglicht, grafische Benutzeroberflächen zu
starten und den X11 Standard verwendet ist Xorg-X11, eine Abspaltung vom
XFree86-Projekt. XFree86 hat entschlossen, eine Lizenz zu verwenden, die nicht
kompatibel mit der GPL ist; die Verwendung von Xorg ist daher empfehlenswert.
Der offizielle Portage Baum stellt nunmehr keine XFree86 Pakete mehr bereit.
</p>

</body>
</section>
<section>
<title>Das X.org Projekt</title>
<body>

<p>
Das <uri link="http://www.x.org">X.org</uri> Projekt macht und wartet eine frei
kopierbare open-source Implementation des X11-Systems.
Es ist eine Open Source X11 basierende Desktop Infrastruktur.
</p>

<p>
Xorg unterstützt die Schnittstelle zwischen Hardware und der grafischen
Software, die Sie starten wollen. Nebenbei hat Xorg auch noch volle
Netzwerkunterstützung, was bedeutet, dass Programme auf einem Rechner laufen und
auf einem anderen angezeigt werden können.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Installation von Xorg</title>
<section>
<title>"emerge xorg-x11"</title>
<body>

<p>
Jetzt aber genug Schwafelei! Sollen wir nun ein bisschen Aktion ins Spiel
bringen? Um Xorg zu installieren, brauchen Sie lediglich <c>emerge xorg-x11</c>
einzutippen. Die Installation dauert eine Weile, es wäre also ratsam, einen
Kaffee oder Snack zur Hand zu haben.
</p>

<pre caption="Installation von Xorg">
# <i>emerge xorg-x11</i>
</pre>

<p>
Wenn die Installation fertig ist, müssen Sie eventuell ein paar
Entwicklungsvariablen reinitialisieren. Dies geht mit folgenden zwei Befehlen
ganz einfach: <c>env-update</c> und dann <c>source /etc/profile</c>. Dies
schadet auf keinen Fall!
</p>

<pre caption="Reinitialisierung der Entwicklungsvariablen">
# <i>env-update</i>
# <i>source /etc/profile</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Konfiguration von Xorg</title>
<section>
<title>Die xorg.conf Datei</title>
<body>

<p>
Die Konfigurationsdatei von Xorg heißt <path>xorg.conf</path> und befindet sich
in <path>/etc/X11</path>. Das Xorg-X11 Paket enthält ein Beispiel für eine
solche Konfigurationsdatei, nämlich <path>/etc/X11/xorg.conf.example</path>.
Diese Datei hat jede Menge Kommentare, falls Ihnen diese nicht genügen, können
Sie noch die Manual Page zu Rate ziehen:
</p>

<pre caption="Lesen der xorg.conf Manual Page">
# <i>man 5 xorg.conf</i>
</pre>

<p>
Viel Spaß beim Lesen, wir werden diese Konfigurationsdatei nun jedoch
automatisiert erzeugen.
</p>

</body>
</section>
<section>
<title>Standard: Automatische Erzeugung von xorg.conf</title>
<body>

<p>
Xorg ist dazu fähig, die meisten Einstellungen für Sie zu übernehmen. In den
meisten Fällen wird es nur nötig sein, ein paar Zeilen zu ändern um die
Auflösung einzustellen. Wenn Sie etwas über Optimierung erfahren wollen, schauen
Sie am Ende dieses Kapitels nach! Aber zuerst werden wir nun versuchen, eine
(hoffentlich) lauffähige Xorg-Konfigurationsdatei zu generieren.
</p>

<pre caption="Generieren der xorg.conf Datei">
# <i>Xorg -configure</i>
</pre>

<p>
Vergessen Sie nicht die letzten Zeilen die Xorg auf den Bildschirm schreibt, zu
lesen! Wenn irgendwo steht, dass etwas schief gegangen ist, müssen Sie die
<path>xorg.conf</path> Datei wohl oder übel selbst schreiben. Für den Fall,
dass es keine Fehler gab, wird bestätigt, dass die <path>/root/xorg.conf.new</path>
Datei bereit zum Testen ist. Also tun wir das auch! ;)
</p>

<pre caption="Testen der xorg.conf.new Datei">
# <i>X -config /root/xorg.conf.new</i>
</pre>

<p>
Wenn alles geklappt hat, sollten Sie ein simples schwarzweiß Muster sehen. 
Stellen Sie sicher, dass Ihre Maus korrekt funktioniert und dass die Auflösung 
gut genug ist. Sie werden vielleicht nicht in der Lage sein die exakte Auflösung 
zu erraten, aber es sollte Ihnen möglich sein zu erkennen ob sie zu niedrig ist.
Sie können jederzeit beenden indem Sie Strg-Alt-Backspace drücken.
</p>

</body>
</section>
<section>
<title>Alternative: Halbautomatische Generierung der xorg.conf Datei</title>
<body>

<p>
Xorg unterstützt ein Tool, genannt <c>xorgconfig</c>, welches Sie über die
verschiedenen Informationen von Ihrem System befragt (Grafikkarte, Tastatur,
...). Basierend auf diese Eingaben erstellt es dann eine <path>xorg.conf</path>
Datei.
</p>

<pre caption="Halbautomatische Generierung von xorg.conf">
# <i>xorgconfig</i>
</pre>

<p>
Ein weiteres Hilfsprogramm von Xorg ist <c>xorgcfg</c>, welches zuerst 
versuchen  wird <c>Xorg -configure</c> auszuführen und dann den X Server 
startet für weitere, abschließende Verbesserungen.
</p>

<pre caption="Verwenden von xorgcfg">
# <i>xorgcfg</i>
<comment>(Gegeben den Fall, dass X abstürzt oder die Konfiguration fehlschlägt, versuchen Sie:)</comment>
# <i>xorgcfg -textmode</i>
</pre>

</body>
</section>
<section>
<title>Kopieren der xorg.conf Datei</title>
<body>

<p>
Kopieren Sie nun die <path>xorg.conf.new</path> nach
<path>/etc/X11/xorg.conf</path>, sodass Sie nicht immer <c>X -config</c>
tippen müssen, da <c>X</c> oder <c>startx</c> ein Stück leichter ist.
</p>

<pre caption="Kopieren der xorg.conf">
# <i>cp /root/xorg.conf.new /etc/X11/xorg.conf</i>
</pre>

</body>
</section>
<section id="using_startx">
<title>Verwenden von startx</title>
<body>

<p>
Versuchen Sie nun <c>startx</c> um damit den X-Server zu starten. <c>startx</c> 
ist ein Skript, welches eine <c>X-Session</c> ausführt. Das heißt, dass es den 
X Server und einige graphische Anwendungen darauf startet. Es entscheidet welche 
Anwendungen gestartet werden sollen mit folgender Logik:, 
</p>

<ul>
  <li>
    Wenn eine Datei genannt <path>.xinitrc</path> im Home Verzeichnis 
    existiert, dann wird es die dort aufgeführten Befehle ausführen.
  </li>
  <li>
    Ansonsten wird es den Wert der XSESSION Variable auslesen und eine der 
    verfügbaren Sitzungen in <path>/etc/X11/Sessions/</path> entsprechend 
    ausführen. (Sie können den Wert von XSESSION in <path>/etc/rc.conf</path> 
    setzen um es als einen Standard für alle Benutzer des Systems zu definieren.)
  </li>
  <li>
    Wenn alles vorherige versagt wird auf einen simplen Window Manager 
    zurückgegriffen, normalerweise <c>twm</c>.
  </li>
</ul>

<pre caption="Starten von X">
# <i>startx</i>
</pre>

<p>
Wenn sie einen hässlichen, ekelhaften, abstoßenden und deformierten 
Window-Manager sehen, dann ist dies <c>twm</c>. Um die twm Sitzung zu 
beenden können Sie <c>exit</c>  oder Strg+D in den erscheinenden xterms 
eingeben. Sie können die X-Session auch "töten" indem Sie die 
Strg-Alt-Backspace Tastenkombination anwenden. Dies wird dazu führen, dass 
X abrupt beendet wird -- etwas das nicht immer die richtige Wahl ist. Es tut
jedoch nicht weh.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Optimieren von xorg.conf</title>
<section>
<title>Einstellen der Auflösung</title>
<body>

<p>
Wenn es Ihnen so vorkommt, dass die Bildschirmauflösung nicht richtig ist,
müssen Sie zwei Abschnitte in der Konfiguration kontrollieren. Als erstes den
<e>Screen</e> Abschnitt, in welchem die gesamten Auflösungen, mit denen der
X-Server dann läuft, enthält. Standardmäßig sind hier keine Einstellungen
vorgegeben. Wenn dies der Fall ist, nimmt Xorg die Auflösungen, die im Abschnitt
<e>Monitor</e> stehen.
</p>

<p>
Xorg kontrolliert die Einstellungen für <c>HorizSync</c> und <c>VertRefresh</c>
im <e>Monitor</e> Abschnitt und wählt daraus die richtige Auflösung.
Daher lassen wir diese Einstellungen noch wie sie sind. Nur, und nur dann, wenn
die Änderungen im <e>Screen</e> Abschnitt (darauf gehen wir gleich ein) nichts
bewirken, müssen Sie die Eigenschaften des Monitor herausfinden und richtig
eintragen. Ein Tool, um dies zu tun, ist zum Beispiel
<c>sys-apps/ddcxinfo-knoppix</c>.
</p>

<warn>
Ändern Sie die Werte dieser beiden Variablen <b>nicht</b>, ohne
zuvor die genauen Spezifikationen des Bildschirms zu kennen. Dies kann im besten
Fall dazu führen, dass Sie eine Fehlermeldung des Monitors erhalten oder
schlimmstenfalls, dass der Monitor unter die Raucher geht ...
</warn>

<p>
Nun ändern Sie die Auflösung. Im nächsten Beispiel von
<path>/etc/X11/xorg.conf</path> fügen Sie die Zeilen <c>Modes</c> und
<c>DefaultDepth</c> hinzu, damit der X-Server standardmäßig mit 24bit
Farbtiefe und 1024x768 startet. Beachten Sie dabei die anderen Werte nicht, sie
sind Beispiele und können abweichen!
</p>

<pre caption="Ändern der Screen Sektion in /etc/X11/xorg.conf">
Section "Screen"
  Identifier  "Default Screen"
  Device    "S3 Inc. ProSavage KN133 [Twister K]"
  Monitor   "Generic Monitor"
  <i>DefaultDepth  24</i>
  <comment># Ein wenig Text wurde der Lesbarkeit halber übersprungen</comment>
  SubSection "Display"
    Depth   24
    <i>Modes   "1024x768"</i>
  EndSubSection
EndSection
</pre>

<p>
Starte nun X (<c>startx</c>), um herauszufinden, ob die Auflösung auch wirklich
verwendet wird.
</p>

</body>
</section>
<section>
<title>Konfiguration der Tastatur</title>
<body>

<p>
Um X beizubringen, eine internationale Tastatur zu verwenden, suchen Sie in der
Konfigurationsdatei nach dem <e>InputDevice</e> Abschnitt, in dem die Tastatur
konfiguriert wird, und fügen Sie <c>XkbLayout</c> hinzu. Das Beispiel zeigt
die Konfiguration für ein deutsches Tastaturlayout.Für ein anderes Tastaturlayout
ist nur der Landes-Keycode zu ersetzen:
</p>

<pre caption="Ändern des Tastaturlayouts">
Section "InputDevice"
  Identifier  "Generic Keyboard"
  Driver    "keyboard"
  Option    "CoreKeyboard"
  Option    "XkbRules"  "xorg"
  Option    "XkbModel"  "pc105"
  <i>Option    "XkbLayout" "de"</i>
EndSection
</pre>

</body>
</section>
<section>
<title>Konfigurieren der Maus</title>
<body>

<p>
Wenn Ihre Maus nicht funktioniert, sollten Sie zuerst kontrollieren, ob sie
überhaupt vom Kernel erkannt wird. Mäuse werden (vom Gerät her) als 
<path>/dev/input/mouse0</path> (oder <path>/dev/input/mice</path> wenn Sie 
mehrere Mäuse verwenden möchten) erkannt. In einigen Fällen wird 
<path>/dev/psaux</path> In jedem Fall können Sie überprüfen, ob die Maus 
erkannt wurde, indem Sie nachfolgenden Befehl eingeben und die Maus bewegen.
Sie werden normalerweise einiges wirres Zeug auf Ihrem Bildschirm sehen.
Um die Überprüfung zu beenden, drücken Sie <c>Strg+C</c>.
</p>

<pre caption="Überprüfen der Maus">
# <i>cat /dev/input/mouse0</i>
<comment>(Nicht vergessen: mit Strg+C beendet man das wieder)</comment>
</pre>

<p>
Wenn die Maus nicht erkannt wurde, sollen Sie sich vergewissern, dass alle
Module richtig geladen wurden.
</p>

<p>
Für den Fall, dass die Maus gefunden wurde, schreiben Sie das richtige Device
in die Option "Device" im Abschnitt <e>InputDevice</e>. Im nächsten Beispiel
werden wir auch noch zwei andere Einstellungen ändern: <c>Protocol</c> (Enthält
das Protokoll, mit dem die Maus läuft -- meistens PS/2) und
<c>ZAxisMapping</c> (Dies ermöglicht es, ein Mausrad (falls vorhanden) zu
verwenden).
</p>

<pre caption="Ändern der Mauseinstellungen in /etc/X11/xorg.conf">
Section "InputDevice"
  Identifier  "TouchPad Mouse"
  Driver    "mouse"
  Option    "CorePointer"
  <i>Option    "Device"    "/dev/input/mouse0"</i>
  <i>Option    "Protocol"    "IMPS/2"</i>
  <i>Option    "ZAxisMapping"    "4 5"</i>
EndSection
</pre>

<p>
Geben Sie nun erneut <c>startx</c> ein, und freuen Sie sich über die bereits
erzielten Ergebnisse. Gratulation, Sie haben nun ein funktionierendes Xorg auf
Ihrem System. Der nächste Schritt ist, diesen hässlichen
Leichtgewicht-Window-Manager zu entfernen und einen "richtigen" (zum Beispiel
KDE oder GNOME) zu installieren.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Ressourcen</title>
<section>
<title>Erzeugen und Optimieren von xorg.conf</title>
<body>

<p>
Zuallererst: <c>man 5 xorg.conf</c> stellt eine gute Referenz aller
Einstellungen der Konfigurationdatei zur Verfügung. Halten Sie diese immer in
der näheren Umgebung geöffnet, wenn Sie Änderungen vornehmen!
</p>

<p>
Eine zweite Möglichkeit für Ressourcen auf Ihrem System ist der
<path>/usr/X11R6/lib/X11/doc</path> Pfad mit jeder Menge <path>README</path>
Dateien für verschiedene Grafik-Chipsätze.
</p>

<p>
Es gibt auch jede Menge Beschreibungen im Internet. Wir führen hier nur ein paar
auf. Wenn weitergehende Informationen benötigen, scheuen Sie sich nicht davor <uri
link="http://www.google.com">Google</uri> zu verwenden. Da
<path>xorg.conf</path> und <path>XF86Config</path> (die Konfigurationsdatei vom
XFree86-Projekt) die selben Konfigurationen verwenden und im Internet mehr für
<path>XF86Config</path> zu finden ist, listen wir diese Ressourcen natürlich
auch auf.
</p>

<ul>
  <li>
    <uri link="http://tldp.org/HOWTO/XFree-Local-multi-user-HOWTO/">Das XFree
    Local Multi-User HOWTO</uri>
  </li>
  <li>
    <uri
    link="http://www-106.ibm.com/developerworks/edu/os-dw-linuxxwin-i.html">Eine
Einführung für XFree 4.x</uri> von Chris Houser
  </li>
</ul>

</body>
</section>
</chapter>
</guide>
