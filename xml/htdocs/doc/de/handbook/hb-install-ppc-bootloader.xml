<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- English CVS Version: 1.13 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/handbook/hb-install-ppc-bootloader.xml,v 1.6 2004/10/23 21:28:41 dertobi123 Exp $ -->

<sections>
<section>
<title>Eine Wahl treffen</title>
<subsection>
<title>Einleitung</title>
<body>

<p>
Nun, da Ihr Kernel konfiguriert und kompiliert ist und die notwendigen
Systemkonfigurationsdateien richtig konfiguriert sind, ist es Zeit ein Programm
zu installieren, dass Ihren Kernel lädt wenn Sie Ihr System starten. Solch ein
Programm nennt man einen <e>Bootloader</e>. Jedoch bevor sie anfangen,
betrachten sie ihre Wahlmöglichkeiten...
</p>

<p>
Für Linux existieren verschiedene Bootloader. Es gibt <uri
link="#yaboot">yaBoot</uri> (für NewWorld PPC Maschinen) und <uri
link="#bootx">BootX </uri> (für OldWorld Apple und IBM Maschinen). Der Pegasos
benötigt keinen Bootloader. Sie können hier zur Zeit weder yaBoot noch BootX
benutzen. Pegasos Benutzer sollten mit der <uri link="#reboot">Rebooten des Systems</uri>
fortfahren.
</p>

</body>
</subsection>
</section>
<section id="yaboot">
<title>Standard: Die Benutzung von yaBoot</title>
<subsection>
<title>Einleitung</title>
<body>

<impo>
yaBoot kann nur auf NewWorld Apple und IBM Systemen verwendet werden!
</impo>

<p>
Es gibt zwei Wege yaBoot für Ihr System zu konfigurieren. Sie können das
beinhaltete <c>yabootconfig</c> verwenden, um Yaboot automatisch zu
konfigurieren. Wenn Sie aus irgendeinem Grund nicht <c>yabootconfig</c> verwenden
wollen um <path>/etc/yaboot.conf</path> automatisch einzurichten oder Sie Gentoo
auf einem G5 installieren (auf dem <c>yabootconfig</c> nicht immer funktioniert),
editieren Sie einfach die schon installierte Beispieldatei auf Ihrem System.
</p>

<ul>
  <li><uri link="#yabootconfig">Standard: Benutzen von yabootconfig</uri></li>
  <li>
    <uri link="#manual_yaboot">Alternativ: yaBoot manuell konfigurieren</uri>
  </li>
</ul>

</body>
</subsection>
<subsection id="yabootconfig">
<title>Standard: Die Benutzung von yabootconfig</title>
<body>

<p>
<c>yabootconfig</c> wird die Partitionen auf Ihrem System automatisch erkennen
und wird Dual- und Dreifachbootkombinationen mit Linux, Mac OS und Mac OS X
einrichten.
</p>

<p>
Um  <c>yabootconfig</c> benutzen zu können, muss Ihr Laufwerk eine Bootstrap
Partition haben und <path>/etc/fstab</path> muss konfiguriert sein.
Beides sollte durch die vorangegangen Schritte schon geschehen sein. Stellen
Sie zuerst durch das Ausführen von <c>emerge --update yaboot</c> sicher, dass
Sie die neueste Version von yaBoot installiert haben. Dies ist notwendig, weil
die neueste Version über Portage verfügbar sein wird, aber vielleicht noch
nicht in den Stage Dateien vorhanden ist.
</p>

<pre caption = "Installieren von yaBoot">
# <i>emerge --update yaboot</i>
</pre>

<p>
Verlassen Sie nun die chroot Umgebung und führen <c>yabootconfig --chroot
/mnt/gentoo</c> aus. Das Programm wird ablaufen und den
Pfad der Bootstrap Partition bestätigen. Tippen Sie <c>Y</c> wenn dies korrekt
ist. Wenn nicht, überprüfen Sie erneut <path>/etc/fstab</path>. Yabootconfig
wird dann Ihre Systemkonfiguration überprüfen, <path>/etc/yaboot.conf</path>
erstellen und <c>mkofboot</c>für Sie ausführen. <c>mkofboot</c>wird gebraucht
um die Bootstrap Partition zu formatieren und dorthinein die yaBoot
Konfigurationsdatei zu installieren. Betreten Sie hiernach wieder die chroot
Umgebung.
</p>

<pre caption="chroot Umgebung betreten">
# <i> chroot /mnt/gentoo /bin/bash</i>
# <i>/usr/sbin/env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Sie sollten den Inhalt von <path>/etc/yaboot.conf</path> überprüfen. Wenn Sie
Veränderungen an <path>/etc/yaboot.conf</path> vornehmen (wie die
Standard-/Boot OS Einstellung zu setzen) stellen Sie sicher, dass Sie
<c>ybin -v</c> erneut ausführen um die Veränderungen auf die Bootstrap
Partition anzuwenden.
</p>

<p>
Fahren Sie nun mit dem <uri link="#reboot">Rebooten des Systems</uri> fort.
</p>

</body>
</subsection>
<subsection id="manual_yaboot">
<title>Alternativ: Die manuelle yaBoot Konfiguration</title>
<body>

<p>
Stellen Sie zuerst sicher, dass die neueste Version von <c>yaboot</c> auf Ihrem
System installiert ist:
</p>

<pre caption = "Installieren von yaBoot">
# <i>emerge --update yaboot</i>
</pre>

<p>
Nachfolgend finden Sie eine vollständige <path>yaboot.conf</path> Datei. Ändern Sie
diese nach Belieben. G5 Nutzer sollten darauf achten, dass sie Serial ATA
Festplatten haben, die vom Linux Kernel als SCSI Laufwerke angesprochen werden
(ersetzen Sie <path>/dev/hda</path> mit <path>/dev/sda</path>).
</p>

<pre caption = "/etc/yaboot.conf">
<comment>## /etc/yaboot.conf
##
## Führen Sie: "man yaboot.conf" für Details aus. Machen Sie keine
## Änderungen bevor Sie das nicht getan haben!
## Siehe auch: /usr/share/doc/yaboot/examples für Beispielkonfigurationen
##
## Für ein Dualbootmenü fügen Sie eine oder mehrere dieser hinzu:
## bsd=/dev/hdaX, macos=/dev/hdaY, macosx=/dev/hdaZ

## unsere Bootstrap Partition:</comment>

boot=/dev/hda1

<comment>## ofboot ist der openfirmware Werg die bootstrap Partition anzugeben.
## Wenn diese nicht angegeben ist schlägt yaboot fehl (es sei denn Sie geben
## dem mkofboot/ybin Programm die notwendigen Argumente mit).
## hd:X bedeutet /dev/sdaX (oder /dev/hdaX).
##
## G5 Benutzer sollten diese Zeile unkommentieren.

#ofboot=hd:1</comment>

<comment>##hd: ist offene Firmwaresprache für hda</comment>
device=hd:
partition=3

delay=5
defaultos=macosx
timeout=30
install=/usr/lib/yaboot/yaboot
magicboot=/usr/lib/yaboot/ofboot

<comment>#################
## Dieser Abschnitt kann doppelt verwendet werden, wenn Sie mehr als einen Kernel
## oder Satz von Bootoptionen haben. - ersetzen Sie 2.6.7 mit Ihrer Kernel
## Version.
#################</comment>
image=/boot/kernel-2.6.7
  label=Linux
  root=/dev/hda3
  sysmap=/boot/System.map-2.6.7
  read-only
<comment>##################</comment>

<comment>## G5 Benutzer sollten
##   macos=hd:13
##   macosx=hd:12
## anstelle der Beispielwerte setzen.</comment>

macos=/dev/hda13
macosx=/dev/hda12
enablecdboot
enableofboot
</pre>

<p>
Sobald <path>yaboot.conf</path> so eingerichtet ist, wie Sie es wünschen,
führen Sie <c>mkofboot -v</c> aus um die Einstellungen in der Bootstrap
Partition zu installieren. <e>Vergessen Sie dies nicht!</e> Wenn alles gut geht
und Sie dieselben Optionen haben wie wir im obigen Beispiel, gibt Ihnen der
nächste Neustart ein simples Bootmenü mit fünf Einträgen. Wenn Sie später Ihre
yaBoot Konfiguration erneuern, müssen Sie einfach <c>ybin -v</c> ausführen um
Ihre Bootstrap Partition auf den neuesten Stand zu bringen - <c>mkofboot</c>
wird nur für die erstmalige Einrichtung benötigt.
</p>

<p>
Für weitere Informationen über Yaboot werfen Sie einen Blick auf das<uri
link="http://penguinppc.org/projects/yaboot">yaboot Projekt</uri>. Fahren
Sie nun mit dem <uri link="#reboot">Rebooten des Systems</uri> fort.
</p>

</body>
</subsection>
</section>
<section id="bootx">
<title>Alternativ: BootX</title>
<body>

<impo>
BootX kann nur auf OldWorld Apple und IBM Systemen verwendet werden!
</impo>

<p>
BootX erwartet, dass Sie zunächst rebooten. Also rebooten wir :)
</p>

<p>
Verlassen Sie zunächst die chroot Umgebung und unmounten alle Partitionen und
tippen das magische Kommando ein, auf das Sie so lange gewartet haben:
<c>reboot</c>.
</p>

<pre caption="Verlassen der chroot Umgebung, unmounten aller Partitionen, reboot">
# <i>exit</i>
cdimage ~# <i>cd</i>
cdimage ~# <i>umount /mnt/gentoo/proc /mnt/gentoo</i>
cdimage ~# <i>reboot</i>
</pre>

<p>
Vergessen Sie nicht die bootbare CD zu entfernen, sonst wird diese anstelle von
Mac OS X gestartet.
</p>

<p>
Nachdem Ihre Maschine Mac OS X gebootet hat öffnen Sie das BootX Control Panel.
Wählen Sie <c>Options</c> und deaktivieren Sie <c>Used specified RAM disk</c>.
Wenn Sie in die Hauptmaske von BootX zurückkehren finden Sie nun eine Option die
Root Disk und Partition Ihrer Maschine anzugeben. Tragen Sie hier zutreffende
Werte ein.
</p>

<p>
BootX kann konfiguriert werden, um Linux beim Booten zu starten. Wenn Sie dies
tun sehen Sie, dass Ihre Maschine zuerst Mac OS X bootet und während des Starten
BootX lädt und Linux startet. Schauen Sie auf der <uri
link="http://penguinppc.org/projects/bootx">BootX Webseite</uri> für weitere
Informationen.
</p>

<p>
Rebooten Sie nun wieder und fahren Sie mit <uri
link="?part=1&amp;chap=11">Abschliessen der Gentoo Installation</uri> fort.
</p>

</body>
</section>
<section id="reboot">
<title>Rebooten des Systems</title>
<subsection>
<body>

<p>
Verlassen Sie die chroot Umgebung und unmounten Sie alle gemounteten
Partitionen. Danach tippen Sie das magische Kommando ein, auf das Sie solange
gewartet haben: <c>reboot</c>.
</p>

<pre caption="Unmounten aller Partitionen und Rebooten">
# <i>exit</i>
# <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
# <i>reboot</i>
</pre>

<p>
Vergessen Sie nicht die bootbare CD aus dem Laufwerk zu nehmen, sonst wird diese
anstatt Ihres neuen Gentoo Systems gestartet.
</p>

<p>
Nachdem Sie in die neue Gentoo Installation gebootet haben schliessen Sie die
Installation mit <uri link="?part=1&amp;chap=11">Abschliessen der Gentoo
Installation</uri> ab.
</p>

</body>
</subsection>
</section>
</sections>
