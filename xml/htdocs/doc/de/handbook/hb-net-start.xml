<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- English CVS Version: 1.3 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/handbook/hb-net-start.xml,v 1.2 2005/06/17 23:53:49 dertobi123 Exp $ -->

<sections>

<version>1.1</version>
<date>2005-06-14</date>

<section>
<title>Einführung</title>
<body>

<note>
Diese Anleitung geht davon aus, das Sie ihren Kernel richtig konfiguriert
haben, die Module für ihre Hardware eingebunden haben und Ihnen die Namen
der Schnittstellen bekannt sind. Desweiteren nehmen wir an, das sie die
Schnittstelle eth0 konfigurieren, es könnte gleichwohl aber auch eth1, wlan0
etc. sein.
</note>

<note>
Es wird vorausgesetzt, das sie baselayout-1.11.11 oder neuer einsetzen.
</note>

<p>
Zu Anfang der Konfiguration ihrer Netzwerkkarte müssen Sie dem Gentoo RC
System dies mitteilen. Das machen Sie, indem Sie einen symbolischen Link
von <c>net.lo</c> zu <c>net.eth0</c> in <path>/etc/init.d</path> erstellen.
</p>

<pre caption="Einen symlink einrichten von net.eth0 zu net.lo">
# <i>cd /etc/init.d</i>
# <i>ln -s net.lo net.eth0</i>
</pre>

<p>
Das RC System von Gentoo kennt nun die Schnittstelle. Es muss aber auch wissen,
wie die neue Schnittstelle konfiguriert werden soll. Alle Netzwerk
Schnittstellen werden in <path>/etc/conf.d/net</path> konfiguriert. Es folgt 
ein Beispiel zur Konfiguration für DHCP und statischer Adressen.
</p>

<pre caption="Beispiele für /etc/conf.d/net">
<comment># Für DHCP</comment>
config_eth0=( "dhcp" )

<comment># Für statische IP Adresse mit CIDR Notation</comment>
config_eth0=( "192.168.0.7/24" )
routes_eth0=( "default via 192.168.0.1" )

<comment># Für statische IP Adresse mit netmask Notation</comment>
config_eth0=( "192.168.0.7 netmask 255.255.255.0" )
routes_eth0=( "default gw 192.168.0.1" )
</pre>

<note>
Wenn Sie keine Konfiguration für ihr Interface angeben, wird DHCP benutzt.
</note>

<note>
CIDR steht für Classless InterDomain Routing.
Ursprünglich wurden IPv4 Adressen in Klassen A, B und C unterteilt. Diese frühe
Einteilung wurde der großen Popularität des Internets nicht gerecht und es
bestand Gefahr, das der Vorrat an einzigartigen Adressen ausgeschöpft würde.
CIDR ist ein Adressierungsschema, das die Zuordnung von mehreren IP Adressen
zu einer erlaubt. Eine CIDR IP Adresse sieht aus wie eine normale IP Adresse,
mit dem Unterschied, das sie mit einem Schrägstrich endet gefolgt von einer
Zahl, beispielsweise 192.168.0.0/16. Weitere Informationen zu CIDR gibt es im
<uri link="http://rfc.net/rfc1519.html">RFC 1519</uri>.
</note>

<p>
Nachdem wir die Schnittstelle konfiguriert haben, können wir sie mit
untenstehenden Kommandos starten und stoppen:
</p>

<pre caption="Starten and Stoppen von Netzwerk Skripten">
# <i>/etc/init.d/net.eth0 start</i>
# <i>/etc/init.d/net.eth0 stop</i>
</pre>

<impo>
Um Fehlern bei der Konfiguration des Netzwerks auf die Schliche zu kommen,
empfehlen wir, RC_VERBOSE="yes" in <path>/etc/conf.d/rc</path> zu setzen.
Anschließend erhalten Sie mehr Informationen bei der Ausführung der RC Skripte.
</impo>

<p>
Haben Sie ihre Netzwerk Schnittstelle erst einmal erfolgreich gestartet und
wieder angehalten, möchten Sie vielleicht einen automatischen Start beim Booten
von Gentoo. Das erreichen Sie durch untenstehende Kommandos. Der letzte "rc"
Befehl weist Gentoo an, all jene Skripte zu starten, die im derzeitigen
Runlevel noch nicht gestartet wurden.
</p>

<pre caption="Konfiguration der Netzwerk Schnittstelle zum automatischen Start während des Bootvorgangs">
# <i>rc-update add net.eth0 default</i>
# <i>rc</i>
</pre>

</body>
</section>

</sections>
