<?xml version='1.0' encoding="utf-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/guide-localization.xml,v 1.29 2006/05/23 19:28:53 grahl Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<!-- English CVS Version: 1.38 -->

<guide link="/doc/de/guide-localization.xml" lang="de">
<title>Gentoo Linux Anleitung zur deutschen Lokalisierung</title>
<author title="Autor">
  Alexander Holler
</author>
<author title="Übersetzer/Bearbeiter">
  <mail link="slucy@uchicago.edu">Steven Lucy</mail>
</author>
<author title="Bearbeiter">
  <mail link="bennyc@gentoo.org">Benny Chuang</mail>
</author>
<author title="Bearbeiter">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Bearbeiter">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Bearbeiter">
  <mail link="flammie@gentoo.org">Flammie Pirinen</mail>
</author>
<author title="Übersetzer">
  <mail link="frank-schmitt@gmx.de">Frank Schmitt</mail>
</author>
<author title="Übersetzer">
  <mail link="lonex@rthwlr.net">Timo Rothweiler</mail>
</author>
<author title="Übersetzer">
  <mail link="gentoodoc@itsnotmy.name">Sebastian Westermayer</mail>
</author>



<abstract>
Diese Anleitung soll Benutzern bei der Lokalisierung ihres Gentoo Linux auf
eine europäische Sprache am Fallbeispiel Deutsch behilflich sein. Es enthält
Konfiguration für die Verwendung des Euro Währungssymbols.
</abstract>

<version>1.28</version>
<date>2006-05-15</date>

<chapter>
<title>Zeitzone</title>
<section>
<body>

<p>
Um die richtige Uhrzeit zu haben, muss <path>/etc/localtime</path> die korrekte
Zeitzoneninformation enthalten. Schauen Sie sich in 
<path>/usr/share/zoneinfo/</path> um und wählen Sie sich Ihre Zeitzone, oder
eine Großstadt in der Nähe, aus. Bitte vermeiden Sie die 
<path>/usr/share/zoneinfo/Etc/GMT*</path> Zeitzonen, denn deren Namen verweisen
nicht auf die erwarteten Zonen. Zum Beispiel ist <path>GMT-8</path> in
Wirklichkeit GMT+8.
</p>

<pre caption="Zeitzone setzen">
# <i>cp /usr/share/zoneinfo/Europe/Berlin /etc/localtime</i>
# <i>date</i>
Sun Feb 16 08:26:44 CET 2003
</pre>

<note>
Achten Sie darauf, dass das Zeitzonen-Kürzel (in diesem Fall "CET") für
Ihre Gegend das richtige ist.
</note>

<note>
Sie können den Wert von <c>TZ</c> in der rc-Datei Ihrer Shell auf den Teil
nach <path>/usr/share/zoneinfo</path> setzen (<path>.bash_profile</path> für
die Bash), um eine benutzerspezifische Einstellung zu erreichen. In diesem
Fall <c>TZ="Europe/Berlin"</c>.
</note>

</body>
</section>
<section>
<title>Hardware-Uhr</title>
<body>

<p>
In den meisten Installationen von Gentoo Linux ist Ihre Hardware-Uhr auf
UTC (oder GMT, Greenwich Mean Time) eingestellt und Ihre Zeitzone wird
dazu benutzt, die tatsächliche, lokale Zeit zu bestimmen. Wenn Sie aus
irgend einem Grund die Hardware-Uhr nicht auf UTC haben wollen, müssen Sie
in <path>/etc/conf.d/clock</path> den Wert von <c>CLOCK</c> von <c>UTC</c>
auf <c>local</c> ändern.
</p>

<pre caption="Lokale oder GMT-Zeit">
<comment>(empfohlen:)</comment>
CLOCK="UTC"
<comment>(oder:)</comment>
CLOCK="local"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Das "locale"-System</title>
<section>
<title>Was sind "locales"?</title>
<body>

<p>
Eine locale ist eine Gruppe von Informationen, die von den meisten
Programmen benutzt werden, um länder- und sprachenspezifische Einstellungen
zu ermitteln. Die locales und ihre Daten sind Teil der Systembibliothek
und sind auf den meisten Systemen unter <path>/usr/share/locale</path> zu
finden. Eine locale ist generell nach dem Schema <c>ab_CD</c> benannt, wobei
<c>ab</c> Ihr zwei- oder dreistelliger Sprachcode (spezifiziert in ISO-639)
und <c>CD</c> Ihr zweistelliger Ländercode (spezifiziert in ISO-3166) ist.
</p>

</body>
</section>
<section id="variables">
<title>Umgebungsvariablen für locales</title>
<body>

<p>
Locale-Einstellungen sind in Umgebungsvariablen gespeichert. Diese werden
üblicherweise in <path>/etc/env.d/02locale</path> (für systemweite
Einstellungen) und in <path>~/.bashrc</path> (für benutzerspezifische
Einstellungen) gesetzt. Die Variablen, die verschiedene Aspekte der
locale-Einstellungen bestimmen, sind in der Tabelle unten aufgeführt, die
mit der höchsten Priorität (d.h. diejenigen, die Einstellungen unter sich
überschreiben) sind am Anfang der Tabelle. Alle Variablen verwenden einen
Namen einer locale im oben genannten <c>ab_CD</c>-Format.
</p>

<table>
<tr>
  <th>Name der Variable</th>
  <th>Erklärung</th>
</tr>
<tr>
  <ti>LC_ALL</ti>
  <ti>
    Definiert alle locale-Einstellungen auf einmal. Sie hat die höchste
    Priorität und übergeht alle anderen Einstellungen.
  </ti>
</tr>
<tr>
  <ti>LC_COLLATE</ti>
  <ti>
    Definiert die alphabetische Sortierung von Strings. Dies beeinflusst z.B.
    die Ausgabe einer sortierten Verzeichnisauflistung.
  </ti>
</tr>
<tr>
  <ti>LC_CTYPE</ti>
  <ti>
    Definiert die Eigenschaften des Systems für die Verarbeitung der Zeichen.
    Dies legt fest, welche Zeichen als Teil des Alphabets, der Zahlen, usw.
    angesehen werden. Falls geeignet legt dies auch den genutzten Zeichensatz
    fest.
  </ti>
</tr>
<tr>
  <ti>LC_MESSAGES</ti>
  <ti>
    Lokalisierungen von Programmen, die das nachrichtenbasierte
    Lokalisierungsschema verwenden (die Mehrheit der Gnu-Programme,
    siehe nächste Kapitel für nähere Informationen, welche das sind und
    wie man die, die das nicht verwenden, dazu bringt zu funktionieren).
  </ti>
</tr>
<tr>
  <ti>LC_MONETARY</ti>
  <ti>
    Definiert Währungseinheiten und das Formatieren von währungsbezogenen
    Werten.
  </ti>
</tr>
<tr>
  <ti>LC_NUMERIC</ti>
  <ti>
    Definiert die Formatierung von Werten, die nichts mit Geld zu tun haben.
    Beeinflusst Dinge wie das Tausender- oder Dezimaltrennzeichen.
  </ti>
</tr>
<tr>
  <ti>LC_TIME</ti>
  <ti>Definiert die Formatierung von Datums- und Zeitangaben.</ti>
</tr>
<tr>
  <ti>LC_PAPER</ti>
  <ti>Definiert die Standard-Papiergröße.</ti>
</tr>
<tr>
  <ti>LANG</ti>
    <ti>
    Definiert alle locale-Einstellungen auf einmal. Diese Einstellung kann
    mit den individuellen LC_*-Einstellungen von oben oder sogar mit LC_ALL
    übergangen werden.
  </ti>
</tr>
</table>

<note>
Obwohl die meisten Programme mit LC_ALL alleine funktionieren, verhalten sich
manche von ihnen nicht richtig, wenn LC_ALL gesetzt ist, aber LANG nicht.
Wenn Sie auf der sicheren Seite sein wollen, setzen sie <e>beide</e>.
</note>

<p>
Für gewöhnlich setzen die meisten Benutzer nur die LANG-Variable und vielleicht
die LC_CTYPE-Variable auf Benutzerebene, indem sie entsprechende Definitionen
in die Startdateien ihrer Shell hinzufügen, die die Umgebungsvariable manuell
von der Kommandozeile aus definieren:
</p>

<pre caption="Setzen der deutschen locale">
export LANG="de_DE@euro"
</pre>

<note>
Fügen Sie <c>@euro</c> zu Ihrer locale hinzu, wenn Sie das
Euro Währungssymbol (&#8364;) nutzen wollen.
</note>

<p>
Damit nachrichtenbasierte Lokalisierung in Programmen, die es unterstützen,
funktioniert, müssen Sie diese Programme mit gesetztem USE-Flag <c>nls</c>
(Native language support) kompilieren. Die meisten Programme, die nls
verwenden, benötigen ebenfalls die gettext-Bibliotheken, um lokalisierte
Meldungen extrahieren und benutzen zu können. Natürlich wird Gentoos Portage 
dies automatisch installieren, wenn benötigt.
</p>

<p>
Sobald Sie die richtige locale gesetzt haben, müssen Sie sicherstellen, dass
Sie Ihre Umgebungsvariablen aktualisieren, um Ihrem System die Veränderung
bekannt zu machen.
</p>

<pre caption="Aktualisierung der Umgebung">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Danach müssen Sie Ihren X-Server durch Drücken von <c>Strg-Alt-Backspace</c>
beenden, ausloggen, dann als Benutzer wieder einloggen.
</p>

<p>
Überprüfen Sie jetzt ob die Änderungen wirksam geworden sind:
</p>

<pre caption="env-Änderungen prüfen">
$ <i>env | grep -i LC_</i>
</pre>

<p>
Es gibt zudem noch eine zusätzliche Lokalisierungsvariable mit dem Namen
LINGUAS. Diese beeinflusst die Lokalisierungsdateien, welche in
gettext-basierten Programmen installiert werden und wählt die verwendete
Lokalisierung für einige spezifische Softwarepakete, wie z.B.
<c>kde-base/kde-i18n</c> und <c>app-office/openoffice</c>. Die Variable
erlaubt eine durch <e>Leerzeichen</e> getrennte Liste von Sprachcodes und
empfiehlt. Wir empfehlen, dass Sie die Variable in <path>/etc/make.conf</path>
einfügen:
</p>

<pre caption="LINGUAS in make.conf setzen">
# <i>nano -w /etc/make.conf</i>
<comment>(Fügen Sie die LINGUAS Variable. Zum Beispiel für Deutsch, Finnisch
und Englisch:)</comment>
LINGUAS="de fi en"
</pre>

</body>
</section>
<section>
<title>Generieren von spezifischen locales</title>
<body>

<p>
Wenn Sie eine locale benutzen möchten, die nicht per Standard verfügbar
ist, sollten Sie diese mit <c>localdef</c> erstellen. Zum Beispiel:
</p>

<pre caption="Eine locale mit localedef erstellen">
# <i>localedef -c -i en_US -f ISO-8859-15 en_US.ISO-8859-15</i>
</pre>

<p>
Nachdem Sie die locale erstellt haben, können Sie die LANG-Variable nach
Ihrem Ermessen exportieren.
</p>

<pre caption="Exportieren der LANG-Variable">
# <i>export LANG="en_US.ISO-8859-15"</i>
</pre>

<p>
Stellen Sie sicher, dass Sie die Umgebung nach der Veränderung aktualisieren:
</p>

<pre caption="Aktualisieren der Umgebung">
# <i>env-update &amp;&amp; source /etc/profile</i>
</pre>

<p>
Danach müssen Sie Ihren X-Server durch Drücken von <c>Strg-Alt-Backspace</c>
beenden, ausloggen, dann als Benutzer wieder einloggen.
</p>

</body>
</section>
<section>
<title>Das USE-Flag "userlocales"</title>
<body>

<p>
Wahrscheinlich werden Sie nur eine oder vielleicht zwei locales auf Ihrem
System verwenden. Bis jetzt wurde nach dem Kompilieren von <c>glibc</c> ein
kompletter Satz aller verfügbaren locales erstellt. Von nun an können Sie auch
das USE-Flag <c>userlocales</c> aktivieren und spezifizieren in
<path>/etc/locales.build</path> nur die locales, die Sie benötigen.
</p>

<pre caption="Aktivieren des USE-Flags userlocales speziell für glibc">
echo "sys-libs/glibc userlocales" >> /etc/portage/package.use
</pre>

<p>
Nun geben Sie die locales, die sie verwenden möchten, an:
</p>

<pre caption="locales zu /etc/locales.build hinzufügen">
en_US/ISO-8859-1
en_US.UTF-8/UTF-8
de_DE/ISO-8859-1
de_DE@euro/ISO-8859-15
</pre>

<p>
Im nächsten Schritt muss <c>glibc</c> neu kompiliert werden. Natürlich können
Sie das zurückstellen, bis das nächste Upgrade für <c>glibc</c> verfügbar ist.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Tastaturlayout für die Konsole</title>
<section>
<body>

<p>
Das von der Konsole verwendete Tastaturlayout wird in
<path>/etc/conf.d/keymaps</path> durch die Variable <c>KEYMAP</c> gesetzt.
Gültige Werte können <path>/usr/share/keymaps/<c>{arch}</c>/</path>
entnommen werden.
<path>i386</path> hat weitere Unterteilungen nach dem Layout
(<path>qwerty/</path>, <path>azerty/</path>, usw.). Einige Sprachen haben
mehrere Optionen, daher müssen Sie möglicherweise etwas experimentieren, um
entscheiden zu können, welche davon Ihren Bedürfnissen am ehesten entspricht.
</p>

<pre caption="Setzen der Keymap für die Konsole">
KEYMAP="de"
KEYMAP="de-latin1"
KEYMAP="de-latin1-nodeadkeys"
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Tastaturlayout für den X-Server</title>
<section>
<body>

<p>
Das durch den X-Server verwendete Tastaturlayout wird in
<path>/etc/X11/xorg.conf</path> durch die Option<c>XkbLayout</c>
angegeben.
</p>

<pre caption="Setzen der X-Keymap">
 Section "InputDevice"
     Identifier  "Keyboard1"
     ...
     Option "XkbLayout"    "de"
     #Option "XkbModel"     "pc105"    <comment>## dies ist für internationale Tastaturen</comment>
     # Option "XkbVariant"  "nodeadkeys" <comment>## dies wird für die xterm Eingabe gebraucht</comment>
     ...
</pre>

<p>
Wenn Sie ein internationales Tastaturlayout haben, sollten Sie die Option
<c>XkbModel</c> auf <c>pc102</c> oder <c>pc105</c> setzen, da dies das Mappen
von zusätzlichen, tastaturspezifischen Tasten erlaubt.
</p>

<p>
Deadkeys erlaubt es Ihnen Tasten zu drücken, die nicht sofort erscheinen.
Kombiniert mit einem anderen Buchstaben produzieren sie ein einzelnes Zeichen
wie é,è,á,à, etc. Das Setzen von <c>XkbVariant</c> auf <c>nodeadkeys</c>
erlaubt es immer diese speziellen Zeichen in X-Terminals einzugeben.
</p>

<p>
Wenn Sie zwischen mehr als einem Tastaturlayout wechseln wollen (z.B. Englisch
und Russisch), müssen Sie nur ein paar Zeilen zu <path>xorg.conf</path>
hinzufügen, die die gewünschten Layouts und den Abkürzungsbefehl festlegen.
</p>

<pre caption="Zwischen zwei Tastaturlayouts wechseln">
 Section "InputDevice"
     Identifier  "Keyboard1"
     ...
     Option "XkbLayout"    "us,ru"
     Option "XkbOptions"   "grp:alt_shift_toggle,grp_led:scroll"
</pre>

<p>
Hier erlaubt <c>XkbOptions</c> Ihnen zwischen Tastaturlayouts zu wechseln indem
Sie einfach <c>Alt-Shift</c> drücken. Dies wird außerdem, dank der
<c>grp_led:scroll</c> Option, das Rollen-Licht ein- oder ausschalten. Das ist
ein nützlicher, optischer Indikator welches Tastaturlayout Sie im Moment
benutzen.
</p>

</body>
</section>
</chapter>

<chapter>
<title>KDE</title>
<section>
<body>

<p>
Für KDE müssen Sie das <c>kde-base/kde-i18n</c> Paket installieren. Die zuvor
beschriebene <uri link="#variables">LINGUAS Variable</uri> wird von kde-i18n
respektiert.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Das Euro-Symbol für die Konsole</title>
<section>
<body>

<p>
Um Ihre Konsole dazu zu bringen, das Euro-Symbol anzuzeigen, müssen Sie
<c>CONSOLEFONT</c> in <path>/etc/conf.d/consolefont</path> auf eine Datei in
<path>/usr/share/consolefonts/</path> setzen (ohne die Endung
<c>.psfu.gz</c>). <c>lat9w-16</c> hat das Euro-Symbol.
</p>

<pre caption="Setzen der Konsolenschriftart">
CONSOLEFONT="lat9w-16"
</pre>

<p>
Sie sollten sicherstellen, dass <c>CONSOLEFONT</c> im boot-Runlevel vorhanden
ist:
</p>

<pre caption="Prüfen des richtigen Runlevels">
# <i>rc-update show | grep -i consolefont</i>
</pre>

<p>
Wenn kein Runlevel für <c>CONSOLEFONT</c> angezeigt wird, dann fügen Sie es dem
richtigen Level hinzu:
</p>

<pre caption="Consolefont zu boot hinzufügen">
# <i>rc-update add consolefont boot</i>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Das Euro-Symbol in X</title>
<section>
<title>Die meisten Anwendungen</title>
<body>

<p>
Das Euro-Symbol in X korrekt zum Funktionieren zu bekommen ist etwas
schwieriger. Zuerst sollten Sie die Definitionen <c>fixed</c> und
<c>variable</c> in <path>/usr/X11R6/lib/X11/fonts/misc/fonts.alias</path>
dahingehend ändern, dass sie auf <c>iso8859-15</c> anstelle von
<c>iso8859-1</c> enden.
</p>

<pre caption="Setzen der Standardschriftarten von X">
fixed        -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-15
variable     -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Manche Anwendungen verwenden ihre eigene Schriftart und Sie müssen diesen
gesondert mitteilen, dass sie eine Schriftart mit dem Euro-Symbol verwenden.
Sie können dies auf Benutzerebene in <path>.Xdefaults</path> festlegen
(Sie können diese Datei nach <path>/etc/skel/</path> kopieren, damit neue
Benutzer sie auch verwenden können), oder aber auf globaler Ebene für alle
Anwendungen mit einer Ressource-Datei in
<path>/usr/X11R6/lib/X11/app-defaults/</path> (wie z.B. xterm). In diesen
Dateien müssen sie normalerweise eine bereits existierende Zeile bearbeiten,
anstatt eine neue anzulegen. Um beispielsweise Ihre Schriftart für xterm zu
ändern:
</p>

<pre caption="Setzen der Schriftarten für xterm">
<comment>(In Ihrem home-Verzeichnis)</comment>
$ <i>echo 'XTerm*font: fixed' >> .Xresources </i>
$ <i>xrdb -merge .Xresources</i>
</pre>

</body>
</section>
<section>
<title>Das Euro-Symbol in (X)Emacs</title>
<body>

<p>
Um das Euro-Symbol in (X)Emacs zu verwenden, fügen Sie folgendes der Datei
<path>.Xdefaults</path> hinzu:
</p>

<pre caption="Setzen der Schriftart für Emacs">
Emacs.default.attributeFont: -*-courier-medium-r-*-*-*-120-*-*-*-*-iso8859-15
</pre>

<p>
Für XEmacs (nicht das normale Emacs), müssen Sie etwas mehr tun.
In <path>/home/user/.xemacs/init.el</path>, fügen Sie hinzu:
</p>

<pre caption="Setzen der Schriftart für XEmacs">
(define-key global-map '(EuroSign) '[&#8364;])
</pre>

<note>
Das Symbol in [] ist das Euro-Symbol.
</note>

</body>
</section>
<section>
<title>OpenOffice.org</title>
<body>

<p>
Die aktuell stabilen <c>app-office/openoffice</c> und
<c>app-office/openoffice-bin</c> Ebuilds unterstützen die
<uri link="#variables">LINGUAS Variable</uri> zur Auswahl installierter GUI
Sprachpakete. Um den Stand der GUI Übersetzung, Silbentrennung,
Rechtschreibprüfung und anderer Lokalisierungen Ihrer Sprache einzusehen,
besuchen Sie bitte die <uri
link="http://l10n.openoffice.org/languages.html">OpenOffice.Org Lokalisierungs
Webseite</uri>.
</p>

</body>
</section>
</chapter>

</guide>
