<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/gentoo-x86-quickinstall.xml,v 1.16 2005/08/06 07:42:45 grahl Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<!-- English CVS Version: 1.36 -->

<guide link="/doc/de/gentoo-x86-quickinstall.xml" lang="de">
<title>Gentoo Linux x86 Kurz-Leitfaden zur Installation</title>

<author title="Autor">Steven Wagner</author>
<author title="Bearbeiter">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Übersetzer">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Korrektor">
  <mail link="grahl@gentoo.org">Jan Hendrik Grahl</mail>
</author>

<abstract>
Die Schnell Installations Leitfaden beschreibt alle Details des Installations
Prozesses in einer sehr knapp gehaltenen Form. Benutzer die dieser Anleitung
folgen möchten sollten bereits Erfahrungen in der Installation von
Gentoo Linux haben.
</abstract>

<license/>

<version>1.28</version>
<date>2005-05-23</date>

<chapter>
<title>Kurz-Leitfaden zur Installation</title>
<section>
<body>

<p>
Die Installations ISOs finden sie auf einem der <uri 
link="/main/en/mirrors.xml">Gentoo Spiegel</uri>. Detaillierte
Beschreibungen der verschiedenen CDs sind im <uri
link="http://store.gentoo.org">Gentoo Store</uri> verfügbar. Eine universelle 
CD beinhaltet alles, was Sie benötigen um Gentoo Linux schnell und ohne eine 
Verbindung ins Internet zu installieren. Eine Paket-CD ist optional und 
beinhaltet vorkompilierte Pakete wie KDE, GNOME, OpenOffice, Mozilla, 
Evolution und andere.
</p>

<p>
Booten Sie von der Universal-CD. Drücken Sie &lt;F1&gt; und/oder &lt;F2&gt;
um die verschiedene Boot Optionen zu sehen. Drücken Sie am Bootscreen
&lt;ENTER&gt; um mit dem Default Kernel fortzufahren. Eventuell werden Sie eine
Anzeige erhalten.
</p>

<pre caption="Eingangs-Einstellungen">
# <i>date</i>  <comment>(Stellen Sie sicher, dass ihre Zeit korrekt ist. Falls nicht setzen Sie sie mit <i>date MMDDhhmmCCYY</i> )</comment>
# <i>modprobe module_name</i>  <comment>(Optional - lädt benötigte Module)</comment>
# <i>net-setup eth0</i> <comment>(Konfiguration des Netzwerks)</comment>
# <i>fdisk /dev/hda</i> <comment>(Partitionierung der Festplatte)</comment>
</pre>

<p>
Die empfohlene Partitionierung beinhaltet eine 64 MB große /boot Partition mit
ext2, eine Swap Partition die doppelt so groß ist, wie der Arbeitsspeicher, und
den Rest als /-Partition mit ReiserFS.
</p>

<p>
Formatieren Sie Ihre Partitionen mit <c>mke2fs</c> (Ext2), <c>mke2fs
-j</c> (Ext3), <c>mkreiserfs</c> (ReiserFS), <c>mkfs.xfs</c> (XFS),
<c>mkfs.jfs</c> (JFS) und <c>mkswap</c> (swap partition). Zum Beispiel:
<c>mke2fs -j /dev/hda3</c>.
</p>

<p>
Fahren Sie mit dem Mounten der Partitionen und dem Entpacken des gewünschten
Stage-Tarballs fort.
</p>

<warn>
Bei ext3 Partition müssen Sie explizit <c>mount -t ext3</c> angeben. Dies 
geschieht wegen einem Bug im e2fsprogs Paket.
</warn>

<pre caption="Vorbereiten der Installation">
(Aktivieren der Swap Partition)                # <i>swapon /dev/hdax</i>
(Mounten der Root-Partition)                   # <i>mount /dev/hdax /mnt/gentoo</i>
(Erstellen des boot-Mountpunkt)                # <i>mkdir /mnt/gentoo/boot</i>
(Mounten der Boot Partition)                   # <i>mount /dev/hdax /mnt/gentoo/boot</i>
(Wechseln zum Mountpunkt)                      # <i>cd /mnt/gentoo</i>
(Extrahieren eines Stage Tarball...)           # <i>tar -xvjpf /mnt/cdrom/stages/stage&lt;your stage&gt;.tar.bz2</i>
(<comment>oder</comment> herunterladen des neuesten Tarball...) 
                                               # <i>links http://www.gentoo.org/main/en/mirrors.xml</i>
(    ... und extrahieren)                      # <i>tar -xvjpf stage&lt;your stage&gt;.tar.bz2</i>
(Optional: entpacken eines Portage Baums)      # <i>tar -xvjf /mnt/cdrom/snapshots/portage-*.tar.bz2 \
                                                 -C /mnt/gentoo/usr</i>
(Optional: kopieren von distfiles)             # <i>cd /mnt/gentoo/usr/portage; mkdir distfiles;</i>
                                               # <i>cp /mnt/cdrom/distfiles/* distfiles/</i>
(Auswahl eines Spiegels)                       # <i>mirrorselect -a -s4 -o | grep 'GENTOO_MIRRORS=' \
                                                 &gt;&gt; /mnt/gentoo/etc/make.conf</i>
(Kopieren der Nameserver Informationen)        # <i>cp -L /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
(Mounten des Proc Dateisystem)                 # <i>mount -t proc none /mnt/gentoo/proc</i>
(Chroot in die neue Umgebung)                  # <i>chroot /mnt/gentoo /bin/bash</i>
(Laden der notwendigen Variablen)              # <i>env-update; source /etc/profile</i>
(Nur-Netzwerk, nicht-GRP: Aktualisieren von Portage)
                                               # <i>emerge --sync</i>
</pre>

<p>
Nun fahren wir fort mit dem Einstellen des Profils und der Installation von 
Gentoo. Ein Profil ist Bausatz für ein jegliches Gentoo System. Es spezifziert 
nicht nur Standardwerte für CHOST, CFLAGS und andere wichtige Variablen, es 
sichert das System auch mit einer bestimmten Palette von Paketversionen ab. 
Dies alles wird von den Gentoo Entwicklern gepflegt.
</p>

<pre caption="Gentoo installieren">
(Aktuelles Profil überprüfen)     # <i>ls -l /etc/make.profile</i>
(Nur ändern WENN NÖTIG, oder wenn Sie einen 2.4 Kernel wollen)   
                                  # <i>ln -snf /usr/portage/profiles/default-linux/x86/2005.0/2.4 /etc/make.profile</i>
(Ändern Sie USE, CFLAGS und CXXFLAGS. Stage1 kann auch CHOST ändern)  
                                  # <i>nano -w /etc/make.conf</i>
(Nur Stage1: Bootstrap System)    # <i>cd /usr/portage; scripts/bootstrap.sh</i>
(Nur Stage1, Stage2: Installieren des Basissystems. Verwenden Sie --emptytree, wenn Sie USE Flags veränder haben. Ansonsten funktioniert --newuse. 
 Eine der Optionen ist Pflicht. )
                                  # <i>emerge --emptytree system</i> <comment>OR</comment> <i>emerge --newuse system</i>
</pre>

<p>
Als nächstes müssen Sie wichtige Informationen setzen:
</p>

<pre caption="Anpassen der Konfigurationsdateien">
(Setzen der Zeitzone)            # <i>ln -sf /usr/share/zoneinfo/<comment>&lt;pfad zur zeitzonendatei&gt;</comment> /etc/localtime</i>
(Editieren der fstab Datei)      # <i>nano -w /etc/fstab</i>
</pre>

<p>
Benutzen Sie folgendes als eine <e>Vorlage</e> (kopieren sie es nicht wörtlich) für
<path>/etc/fstab</path>:
</p>

<pre caption="/etc/fstab">
# &lt;fs&gt;                  &lt;mountpoint&gt;    &lt;type&gt;          &lt;opts&gt;                  &lt;dump/pass&gt;
/dev/hdax               /boot           ext2            defaults,noatime        1 2
/dev/hdax               none            swap            sw                      0 0
/dev/hdax               /               reiserfs        noatime                 0 1
/dev/cdroms/cdrom0      /mnt/cdrom      auto            noauto,user             0 0
none                    /proc           proc            defaults                0 0
none                    /dev/shm        tmpfs           nodev,nosuid,noexec     0 0
</pre>

<p>
Fortfahren mit der Installation des Linux Kernel:
</p>

<pre caption="Installation des Kernel">
(Installieren der Kernelquellen)# <i>emerge <comment>&lt;kernel-paket-hier &gt;</comment></i>
(Konfiguration des Kernel mit genkernel...) 
                                # <i>emerge genkernel; genkernel --udev --menuconfig all</i>
(<comment>oder</comment> (1) manuell Ihren Kernel erstellen)
                                # <i>cd /usr/src/linux; make menuconfig;</i>
(   (2) Aktivieren von VM FS, /proc FS)
(   (3) Kompilieren des Kernel) 
         (für einen 2.6 Kernel) # <i>make &amp;&amp; make modules_install</i>   
         (für einen 2.4 Kernel) # <i>make dep &amp;&amp; make clean bzImage modules modules_install</i>
(   (4) Den Kernel kopieren)    # <i>cp arch/i386/boot/bzImage /boot; cp System.map /boot</i>
</pre>

<p>
Nun folgt die Installation der von Ihnen benötigten Tools:
</p>

<pre caption="Installation von wichtigen System Tools">
(System Logger; Auswahl: sysklogd, metalog, msyslog, syslog-ng) 
                                          # <i>emerge syslog-ng </i>
(Automatisches starten des Systemlogger beim Boot)
                                          # <i>rc-update add syslog-ng default</i>
(Installation eines Cron Daemon; Asuwahl: vixie-cron, dcron, fcron)                
                                          # <i>emerge vixie-cron</i>
(Automatisches starten des Cron Daemon beim Boot)                   
                                          # <i>rc-update add vixie-cron default</i>   
(Nur genkernel Benutzer: Installation von *plug)     
                                          # <i>emerge coldplug hotplug</i>
(Nur genkernel Benutzer: Automatisches starten von hotplug beim Boot)     
                                          # <i>rc-update add coldplug boot</i>
(Nur nicht-ext2,ext3 Benutzer; Auswahl: reiserfsprogs, xfsprogs, jfsutils)  
                                          # <i>emerge reiserfsprogs</i>
(Optional: Installieren eines DHCP Clients)       
                                          # <i>emerge dhcpcd</i> 
(Domainname Init-Skript)                  # <i>rc-update add domainname default</i>
</pre>

<p>
Wenn Sie besondere Kernel Ebuilds benötigen, ist nun eine gute Zeit diese zu installieren:
</p>

<pre caption="Installation besonderer Kernel Ebuilds">
# <i>emerge pcmcia-cs</i> (oder <i>nforce-net</i>, <i>nforce-audio</i>, <i>e100</i>, <i>e1000</i>, <i>ati-drivers</i>, <i>rp-pppoe</i>)
# <i>VIDEO_CARDS="yourcard" emerge xfree-drm</i> (für ATI Radeon bis 9200, Rage128, 
                                            Matrox, Voodoo und andere Karten)
</pre>

<p>
Beenden der Systemeinstellungen Ihres Gentoo System:
</p>

<pre caption="Beenden der Systeinstellungen Ihres Gentoo System">
(Setzen des root Passwort)                          # <i>passwd</i>
(Erstellen eines Benutzers)                         # <i>useradd benutzername -m -G users,wheel,audio -s /bin/bash</i>
(Setzen des Passwort für diesen Benutzer)           # <i>passwd benutzername</i>
(Setzen des System Hostnamen)                       # <i>echo meinemaschine &gt; /etc/hostname</i>
(Setzen des System Domainname)                      # <i>echo meinedomain.com &gt; /etc/dnsdomainname</i>
(Erstellen der Hosts-Datei, Bsp: "127.0.0.1 localhost meinemaschine") 
                                                    # <i>nano -w /etc/hosts</i>
(Konfiguration grundlegender Systemeinstellungen, folgen Sie den Kommentaren)
                                                    # <i>nano -w /etc/rc.conf</i>
</pre>

<pre caption="Konfigurieren des Netzwerk">
(Konfiguration des Netzwerk; dhcp-Benutzer sollten iface_eth0="dhcp" setzen)
                              # <i>nano -w /etc/conf.d/net</i>
(Auflisten der Module die beim Start geladen werden sollen) 
                              # <i>nano -w /etc/modules.autoload.d/kernel-<comment>&lt;version &gt;</comment></i>
(Nur nicht-PCMCIA: Starten des Netzwerk beim Boot)          
                              # <i>rc-update add net.eth0 default</i>
(Nur wenn Sie mehrere Netzwerkkarten haben:)
   (1) Erstellen Sie Initskripte für jedes Interface)            
                              # <i>ln -s /etc/init.d/net.eth0 /etc/init.d/net.ethx</i>
   (2) Automatisches Starten von PCMCIA beim Boot)          
                              # <i>rc-update add net.ethx default</i>
(Nur PCMCIA: Kontrollieren Sie /etc/conf.d/pcmcia und laden von PCMCIA beim Boot)
                              # <i>rc-update add pcmcia boot</i>
</pre>

<p>
Installation eines Bootloader.
</p>

<pre caption="Installation und Konfiguration von GRUB">
# <i>emerge grub</i>
# <i>grub</i>
grub&gt; <i>root (hd0,0)</i>
grub&gt; <i>setup (hd0)</i>
grub&gt; <i>quit</i>
# <i>nano -w /boot/grub/grub.conf</i>
default 0
timeout 15
splashimage=(hd0,0)/grub/splash.xpm.gz

title=Gentoo Linux
  root (hd0,0)
  <comment># Nur für Genkernel Benutzer:</comment>
  kernel (hd0,0)/kernel-<comment>&lt;Kernel Version&gt;</comment> root=/dev/ram0 init=/linuxrc real_root=/dev/hda3 ramdisk=8192 udev 
  initrd (hd0,0)/initrd-<comment>&lt;Kernel Version&gt;</comment>
  <comment># Nicht-genkernel Benutzer:</comment>
  kernel (hd0,0)/kernel-<comment>&lt;Kernel Version&gt;</comment> root=/dev/hda3 udev
</pre>

<pre caption="Installation und Konfiguration von LILO">
# <i>emerge lilo</i>
# <i>nano -w /etc/lilo.conf</i>
boot=/dev/hda
prompt
timeout=50
default=gentoo

image=/boot/kernel-<comment>&lt;kernel version&gt;</comment>
  label=gentoo
  read-only
  <comment># Nur für Genkernel Benutzer:</comment>
  append="init=/linuxrc real_root=/dev/hda3 ramdisk=8192 udev"
  root=/dev/ram0
  initrd=/boot/initrd-<comment>&lt;kernel version&gt;</comment>
  <comment># Nicht-genkernel Benutzer:</comment>
  append="udev"
  root=/dev/hda3

# <i>/sbin/lilo</i>
</pre>

<p>
Unmounten Sie nun alle Partitionen und rebooten Sie in Ihr neues System:
</p>

<pre caption="Beenden der Installation und Installation eines GUI">
(Verlassen der Chroot-Umgebung)               # <i>exit</i>
                                              # <i>cd /</i>
(Unmounten der Partitionem)                   # <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
(Neustart; nehmen Sie die Universal-CD aus dem Laufwerk)
                                              # <i>reboot</i>
(Nach dem Neustart:)
(Nur ADSL-Benutzer)                           # <i>adsl-setup</i>
(Nur GRP-Benutzer)
  (1) Mounten der Paket-CD                    # <i>mount /dev/cdrom /mnt/cdrom</i>
  (2) Kopieren der Pakete                     # <i>mkdir /usr/portage/packages</i>
                                              # <i>cp -a /mnt/cdrom/packages/* /usr/portage/packages/</i>
  (3) Installation zusätzlicher Software      # <i>USE="bindist" emerge -k xorg-x11 gnome kde mozilla openoffice-bin</i>
  (4) Konfiguration des Xserver)              # <i>/usr/X11R6/bin/xorgconfig</i>
</pre>

<p>
Sie können weitere Informationen in der <uri link="/doc/de/index.xml">Gentoo 
Dokumentation</uri> finden.
</p>

</body>
</section>
</chapter>
</guide>