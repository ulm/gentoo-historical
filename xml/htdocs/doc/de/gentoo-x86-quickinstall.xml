<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/de/gentoo-x86-quickinstall.xml,v 1.22 2005/12/25 16:58:50 grahl Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<!-- English CVS Version: 1.50 -->

<guide link="/doc/de/gentoo-x86-quickinstall.xml" lang="de">
<title>Gentoo Linux x86 Kurz-Leitfaden zur Installation</title>


<author title="Autor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Autor">Steven Wagner</author>
<author title="Übersetzer">
  <mail link="dertobi123@gentoo.org">Tobias Scherbaum</mail>
</author>
<author title="Übersetzer">
  Sebastian Westermayer
</author>
<author title="Korrektor">
  <mail link="grahl@gentoo.org">Jan Hendrik Grahl</mail>
</author>

<abstract>
Der Kurz-Leitfaden zur Installation beschreibt den Gentoo
Installationsprozesses in einer sehr knapp gehaltenen Form. Benutzer die dieser
Anleitung folgen möchten sollten bereits Erfahrungen in der Installation von
Gentoo Linux haben.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->  
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>2.9</version>
<date>2005-12-21</date>

<chapter>
<title>Kurz-Leitfaden zur Installation</title>
<section>
<title>Installationsmedium</title>
<body>

<p>
Laden Sie sich eine CD von einem der <uri link="/main/en/mirrors.xml">Gentoo 
Spiegel</uri> herunter. Sie finden die ISOs unter 
<path>releases/&lt;architecture&gt;/&lt;release&gt;/installcd</path>. Die 
<e>Minimal</e> Installations CD ist nur von Nutzen, wenn Sie über einen 
Internetzugang verfügen. Mit der <e>Universal</e> Installations CD können Sie 
auch eine netzwerklose Installation durchführen.
</p>

<p>
<uri link="/doc/de/faq.xml#isoburning">Brennen</uri> Sie die CD und booten 
anschließend damit. Drücken Sie im Startbildschirm <c>F2</c> um die 
verschiedenen Bootoptionen zu sehen. Nach dem Booten müssen Sie das 
<c>pcmcia</c> Init Skript starten, falls Sie PCMCIA Unterstützung benötigen.
</p>

<p>
Die Installations CD erlaubt es Ihnen einen <c>sshd</c> Server zu starten, 
weitere Benutzer anzulegen, <c>irssi</c> zu starten (ein Kommandozeilen 
IRC-Client) und per <c>lynx</c> oder <c>links2</c> im Internet zu surfen.
</p>

</body>
</section>
<section>
<title>Netzwerk Konfiguration</title>
<body>

<p>
Falls Ihr Netzwerkzugriff noch nicht funktioniert, können Sie 
<c>net-setup</c> benutzen um Ihr Netzwerk zu konfigurieren. Möglicherweise 
müssen Sie vor der Konfiguration mit <c>modprobe</c> Treiber für Ihre 
Netzwerkkarte laden. Wenn Sie ADSL haben, benutzen Sie <c>adsl-setup</c> und 
<c>adsl-start</c>. Für PPTP Unterstützung bearbeiten Sie zuerst 
<path>/etc/ppp/chap-secrets</path> und <path>/etc/ppp/options.pptp</path> und 
führen danach <c>pptp &lt;server&nbsp;ip&gt;</c> aus.
</p>

<p>
Für WLAN Zugriff starten Sie <c>iwconfig</c> um die WLAN Parameter zu setzen und
starten danach entweder <c>net-setup</c> erneut oder führen <c>ifconfig</c>,
<c>dhcpcd</c> und/oder <c>route</c> manuell aus.
</p>

<p>
Befinden Sie sich hinter einem Proxy, sollten Sie nicht vergessen Ihr System mit 
<c>export http_proxy</c>, <c>ftp_proxy</c> und <c>RSYNC_PROXY</c> zu 
initialisieren.
</p>

</body>
</section>
<section>
<title>Vorbereitung der Festplatten</title>
<body>

<p>
Benutzen Sie <c>fdisk</c> oder <c>cfdisk</c> um Ihr Partitionslayout anzulegen. 
Sie benötigen mindestens eine Swappartition (Typ 82) und eine Linuxpartition 
(Typ 83).
</p>

<p>
Nutzen Sie <c>mke2fs</c>, <c>mke2fs -j</c>, <c>mkreiserfs</c>, <c>mkfs.xfs</c> 
und <c>mkfs.jfs</c> um Dateisysteme auf den Linuxpartitionen zu erstellen. 
Initialisieren Sie die Swappartiton mit <c>mkswap</c> und <c>swapon</c>.
</p>

<p>
Mounten Sie die frisch angelegten Dateisysteme nach <path>/mnt/gentoo</path>.
Legen Sie Verzeichnisse für die anderen Mountpunkte (wie 
<path>/mnt/gentoo/boot</path>) an, falls Sie diese benötigen.
</p>

</body>
</section>
<section>
<title>Einrichten der Stage</title>
<body>

<p>
Stellen Sie zuerst sicher, dass Ihre Zeit korrekt eingestellt ist durch <c>date 
MMDDhhmmYYYY</c>.
Als nächstens laden Sie sich eine Stage von einem unserer <uri 
link="/main/en/mirrors.xml">Spiegel</uri> herunter oder nutzen den, der auf der
Installations CD verfügbar ist (<path>/mnt/cdrom/stages</path>). Wechseln Sie 
nach <path>/mnt/gentoo</path> und entpacken die Stage mit 
<c>tar&nbsp;-xvjpf&nbsp;&lt;stage&nbsp;tarball&gt;</c>.
</p>

<p>
Installieren Sie einen Portage Snapshot wenn Sie eine netzwerklose Installation
durchführen: Wechseln Sie nach <path>/mnt/gentoo/usr</path> führen
<c>tar&nbsp;-xvjf&nbsp;/mnt/cdrom/snapshots/&lt;snapshot&gt;</c> aus. Andere 
Benutzer können gleichermaßen einen Snapshot herunterladen und installieren.
</p>

<p>
Für eine netzwerklose Installation kopieren Sie die Quellcode-Dateien von
<path>/mnt/cdrom/distfiles/</path> nach
<path>/mnt/gentoo/usr/portage/distfiles/</path>.
</p>

<p>
Passen Sie <path>/mnt/gentoo/etc/make.conf</path> Ihren Bedürfnissen an (USE 
Flags, CFLAGS und CXXFLAGS). Sie können den Editor <c>nano</c> dafür benutzen.
</p>

</body>
</section>
<section>
<title>Installation des Gentoo Basis Systems</title>
<body>

<p>
Mounten Sie zuerst das <path>/proc</path> Dateisystem, kopieren die Datei 
<path>/etc/resolv.conf</path> herrüber und chrooten dann in Ihre Gentooumgebung.
</p>

<pre caption="Vorbereiten und Chrooten">
# <i>mount -t proc none /mnt/gentoo/proc</i>
# <i>cp /etc/resolv.conf /mnt/gentoo/etc/</i>
# <i>chroot /mnt/gentoo /bin/bash</i>
# <i>env-update</i> &amp;&amp; <i>source /etc/profile</i>
</pre>

<p>
Wenn Sie keine netzwerklose Installation durchführen, starten Sie 
<c>emerge --sync</c> um den Portage Tree zu aktualisieren.
</p>

<p>
Als nächstes stellen Sie sicher, dass <path>/etc/make.profile</path> auf das 
richtige Profil verweist. Die Standardeinstellung sollte für die meisten 
Benutzer ausreichen; Unterprofile sind für verschiedene Kernel verfügbar (wie 
<path>2.4/</path> für Profile basierend auf einem 2.4er-Kernel). Wechseln 
Sie das Profil mit <c>ln -sfn</c>.
</p>

<ul>
  <li>
    Bootstrappen (für netzwerklose Installationen nicht verfügbar) geschieht 
    mit <c>scripts/bootstrap.sh</c> im Verzeichnis <path>/usr/portage</path>.
  </li>
  <li>
    System Installation (für netzwerklose Installationen nicht verfügbar) 
    mit <c>emerge -e system</c> (oder <c>-N</c> falls Sie die Standard 
    CFLAGS/CXXFLAGS nicht verändert haben).
  </li>
</ul>

</body>
</section>
<section>
<title>Kernel Konfiguration</title>
<body>

<p>
Setzen Sie Ihre Zeitzone indem Sie die richtige Datei von
<path>/usr/share/zoneinfo</path> in die <path>/etc/localtime</path> Datei
kopieren.
</p>

<p>
Installieren Sie eine Kernel Quelle (<c>gentoo-sources</c> und 
<c>vanilla-sources</c> sind für netzwerklose Installationen verfügbar) und 
konfigurieren Sie diese mit <c>make menuconfig</c> gefolgt von 
<c>make&nbsp;&amp;&amp;make&nbsp;modules_install</c> innerhalb von
<path>/usr/src/linux</path>. Kopieren Sie die Datei
<path>arch/i386/boot/bzImage</path> nach <path>/boot</path>. Sie können auch
<c>emerge&nbsp;genkernel</c> und <c>genkernel&nbsp;all</c> 
benutzen.
</p>

<p>
Genkernel Benutzer müssen <c>emerge&nbsp;coldplug</c> und 
<c>rc-update&nbsp;add&nbsp;coldplug&nbsp;default</c> ausführen.
</p>

</body>
</section>
<section>
<title>Konfiguration des Systems</title>
<body>

<p>
Bearbeiten Sie Ihre <path>/etc/fstab</path>; Ein Beispiel folgt:
</p>

<pre caption="/etc/fstab">
/dev/hda1   /boot     ext2    defaults,noatime     1 2
/dev/hda2   none      swap    sw                   0 0
/dev/hda3   /         ext3    noatime              0 1
none        /proc     proc    defaults             0 0
none        /dev/shm  tmpfs   nodev,nosuid,noexec  0 0
/dev/cdroms/cdrom0    /mnt/cdrom    auto      noauto,user    0 0
</pre>

<p>
Editieren Sie <path>/etc/conf.d/hostname</path> und 
<path>/etc/conf.d/domainname</path>, führen Sie
<c>rc-update&nbsp;add&nbsp;domainname&nbsp;default</c> aus und editieren Sie 
<path>/etc/conf.d/net</path> um Ihr Netzwerk einzurichten. Fügen Sie das 
<c>net.eth0</c> Initscript zum default Runlevel hinzu.  Sollten Sie mehrere 
Netzwerkschnittstellen haben, erstellen Sie jeweils ein Symlink zum 
<c>net.eth0</c> Initscript und fügen diesen ebenfalls zum default Runlevel 
hinzu.
</p>

<p>
Editieren Sie die <path>/etc/hosts</path>; Beispiele sind unten gegeben:
</p>

<pre caption="Beispiels /etc/hosts">
<comment>(Für statische IPs)</comment>
127.0.0.1     localhost
192.168.0.5   jenny.homenetwork jenny
192.168.0.6   benny.homenetwork benny
192.168.0.7   tux.homenetwork tux

<comment>(Für eine dynamische IP)</comment>
127.0.0.1     localhost.homenetwork tux localhost
</pre>

<p>
Emergen Sie <c>pcmcia-cs</c> und fügen Sie es zum default Runlevel hinzu, falls
Sie es benötigen.
</p>

<p>
Setzen Sie das root Passwort mit <c>passwd</c>.
</p>

<p>
Setzen Sie die nötigen Systemkonfigurationen in <path>/etc/rc.conf</path>,
<path>/etc/conf.d/rc</path>, <path>/etc/conf.d/keymaps</path> und
<path>/etc/conf.d/clock</path>.
</p>

</body>
</section>
<section>
<title>Installation der System Tools</title>
<body>

<p>
Benutzer eines 2.4 Kernel müssen <c>emerge&nbsp;--unmerge&nbsp;udev</c> und
<c>emerge&nbsp;devfsd</c> ausführen.
</p>

<p>
Installieren Sie ein System Logger wie <c>syslog-ng</c> und fügen Sie ihn zum
default Runlevel hinzu. Tun Sie dasselbe mit einem Cron Daemon wie 
<c>vixie-cron</c> (optional).
</p>

<p>
Installieren Sie die notwendigen Dateisystem Tools (<c>xfsprogs</c>, 
<c>reiserfsprogs</c> oder <c>jfsutils</c>) und Netzwerk Tools (<c>dhcpcd</c> 
oder <c>rp-pppoe</c>).
</p>

</body>
</section>
<section>
<title>Konfigurieren des Bootloaders</title>
<body>

<p>
Emergen Sie <c>grub</c> oder <c>lilo</c>. Editieren Sie 
<path>/boot/grub/grub.conf</path> bzw. <path>/etc/lilo.conf</path> nach 
Belieben. Nachfolgend finden Sie jeweils ein Beispiel.
</p>

<pre caption="Beispiels grub.conf">
default 0
timeout 30
splashimage=(hd0,0)/grub/splash.xpm.gz

<comment># genkernel Benutzer</comment>
title=Gentoo Linux 2.6.11-r3
root (hd0,0)
kernel /kernel-genkernel-x86-2.6.11-gentoo-r3 root=/dev/ram0 init=/linuxrc ramdis
k=8192 real_root=/dev/hda3 udev
initrd /initramfs-genkernel-x86-2.6.11-gentoo-r3

<comment># Nicht-genkernel Benutzer (kein initrd)</comment>
title=Gentoo Linux 2.6.11 r3
root (hd0,0)
kernel /kernel-2.6.11-gentoo-r3 root=/dev/hda3

<comment># Nur falls Sie Dualboot wollen</comment>
title=Windows XP
root (hd0,5)
makeactive
chainloader +1
</pre>


<pre caption="Beispiels lilo.conf">
boot=/dev/hda
prompt
timeout=50
default=gentoo

<comment># Nicht-genkernel Benutzer</comment>
image=/boot/kernel-2.6.11-gentoo-r3
  label=gentoo
  read-only
  root=/dev/hda3

<comment># genkernel Benutzer</comment>
image=/boot/kernel-genkernel-x86-2.6.11-gentoo-r3
  label=gentoo
  read-only
  root=/dev/ram0
  append="init=/linuxrc ramdisk=8192 real_root=/dev/hda3 udev"
  initrd=/boot/initramfs-genkernel-x86-2.6.11-gentoo-r3

<comment># Für Dualboot</comment>
other=/dev/hda6
  label=windows
</pre>

<p>
GRUB Benutzer müssen GRUB in den MBR installieren, dafür benutzen Sie 
<c>grub-install /dev/hda</c> nachdem <path>/proc/mounts</path> nach
<path>/etc/mtab</path> kopiert wurde. LILO Benutzer müssen <c>/sbin/lilo</c> 
ausführen.
</p>

<p>
Verlassen Sie die chroot Umgebung, unmounten Sie alle Dateisysteme und starten 
neu.
</p>

</body>
</section>
<section>
<title>Abschließen der Installation</title>
<body>

<p>
Melden Sie sich als <c>root</c> an, und fügen einen oder mehrere Benutzer für 
den täglichen Gebrauch hinzu indem Sie 
<c>useradd&nbsp;-m&nbsp;-G&nbsp;&lt;groups&gt;&nbsp;&lt;username&gt;</c>
ausführen.
</p>

<p>
Wenn Sie eine netzwerklose Installation durchgeführt haben, mounten Sie die 
Packages CD nach <path>/mnt/cdrom</path> und führen 
<c>export&nbsp;PKGDIR="/mnt/cdrom"</c> aus. Danach können Sie 
<c>emerge&nbsp;-k&nbsp;&lt;package&gt;</c> ausführen um weitere Software wie 
<c>kde</c> zu installieren.
</p>

<p>
Danke, dass Sie Gentoo installiert haben!
</p>

</body>
</section>
</chapter>
</guide>
