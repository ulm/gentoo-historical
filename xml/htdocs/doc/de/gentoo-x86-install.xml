<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<!-- CVS Version 1.110 im Englischen Original -->

<guide link="/doc/de/gentoo-x86-install.xml">
	<title>Gentoo Linux 1.4_rc4 Installationsanweisungen</title>

	<author title="Chief Architect">
		<mail link="drobbins@gentoo.org">Daniel Robbins</mail>
	</author>

	<author title="Author">Chris Houser</author>

	<author title="Author">
		<mail link="">Jerry Alexandratos</mail>
	</author>

	<author title="Ghost">
		<mail link="g2boojum@gentoo.org">Grant Goodyear</mail>
	</author>

	<author title="Editor">
		<mail link="zhen@gentoo.org">John P. Davis</mail>
	</author>

	<author title="Editor">
		<mail link="Pierre-Henri.Jondot@wanadoo.fr">Pierre-Henri Jondot</mail>
	</author>

	<author title="Editor">
		<mail link="stocke2@gentoo.org">Eric Stockbridge</mail>
	</author>

	<author title="Editor">
		<mail link="rajiv@gentoo.org">Rajiv Manglani</mail>
	</author>

	<author title="Editor">
		<mail link="seo@gentoo.org">Jungmin Seo</mail>
	</author>

	<author title="Editor">
		<mail link="zhware@gentoo.org">Stoyan Zhekov</mail>
	</author>

	<author title="Editor">
		<mail link="jhhudso@gentoo.org">Jared Hudson</mail>
	</author>

	<author title="Editor">
		<mail link="">Colin Morey</mail>
	</author>

	<author title="Editor">
		<mail link="peesh@gentoo.org">Jorge Paulo</mail>
	</author>

	<author title="Editor">
		<mail link="carl@gentoo.org">Carl Anderson</mail>
	</author>

	<author title="Übersetzer">
		<mail link="mgreiner@berlios.de">Markus Greiner</mail>
	</author>

	<author title="Übersetzer">
		<mail link="pylon@gentoo.org">Lars Weiler</mail>
	</author>


	<abstract>Diese Anleitung führt Sie schrittweise durch den Gentoo Linux
	1.4_rc4 Installationsprozess für die x86 Prozessorarchitektur (AMD, Intel).
	Die Gentoo Linux Installation unterstützt verschiedene Installationsarten,
	abhängig davon wieviel des Systems von Grund auf selbst compiliert werden
	soll.</abstract>

	<version>2.6.1</version>
	<date>16. April 2003</date>

	<chapter>
	<title>Über die Installation</title>
		<section>
			<body>

				<p>Die neue Boot CD startet von fast jedem modernen IDE CD-ROM Laufwerk,
				sowie von vielen SCSI CD-ROMs, sofern das BIOS booten von einem CD-ROM
				erlaubt. Die CD-ROM unterstützt IDE Controller (eingebaut im Kernel)
				sowie alle SCSI Geräte (vorhanden als Module). Zusätzlich stellt sie
				Module für buchstäblich jede Netzwerkkarte zur Verfügung die Linux
				unterstützt, sowie Tools die es ermöglichen das Netzwerk zu
				konfigurieren und ausgehende <c>ssh</c> Verbindungen zum Dateidownload
				aufzubauen.</p>

				<p> Um von der "Build" CD zu installieren, wird ein 486+ Prozessor
				benötigt und idealerweise mindestens 64 Megabyte RAM. (Gentoo Linux
				konnte erfolgreich mit 64 MB RAM +  64 MB Swap installiert werden, aber
				die Installation unter diesen Bedingungen war extrem langsam.)</p>

				<p>Gentoo Linux kann über drei verschiedene &quot;stage&quot;
				tar-Archiven installiert werden.  Ausgehend von dem gewählten
				tar-Archiv, entscheiden Sie, wie viel Ihres Systems selbst kompiliert
				werden soll.  Wählen Sie das stage1 tar-Archiv, wenn Sie den
				bootstrap-Prozess durchführen und das komplette System von Grund auf
				erzeugen wollen.  Mit dem stage2 tar-Archiv kompilieren Sie ihr gesamtes
				System mit einem vorab durchgeführten bootstrap-Prozess.  Das stage3
				tar-Archiv enthält ein bereits kompiliertes Gentoo Linux
				Basissystem.</p>

				<p><b>Wollen Sie von einem stage1, stage2 oder stage3 tar-Archiv
				installieren?</b>  Ausgehend von stage1 haben Sie die totale Kontrolle
				über die Optimierungseinstellungen und optionalen Funktionen während des
				Kompilierens, die von Beginn an für Ihr System aktiviert sind.  Dadurch
				ist stage1 gut für &quot;Power-User&quot; geeignet, die wissen, was sie
				tun.  Die Installation von stage2 überspringt den bootstrap-Prozess; das
				ist recht hilfreich, wenn Sie mit den von uns vorgenommenen
				Optimierungen für Ihr stage2 tar-Archiv zufrieden sind.  Eine
				Installation mit stage3 ist die schnellste Möglichkeit, Gentoo Linux zu
				installieren.  Jedoch wird dadurch das Basissystem mit den
				Optimierungen, die wir für Sie gewählt haben, installiert.  Jede
				offizielle Version von Gentoo Linux wird stage3 tar-Archive mit
				Optimierungen für die gängigen Prozessoren bereitstellen, was für die
				meisten Anwender ausreichend ist.  <b>Sollten Sie zum ersten Mal Gentoo
				Linux installieren, benutzen Sie ein stage3 tar-Archiv.</b></p>

				<p>Wie sollen Sie die Installation beginnen?  Zuerst müssen Sie sich für
				eine unserer LiveCD ISO-Images unter
				<uri>http://www.ibiblio.org/gentoo/releases/1.4_rc4/x86/</uri>
				entscheiden.  Alternativ können Sie einen unserer Mirror-Server
				verwenden, um die hohe Last auf unserem Hauptserver zu verringern.  Eine
				Liste der Server kann unter
				<uri>http://www.gentoo.org/main/en/mirrors.xml</uri> gefunden werden.</p>

				<p>Diese LiveCDs sind komplette CD-Images, die mit einer
				CD-Brenn-Software auf eine CD-R oder CD-RW gebrannt werden sollten.
				Derzeit bieten wir zwei Arten von LiveCDs an:</p>

				<p>Die erste trägt die Bezeichnung &quot;gentoo-basic&quot;, ist etwa
				40MB groß, beinhaltet nur das stage1 tar-Archiv und befindet sich im
				<path>x86/livecd/</path> Verzeichnis.  Diese LiveCD ist von minimaler
				Größe, um sie schnell herunterzuladen und beinhaltet nur das stage1
				tar-Archiv, das sich im Verzeichnis <path>/mnt/cdrom/gentoo/</path>
				befindet, nachdem die CD gebootet wurde.</p>

				<p>Die zweite derzeit angebotene LiveCD trägt die Bezeichnung
				&quot;gentoo-3stages&quot;.  Diese CD ist ebenso im Verzeichnis
				<path>x86/livecd/</path> zu finden.  Sie beinhaltet die stage1, stage2
				und stage3 tar-Archive.  Mit dieser CD ist es möglich, recht schnell ein
				komplett funktionierendes Gentoo Linux System zu erhalten.</p>

				<p><b>Was passierte mit den i686, pentium3, athlon, athlon-mp stages,
				LiveCDs und GRP (Gentoo Reference Platform)?</b>  Gentoo 1.4_rc4 ist nur
				eine kleinere (Vorab-)Version.  1.4_final wird für die gewohnten
				x86-Architekturen und GRP bereitgestellt werden.  Möchten Sie Gentoo
				Linux für andere x86-Architekturen oder GRP optimiert installieren,
				schauen Sie in die 1.4_rc2-Dokumentation unter
				<uri>http://www.gentoo.org/doc/en/gentoo-x86-1.4_rc2-install.xml</uri>
				(derzeit nur in Englisch).</p>

				<impo>Fällt Ihnen ein Problem während der Installation auf und möchten
				Sie uns über diesen &quot;Bug&quot; informieren, füllen Sie bitte einen
				Bug-Report unter <uri>http://bugs.gentoo.org</uri> aus.  Sollte der Bug
				die ursprünglichen Entwickler einer Software erreichen (wie z.B. das KDE
				Team), dann werden die <e>Gentoo Linux Developer</e> das für Sie
				übernehmen.  Sie helfen mit einem Bug-Report auch anderen Gentoo Linux
				Benutzern, die möglicherweise ebenso Ihr Problem haben.  Mit einer
				Behebung des Problems helfen Sie von daher der gesamten Gentoo Linux
				Gemeinschaft!</impo>

				<p>Jetzt lassen Sie uns kurz den den Installationsprozess skizzieren.
				Zuerst laden Sie die LiveCD herunter, brennen diese und booten von ihr.
				Nachdem Sie am root-Prompt angelangt sind, erstellen Sie die
				Partitionen, erzeugen die Dateisysteme und entpacken entweder das
				<e>stage1</e>, <e>stage2</e> oder <e>stage3</e> Archiv. Wenn Sie das
				<e>stage1</e> oder <e>stage2</e> Archiv verwenden, müssen Sie alle
				nötigen Schritte unternehmen, um Ihr System auf den Stand des
				<e>stage3</e> Archivs zu bringen. Wenn Sie <e>stage3</e> erreicht haben,
				können Sie das System konfigurieren (die Konfigurationsdateien anpassen,
				einen Bootloader installieren, usw.) und in ein voll funktionsfähiges
				Gentoo Linux booten.  Abhängig von der gewählten Installationsstufe, von
				der Sie starten, hier die benötigten Schritte:</p>

				<table>
					<tr>
						<th>stage tar-Archiv</th>
						<th>Installationsanforderungen</th>
					</tr>
					<tr>
						<ti>1</ti>
						<ti>Einrichten von Partition und Dateisystem, emerge rsync,
						bootstrap, emerge system, emerge kernel sources, abschliessende
						Konfiguration</ti>
					</tr>
					<tr>
						<ti>2</ti>
						<ti>Einrichten von Partition und Dateisystem, emerge rsync, emerge
						system, emerge kernel sources, abschliessende Konfiguration</ti>
					</tr>
					<tr>
						<ti>3</ti>
						<ti>Einrichten von Partition und Dateisystem, emerge rsync,
						abschliessende Konfiguration</ti>
					</tr>
				</table>

			</body>
		</section>
	</chapter>

	<chapter>
	<title>Booten</title>
		<section>
			<body>

				<p>Booten Sie nun die LiveCD.  Sie sollten ein buntes Boot-Prompt mit
				dem Gentoo Linux Logo sehen.  Drücken Sie hier Enter, um mit dem
				Boot-Prozess zu starten oder geben Sie optionale Boot-Optionen an, indem
				Sie einen Kernel auswählen, gefolgt weiteren Optionen und mit Enter
				abschließen.  Zum Beispiel <c>gentoo nousb nohotplug</c>.  Für eine
				detaillierte Beschreibung der möglichen Boot-Optionen, schauen Sie in
				die folgende Tabelle der verfügbaren Kernel und Optionen oder drücken
				Sie F2 am Boot-Prompt für die Hilfe.</p>

				<table>
					<tr><th>Verfügbare Kernel</th><th>Beschreibung</th></tr>

					<tr><ti>gentoo</ti><ti>normaler Gentoo Kernel (default)</ti></tr>
					<tr><ti>800</ti><ti>800x600 Framebuffer Modus</ti></tr>
					<tr><ti>1024</ti><ti>1024x768 Framebuffer Modus</ti></tr>
					<tr><ti>1280</ti><ti>1280x1024 Framebuffer Modus</ti></tr>
					<tr><ti>nofb</ti><ti>Framebuffer Modus abgeschaltet</ti></tr>
					<tr><ti>smp</ti><ti>lädt einen SMP Kernel (für mehrere Prozessoren)
					ohne Framebuffer Modus</ti></tr>
					<tr><ti>acpi</ti><ti>Schaltet ACPI ein und lädt ACPI Module während
					des init-Prozesses</ti></tr>
					<tr><ti>memtest</ti><ti>Bootet das RAM Test Programm</ti></tr>
				</table>

				<table>
					<tr><th>Verfübare Boot Optionen</th><th>Beschreibung</th></tr>

					<tr><ti>doataraid</ti><ti>Lädt IDE RAID Module in initrd</ti></tr>
					<tr><ti>dofirewire</ti><ti>Lädt FireWire Module in initrd (für
					FireWire CD-ROMs, usw.)</ti></tr>
					<tr><ti>dokeymap</ti><ti>Lässt die Tastaturbelegung für non-us
					Tastaturen auswählen</ti></tr>
					<tr><ti>dopcmcia</ti><ti>Startet PCMCIA Dienste</ti></tr>
					<tr><ti>doscsi</ti><ti>Scannt nach SCSI Geräten (kann zu
					Komplikationen mit manchen Ethernet-Karten führen)</ti></tr>
					<tr><ti>noapm</ti><ti>Verhindert das Laden vom APM (Powermanagement)
					Modul</ti></tr>
					<tr><ti>nodetect</ti><ti>Führt nicht die automatische
					Hardwareerkennung mit hwsetup/kudzu und hotplug aus</ti></tr>
					<tr><ti>nodhcp</ti><ti>DCHP wird nicht ausgewührt, wenn eine
					Netzwerkkarte erkannt wurde</ti></tr>
					<tr><ti>nohotplug</ti><ti>Verhindert das Laden von hotplug
					Diensten</ti></tr>
					<tr><ti>noraid</ti><ti>Verhindert das Laden von evms Modulen</ti></tr>
					<tr><ti>nousb</ti><ti>Verhindert das Laden von USB Modulen, impliziert
					nohotplug</ti></tr>
					<tr><ti>ide=nodma</ti><ti>Erzwingt das Abschalten von DMA für
					inkorrekt funktionierende IDE Geräte</ti></tr>
					<tr><ti>cdcache</ti><ti>Lädt alle benötigten Komponenten der LiveCD in
					den RAM (etwa 40MB werden benötigt), wodurch die CD ungemountet und
					eine andere eingelegt werden kann</ti></tr>
				</table>

				<p>Sobald Sie Enter gedrückt haben, werden sie mit den üblichen Ausgaben
				des Kernels beim Booten, einigen kernel und initrd Meldungen, gefolgt
				von der normalen Gentoo Linux Boot-Sequenz, begrüßt.  Sie werden
				automatisch als &quot;<c>root</c>&quot; eingeloggt; das root-Passwort
				wird aus Sicherheitsgründen auf eine zufällige Zeichenkette gesetzt.
				Sie sollten einen root-Prompt (&quot;<c>#</c>&quot;) auf der aktuellen
				Konsole haben.  Sie können zu weiteren Konsolen wechseln, indem Sie
				Alt-F2, Alt-F3 und Alt-F4 drücken.  Um zu der ersten Konsole
				zurückzukehren, drücken Sie Alt-F1.  Nun sollten Sie ein root-Passwort
				vergeben, indem Sie <c>passwd</c> eingeben und den Anweisungen
				folgen.</p>

				<p>Sie haben möglicherweise schon den Haufen an Hilfetext oberhalb des
				<c>#</c>-Prompts gesehen.  Dieser erklärt, wie Sie ihr Netzwerk
				konfigurieren und wo Sie auf der CD die Gentoo Linux stage tar-Archive
				und Pakete finden.</p>

			</body>
		</section>
	</chapter>

	<chapter>
	<title>Laden der Kernel Module</title>
		<section>
			<body>

				<p>Falls die PCI-Autoerkennung Ihre Hardware nicht komplett erkannt hat,
				müssen Sie die entsprechenden Kernel Module von Hand nachladen.  Um eine
				Liste aller vorhandenen Netzwerkkarten (NIC) Module zu sehen, geben Sie
				<c>ls /lib/modules/*/kernel/drivers/net/*</c> ein.  Um ein spezielles
				Modul zu laden, schreiben Sie:</p>

<pre caption="PCI Modul Konfiguration">
# <c>modprobe pcnet32</c>
	<comment>(Ersetzen Sie pcnet32 durch das Modul Ihrer NIC)</comment>
</pre>

				<p>Wenn Sie nun auch noch auf SCSI Hardware zugreifen möchten, die nicht
				automatisch erkannt wurde, müssen Sie das passende Modul aus
				<path>/lib/modules</path> laden.  Verwenden Sie dazu wieder
				<c>modprobe</c>:</p>

<pre caption="SCSI Modul laden">
# <c>modprobe aic7xxx</c>
<comment>(ersetzen Sie aic7xxx durch das richtige SCSI-Modul für Ihren Controller)</comment>
# <c>modprobe sd_mod</c>
<comment>(sc_mod ist das Modul für SCSI Festplatten Unterstützung)</comment>
</pre>

				<note>Unterstützung für SCSI CD-ROMs und Festplatten ist schon im Kernel
				eingebaut.</note>

				<p>Falls Sie Hardware-RAID verwenden, müssen Sie die für Ihren
				RAID-Controller passenden ATA-RAID Module laden.</p>

<pre caption="Laden der RAID Module">
# <c>modprobe ataraid</c>
# <c>modprobe pdcraid</c>
<comment>(Promise Raid Controller)</comment>
# <c>modprobe hptraid</c>
<comment>(Highpoint Raid Controller)</comment>
</pre>

				<p>Die Gentoo LiveCD sollte DMA an Ihren Festplatten aktiviert haben.
				Falls dem nicht so ist, können Sie mit <c>hdparm</c> DMA für Ihre
				Festplatten einschalten.</p>

<pre caption="DMA einschalten">
<comment>Ersetzen Sie hdX durch die entsprechende Bezeichnung für Ihre
Festplatte</comment>
# <c>hdparm -d1 /dev/hdX</c>
<comment>(DMA einschalten)</comment>
# <c>hdparm -d1 -A1 -m16 -u1 -a64 /dev/hdX</c>
<comment>(DMA einschalten und andere sichere Durchsatz steigernde Optionen)</comment>
# <c>hdparm -X66 /dev/hdX</c>
<comment>(Zwinge die Verwendung von Ultra-DMA -- gefährlich! -- kann manche
Festplatten in Unordnung bringen)</comment>
</pre>

			</body>
		</section>
	</chapter>

<!-- Kommentar aus der Englischen Version:
THIS SECTION SHOULD BE DEPRECATED WITH HOTPLUG ENABLED IN 1.4_rc3 (drobbins)

<chapter>
<title>PCMCIA Kernel Module laden</title>
<section>
<body>
<p>Wenn Sie eine PCMCIA Netzwerkkarte verwenden, müssen Sie noch einen
zusätzlichen Dreh anwenden.</p> 
<pre>
# <i>insmod pcmcia_core</i>
# <i>insmod i82365</i>
# <i>insmod ds</i>
# <i>cardmgr -f</i>
</pre>

<p>Während <c>cardmgr</c> überprüft, welche Hardware vorhanden ist, sollten aus Ihrem
Lautsprecher einige Piepser ertönen und die PCMCIA Netzwerkkarte ihre Arbeit
aufnehmen. Sie können natürlich die PCMCIA Karte auch nach dem Laden des <c>cardmgr</c>
einstecken. (Technisch gesehen müssen Sie <i>cardmgr</i> nicht starten wenn Sie
genau wissen welche Module Ihre PCMCIA Karte benötigt. Aber wenn nicht, versuchen
Sie nicht alle Module zu laden um zu sehen, welches passt. Das wird nicht
funktionieren, da sich alle Module laden lassen und darauf warten, dass eine
passende PCMCIA Karte eingesteckt wird. Außerdem entfernt <c>cardmgr</c> die
Module der Karte wieder, wenn sie entnommen wird.)
</p>

</body>
</section>
</chapter>
-->

	<chapter>
		<title>Konfiguration der Netzwerkanbindung</title>
		<section>
			<title>Vielleicht klappt es schon?</title>
			<body>

				<p>Falls Sie eine 1.4_rc3 oder spätere LiveCD verwenden, it es möglich,
				dass Ihre Netzwerkanbindung schon automatisch konfiguriert wurde.  Falls
				es so ist, können Sie die auf der LiveCD beinhalteten Programme für
				Netzwerke verwenden, wie z.B. <c>ssh</c> (Sichere Shell Verbindung zu
				einem anderen Rechner), <c>scp</c> (Sicheres kopieren von Dateien zu/von
				einem anderen Rechner), <c>ping</c> (ICMP Test-Pakete senden),
				<c>irssi</c> (IRC Chat Programm), <c>wget</c> (Dateien von http oder ftp
				herunterladen), <c>lynx</c> (Textbasierter Web-Browser), sowie weitere
				Programme.</p>

				<p>Falls die Netzwerkanbindung schon konfiguriert wurde, sollte der
				Aufruf von <c>/sbin/ifconfig</c> die Neztwerkarten neben <c>lo</c>
				anzeigen, wie z.B.  <c>eth0</c>:</p>

<pre caption="/sbin/ifconfig bei einer funktionerenden Netzwerkkarte">
eth0      Link encap:Ethernet  HWaddr 00:50:BA:8F:61:7A
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          inet6 addr: fe80::50:ba8f:617a/10 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1498792 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1284980 errors:0 dropped:0 overruns:0 carrier:0
          collisions:1984 txqueuelen:100
          RX bytes:485691215 (463.1 Mb)  TX bytes:123951388 (118.2 Mb)
          Interrupt:11
</pre>

				<p>Sie sollten außerdem versuchen, den DNS (Direct Name Server) Ihres
				ISP (Internet Service Provider) anzu&quot;ping&quot;en (die IP-Adresse
				befindet sich in <path>/etc/resolv.conf</path>), als auch eine Web-Seite
				Ihrer Wahl, einfach nur um sicherzustellen, dass Ihre Pakete das Netz
				erreichen und die DNS Namesauflösung ordentlich funktioniert, usw.</p>

<pre caption="Weiteres Netzwerktesten">
# <c>ping -c 3 www.yahoo.com</c>
</pre>

				<p>Können Sie Ihre Netzwerkanbindung verwenden?  Falls dem so ist,
				können Sie den Rest dieses Kapitels überspringen.</p>

			</body>
		</section>

		<section>
			<title>PPPoE Konfiguration</title>
			<body>

				<p>Angenommen Sie benötigen PPPoE, um sich zum Internet zu verbinden, so
				macht es die LiveCD (egal welche Version) für Sie mit <c>rp-pppoe</c>
				leicht.  Benutzen Sie das angebotene <c>adsl-setup</c> Skript, um Ihre
				Verbindung einzurichten.  Sie werden nach der Netzwerkkarte, die mit
				Ihrem ADSL-Modem verbunden ist, Ihrem Usernamen und dem Passwort, den
				IP-Adressen Ihres DNS und ob Sie eine einfache Firewall benötigen,
				gefragt.</p>

<pre caption="PPPoE Konfigurieren">
# <c>adsl-setup</c>
# <c>adsl-start</c>
</pre>

				<p>Wenn es nicht auf Anhieb funktioniert, überprüfen Sie, ob Sie Ihren
				Usernamen und das Passwort korrekt angegeben haben, indem Sie in
				<path>/etc/ppp/pap-secrets</path> oder
				<path>/etc/ppp/chap-secrets</path> nachschauen.  Außerdem seien Sie
				sicher, dass Sie die richtige Netzwerkkarte gewählt haben.</p>

			</body>
		</section>

		<section>
			<title>Automatische Netzwerkkonfiguration</title>
			<body>

				<p>Der einfachste Weg die Netzwerkanbindung zu konfigurieren, falls sie
				nicht automatisch konfiguriert wurde, ist mit dem <c>net-setup</c>
				Skript.</p> <pre caption="net-setup Skript">
# <c>net-setup eth0</c>
</pre>

				<p>Natürlich, falls Sie es lieber wünschen, können Sie auch Ihre
				Netzwerkanbindung manuell konfigurieren.  Das wird als nächstes
				beschrieben.</p>

			</body>
		</section>

		<section>
			<title>Manuelle DHCP Konfiguration</title>
			<body>

				<p>Mit DHCP ist die Netzwerkkonfiguration sehr einfach. Wenn Ihr
				Provider kein DHCP anbietet, geht es für Sie bei der statischen
				Netzwerkkonfiguration weiter.</p>

<pre caption="Netzerk Konfiguration via DHCP">
# <i>dhcpcd eth0</i> 
</pre>

				<note>Einige Provider erwarten, dass Sie einen Hostnamen übergeben. Um
				dies zu tun, hängen Sie die Option <c>-h meinhostname</c> an das oben
				stehende Kommando.</note>

				<p>Wenn Sie <e>dhcpConfig</e> Warnungen bekommen, keine Panik. Die
				meisten Meldungen sind harmlos. Jetzt geht es für Sie unten, mit dem
				Test der Netzwerkanbindung, weiter.</p>

			</body>
		</section>

		<section>
			<title>Manuelle statische Konfiguration</title>
			<body>

				<p>Sie müssen Ihre Netzwerkanbindung so weit konfigurieren, dass Sie die
				benötigten Quellen herunterladen können. Außerdem wird das lokale
				(localhost) Interface benötigt.  Bitte geben Sie dazu folgende Befehle
				ein und ersetzen $IFACE mit Ihrem Netzwerkinterface (typischerweise
				<c>eth0</c>), $IPNUM mit Ihrer IP Adresse, $BCAST mit Ihrer Broadcast
				Adresse und $NMASK mit Ihrer Netzwerkmaske. Bei dem <c>route</c> Befehl
				ersetzen Sie $GTWAY durch die IP Adresse Ihres "default Gateway".</p>

<pre caption="Statische IP Netzwerkkonfiguration">
# <c>/sbin/ifconfig $IFACE $IPNUM broadcast $BCAST netmask $NMASK</c>
# <c>/sbin/route add -net default gw $GTWAY netmask 0.0.0.0 metric 1</c>
</pre>

				<p>Jetzt müssen Sie die Datei <path>/etc/resolv.conf</path> erstellen,
				damit die Namensauflösung (Web/FTP Server durch den Namen, anstatt der
				IP Adresse finden) funktioniert.</p>

				<p>Hier ein Beispiel der Datei <path>/etc/resolv.conf</path>:</p>

<pre caption="/etc/resolv.conf Vorlage">
domain mydomain.com
nameserver 10.0.0.1
nameserver 10.0.0.2
</pre>

				<p>Ersetzen Sie <c>10.0.0.1</c> und <c>10.0.0.2</c> mit den IP Adressen
				Ihres primären und sekundären DNS Servers.</p>

			</body>
		</section>

		<section>
			<title>Proxy Konfiguration</title>
			<body>

				<p>Wenn Sie sich hinter einem Proxy befinden, ist es nötig, dass Sie
				Ihre Einstellungen entsprechend konfigurieren, bevor Sie fortfahren.
				Sie werden einige Variablen setzen, um Ihren Proxy entsprechend
				einzustellen.</p>

<pre caption="Proxy konfigurieren">
# <c>export http_proxy=&quot;proxy.netzwerk.lan:1234&quot;</c>
# <c>export ftp_proxy=&quot;$http_proxy&quot;</c>
# <c>export RSYNC_PROXY=&quot;$http_proxy&quot;</c>
</pre>

			</body>
		</section>

		<section>
			<title>Die Netzwerkanbindung funktioniert!</title>
			<body>

				<p>Die Netzwerkanbindung sollte nun konfiguriert und nutzbar sein.  Es
				sollte möglich sein, dass sie mit den vorhandenen Programmen <c>ssh</c>,
				<c>scp</c>, <c>lynx</c>, <c>irssi</c> und <c>wget</c> andere Rechner in
				Ihrem LAN oder dem Internet erreichen können.</p>

			</body>
		</section>

		<section>
			<title>Die Netzwerkanbindung funktioniert nicht!</title>
			<body>

				<p>Falls Sie immer noch keine Netzwerkanbindung haben, können Sie für
				Hilfe im <uri link="http://forums.gentoo.org/">Gentoo Forum</uri>
				ersuchen.  Einige hilfreiche Links sind im Beitrag
				<uri>http://forums.gentoo.org/viewtopic.php?t=43025</uri>.</p>	

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Einstellen Ihres Datums und der Zeit</title>
		<section>
			<body>

				<p>Es wird nun benötigt, dass Sie Ihr Datum und Ihre Zeit einstellen.
				Sie können dies mit dem <c>date</c> Kommando machen</p>

<pre caption="Setzen des Datums">
# <c>date</c>
Thu Feb 27 09:04:42 CST 2003
<comment>(Falls Ihr Datum falsch ist, setzen Sie es mit nächsten Kommando)</comment>
# <c>date 022709042003</c>
<comment>(date MMDDhhmmCCYY)</comment>
</pre>

			</body>
		</section>
	</chapter>


	<chapter>
		<title>Dateisysteme, Partitionen und Block-Geräte</title>
		<section>
			<title>Einführung in Block-Geräte</title>
			<body>

				<p>In diesem Abschnitt werden die Festplatten-orientierten Askpekte von
				Gentoo Linux und Linux im Allgemeinen, sowie die Linux Dateisysteme,
				Partitionen und Block-Geräte, erläutert.  Dann, sobald Sie damit
				vertraut sind, werden Sie durch den Prozess zur Einrichtung von
				Partitionen und Dateisystemen für Ihr Gentoo Linux geführt.</p>

				<p>Zu Beginn werden die &quot;Block-Geräte&quot; eingeführt.  Das
				bekannteste Block-Gerät ist vermutlich das, welches die erste
				IDE-Festplatte in einem Linux-System repräsendiert:</p>

<pre caption="/dev/hda, das Block-Gerät, das die erste IDE-Festplatte repräsentiert">
/dev/hda
</pre>

				<p>Falls Sie in Ihrem System SCSI-Laufwerke verwenden, dann wird Ihre
				erste Festplatte diese sein:</p>

<pre caption="/dev/sda, das Block-Gerät, das die erste logische SCSI-Festplatte repräsentiert">
/dev/sda
</pre>

				<p>Die oben genannten Block-Geräte repräsentieren eine <e>allgemeine</e>
				Schnittstelle zu der Festplatte.  Programme können diese Block-Geräte
				verwenden, um auf die Festplatte zuzugreifen, ohne sich darum zu
				kümmern, ob sie IDE, SCSI oder irgendwas anderes ist.  Das Programm kann
				einfach auf die gespeicherten Daten der Festplatte in Bündeln von
				zusammenhängenden, frei addressierbaren, 512-Byte-Blöcken zugreifen.</p>

			</body>
		</section>

		<section>
			<title>Partitionen und fdisk</title>
			<body>

				<p>Unter Linux erstellen Sie Dateisysteme mit dem speziellen Kommando
				<c>mkfs</c> (oder <c>mke2fs</c>, <c>mkreiserfs</c>, usw.) unter der
				Angabe eines bestimmten Block-Gerätes als Kommandozeilen-Argument.</p>

				<p>Wie auch immer, obwohl es theoretisch möglich ist, eine
				&quot;komplette Festplatte&quot; als Block-Gerät (eines, das die
				<e>gesamte</e> Festplatte repräsentiert) zu benutzen, um ein einziges
				Dateisystem darauf unterzubringen, wird dieses in der Praxis so gut wie
				nie angewandt.  Stattdessen wird eine Festplatte in mehrere kleine
				Block-Geräte, so genannte &quot;Partitionen&quot;, augeteilt.  Die
				Partitionen werden mit dem Programm <c>fdisk</c> erzeugt, das benötigt
				wird, um die auf jeder Festplatte gespeicherte Partitionstabelle zu
				erzeugen und zu ändern.</p>

				<p>Sie können die Partitionstabelle ansehen, indem Sie <c>fdisk</c> mit
				dem Argument eines Block-Gerätes aufrufen:</p>

				<note>Alternative Programme, um die Partitionstabelle einer Festplatte
				anzusprechen, sind <c>cfdisk</c>, <c>parted</c> oder <c>partimage</c>.</note>

<pre caption="fdisk starten">
# <c>fdisk /dev/hda</c>
</pre>
<p>oder</p>
<pre caption="fdisk starten und die Partitionstabelle auf /dev/sda ansehen">
# <c>fdisk /dev/sda</c>
</pre>

				<impo><b>Beachten Sie, dass Sie die Partitiontabelle <e>nicht</e>
				speichern oder Änderungen an ihr vornehmen sollten, wenn irgendeine
				dieser Partitionen Dateisysteme beinhalten, die in Benutzung sind, oder
				wichtige Daten beinhalten.  Dieses führt meistens zum Verlust von Daten
				auf dieser Festplatte.</b></impo>

				<p>Bei fdisk werden Sie mit einer Ausgabe wie der folgenden begrüßt:</p>

<pre caption="Das fdisk Prompt">
Command (m for help):
</pre>

				<p>Geben Sie <c>p</c> ein, um Ihre aktuelle Partitionsaufteilung
				darzustellen:</p>

<pre caption="Eine beispielhafte Partitionsaufteilung">
Command (m for help): p

Disk /dev/hda: 240 heads, 63 sectors, 2184 cylinders
Units = cylinders of 15120 * 512 bytes

Device Boot    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda2            15        49    264600   82  Linux swap
/dev/hda3            50        70    158760   83  Linux
/dev/hda4            71      2184  15981840    5  Extended
/dev/hda5            71       209   1050808+  83  Linux
/dev/hda6           210       348   1050808+  83  Linux
/dev/hda7           349       626   2101648+  83  Linux
/dev/hda8           627       904   2101648+  83  Linux
/dev/hda9           905      2184   9676768+  83  Linux

Command (m for help): 
</pre>

				<p>Diese Festplatte ist so partitioniert, dass sie sieben Linux
				Dateisysteme (jede entsprechene Partition wird als &quot;Linux&quot;
				gelistet), sowie eine swap Partition (gelistet als &quot;Linux
				swap&quot;).</p>

				<p>Beachten Sie die Namensgebung der Partitionen zugehörigen
				Block-Geräten auf der linken Seite, beginnend mit <c>/dev/hda1</c> bis
				zu <c>/dev/hda9</c>.  In den frühen PC-Tagen erlaubte die
				Partitionierungs-Software maximal vier Partitionen (sogenannte
				&quot;primäre Partitionen&quot;).  Das war zu begrenzt, sodass eine
				Erweiterung mit &quot;erweiterten Partitionen&quot; geschaffen wurde.
				Eine erweiterte Partition ist sehr ähnlich zu einer primären Partition
				und wird innerhalb der ersten vier primären Partitionen aufgezählt.
				Dennoch, erweiterte Partitionen können eine beliebige Anzahl an
				sogenannten &quot;logischen Partitionen&quot; beinhalten, wodurch eine
				effiziente Möglichkeit, das Limit von vier Partitionen zu umgehen,
				geboten wird.</p>

				<p>Alle Partitionen von <c>hda5</c> an und höher sind logische
				Partitionen.  Die Nummern von 1 bis 4 sind reserviert für primäre oder
				erweiterte Partitionen.</p>

				<p>Somit sind in dem oben genannten Beispiel <c>hda1</c> bis <c>hda3</c>
				primäre Partitionen.  <c>hda4</c> ist eine erweiterte Partition, die die
				logischen Partitionen <c>hda5</c> bis <c>hda9</c> beinhaltet.  Sie
				werden niemals <c>/dev/hda4</c> benutzen, um darin direkt Dateisysteme
				zu generieren -- es arbeitet einfach nur als ein Container für die
				Partitionen <c>hda5</c> bis <c>hda9</c>.</p>

				<p>Beachten Sie außerdem, dass jede Partition eine &quot;ID&quot;
				besitzt, den sogenannten &quot;Partitionstyp&quot;.  Immer, wenn Sie
				eine neue Partition erstellen, sollten Sie darauf achten, dass der
				Partitionstyp korrekt angegeben ist.  &apos;83&apos; ist der korrekte
				Partitionstyp für eine Partition, die ein Linux Dateisystem beinhaltet
				und &apos;82&apos; ist der korrekte Partitionstyp für eine Linux swap
				Partition.  Sie können den Partitionstypen mit der Option <c>t</c> in
				<c>fdisk</c> setzen.  Der Linux Kernel verwendet den Partitionstypen, um
				automatisch Dateisysteme und swap Partitionen beim Booten zu
				erkennen.</p>

			</body>
		</section>

		<section>
			<title>fdisk zur Partitionierung verwenden</title>
			<body>

				<p>Da Sie nun eine Einführung in die Festplattenpartitionierung unter
				Linux erhalten haben, ist es an der Zeit, den Prozess zur Erstellung von
				Partitionen für Ihre Gentoo Linux Installation zu durchschreiten.
				Darauf werden Sie Partitionierung ähnlich zu dieser haben:</p>

<pre caption="Die Partitionierung nach Durchführung der folgenden
Schritte">
Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

   Device Boot    Start       End    Blocks   Id  System
/dev/hda1   *         1        14    105808+  83  Linux
/dev/hda2            15        81    506520   82  Linux swap
/dev/hda3            82      3876  28690200   83  Linux

Command (m for help):
</pre>

				<p>In unserer vorgeschlagenen &quot;Anfänger&quot; Partitionierung haben
				wir drei Partitionen.  Die erste (<c>/dev/hda1</c>) am Anfang der
				Festplatte ist eine kleine, sogenannte &quot;boot Partition&quot;.  Der
				Zweck der boot Partition ist, alle kritischen Daten, die zum Booten
				benötigt werden zu beinhalten -- die GRUB Bootmanager Informationen
				(falls Sie GRUB verwenden werden) als auch Ihre(n) Linux Kernel.  Die
				boot Partition biete einen sicheren Ort, um alles wichtige zu speichern,
				was zum Booten von Linux benötigt wird.  Während der alltäglichen
				Benutzung von Gentoo Linux sollte Ihre boot Partition zur Sicherheit
				<e>ungemountet</e> bleiben.  Wenn Sie ein SCSI System aufsetzen, wird
				Ihre boot Partition <c>/dev/sda1</c> sein.</p>

				<p>Es ist empfohlen, eine boot Partition am Anfang einer Festplatte
				einzurichten.  Obwohl es inzwischen egal ist, wo sich die boot Partition
				befindet, ist es eine Tradition aus den Tagen, als der LILO Bootmanager
				noch keine Kernel von Dateisystemen oberhalb des Zylinders 1024 laden
				konnte.</p>

				<p>Die zweite Partition (<c>/dev/hda2</c>) wird für den &quot;swap
				Bereich&quot; benötigt.  Der Kernel verwendet swap Bereiche als einen
				virtuellen Speicher, wenn der vorhandene RAM zur Neige geht.  Diese
				Partition ist, relativ gesehen, auch nicht sehr groß; üblicherweise etwa
				512MB.  Wenn Sie ein SCSI-System verwenden, wird die Partition
				<c>/dev/sda2</c> heissen.</p>

				<p>Die dritte Partition (<c>/dev/hda3</c>) ist recht groß und nimmt den
				kompletten Rest der Festplatte ein.  Diese Partition wird &quot;root
				Partition&quot; genannt und wird für das Haupt-Dateisystem, das Gentoo
				Linux selbst beinhaltet, verwendet.  Bei einem SCSI-System wird diese
				Partition <c>/dev/sda3</c> sein.</p>

				<p>Bevor wir die Festplatte partitionieren, hier ein kurzer technischer
				Überblick der empfohlenen Partitionen und Dateisystem-Konfigurationen
				für die Installation von Gentoo Linux:</p>

				<table>
					<tr>
						<th>Partition</th>
						<th>Größe</th>
						<th>Typ</th>
						<th>beispielhaftes Gerät</th>
					</tr>
					<tr>
						<ti>boot Partition, beinhaltet Kernel und Boot Informationen</ti>
						<ti>100 Megabyte</ti>
						<ti>ext2/3 stark empfohlen (am einfachsten); falls ReiserFS, dann
						mit <c>-o notail</c> mounten</ti> <ti>/dev/hda1</ti>
					</tr>
					<tr>
						<ti>swap Partition (kein 128MB limit, nun 2GB)</ti>
						<ti>üblicherweise hat der swap Bereich eine Größe von etwa zwei mal
						des physichen RAM</ti>
						<ti>Linux swap</ti>
						<ti>/dev/hda2</ti>
					</tr>
					<tr>
						<ti>root Partition, beinhaltet das Haupt-Dateisystem (/usr, /home,
						usw.)</ti>
						<ti>&gt;=1.5 Gigabyte</ti>
						<ti>ReiserFS oder ext3 empfohlen; ext2 ist okay</ti>
						<ti>/dev/hda3</ti>
					</tr>
				</table>

				<p>Gut, nun erzeugen Sie die Partitionen wie in dem oben genannten
				Beispiel.  Zuerst rufen Sie fdisk mit <c>fdisk /dev/hda</c> oder
				<c>fdisk /dev/sda</c>, abhängig ob Sie IDE oder SCSI verwenden, auf.
				Dann geben Sie <c>p</c>, um Ihre aktuelle Partitionierung einzusehen.
				Gibt es etwas auf der Festplatte, das Sie weiterhin benötigen?  Dann
				<b>stoppen Sie jetzt</b>.  Wenn Sie mit diesen Anweisungen fortfahren,
				werden <b>alle Ihre vorhandenen Daten auf der Festplatte
				gelöscht</b>.</p>

				<impo>Eine weitere Befolgung der Anweisungen bewirkt ein <b>Löschen</b>
				aller ihrer bereits vorhanden Daten auf Ihrer Festplatte!  Falls sich
				etwas auf der Festplatte befindet, seien Sie sich sicher, dass es keine
				kritischen Daten sind und deren Verlust Sie verschmerzen können.  Seien
				Sie sich außerdem sicher, dass Sie die <b>korrekte Festplatte gewählt
				haben</b>, sodass Sie nicht aus Versehen Daten auf der falschen
				Festplatte löschen.</impo>

				<p>Nun ist es an der Zeit alle existierenden Partitionen zu löschen.
				Dazu tippen Sie <c>d</c> ein drücken Enter.  Sie werden nach der
				Partitionsnummer gefragt, die Sie löschen möchten.  Um eine existierende
				<c>/dev/hda1</c> Partition zu löschen, gehen Sie so vor:</p>

<pre caption="Löschen einer Partition">
Command (m for help): d
Partition number (1-4): 1
</pre>

				<p>Die Partition wird zum Löschen vorgesehen.  Sie wird nicht mehr
				angezeigt, wenn Sie <c>p</c> eingeben, aber sie wird nicht eher
				gelöscht, bevor Sie die Änderungen speichern.  Wenn Sie einen Fehler
				gemacht haben und ohne Speichern der Änderungen fdisk beenden wollen,
				geben Sie sofort <c>q</c> ein und drücken Sie Enter, sodass Ihre
				Partition nicht gelöscht wird.</p>

<!-- Im Englischen Dokument gibt es eine Anmerkung zum Vorgehen bei RAID:

NOTE: THis is not sufficient documentation to cover ATA Raid and I just
find it confusing, so I'm commenting it out (drobbins)
<note>If you are using RAID your partitions will be a little different.  You
will have the partitions like this: <path>/dev/ataraid/discX/partY</path> X are
the arrays you have made, so if you only have made 1 array, then it will be
disc0.Y is the partition number as in <path>/dev/hdaY</path> </note>
-->

				<p>Nun, angenommen Sie wollen wirklich alle vorhandenen Partitionen
				löschen, geben Sie wiederholt <c>p</c> ein, um die Partitionen zu listen
				und dann <c>d</c>, gefolgt von der Partitionsnummer, die Sie löschen
				möchten.  Letzten Endes werden Sie mit einer leeren Partitionstabelle
				enden:</p>

<pre caption="Eine leere Partitionstabelle">
Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

   Device Boot    Start       End    Blocks   Id  System

Command (m for help):
</pre>

				<p>Mit einer im Speicher befindlichen leeren Partitionstabelle, sind Sie
				bereit, eine boot Partition zu erstellen.  Dazu geben Sie <c>n</c> ein,
				um eine neue Partition zu erstellen, dann <c>p</c>, um fdisk
				mitzuteilen, dass Sie eine primäre Partition wünschen.  Dann drücken Sie
				<c>1</c> zur Generierung der ersten primären Partition.  Wenn Sie nach
				dem ersten Zylinder gefragt werden, drücken Sie einfach Enter.  Bei der
				Nachfrage zum letzten Zylinder geben Sie <c>+100M</c> ein, um eine 100MB
				große Partition zu erstellen.  Die Ausgabe dieser Schritte sieht
				folgendermaßen aus:</p>

<pre caption="Schritte zur Erstellung der boot Partition">
Command (m for help): n
Command action
   e   extended
   p   primary partition (1-4)
p
Partition number (1-4): 1
First cylinder (1-3876, default 1):
Using default value 1
Last cylinder or +size or +sizeM or +sizeK (1-3876, default 3876): +100M
</pre>

				<p>Geben Sie nun <c>p</c> ein, sehen Sie die folgende
				Partitionierung:</p>

<pre caption="Die erste Partition wurde erzeugt">
Command (m for help): p

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

   Device Boot    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
</pre>

				<p>Als nächstes erzeugen Sie eine swap Partition.  Dazu geben Sie
				<c>n</c> ein, um eine neue Partition zu erzeugen, dann <c>p</c>, um
				fdisk mitzuteilen, dass Sie eine primäre Partition wünschen.  Darauf
				<c>2</c> zur Erzeugung der zweiten primären Partition, in diesem Fall
				also <c>/dev/hda2</c>.  Werden Sie nach dem ersten Zylinder gefragt,
				drücken Sie Enter.  Bei der Nachfrage zum letzten Zylinder, geben Sie
				<c>+512M</c> ein, um eine Partition von 512MB zu erstellen.  Darauf
				drücken Sie <c>t</c>, um den Partitionstyp zu setzen und geben <c>82</c>
				ein, entsprechend für einen &quot;Linux Swap&quot; Partitionstyp.
				Nachdem Sie diese Schritte durchgeführt haben, sollte <c>p</c> ähnlich
				zu dem Folgenden aussehen:</p>

<pre caption="Die swap Partition wurde erzeugt">
Command (m for help): p

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

   Device Boot    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda2            15        81    506520   82  Linux swap
</pre>

				<p>Abschließend erzeugen Sie die root Partition.  Dazu drücken Sie
				<c>n</c>, um eine neue Partition zu erzeugen, dann <c>p</c>, um fdisk
				mitzuteilen, dass Sie eine primäre Partition wünschen.  Dann drücken Sie
				<c>3</c> für die Generierung der dritten primären Partition, also
				<c>/dev/hda3</c>.  Wird nach dem ersten Zylinder gefragt, drücken Sie
				Enter.  Bei der Nachfrage zum letzten Zylinder, drücken Sie ebenso
				Enter, um eine Partition, die den restlichen freien Platz einnimmt, zu
				erzeugen.  Darauf sollte <c>p</c> eine Ausgabe ähnlich zu der folgenden
				darstellen:</p>

<pre caption="Die root Partition wurde erzeugt">
Command (m for help): p

Disk /dev/hda: 30.0 GB, 30005821440 bytes
240 heads, 63 sectors/track, 3876 cylinders
Units = cylinders of 15120 * 512 = 7741440 bytes

   Device Boot    Start       End    Blocks   Id  System
/dev/hda1             1        14    105808+  83  Linux
/dev/hda2            15        81    506520   82  Linux swap
/dev/hda3            82      3876  28690200   83  Linux
</pre>

				<p>Letztendlich muss noch das &quot;bootable&quot; Flag bei der boot
				Partition gesetzt und die Änderungen abgespeichert werden.  Um
				<c>/dev/hda1</c> als eine bootbare Partition zu kennzeichnen, geben Sie
				im Menu <c>a</c> gefolgt von <c>1</c> für die Partitionsnummer ein.
				Schauen Sie sich nun die Partitiontabelle mit <c>p</c> an, sehen Sie,
				dass <c>/dev/hda1</c> ein <c>*</c> in der Spalte &quot;Boot&quot;
				besitzt.  Schreiben Sie nun die Änderungen auf die Festplatte.  Dazu
				geben Sie <c>w</c> ein und drücken Enter.  Ihre Festplatte ist nun
				ordentlich für ein Gentoo Linux konfiguriert.</p>

				<note>Falls <c>fdisk</c> oder <c>cfdisk</c> Sie anweist, neu zu starten,
				damit Ihr System die Änderungen an der Partitionstabelle akzeptiert,
				dann tun Sie dieses bitte.</note>

			</body>
		</section>

		<section>
			<title>Dateisysteme erzeugen</title>
			<body>

				<p>Da nun die Partionen erzeugt wurden, ist es an der Zeit, die
				Dateisysteme auf der boot und root Partition einzurichten, sodass sie
				zur Datenspeicherung in Ihr System eingebunden werden können.  Außerdem
				wird die swap Partition konfiguriert, um als swap Bereich zu dienen.</p>

				<p>Gentoo Linux unterstützt eine Auswahl von unterschiedlichen
				Dateisystemen; jedes hat seine Stärken und Schwäschen und seine eigene
				Zusammenstellung an charakteristischer Leistung.  Derzeit wird die
				Generierung von ext2, ext3, XFS, JFS und ReiserFS Dateisystemen
				unterstützt.</p>

				<p>ext2 ist ein erprobtes Linux Dateisystem, unterstützt aber kein
				Journaling, was dazu führt, dass die routinemäßigen ext2 Dateisystem
				Prüfungen während des Startens recht zeitintensiv sind.  Daher gibt es
				eine Auswahl von neueren <e>Journaling</e> Dateisystemen, deren
				Konsitenz sehr schnell überprüft werden kann und von daher grundsätzlich
				den Nicht-Journaling Dateisystemen vorgezogen werden sollten.
				Journaling Dateisysteme beugen langen Wartezeiten beim Booten Ihres
				System mit <e>inkonsistenten</e> Dateisystemen vor.</p>

				<p>ext3 ist das entsprechende Journaling Dateisystem zu ext2, welches
				Metadaten Journaling für eine schneller Wiederherstellung sorgt,
				zusätzlich zu anderen verbesserten Journaling Modi, wie komplettes Daten
				und geordnetes Daten Journaling.  ext3 ist ein sehr gutes und
				zuverlässiges Dateisystem.  Es bietet grundsätzlich anständige Leistung
				während der meisten Einsatzumgebungen.  Dadurch, dass es im internen
				Design nicht sehr stark von &quot;trees&quot; Gebrauch macht, skaliert
				es nicht sehr gut; sprich, es ist keine gute Wahl für ein sehr großes
				Dateisystem oder Situationen in denen Sie mit großen Dateien oder einer
				großen Anzahl von Dateien in einem einzigen Verzeichnis arbeiten werden.
				Solange Sie es innerhalb seiner Design Parameter verwenden, ist ext3 ein
				exzellentes Dateisystem.</p>

				<p>ReiserFS ist ein B*-tree basiertes Dateisystem, das im Großen und
				Ganzen eine gute Leistung bietet und ext2 und ext3 weit übertrifft, wenn
				Sie mit kleinen Dateien (Dateien kleiner als 4kB) arbeiten, meistens mit
				einem Faktor von 10- bis 15-fach.  ReiserFS skaliert außerdem sehr gut
				und hat ein Metadata Journaling.  Seit Kernel 2.4.18 ist ReiserFS sicher
				und die erste Wahl sowohl für ein Mehrzweck-Dateisystem als auch für
				Extremfälle, wie großen Dateisystemen, die Verwendung von vielen kleinen
				Dateien, sehr großen Dateien und Verzeichnissen mit tausenden von
				Dateien.  ReiserFS ist das Dateisystem, das wir standardmäßig für alle
				nicht-boot Partitionen empfehlen.</p>

				<p>XFS ist ein Dateisystem mit Metadata Journaling, das durchgängig mit
				dem Gentoo Linux <path>xfs-sources</path> Kernel operiert.  Es
				beinhaltet ein robustes Feature-Set und ist für Skalierbarkeit
				optimiert.  Wir empfehlen, dieses Dateisystem nur in high-end SCSI
				und/oder Glasfaserkanal-Speicherung mit einer ununterbrechbaren
				Stromversorgung zu betreiben.  Dadurch, dass XFS sehr häufig die in
				Bewegung befindlichen Daten im RAM speichert, können unsachgemäß
				erstellte Programme (diese, die sich nicht an saubere Vorkehrungen beim
				Speichern auf Festplatte kümmern -- und davon gibt es einige) zu
				Datenverlust führen, wenn das Programm unvorhergesehen beendet wird.</p>

				<p>JFS ist ein eigens von IBM erstelltes hochleistungsfähiges Journaling
				Dateisystem.  Es wurde kürzlich erst produktionsreif, weshalb es noch
				keine Auflistung an Vor- oder Nachteilen zu seiner grundsätzlichen
				Stabilität gibt.</p>

				<p>Möchten Sie das stabilste Journaling Filesystem verwenden, wählen Sie
				ext3.  Für ein gutes Mehrzweck-Dateisystem mit hoher Leistung und
				Journaling, verwenden Sie ReiserFS.  Beide, ext3 und ReiserFS, sind voll
				entwickelt, raffiniert und empfohlen für den allgemeinen Gebrauch.</p>

				<p>Ausgehend von der oben genannten Beispielpartitionierung, geben Sie
				die folgenden Kommandos ein, um Ihre Dateisysteme zu generieren:</p>

<pre caption="Generierung der Dateisysteme (Beispiel)">
# mke2fs -j /dev/hda1
# mkswap /dev/hda2
# mkreiserfs /dev/hda3
</pre>

				<p>Für die boot Partition <c>/dev/hda1</c> wurde ext3 gewählt, da es ein
				robustes Jornaling Dateisystem ist, das von allen Bootmanagern
				unterstützt wird.  <c>mkswap</c> ist für die swap Partition
				<c>/dev/hda2</c> -- die Wahl ist hier offensichtlich.  Für die root
				Partition <c>/dev/hda3</c> wurde ReiseFS gewählt, da es ein solides
				Journaling Dateisystem mit einer hervorragenden Leistung ist.  Nun,
				fahren Sie fort und generieren Sie die Dateisysteme.</p>
				
				<p>Als Referenz dient diese Auflistung der verschiedenen <c>mkfs</c>
				Kommandos, die während der Installation zur Verfügung stehen:</p>

				<p><c>mkswap</c> ist das Kommado, um eine swap Partition zu
				initialisieren:</p>

<pre caption="swap Partition initialisieren">
# <c>mkswap /dev/hda2</c>
</pre>

				<p>Sie können <c>mke2fs</c> benutzen, um ein ext2-Dateisystem zu
				erstellen:</p>

<pre caption="Ein ext2 Dateisystem erzeugen">
# <c>mke2fs /dev/hda1</c>
</pre>

				<p>Wenn Sie ext3 vorziehen, können Sie es mit <c>mke2fs -j</c>
				erzeugen:</p>

<pre caption="Ein ext3 Dateisystem erzeugen">
# <c>mke2fs -j /dev/hda3</c>
</pre>

				<note>Mehr Informationen über ext3 mit Linux 2.4 finden Sie unter
				<uri>http://www.zip.com.au/~akpm/linux/ext3/ext3-usage.html</uri>.</note>

				<p>Für die Generierung eines ReiserFS Dateisystems, verwenden Sie das
				<c>mkreiserfs</c> Kommando:</p>

<pre caption="Ein ReiserFS Dateisystem erzeugen">
# <c>mkreiserfs /dev/hda3</c>
</pre>

				<p>Zum Erstellen eines XFS Dateisystems, rufen Sie <c>mkfs.xfs</c>
				auf:</p>

<pre caption="Ein XFS Dateisystem erzeugen">
# <c>mkfs.xfs /dev/hda3</c>
</pre>

				<note>Möglicherweise möchten Sie weitere Attribute an <c>mkfs.xfs</c>
				überreichen: <c>-d agcount=3 -l size=32m</c>.  Das <c>-d agcount=3</c>
				Attribut verringert die Anzahl der Zuordnungsgruppen.  XFS besteht auf
				mindestens eine Zuordnungsgruppe je vier Gigabyte Ihrer Partition,
				wodurch z.B. eine 20GB Partition mindestens ein agcount von 5 benötigt.
				Das <c>-l size=32m</c> Attribut erhöht die Journalgröße auf 32 MB und
				verbessert dadurch die Leistung.</note>

				<p>Um ein JFS Dateisystem zu erstellen, verwenden Sie
				<c>mkfs.jfs</c>:</p>

<pre caption="Ein JFS Dateisystem erzeugen">
# <c>mkfs.jfs /dev/hda3</c>
</pre>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Partitionen mounten</title>
		<section>
			<body>

				<p>Aktivieren Sie nun Ihre Swap Partition, denn es könnte sein, dass Sie
				den virtuellen Speicher später noch benötigen:</p>

<pre caption="swap Partition aktivieren">
# <i>swapon /dev/hda2</i>
</pre>

				<p>Als nächstes erstellen Sie die Verzeichnisse <path>/mnt/gentoo</path>
				und <path>/mnt/gentoo/boot</path>, anschließend mounten Sie Ihre
				Partitionen.  Sobald diese gemountet sind, wird jede Datei, die in
				<path>/mnt/gentoo</path> kopiert wird, in das neue Dateisystem
				geschreiben.  Wenn Sie Gentoo Linux mit separaten <path>/usr</path> oder
				<path>/var</path> Partitionen installieren, müssen diese dann an die
				entsprechenden Verzeichnisse gemountet werden
				(<path>/mnt/gentoo/usr</path> und <path>/mnt/gentoo/var</path>).</p>

				<impo>Wenn Ihre <e>boot</e> Partition, dort wo der Kernel unterbracht
				ist, eine ReiserFS Partition ist, achten Sie darauf, dass diese mit der
				<c>-o notail</c> Option gemountet wird, sonst wird GRUB nicht richtig
				installiert. Stellen Sie auch sicher, dass die Option <c>notail</c> auch
				mit in die <path>/etc/fstab</path> mit eingetragen wird, doch dazu
				später mehr.  Wenn Sie LILO mit ReiserFS verwenden möchten, dann ist die
				<c>-o notail</c> Option nicht notwendig.  Dennoch ist es immer sicher,
				die <c>-o notail</c> Option mit ReiserFS zu verwenden, wenn Sie nicht
				wissen, was zu tun ist.</impo>

<pre caption="Mount Verzeichnisse erzeugen">
# <c>mkdir /mnt/gentoo</c>
# <c>mount /dev/hda3 /mnt/gentoo</c>
# <c>mkdir /mnt/gentoo/boot</c>
# <c>mount /dev/hda1 /mnt/gentoo/boot</c>
</pre>

				<impo>Sollten Sie Probleme haben, Ihre boot Partition als ext2 zu
				mounten, versuchen Sie es mit <c>mount /dev/hda1 /mnt/gentoo/boot -t
				ext2</c>.</impo>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Stage tar-Archive und chroot</title>
		<section>
			<title>Wahl des gewünschten stage tar-Archivs</title>
			<body>

				<p>Nun sollten Sie sich endgültig entscheiden, mit welchem stage Sie
				ihre Installation durchführen wollen.</p>

				<p>Wenn Sie die &quot;bau alles von Grund auf&quot; (stage1)
				Installation gewählt haben, verwenden Sie das
				<path>stage1-x86-1.4_rc4.tar.bz2</path> Archiv.  Wenn Sie eine der
				größeren CDs verwenden, haben Sie zusätzlich die Wahl zwischen dem
				stage2 und dem stage3 Archiv. Diese Archive sparen Ihnen eventuell Zeit,
				das aber auf Kosten der Konfigurierbarkeit (Wir haben die Compiler
				Optimierung und <c>USE</c> Variablen für Sie ausgewählt).  Die stage
				tar-Archive sind auf der CD unter <path>/mnt/cdrom/gentoo</path>
				verfügbar; Sie können <c>ls /mnt/cdrom/gentoo</c> eingeben, um eine
				Liste der verfügbaren stage tar-Archive zu erhalten.</p>

				<p>Wenn Sie eine Installation von einem stage tar-Archiv durchführen
				wollen, das <e>nicht</e> auf der CD ist, müssen Sie es mit den folgenden
				Anweisungen herunterladen.  Falls Sie das stage tar-Archiv, das Sie
				benutzen wollen, bereits besitzen (bei den meisten Benutzern üblich),
				dann fahren Sie mit &quot;Entpacken des stage tar-Archivs&quot;
				fort.</p>

<pre caption="Herunterladen des gewünschten stage tar-Archivs">
# <c>cd /mnt/gentoo</c>
<comment>Verwenden Sie lynx, um die URL des tar-Archivs zu erhalten:</comment>
# <c>lynx # http://www.ibiblio.org/pub/Linux/distributions/gentoo/releases/1.4_rc4/x86/</c>
<comment>Verwenden Sie die <c>hoch</c> und <c>runter</c> Cursor-Tasten (oder
benutzen Sie <c>TAB</c>), um das gewünschte Verzeichnis hervorzuheben.
Drücken Sie dann <c>d</c> wodurch der Download gestartet wird.
Speichern Sie die Datei und beenden Sie den Browser mit <c>q</c>.

<b>Oder</b> verwenden Sie <c>wget</c> von der Kommandozeile:</comment>
# <c>wget <comment>fügen Sie hier den URL zum gewünschten tar-Archiv ein</comment></c>
</pre>

			</body>
		</section>

		<section>
			<title>Entpacken des stage tar-Archivs</title>
			<body>

				<p>Nun ist es an der Zeit das gepackte stage tar-Archiv Ihrer Wahl in
				<path>/mnt/gentoo/</path> zu entpacken.  Bedenken Sie, dass Sie nur
				<b>ein</b> stage tar-Archiv zu entpacken brauchen, also nur stage1,
				stage2 oder stage3.  Möchten Sie eine Installation von Gentoo mit stage3
				durchführen, dann packen Sie es folgendermaßen aus:</p>

				<impo>Stellen Sie sicher, dass Sie das Argument <c>p</c> mit <c>tar</c>
				verwenden.  Vergessen Sie dieses, werden die Dateien mit falschen
				Rechten entpackt.</impo>

<pre caption="Entpacken des stage tar-Archivs">
# <c>cd /mnt/gentoo</c>
<comment>Ändern Sie &quot;stage3&quot; in &quot;stage2&quot; oder
&quot;stage1&quot;, wenn Sie von diesen stages an installieren
möchten.</comment>
<comment>Wenn Sie ein stage tar-Archiv heruntergeladen haben, ändern Sie den
Pfad von &quot;/mnt/cdrom/gentoo/&quot; in &quot;/mnt/gentoo/&quot;.</comment>
# <c>tar -xvjpf /mnt/cdrom/stage3-*.tar.bz2</c>
</pre>

				<p>Wenn sie Ihr stage tar-Archiv nach
				<path>/mnt/gentoo/</path>heruntergeladen haben, können Sie dieses mit
				<c>rm /mnt/gentoo/stage*.tar.bz2</c> löschen.</p>

			</body>
		</section>

		<section>
			<title>chroot betreten</title>
			<body>

				<p>Als nächstes werden Sie in Ihre neue Gentoo Linux
				Installationsumgebung <c>chroot</c>en, und dort Ihr neues Gentoo Linux
				System &quot;betreten&quot;</p>

<pre caption="Vorbereiten und betreten der chroot Umgebung">
# <c>mount -t proc proc /mnt/gentoo/proc</c>
# <c>cp /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</c>
# <c>chroot /mnt/gentoo /bin/bash</c>
# <c>env-update</c>
Regenerating /etc/ld.so.cache...
# <c>source /etc/profile</c>
<comment>(Obiges erneuert die Pfade Ihrer Shell und frischt die Binärdateien auf.)</comment>
</pre>

				<p>Nachdem Sie diese Kommandos ausgeführt haben, befinden Sie sich
				&quot;innerhalb&quot; Ihrer neuen Gentoo Linux Umgebung in
				<path>/mnt/gentoo</path>.  Sie können den Rest der Installation
				innerhalb dieser chroot Umgebung ausführen.</p>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Den aktuellen Portage Tree herunterladen</title>
		<section>
			<body>

				<p>Als nächstes ist es nötig, <c>emerge rsync</c> aufzurufen.  Mit
				diesem Kommando teilen Sie Portage mit, die aktuelle Kopie des Gentoo
				Linux Portage Tree herunterzuladen.  Der Portage Tree beinhaltet alle
				Skripte (sogenannte ebuilds), die für das kompilieren aller Pakete unter
				Gentoo Linux verwendet werden.  Derzeit gibt es ebuild Skripte für knapp
				4000 Pakete.  Sobald <c>emerge sync</c> beendet ist, haben Sie einen
				kompletten Portage Tree in <path>/usr/portage</path>.</p>

<pre caption="Update des Portage Tree">
# <i>emerge rsync</i>
</pre>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Gentoo Optimierungen festlegen (make.conf)</title>
		<section>
			<body>

				<p>Da Sie nun eine aktuelle Kopie des Portage Tree haben, ist es an der
				Zeit, die Optimierungen und optionalen Einstellungen zum Kompilieren für
				Ihr Gentoo Linux System vorzunehmen.  Portage wird diese Einstellungen
				beim Kompilieren von jedem Programm verwenden.  Dazu editieren Sie die
				Datei <path>/etc/make.conf</path>.  Darin sollten Sie die <c>USE</c>
				Flags setzen, wodurch - falls vorhanden - optionale Funktionen in Ihre
				Programme einkompiliert werden; üblicherweise sind die
				Standardeinstellungen (eine <e>leere</e> oder ungesetzte <c>USE</c>
				Variable) okay.  Mehr Informationen über <c>USE</c> Flags können im <uri
				link="http://www.gentoo.org/doc/en/use-howto.xml">USE-Howto</uri>
				(derzeit nur Englisch) gefunden werden.  Weiterhin gibt es eine Liste
				über alle aktuellen <uri
				link="http://www.gentoo.org/dyn/use-index.xml">USE Flags</uri>.</p>

				<p>Sie sollten außerdem <c>CHOST</c>, <c>CFLAGS</c> und <c>CXXFLAGS</c>
				Einträge entsprechend Ihrem System vornehmen (auskommentierte Beispiele
				können weiter unten in der Datei gefunden werden).  Diese Einträge
				werden verwendet, um dem C und C++ Compiler mitzuteilen, wie der Code,
				der für Ihr System geniert wird, zu optimieren ist.  Es ist üblich, dass
				beispielsweise Benutzer von Athlon XP Prozessoren "-march=athlon-xp" in
				CFLAGS und CXXFLAGS eintragen, sodass alle Pakete mit einem
				entsprechenden Code und Leistungssteigerung für diese CPU gebaut werden.
				Die Datei <path>/etc/make.conf</path> enthält eine allgemeine Hilfe für
				die richtigen Einträge von CFLAGS und CXXFLAGS.</p>

				<p>Falls notwendig können ebenso Informationen zum Proxy eintragen,
				z.B. wenn Sie sich hinter einer Firewall befinden.  Benutzen Sie das
				folgende Kommando, um die <path>/etc/make.conf</path> mit <c>nano</c>,
				einem simplen Editor, zu bearbeiten.</p>

<pre caption="Einstellen von make.conf Optionen">
# <c>nano -w /etc/make.conf</c>
<comment>(Ändern Sie CHOST, CFLAGS, CXXFLAGS und benötigte USE oder Proxy Einstellungen)</comment>
</pre>

				<note>Möchten Sie den build Prozess im wesentlichen verändern, sollten
				Sie sich die Datei <path>/etc/make.globals</path> ansehen.  Diese Datei
				umfasst die Gentoo Standard Einstellungen und sollte niemals verändert
				werden.  Wenn Ihnen die Default Einstellungen nicht genügen, können Sie
				neue Einträge in der <path>/etc/make.conf</path> vornehmen, da diese die
				Einträge in der <path>/etc/make.globals</path> <e>überschreiben</e>.
				Wenn Sie an den Anpassungen der USE Variablen interessiert sind, schauen
				Sie sich <path>/etc/make.profile/make.defaults</path> an.  Möchten Sie
				dort aktivierte USE Variablen abschalten, tragen Sie in der
				<path>/etc/make.conf</path> entsprechend <c>USE=&quot;-foo&quot;</c>
				ein, um jede <c>foo</c> USE Variable abzuschalten, die standardmäßig in
				<path>/etc/make.globals</path> oder
				<path>/etc/make.profile/make.defaults</path> aktiviert ist.</note>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Beginnen von stage1</title>

		<section>
			<body>
				
				<note>Wenn Sie nicht von einem stage1 tar-Archiv beginnen, können Sie
				diesen Abschnitt überspringen.</note>

				<p>Das stage1 tar-Archiv ist für komplette Anpassungen und Optimierungen
				gedacht.  Wenn Sie sich für dieses tar-Archiv entschieden haben, werden
				Sie auf ein über-optimiertes und aktuelles System blicken können.  Haben
				Sie Spaß, denn Optimierung ist das, was Gentoo Linux ausmacht!  Die
				Installation von stage1 benötigt eine Menge Zeit, aber das Ergebnis ist
				ein System, das von Grund auf für Ihren Computer und Ihren Anforderungen
				optimiert wurde.</p>

				<p>Nun ist es an der Zeit den &quot;bootstrap&quot; Prozess zu starten.
				Dieser Prozess benötigt selbst auf einem 1200 MHz AMD Athlon System etwa
				zwei Stunden.  Während dieser Zeit werden die GNU C Library, der
				Compiler und andere wichtige System Programme gebaut.  Starten Sie die
				boostrap Prozess wie folgt:</p>

<pre caption="Bootstrapping">
# <c>cd /usr/portage</c>
# <c>scripts/bootstrap.sh</c>
</pre>

				<p>Der bootstrap Prozess wird nun beginnen.</p>

				<note>Portage benutzt standardmäßig das Verzeichnis
				<path>/var/tmp</path> während der Kompilierung, oftmals unter Verwendung
				von mehreren hundert Megabyte an temporären Dateien.  Wenn Sie Portage
				ein anderes Verzeichnis zum Speichern der temporären Dateien mitteilen
				wollen, setzen Sie die Variable PORTAGE_TMPDIR <e>bevor</e> Sie mit dem
				bootstrap Prozess beginnen:</note>

<pre caption="Ändern des Portage Pfades für temporäre
Auslagerungsdateien">
# <c>export PORTAGE_TMPDIR=&quot;/anderes/Verzeichnis/tmp&quot;</c>	
</pre>

				<p><c>bootstrap.sh</c> wird <c>binutils</c>, <c>gcc</c>, <c>gettext</c>
				und <c>glibc</c> bauen, darauf <c>binutils</c>, <c>gcc</c> und
				<c>gettext</c> mit der neuen <c>glibc</c> nochmals kompilieren.  Es ist
				unnötig darauf hinzuweisen, dass dieser Prozess eine ganze Weile in
				Anspruch nimmt.  Sobald der Prozess beendet ist, entspricht Ihr System
				einem &quot;stage2&quot; System, weshalb Sie mit den Anweisungen zu
				stage2 im kommenden Abschnitt fortfahren können.</p>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Beginnen von stage2 und Fortsetzung von stage1</title>

		<section>
			<body>
				
				<note>Dieser Abschnitt ist für jene, die eine Installation von stage1 an
				fortsetzen oder mit stage2 beginnen.  Falls Sie nicht dazu gehören (z.B.
				da Sie stage3 verwenden möchten), können Sie diesen Abschnitt
				überspringen.</note>

				<p>Das stage2 tar-Archiv hat den bootstrapping Prozess bereits hinter
				sich gebracht.  Sie müssen lediglich den Rest des System installieren.</p>

				<note>Wenn Sie von einem vorbereiteten stage2 die Installation beginnen
				und sicher sein wollen, dass der Compiler auf dem aktuellen Stand ist,
				fügen Sie zu den unten genannten Kommandos <c>-u</c> hinzu.  Wenn Sie
				nicht wissen, was diese Anmerkung bedeutet, können Sie sie
				ignorieren.</note>

<pre caption="Den Rest des Systems installieren">
# <c>emerge -p system</c>
<comment>(listet die zu installierenden Pakete auf)</comment>
# <c>emerge system</c>
</pre>

				<p>Es braucht einige Zeit, um das Kompilieren des Basissystems zu
				beenden.  Der Erfolg ist ein an Ihre Anpassungen optimiertes System.
				Der Nachteil ist, dass Sie sich während dieser Zeit irgendwie
				beschäftigen müssen.  Der Autor empfiehlt &quot;Star Wars - Super Bombad
				Racing&quot; für die Playstation 2...</p>

				<p>Das Basissystem ist nun kompiliert.  Fahren Sie nun mit dem Abschnitt
				&quot;Einstellen der Zeitzone&quot; fort.</p>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Beginnen von stage3</title>
		
		<section>
			<body>
				
				<note>Dieser Abschnitt ist für jene, die mit stage3 <e>beginnen</e>.
				Wenn Sie mit stage1 oder stage2 begonnen haben, können Sie ihn
				überspringen.</note>

				<p>Das stage3 tar-Archiv biete ein voll funktionsfähiges Gentoo System,
				sodass keine Kompilierung benötigt wird.  Wie auch immer, das stage3
				tar-Archiv ist vorkompiliert und kann ein wenig veraltet sein.  Falls
				Sie das beunruhigen sollte, können Sie automatisch Ihr existierendes
				stage3 updaten, um die aktuellsten Versionen des Basissystems zu
				erhalten, indem Sie die folgenden Anweisungen ausführen.  Bedenken Sie,
				dass dieses eine lange Zeit benötigen kann, wenn Ihr stage3 sehr alt
				ist; ansonsten wird dieser Prozess recht schnell mit dem Vorteil, die
				aktuellsten Gentoo Updates und Fehlerbehebungen zu beinhalten, beendet
				sein.  Wie dem auch sei, wenn Sie möchten, können Sie diesen Bereich
				überspringen und mit dem nächsten Abschnitt fortfahren.</p>

<pre caption="System aktualisieren">
# <c>export CONFIG_PROTECT=&quot;-*&quot;</c>
# <c>emerge -up system</c>
<comment>(listet die zu installierenden Pakete auf)</comment>
# <c>emerge -u system</c>
<comment>(aktualisiert die Pakete)</comment>
# <c>unset CONFIG_PROTECT</c>
</pre>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Einstellen der Zeitzone</title>

		<section>
			<body>
				
				<p>Nun ist es erforderlich, dass Sie Ihre Zeitzone einstellen.</p>

				<p>Halten Sie nach Ihrer Zeitzone (oder GMT falls Sie die Greenwich Mean
				Time verwendenden) in <path>/usr/share/zoneinfo</path>.  Dann erzeugen
				Sie eine symbolische Verknüpfung zu <path>/etc/localtime</path> durch:</p>

<pre caption="Erzeugen einer symbolischen Verknüpfung ihrer Zeitzone">
# <c>ln -sf /usr/share/zoneinfo/Pfad/zur/Zeitzonendatei /etc/localtime</c>
</pre>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Installieren des Kernels und des System Logger</title>

		<section>
			<body>
				
				<note>Falls Sie es noch nicht getan haben, bitte ändern Sie
				<path>/etc/make.conf</path> Ihren Vorstellungen entsprechend.</note>

				<p>Sie müssen nun die Linux Kernel Quellen &quot;mergen&quot;.  Hier
				eine Liste der derzeit zur Verfügung stehenden Kernel Quellen:</p>

				<table>
					<tr>
						<th>ebuild Name</th>
						<th>Beschreibung</th>
					</tr>

					<tr>
						<ti><path>gentoo-sources</path></ti>
						<ti>Der Gentoo-eigene performante und funktionserweiterte Kernel
						ohne XFS Unterstützung</ti>
					</tr>
					<tr>
						<ti><path>xfs-sources</path></ti>
						<ti>Hochkompatibler Kernel mit XFS Unterstützung</ti>
					</tr>
					<tr>
						<ti><path>openmosix-sources</path></ti>
						<ti>Ein Linux Kernel mit Erweiterungen der GPL <uri
						link="http://www.openmosix.com">openMosix</uri>
						load-balancing/clustering Technologie</ti>
					</tr>
					<tr>
						<ti><path>usermode-sources</path></ti>
						<ti>Ein Linux Kernel mit Erweiterungen für User-Mode Linux
						(&quot;Linux innerhalb von Linux&quot; Technologie)</ti>
					</tr>
					<tr>
						<ti><path>vanilla-sources</path></ti>
						<ti>Ein Linux Kernel, wie es ihn von kernel.org gibt</ti>
					</tr>
				</table>

				<warn>Wenn Sie Ihren eigenen Kernel konfigurieren, seien Sie mit der
				<e>grsecurity</e> Option vorsichtig.  Wenn Sie die
				Sicherheitseinstellungen zu aggressiv wählen, können als Folge bestimmte
				Programme (wie z.b. X) nicht ordentlich laufen.  Sind sie im Zweifel, so
				schalten Sie diese Option aus.</warn>

				<p>Wählen Sie einen Kernel und mergen Sie ihn wie folgt:</p>

<pre caption="Emergen der Kernel Quellen">
# <c>emerge sys-kernel/gentoo-sources</c>
</pre>

				<p>Sobald die Linux Kernel Quellen auf Ihrem System verfügbar sind,
				bauen Sie sich Ihren eigenen Kernel.</p>

				<p>Beachten Sie, dass <path>/usr/src/linux</path> eine symbolische
				Verknüpfung zu dem aktuell geemergeten Kernel Quellen Paket ist, die
				automatisch währen des emergen gesetzt wird.  Wenn Sie mehrere Kernel
				Quellen Pakete haben, müssen Sie die symbolische Verknüpfung
				<path>/usr/src/linux</path> entsprechend anpassen, bevor Sie
				fortfahren.</p>

<pre caption="Kompilieren des Linux Kernel">
# <c>cd /usr/src/linux</c>
# <c>make menuconfig</c>
# <c>make dep &amp;&amp; make clean bzImage modules modules_install</c>
# <c>cp /usr/src/linux/arch/i386/boot/bzImage /boot</c>
</pre>

				<warn>Damit Ihr Kernel später ordentlich läuft, gibt es einige Optionen,
				die Sie überprüfen sollten -- das heisst, sie sollten <e>eingeschaltet
				und nicht als Modul kompiliert</e> werden.  Seien Sie sicher, dass
				&quot;ReiserFS&quot; eingeschaltet ist, wenn Sie ReiserFS partitionen
				verwenden; das selbe gilt für &quot;Ext3&quot;.  Wenn Sie XFS verwenden,
				schalten Sie die &quot;SGI XFS filesystem support&quot; Option ein.
				Außerdem ist es immer eine gute Idee &quot;Ext2&quot; eingeschaltet zu
				haben, gleichgültig ob Sie es verwenden oder nicht.  Hier sind einige
				allgemeine Optionen, die Sie benötigen:</warn>


<pre caption="make menuconfig Optionen">
Code maturity level options ---&gt;
  [*] Prompt for development and/or incomplete code/drivers&quot;
<comment>(Sie benötigen dieses, um einige der Optionen weiter unten zu aktivieren.)</comment>
     ...

File systems ---&gt;
  &lt;*&gt; Reiserfs support
<comment>(Nur benötigt, wenn Sie ReiserFS verwenden.)</comment>
       ... 
  &lt;*&gt; Ext3 journalling file system support
<comment>(Nur benötigt, wenn Sie ext3 verwenden.)</comment>
       ...
  [*] Virtual memory file system support (former shm fs)
<comment>(Erforderlich für Gentoo Linux.)</comment>
       ...
  &lt;*&gt; JFS filesystem support
<comment>(Nur benötigt, wenn Sie JFS verwenden.)</comment>
       ...
  [*] /proc file system support
<comment>(Erforderlich für Gentoo Linux.)</comment>
  [*] /dev file system support (EXPERIMENTAL)
  [*]   Automatically mount at boot          
<comment>(Erforderlich für Gentoo Linux.)</comment>
  [ ] /dev/pts file system for Unix98 PTYs
<comment>(Schaltet Sie es aus, es wird NICHT gebraucht.)</comment>
       ...
  &lt;*&gt; Second extended fs support
<comment>(Nur benötigt, wenn Sie ext2 verwenden.)</comment>
       ...
  &lt;*&gt; XFS filesystem support
<comment>(Nur benötigt, wenn Sie XFS verwenden.)</comment>
</pre>

				<p>Falls Sie ein Hardware-RAID verwenden, müssen Sie eine Reihe von
				weiteren Optionen im Kernel aktivieren: Für Highpoint RAID Controller
				wählen Sie die Unterstützung für den hpt366 Chipsatz, Unterstützung für
				IDE RAID Controller und Highpoint 370 Software RAID.  Für Promise RAID
				Controller wählen Sie die Unterstützung für PROMISE
				PDC202{46|62|65|67|68|69|70}, sowie IDE RAID Controller und Promise
				software RAID (Fasttrak(tm)).</p>

				<p>Verwenden Sie PPPoE um sich ins Internet einzuwählen (z.B. mit DSL),
				benötigen Sie die folgen Optionen (fest im Kernel kompiliert oder besser
				als Modul): &quot;PPP (point-to-point protocol)&quot;, &quot;PPP support
				for async serial ports&quot;, &quot;PPP support for sync tty
				ports&quot;.  Die beiden Komprimierungs-Optionen stören nicht, aber
				werden auch nicht unbedingt benötigt; gleiches gilt für die &quot;PPP
				over Ethernet&quot; Option, die nur von <e>rp-pppoe</e> verwendet wird,
				wenn es das PPPoE des Kernel verwenden soll.</p>

				<p>Besitzen Sie einen IDE CD-Brenner, dann sollten Sie die SCSI
				emulation aktivieren.  Schalten Sie &quot;ATA/IDE/MFM/RLL support&quot;
				---&gt; &quot;IDE, ATA, and ATAPI Block devices&quot; ---&gt; &quot;SCSI
				emulation support&quot; (üblicherweise als Modul) ein, dann unter
				&quot;SCSI support&quot; den &quot;SCSI support&quot;, &quot;SCSI CD-ROM
				support&quot; und &quot;SCSI generic support&quot; (wieder als Modul)
				einschalten.  Um diese Module automatisch beim Booten zu laden, führen
				Sie das Kommando <c>echo -e &quot;ide-scsi\nsg\nsr_mod&quot; &gt;&gt;
				/etc/modules.autoload</c> aus.</p>

				<note>Wenn Sie es vorziehen, können Sie nun auch Gentoo Linux mit einem
				2.2 Kernel installieren.  Jedoch zahlen Sie dafür einen hohen Preis: Sie
				werden alle raffinierten Erweiterungen der 2.4er Kernel Serie verlieren
				(wie z.B. XFS und tmpfs Dateisysteme, iptables und mehr), obwohl der 2.2
				Kernel mit ReiserFS und devfs Unterstützung erweitert werden kann.  Die
				Gentoo Linux Boot Skripte benötigen entweder tmpfs oder Unterstützung
				für ramdisk im Kernel, sodass Benutzer von 2.2 Kernel die ramdisk
				Unterstützung im Kernel einkompiliert haben müssen (nicht als Modul).
				Es ist <e>wichtig</e>, dass die <c>gentoo=notmpfs</c> Option zur Kernel
				Startzeile in der <path>/boot/grub/grub.conf</path> oder der
				<path>/etc/lilo.conf</path> hinzugefügt wird, sodass der 2.2 Kernel eine
				ramdisk für die Boot Skripte mounted anstatt von tmpfs.  Wenn Sie sich
				dafür entscheiden, nicht devfs zu verwenden, dann sollte stattdessen die
				Option <c>gentoo=notmpfs,nodevfs</c> verwendet werden.</note>

				<p>Ihr neuer angepasster Kernel (und seine Module) sind nun installiert.
				Nun sollten Sie einen System Logger wählen, den Sie installieren
				möchten.  Es gibt <c>sysklogd</c>, eine traditionelle Reihe an System
				Logger Diensten, als auch <c>msyslog</c>, <c>syslog-ng</c> und
				<c>metalog</c>.  Power User scheinen sich inzwischen von sysklogd
				abzuwenden (keine gute Performanz) und wählen eine der neueren
				Alternativen.  Zweifeln Sie, so versuchen Sie metalog, da es recht
				populär ist.  Um den System Logger Ihrer Wahl zu emergen, geben Sie
				<e>eine</e> der folgenden vier Möglichkeiten ein:</p>

<pre caption="System Logger emergen">
# <c>emerge app-admin/sysklogd</c>
# <c>rc-update add sysklogd default</c>
<comment>oder</comment>
# <c>emerge app-admin/syslog-ng</c>
# <c>rc-update add syslog-ng default</c>
<comment>oder</comment>
# <c>emerge app-admin/metalog</c>
# <c>rc-update add metalog default</c>
<comment>oder</comment>
# <c>emerge app-admin/msyslog</c>
# <c>rc-update add msyslog default</c>
</pre>

				<impo>Metalog schreibt die Ausgaben in Blöcken auf die Festplatte,
				sodass Nachrichten nicht direkt in den System-Logs erscheinen.  Wenn Sie
				versuchen einen Dienst von Fehlern zu beseitigen, ist dieses
				Performanz-steigernde Verhalten nicht sehr hilfreich.  In Ihrem
				laufenden Gentoo Linux System können Sie an metalog ein USR1 Signal
				senden, um vorübergehend das Zwischenspeichern abzuschalten (d.h.
				<c>tail -f /var/log/everything/current</c> arbeitet nun wie erwartet in
				Echtzeit); und ein USR2 Signal, um die Zwischenspeicherung wieder
				einzuschalten.  Wenn Sie die Zwischenspeicherung generell abschalten
				wollen, können Sie <c>METALOG_OPTS=&quot;-B&quot;</c> in
				<c>METALOG_OPTS=&quot;-B -s&quot;</c> in der
				<path>/etc/conf.d/metalog</path> ändern.</impo>	

				<p>Sie können nun wahlweise zusätzlich einen Cron Dienst wählen, um
				regelmäßig auftretende Vorgänge automatisiert ausführen zu lassen.  Zur
				Zeit gibt es <c>dcron</c>, <c>fcron</c> und <c>vcron</c>.  Wenn Sie sich
				nicht entscheiden können, wählen Sie vcron.  Die Installation wird
				folgendermaßen durchgeführt:</p>

<pre caption="Cron Dienst installieren">
# <c>emerge sys-apps/dcron</c>
# <c>rc-update add dcron default</c>
# <c>crontab /etc/crontab</c>
<comment>oder</comment>
# <c>emerge sys-apps/fcron</c>
# <c>rc-update add fcron default</c>
# <c>crontab /etc/crontab</c>
<comment>oder</comment>
# <c>emerge sys-apps/vcron</c>
# <c>rc-update add vcron default</c>
<comment>Sie brauchen nicht <c>crontab /etc/crontab</c> bei Verwendung von vcron ausführen.</comment> 
</pre>

				<p>Weitere Informationen, um Programme und Dienste während des
				Systemsstarts auszuführen, finden Sie im <uri
				link="/doc/de/rc-scripts.xml">rc-script Guide</uri>.</p>
				
			</body>
		</section>
	</chapter>

	<chapter>
		<title>Installation von diversen benötigten Paketen</title>

		<section>
			<body>
				
				<p>Falls Sie <c>rp-pppoe</c> benötigen, um sich ins Internet
				einzuwählen, so sollten Sie dieses nun installieren.</p>

<pre caption="Installation von rp-pppoe">
# <c>USE=&quot;-X&quot; emerge rp-pppoe</c>
</pre>

				<note>Das <c>USE=&quot;-X&quot;</c> verhindert die Installation des
				optionalen X Interface für pppoe, was an dieser Stelle angegeben werden
				sollte, da sonst X und alle seine abhängigen Pakete installiert werden.
				Sie können <c>rp-pppoe</c> mit X Unterstützung später noch einmal neu
				bauen.</note>

				<note>Bedenken Sie, dass <c>rp-pppoe</c> nur installiert, aber nicht
				konfiguriert wird.  Dazu rufen Sie nochmals <c>adsl-setup</c> auf,
				nachdem Sie das erste Mal von Ihrem Gentoo System gebootet haben.</note>

				<p>Sie benötigen weitere Pakete aus dem Portage Tree, wenn Sie optionale
				Erweiterungen wie XFS, ReiserFS oder LVM verwenden.</p>

<pre caption="Dateisystem Hilfsprogramme emergen">
<comment>Wenn Sie XFS verwenden, sollten Sie das die XFS Tools installieren:</comment>
# <c>emerge sys-apps/xfsprogs</c>
<comment>Wenn Sie ReiserFS verwenden, sollten Sie die ReiserFS Tools installieren:</comment>
# <c>emerge sys-apps/reiserfsprogs</c>
<comment>Wenn Sie JFS verwenden, sollten Sie die JFS Tools installieren:</comment>
# <c>emerge sys-apps/jfsutils</c>
<comment>Wenn Sie LVM verwenden, sollten Sie das lvm-user Paket installieren:</comment>
# <c>emerge sys-apps/lvm-user</c>
</pre>

				<p>Sind Sie ein Laptop-Benutzer und möchten auf die PCMCIA Slots während
				Ihres ersten richtigen Reboots zugreifen, sollten Sie das
				<c>pcmcia-cs</c> Paket installieren.</p>

<pre caption="PCMCIA-cs emergen">
# <c>emerge sys-apps/pcmcia-cs</c>
</pre>

				<warn>Sie müssen <c>pcmcia-cs</c> nach der Installation nochmals
				kompilieren, um PCMCIA benutzen zu können.</warn>

			</body>
		</section>
		
	</chapter>

	<chapter>
		<title>Ändern der /etc/fstab für Ihre Maschine</title>
		
		<section>
			<body>
				
				<p>Ihr Gentoo Linux System ist beinahe zur Benutzung fertig.  Es müssen
				lediglich noch ein paar wichtige Systemdateien konfiguriert un der
				Bootmanager installiert werden.  Zuerst wird die Datei
				<path>/etc/fstab</path> editiert.  Beachten Sie, dass die <c>notail</c>
				Option zu Ihrer boot Partition hinzugefügt werden soll, wenn Sie diese
				als ReiserFS angelegt haben.  Weiterhin geben Sie die Dateisystemtypen
				<c>ext2</c>, <c>ext3</c> oder <c>reiserfs</c> entsprechen Ihrer
				Konfiguration an.</p>

				<p>Verwenden Sie eine <path>/etc/fstab</path> ähnlich zu der unten
				genannten, jedoch tauschen Sie &quot;BOOT&quot;, &quot;ROOT&quot; und
				&quot;SWAP&quot; mit den tatsächlichen Partitionsnummern aus (wie z.B.
				<c>hda1</c> usw.).</p>

<pre caption="Editieren der fstab">
<comment># /etc/fstab: static file system information.
#
# noatime turns off atimes for increased performance (atimes normally aren't
# needed; notail increases performance of ReiserFS (at the expense of storage
# efficiency).  It is safe to drop the noatime options if you want and to 
# switch between notail and tail freely.

# &lt;fs&gt;           &lt;mount point&gt;   &lt;type&gt;   &lt;opts&gt;          &lt;dump/pass&gt;

# NOTE: If your BOOT partition is ReiserFS, add the notail option to opts.
</comment>
/dev/BOOT           /boot       ext2     noauto,noatime	 1 2
/dev/ROOT           /           ext3     noatime         0 1
/dev/SWAP           none        swap     sw              0 0
/dev/cdroms/cdrom0  /mnt/cdrom  iso9660	 noauto,ro       0 0
proc                /proc       proc     defaults        0 0
</pre>

				<warn>Bitte beachten Sie, dass <path>/boot</path> nicht während des
				Bootens gemountet wird.  Das geschieht aus dem Grunde, um die Daten in
				<path>/boot</path> zu schützen.  Wenn Sie Zugriff auf <path>/boot</path>
				benötigen, müssen Sie es mounten.</warn>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Das Passwort für root eingeben</title>

		<section>
			<body>
				
				<p>Bevor Sie es vergessen, sollten Sie root ein Passwort vergeben:</p>

<pre caption="root Passwort eingeben">
# <c>passwd</c>
</pre>

				<p>Sie sollten darüberhinaus einen weiteren Benutzer für die alltägliche
				Benutzung anlegen.  Bitte schauen Sie dazu in die <uri
				link="/doc/de/faq.xml">Gentoo FAQ</uri>.</p>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Einstellen des Hostname</title>

		<section>
			<body>
				
				<p>Ändern Sie die Datei <path>/etc/hostname</path> so, dass er einen
				&quot;fully-qualified domain name&quot; in einer einzelnen Zeile
				enthält, z.B. <c>meinrechner.meinedomain.lan</c>.</p>

<pre caption="Hostname einstellen">
# <c>echo meinrechner.meinedomain.lan &gt; /etc/hostname</c>
</pre>

				<note>Eventuell erhalten Sie die Daten von Ihrem Netzwerkadminstrator.
				Verwenden Sie den Rechner ausschließlich in einem lokalen Netzwerk,
				verwenden Sie keine echten Domains, mit denen Sie in Kollision geraten
				können.  Aus diesem Grund gibt es die Top-Level-Domain <c>.lan</c>, um
				zu Kennzeichnen, dass es sich ausschließlich um eine lokale Domain
				handelt.</note>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Die /etc/hosts anpassen</title>

		<section>
			<body>
				
				<p>Die Datei <path>/etc/hosts</path> enthält eine Liste von IP-Adressen
				und ihren zugehörigen Hostnamen.  Sie wird vom System verwendet, um
				IP-Adressen von Hostnamen aufzulösen, die nicht in Ihrem Nameserver
				verzeichnet sind.  Hier ist ein Beispiel für Diese Datei:</p>

<pre caption="Beispiel für /etc/hosts">
127.0.0.1      localhost
<comment># Die nächste Zeile enthält die IP-Adresse Ihres Rechners in Verbindung mit dem Hostnamen</comment>
192.168.1.1    meinrechner.meinedomain.lan
</pre>

				<note>Wenn Sie Ihre IP-Adresse von einem DHCP-Server beziehen, ist es
				hilfreich, anstatt <c>localhost</c> ihren Hostname einzutragen.  Das
				hilft GNOME als auch anderen Programmen in der Namensauflösung.</note>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Abschließende Netzwerk Konfiguration</title>

		<section>
			<body>
				
				<p>Fügen Sie die Namen von allen Modulen, die für ein ordentliches
				Funktionieren Ihres Systems erforderlich sind, in der Datei
				<path>/etc/modules.autoload</path> hinzu (Sie können ebenso etwaige
				Optionen für die Module dort hinzufügen).  Wenn Gentoo Linux bootet lädt
				es diese Module automatisch.  Besonders wichtig sind Ihre
				Netzwerkkarten Module, wenn Sie diese als Modul kompiliert haben:</p>

<pre caption="/etc/modules.autoload">
<comment>Angenommen Sie verwenden eine 3COM Karte, schauen Sie im Verzeichnis
<path>/lib/modules/`uname -r`/kernel/drivers/net</path> nach dem Namen des
Moduls.  In diesem Fall wäre es:</comment>
3c59x
</pre>

				<p>Passen Sie die Datei <path>/etc/conf.d/net</path> für das erste
				Booten an:</p>

<pre caption="Netzwerk Konfiguration zum Booten">
# <c>nano -w /etc/conf.d/net</c>
# <c>rc-update add net.eth0 default</c>
</pre>

				<p>Haben Sie mehr als eine Netzwerkkarte, müssen Sie zusätzliche
				<path>net.eth<comment>x</comment></path> Skripte erstellen, eins für
				jede Karte (<comment>x</comment> = 1, 2, ...):</p>

<pre caption="Mehrere Netzwerkkarten">
# <c>cd /etc/init.d</c>
# <c>cp net.eht0 net.eth<comment>x</comment></c>
# <c>rc-update add net.eth<comment>x</comment> default</c>
</pre>

				<p>Verwenden Sie eine PCMCIA Karte, schauen Sie in die Datei
				<path>/etc/init.d/pcmcia</path>, um festzustellen, dass alle
				Einstellungen korrekt sind und fügen Sie die folgenden Zeilen zuoberst
				des Skripts <path>/etc/init.d/net.eth<comment>x</comment></path>:</p>

<pre caption="PCMCIA Abhängigkeit in /etc/init.d/net.ethx">
depend() {
  need pcmcia
}
</pre>

				<p>Dadurch werden die PCMCIA Treiber automatisch beim Ausführen des
				Netzwerkkarten Skripts mitgeladen.</p>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Basiseinstellungen vornehmen (inklusive Tastaturbelegung einstellen)</title>

		<section>
			<body>

<pre caption="Basiseingellungen">
# <c>nano -w /etc/rc.conf</c>
</pre>

				<p>Folgen Sie den Anleitungen in dieser Datei, um die Basiseinstellungen
				vorzunehmen.  Die <c>CLOCK</c> Einstellung sollte Ihrem System
				entsprechend eingestellt werden.  Für eine deutsche Tastaturbelegung
				ändern Sie <c>KEYMAP</c> in <c>KEYMAP=&quot;de-latin1&quot;</c> (für
				weitere Tastaturbelegungen schauen Sie in das Verzeichnis
				<path>/usr/share/keymaps</path>).</p>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Konfigurieren des Bootloaders</title>

		<section>
			<title>Anmerkungen</title>
			<body>

				<p>Grundsätzlich können Sie derzeit zwischen den beiden
				Bootloadern<c>GRUB</c> und <c>LILO</c> wählen.  Es ist nicht nötig,
				beide Bootloader zu installieren, es wird sogar ein Nachteil sein!  Von
				daher wählen Sie bitte nur einen.</p>

				<p>Wenn Sie Gentoo Linux auf einem System mit einem NVIDIA nForce oder
				nForce2 Chipsatz mit einer integrierten GeForce Grafikkarte
				installieren, sollten Sie LILO wählen und GRUB vermeiden.  Mit
				eingeschalteter on-board Grafikkarte, wird der untere Bereich des RAMs
				als Grafikspeicher verwendet.  Da GRUB ebenso den unteren
				Speicherbereich beim Booten verwendet, kann es zu &quot;out of
				memory&quot; Fehlern kommen.  Von daher, haben Sie einen nForce
				Chipsatz oder ein anderes Mainboard mit einer on-board Grafikkarte,
				verwenden Sie LILO.  Selbst, wenn Sie eine weitere Grafikkarte eingebaut
				haben, ist es praktisch, dass Sie diese entfernen und weiterhin Gentoo
				Linux booten können.</p>

			</body>
		</section>

		<section>
			<title>GRUB konfigurieren</title>
			<body>

				<p>Der kritische Teil beim Verständnis von GRUB ist zu Verstehen, wie
				GRUB Festplatten und Partitionen anspricht.  Ihre Linux partition
				<path>/dev/hda1</path> ist unter GRUB <path>(hd0,0)</path>.  Beachten
				Sie die Klammern um hd0,0 -- Sie sind vonnöten.  Festplatten werden von
				Null an gezählt anstatt mit &quot;a&quot; beginnend.  Partitionen
				starten mit Null anstatt mit Eins.  Außerdem werden mit hd nur
				Festplatten angesprochen und keine ATAPI-IDE Geräte, wie CDROMs,
				Brenner, jedoch kann es auch für SCSI-Festplatten verwendet werden
				(normalerweise erhalten sie höhere Nummern als IDE Geräte, außer das
				BIOS wurde so konfiguriert, dass es von SCSI booten soll).  Angenommen,
				Sie haben eine Festplatte an /dev/hda, ein CDROM an /dev/hdb und einen
				Brenner an /dev/hdc, eine weitere Festplatte an /dev/hdd und keine SCSI
				Festplatten, dann ist <path>/dev/hdd7</path> unter GRUB
				<path>(hd1,6)</path>.</p>

				<p>Es mag ein wenig trickreich klingen, und es ist wirklich trickreich,
				aber Sie werden sehen, dass GRUB eine Tab-Completion anbietet, die sehr
				hilfreich ist, wenn Sie mehrere Festplatten und Partitionen besitzen und
				wenn Sie sich ein wenig in der GRUB-Nummerierung verlieren.  Wenn Sie
				ein wenig Gefühl dafür haben, dann sollten Sie GRUB installieren.</p>

				<p>Der einfachste Weg GRUB zu installieren, ist <c>grub</c> am Prompt
				einzugeben:</p>

<pre caption="GRUB installieren">
# <c>emerge grub</c>
# <c>grub</c>
</pre>

				<impo>Verwenden Sie ein Hardware RAID, dann wird es auf diese Weise
				nicht funktionieren.  Überspringen Sie den Abschnitt zur
				<path>grub.conf</path>, worauf die Einstellungen für RAID erläutert
				werden.</impo>

				<p>Sie sehen nun das GRUB Prompt <c>grub&gt;</c>.  Sie müssen nun die
				richtigen Kommandos eintippen, um den GRUB boot record auf Ihre
				Festplatte zu installieren.  In diesem Beispiel wird GRUB in den MBR
				(Master Boot Record) installiert, sodass Sie als erstes das GRUB Prompt
				sehen, wenn Sie Ihren Rechner einschalten.  In diesem Fall wären die
				Kommandos folgende:</p>

<pre caption="GRUB in den MBR installieren">
grub&gt; <c>root (hd0,0)</c> <codenote>Ihre Boot Partition</codenote>
grub&gt; <c>setup (hd0)</c> <codenote>Wo der boot record installiert werden soll (hier ist es der MBR)</codenote>
grub&gt; <c>quit</c>
</pre>

<pre caption="GRUB nicht in den MBR installieren">
<comment>Alternativ können Sie GRUB auch woanders als den MBR installieren</comment>
grub&gt; <c>root (hd0,0)</c> <codenote>Ihre Boot Partition</codenote>
grub&gt; <c>setup (hd0,4)</c> <codenote>Wo der boot record installiert werden soll (hier ist es /dev/hda5)</codenote>
grub&gt; <c>quit</c>
</pre>

				<p>Die Kommandos bewirken folgendes: Zuerst teilen Sie mit <c>root ( )</c>
				GRUB Ihre Boot Partition mit (im obigen Beispiel <path>/dev/hda1</path>
				oder <path>(hd0,0)</path> in der GRUB Schreibweise).  Das zweite
				Kommando <c>setup ( )</c> berichtet GRUB wo es den boot record hin
				installieren soll, sodass es nach seinen speziellen Dateien an der mit
				<c>root ( )</c> angegebenen Stelle schauen soll.  In dem obigen Fall
				wird der boot record in den MBR der Festplatte geschrieben, sodass nur
				<path>/dev/hda</path> (oder auch als <path>(hd0)</path> bekannt)
				angegeben werden muss.  Wenn Sie einen anderen Bootloader und
				GRUB als einen zweiten Bootloader verwenden wollen, können Sie den boot
				record in einer bestimmten Partition installieren.  In diesem Fall geben
				Sie die bestimmte Partition anstatt der ganzen Festplatte an.  Sobald
				der boot record erfolgreich installiert wurde, geben Sie <c>quit</c>
				ein, um GRUB zu beenden.</p>

				<note>Die Tab Completion von GRUB kann so benutzt werden, dass Sie
				beispielsweise <c>root (</c> eingeben und danach die TAB-Taste drücken,
				wodurch Sie eine Liste der verfügbaren Geräte (nicht nur Festplatten)
				erhalten.  Drücken Sie die TAB-Taste nachdem Sie <c>root (hd</c>
				eingegeben haben, wird GRUB Ihnen die verfügbaren Festplatten anzeigen.
				Und drücken Sie die TAB-Taste nachdem Sie <c>root (hd0,</c> eingegeben
				haben, zeigt GRUB Ihnen eine Liste der Partitionen auf dieser
				Festplatte.  Mittels der Tab Completion können Sie recht effektiv den
				Syntax überprüfen und die richtige Wahl treffen.</note>

				<p>Gentoo Linux ist nun installiert, aber Sie müssen noch die Datei
				<path>/boot/grub/grub.conf</path> erzeugen, um ein nettes GRUB Boot Menu
				zu erhalten.</p>

				<impo>Um eine rückwärtige Kompatibilität zu GRUB zu bewahren, erzeugen
				Sie eine Verknüpfung von <path>grub.conf</path> zu
				<path>menu.lst</path>.  Sie können dieses mit <c>ln -s
				/boot/grub/grub.conf /boot/grub/menu.lst</c> erledigen.</impo>

				<p>Erstellen Sie jetzt die Datei <path>grub.conf</path> (<c>nano -w
				/boot/grub/grub.conf</c>) mit dem folgendem Inhalt:</p>

<pre caption="grub.conf für GRUB">
default 0
timeout 30
splashimage=(hd0,0)/boot/grub/splash.xpm.gz

title=Mein Gentoo Linux
root (hd0,0) 
kernel (hd0,0)/boot/bzImage root=/dev/hda3 

<comment># Beispiel für ein Hardware RAID</comment>
title=Mein Gentoo Linux mit RAID
root (hd0,0)
kernel (hd0,0)/boot/bzImage root=/dev/ataraid/dXpY

<comment># Beispiel für ein weiteres Betriebssytem</comment>
title=Windows XP
root (hd0,5)
chainloader (hd0,5)+1
</pre>

				<note>(hd0,0) muss ohne Leerzeichen in den Klammern geschrieben
				werden.</note>

				<impo>Wenn Sie vorab die SCSI Emulation für einen IDE CD Brenner
				eingerichtet haben, dann benötigen Sie den Zusatz <c>hdx=ide-scsi</c> in
				der <c>kernel</c> Zeile der <path>grub.conf</path> (&quot;hdx&quot; soll
				dem Gerät Ihres Brenners entsprechen).</impo>

				<p>Nachdem Sie die Datei gespeicher haben, ist Ihre Gentoo Linux
				Installation beendet.  Wenn Sie den ersten Eintrag im Boot Menu wählen,
				wird GRUB ohne großen Aufhebens Gentoo Linux starten.  Der zweite
				Teil in der Datei ist optional und zeigt Ihnen, wie Sie GRUB nutzen
				können, um Windows zu booten.</p>

				<note><path>(hd0,0)</path> sollte zu Ihrer boot Partition
				(<path>/dev/hda1</path> in dem obigen Beispiel) und
				<path>/dev/hda3</path> zu Ihrer root Partition zeigen.
				<path>(hd0,5)</path> beinhaltet den Windows Boot Loader.</note>

				<note>Der Pfad zum Kernel Image ist relativ zur Boot Partition.  Wenn
				Sie beispielsweise eine separate Boot Partition unter
				<path>(hd0,0)</path> und Root Partition in <path>(hd0,1)</path> haben,
				werden alle Pfade in der obigen <path>grub.conf</path> zu
				<path>/bzImage</path>.</note>

				<p>Wenn Sie weitere Optionen dem Kernel mitteilen müssen, fügen Sie
				diese einfach am Ende der <c>kernel</c> Zeile ein.  Im obigen Beispiel
				wurde bereits eine Option (<c>root=/dev/hda3</c> übergeben, aber Sie
				können weitere hinzufügen.  Beispielsweise können Sie devfs ausschalten
				(nicht empfehlenswert, ausser Sie wissen, was Sie tun), indem Sie
				<c>gentoo=nodevfs</c> zum <c>kernel</c> Kommando hinzufügen.</p>

				<note>Anders als in früheren Versionen von Gentoo Linux brauchen Sie
				nicht mehr <c>devfs=mount</c> hinzufügen, um devfs einzuschalten, da es
				nun standardmäßig aktiviert ist.</note>

			</body>
		</section>

		<section>
			<title>LILO konfigurieren</title>
			<body>

				<p>Während GRUB eine neue Alternative für viel Benutzer ist, ist es
				nicht immer die beste Wahl.  LILO, der LInuxLOader ist der erprobtere
				Linux Bootloader.  Hier sehen Sie, wie Sie LILO installieren, wenn Sie
				es anstatt von GRUB verwenden möchten:</p>

				<p>Zuerst müssen Sie LILO emergen:</p>

<pre caption="LILO emergen:">
# <c>emerge lilo</c>
</pre>

				<p>Nun muss LILO mit der Datei <path>/etc/lilo.conf</path> konfiguriert
				werden.  Folgend eine Beispielkonfiguration:</p>

<pre caption="Beispiel zur lilo.conf">
boot=/dev/hda
map=/boot/map
install=/boot/boot.b
prompt
timeout=50
lba32
default=linux

image=/boot/vmlinuz-2.4.20
  label=linux
  read-only
  root=/dev/hda3

<comment>Beispiel für ein weiteres Betriebssystem</comment>
other=/dev/hda1
  label=dos
</pre>

				<ul>
					<li><c>boot=/dev/hda</c> teilt LILO mit, dass es sich auf die erste
					Festplatte am ersten IDE Controller installieren soll.</li>
					<li><c>map=/boot/map</c> gibt die map Datei an.  Üblicherweise braucht
					dieser Eintrag nicht geändert werden</li>
					<li><c>install=/boot/boot.b</c> veranlassst LILO die angegebene Datei
					als den neuen Boot Sektor zu installieren.  Üblicherweise braucht
					dieser Eintrag nicht geändert werden.  Wenn dieser Eintrag fehlt,
					verwendet LILO eine eigene Datei anstatt von
					<path>/boot/boot.b</path>.</li>
					<li>Wenn <c>prompt</c> angegeben wird, zeigt LILO den klassischen
					<c>lilo:</c> Prompt beim Booten an.  Obwohl es nicht empfehlenswert
					ist, dass Sie den Prompt abschlaten, können Sie ihn entfernen und
					weiterhin einen Prompt erhalten, wenn Sie die [Shift]-Taste während
					des Bootens halten.</li>
					<li><c>timeout=50</c> setzt die Zeitspanne, wie lange LILO auf eine
					Eingabe des Benutzers warten soll, bis es von selbst mit dem
					vorgegebenen Eintrag fortfährt.  Der Wert ist in Zehntelsekunden
					anzugeben, und 50 der vorgegebene Wert.</li>
					<li><c>lba32</c> beschreibt die Geometrie der Festplatte.  Ein anderer
					hier üblicher Eintrag ist <c>linear</c>.  Sie sollten diesen Eintrag
					nicht ändern, außer Sie wissen wirklich, was Sie tun.  Möglichenfalls
					können Sie Ihr System dazu bringen, dass es nicht bootet.</li>
					<li><c>default=linux</c> zeigt auf das automatisch von LILO zu
					bootende Betriebssystem, das in einer Liste weiter unten in der Datei
					angegeben wird.  Der Wert muss zu einem von <c>label=</c> angegebenen
					Wert gleich sein.</li>
					<li><c>image=/boot/vmlinuz-2.4.20</c> gibt den mit diesem Abschnitt zu
					bootenden Linux Kernel an.</li>
					<li><c>label=linux</c> ist ein Name für das Betriebssystem im
					aktuellen Abschnitt.  In diesem Fall zeigt der <c>default</c> Eintrag
					auch auf diesen Namen.</li>
					<li><c>read-only</c> veranlasst, dass die Root Partition (siehe
					nächste Zeile) zunächst schreibgeschützt gemountet wird und somit
					nicht während des Bootens verändert werden kann.</li>
					<li><c>root=/dev/hda5</c> gibt LILO an, welche Partition als Root
					Partition verwendet werden soll.</li>
				</ul>

				<p>Nachdem Sie Ihre <path>lilo.conf</path> editiert haben, müssen Sie
				LILO dazu bringen, die Informationen in den MBR (Master Boot Record) zu
				laden:</p>

<pre caption="LILO ausführen">
# <c>/sbin/lilo</c>
</pre>

				<p>LILO ist nun konfiguriert und Ihr Rechner ist bereit, um Gentoo Linux
				zu starten!</p>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Bootdiskette erstellen</title>

		<section>
			<title>GRUB Bootdiskette</title>
			<body>

				<p>Es ist immer eine gute Idee eine Bootdiskette bei der ersten
				Installation einer Linux Distribution zu erstellen.  Dieses ist eine
				Sicherheitsmaßnahme und generell empfehlenswert.  Wenn Sie Hardware RAID
				verwenden, müssen Sie eine Bootdiskette mit GRUB erstellen, denn die
				Installation von GRUB aus chroot-Umgebung wird fehlschlagen.  Gehören
				Sie also zu dieser Gruppe von Benutzern, erstellen Sie eine GRUB
				Bootdiskette und wenn Sie das erste Mal Rebooten, installieren Sie GRUB
				in den MBR.  Erstellen Sie Ihre Bootdiskette folgendermaßen:</p>

<pre caption="GRUB Bootdiskette erstellen">
# <c>mke2fs /dev/fd0</c>
# <c>mount /dev/fd0 /mnt/floppy</c>
# <c>mkdir -p /mnt/floppy/boot/grub</c>
# <c>cp /usr/share/grub/i386-pc/stage1 /mnt/floppy/boot/grub/</c>
# <c>cp /usr/share/grub/i386-pc/stage2 /mnt/floppy/boot/grub/</c>
# <c>umount /mnt/floppy</c>
# <c>grub</c>

grub&gt; <c>root (fd0)</c>
grub&gt; <c>setup (fd0)</c>
grub&gt; <c>quit</c>
</pre>

				<p>Rebooten Sie nun von der Diskette.  Beim <c>grub&gt;</c> Prompt von
				der Diskette können Sie nun die benötigten <c>root</c> und <c>setup</c>
				Kommados ausführen.</p>

			</body>
		</section>

		<section>
			<title>LILO Bootdiskette</title>
			<body>

				<p>Wenn Sie LILO verwenden ist es ebenso eine gute Idee eine
				Bootdiskette zu erstellen:</p>

<pre caption="LILO Bootdiskette erstellen">
# <c>dd if=/boot/ihr_kernel of=/dev/fd0</c>
<comment>Das funktioniert nur, wenn Ihr Kernel kleiner als 1.4MB ist.</comment>
</pre>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Installation beendet!</title>

		<section>
			<body>

				<p>Nun, Ihr Gentoo Linux ist installiert.  Der einzige verbleibende
				Schritt ist, einige Konfigurationsdateien anzupassen, die chroot
				Umgebung zu beenden, Ihre Partitionen sicher zu unmounten und das System
				zu rebooten:</p>

<pre caption="Rebooten des Systems">
# <c>etc-update</c>
# <c>exit</c>
<comment>(Dieses beeendet die chroot Umgebung; Sie können genausogut <c>^D</c> (ctrl-d) eintippen)</comment>
# <c>cd /</c>
# <c>umount /mnt/gentoo/boot</c>
# <c>umount /mnt/gentoo/proc</c>
# <c>umount /mnt/gentoo</c>
# <c>reboot</c>
</pre>

				<note>Nach dem Rebooten sollten Sie <c>update-modules</c> ausführen, um
				die Datei <path>/etc/modules.conf</path> zu erstellen.  Anstatt diese
				Datei direkt zu verändern, sollten Sie Änderungen in den Dateien in
				<path>/etc/modules.d/</path> vornehmen.</note>

				<impo>Bedenken Sie, dass wenn Sie Hardware RAID verwenden, müssen Sie
				die Bootdiskette für das erste Rebooten erstellen.  Gehen Sie dann
				zurück und installieren Sie GRUB in der Art, wie es weiter oben
				beschrieben ist.</impo>

				<impo>Sie haben es geschafft!  Gratulation!</impo>

				<p>Wenn Sie Fragen haben oder sich bei der Entwicklung von Gentoo Linux
				beteiligen wollen, abonnieren Sie die gentoo-user und gentoo-dev
				Mailingliste (weitere Informationen auf der <uri
				link="http://www.gentoo.org/main/en/lists.xml">Mailinglisten
				Webseite</uri>).  Außerdem ist die <uri
				link="http://www.gentoo.org/doc/de/desktop.xml">Anleitung zur Gentoo
				Linux Desktop Konfiguration</uri> recht praktisch für die weitere
				Konfiguration Ihres Gentoo Linux Systems.  Der nützliche <uri
				link="http://www.gentoo.org/doc/de/portage-user.xml">Portage Benutzer
				Leitfaden</uri> hilft Ihnen die Grundlagen von Portage zu verstehen.
				Darüberhinaus gibt es etliche weitere <uri
				link="http://www.gentoo.org/main/en/docs.xml">Gentoo Linux
				Dokumentationen</uri>.  Haben Sie Fragen, die die Installation
				betreffen, schaue Sie in die <uri
				link="http://www.gentoo.org/doc/de/faq.xml">FAQ (häufig gestellte
				Fragen)</uri>.  Haben Sie Spaß und willkommen bei Gentoo Linux!</p>

			</body>
		</section>
	</chapter>

	<chapter>
		<title>Gentoo-Stats</title>

		<section>
			<body>

				<p>Das "Gentoo Linux usage statistics project" wurde gestartet, um den
				Entwicklern einen Überblick der Gentoo-Benutzer zu verschaffen.  Es
				sammelt Informationen über die Verbreitung von Gentoo Linux und hilft,
				Prioritäten bei den Entwicklern zu setzten.  Die Installation ist
				freiwillig, jedoch wäre es willkommen, wenn Sie sich daran beteiligen
				würden.  Generierte Statistiken können Sie sich unter
				<uri>http://stats.gentoo.org/</uri> ansehen.</p>

				<p>Der gentoo-stats Server wird Ihrem System eine eindeutige ID
				vergeben.  Diese ID wird dafür benötigt, dass jedes System nur einmal
				gezählt wird.  Diese ID wird weder dafür verwendet, um ihr System
				individuell zu identifizieren, noch wird sie mit der IP-Adresse oder
				anderen persönlichen Informationen abgeglichen.  Alle Vorkehrungen
				wurden getroffen, um Ihre Privatsphäre in der Entwicklung dieses Systems
				zu wahren.  Nachfolgend sind die Informationen gelistet, die das
				<c>gentoo-stats</c> Programm überwachen wird:</p>
			
			<ul>
				<li>installierte Pakete und ihre Versionsnummer</li>
				<li>CPU Informationen: Geschwindigkeit (MHz), Hersteller, Modell, CPU
				Flags (wie "altivec"</li>
				<li>Speicher Informationen (installierter physischer RAM, Größe der
				angelegten Swap Partition(en))</li>
				<li>PCI Karten und Netzwerkkarten Chipsätze</li>
				<li>das Gentoo Linux Profil, das Ihr Rechner verwendet (dorthin, wo der
				Link <path>/etc/make.profile</path> zeigt)</li>
			</ul>

				<p>Wir sind uns bewusst, dass eine Bekanntmachung von sensiblen Informationen
				eine Gefährdung für viele Gentoo Linux Benutzer darstellt (und ebenso
				für die Entwickler).</p>
				<!-- Ich hoffe die Aussage des Satzes richtig getroffen zu haben: We are
				aware that disclosure of sensitive information is a threat to most
				Gentoo Linux users (just as it is to the developers).-->

				<ul>
					<li>Solange Sie nicht das gentoo-stats Programm ändern, wird niemals
					eine sensible Information, wie Ihr Passwort, Konfigurationsdateien,
					der Lieblingsfilm, ... übertragen</li>
					<li>Die Übermittlung Ihrer E-Mail Adresse ist optional und
					defaultmäßig ausgeschaltet.</li>
					<li>Die IP-Adresse von der Ihre Datenübertragung stammt wird niemals
					in der Art gespeichert, dass wir Sie identifizieren können.  Es gibt
					keine Zusammenhänge zwischen der IP-Adresse und der System-ID.</li>
				</ul>

				<p>Die Installation ist einfach -- führen Sie die folgenden Befehle
				aus:</p>

<pre caption="gentoo-stats installieren">
# <c>emerge gentoo-stats</c> <comment>Installiert gentoo-stats</comment>
# <c>gentoo-stats --new</c>  <comment>Bezieht eine neue System-ID</comment>
</pre>

				<p>Der zweite Befehl wird eine neue System-ID anfragen und sie in
				<path>/etc/gentoo-stats/gentoo-stats.conf</path> ablegen.  Sie können
				diese Datei anschauen, um zusätzliche Konfigurationsparameter zu
				sehen.</p>

				<p>Sie sollten das Programm regelmäßig laufen lassen (gentoo-stats
				benötigt keine Superuser Rechte).  Fügen Sie folgende Zeile in Ihre
				<path>crontab</path> ein:</p>

<pre caption="gentoo-stats mit cron updaten">
<c>0 0 * * 0,4 /usr/sbin/gentoo-stats --update > /dev/null</c>
</pre>

				<p>Das <c>gentoo-stats</c> Programm ist ein einfaches Perl-Script, das
				Sie sich mit Ihrem bevorzugten Textbetrachter oder Editor anschauen
				können: <path>/usr/sbin/gentoo-stats</path>.</p>

			</body>
		</section>
	</chapter>

</guide>
