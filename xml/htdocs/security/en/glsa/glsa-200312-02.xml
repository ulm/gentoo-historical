<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="/xsl/glsa.xsl" type="text/xsl"?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>
<!DOCTYPE glsa SYSTEM "http://www.gentoo.org/dtd/glsa.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/security/en/glsa/Attic/glsa-200312-02.xml,v 1.2 2003/12/04 19:13:35 rajiv Exp $ -->
<!-- Revision: 0.1; DTD Revision: 0.1; Creator: plasmaroo@gentoo.org's GLSAAdvisoryPlatform//ClientApp//b1-->
<glsa id="200312-02" severity="high">
	<date>2003-12-04</date>
	<package>kernel</package>
	<bug>34844</bug>
	<affected>
		<version range="below">2.4.22</version>
	</affected>
	<fixed>
		<version range="above_equal">2.4.23</version>
		<version range="above_equal">2.4.22+patches</version>
	</fixed>
	<exploit>local</exploit>
	<cve>CAN-2003-0961</cve>
	<summary>A flaw in the do_brk() function of Linux kernel 2.4.22 and earlier allows local users to gain root privileges.</summary>
<description>
	<p>An integer overflow bug was found in the do_brk() system call of Linux kernels 2.4.22 and earlier. This bug can be used to give a userland program access to the full kernel address space and gain root privileges. This issue is known to be exploitable and was recently used to compromise one of the servers that makes up the rsync.gentoo.org rotation (see GLSA-200312-01 for more information).</p>
	<p>All kernel ebuilds in Portage have been bumped or patched and do not contain this vulnerability. The following is a list of recommended kernels.
	<ul>
		<li>aa-sources-2.4.23_pre6-r3</li>
		<li>ck-sources-2.4.22-r3</li>
		<li>gentoo-sources-2.4.20-r9</li>
		<li>gentoo-sources-2.4.22-r1</li>
		<li>grsec-sources-2.4.22.1.9.12-r1</li>
		<li>grsec-sources-2.4.22.2.0_rc3-r1</li>
		<li>gs-sources-2.4.23_pre8-r1</li>
		<li>hardened-sources-2.4.22-r1</li>
		<li>hardened-sources-2.4.22-r1</li>
		<li>ia64-sources-2.4.22-r1</li>
		<li>mips-sources-2.4.22-r4</li>
		<li>mips-sources-2.4.22-r5</li>
		<li>openmosix-sources-2.4.22-r1</li>
		<li>ppc-sources-2.4.22-r3</li>
		<li>ppc-sources-benh-2.4.20-r9</li>
		<li>ppc-sources-benh-2.4.21-r2</li>
		<li>ppc-sources-benh-2.4.22-r3</li>
		<li>ppc-sources-crypto-2.4.20-r1</li>
		<li>selinux-sources-2.4.21-r5</li>
		<li>sparc-sources-2.4.23</li>
		<li>usermode-sources-2.4.22-r1</li>
		<li>wolk-sources-4.10_pre7-r1</li>
		<li>wolk-sources-4.9-r2</li>
		<li>xfs-sources-2.4.20-r4</li>
	</ul>
	</p>
</description>
<solution>
<description>
	<p>It is recommended that all Gentoo Linux users upgrade their machines to use a kernel from the list above.
	<pre>
		emerge sync
		emerge -pv [your preferred kernel sources]
		emerge [your preferred kernel sources]
		[update the /usr/src/linux symlink]
		[compile and install your new kernel]
		[emerge any necessary kernel module ebuilds]
		[reboot]
	</pre>
	</p>
</description>
</solution>
</glsa>
