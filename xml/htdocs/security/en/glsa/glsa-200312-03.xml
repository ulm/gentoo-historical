<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="/xsl/glsa-old.xsl" type="text/xsl"?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>
<glsa id="200312-03" severity="high">
	<date>2003-12-04</date>
	<exploit>remote</exploit>
	<cve>None</cve>
	<summary>exploitable heap overflow in rsync</summary>
	<affected>
		<version range="below">2.5.6*</version>
	</affected>
	<fixed>
		<version range="above_equal">2.5.7</version>
	</fixed>
	<description>

<p>Rsync version 2.5.6 contains a vulnerability that can be used to run
arbitrary code. The Gentoo infrastructure team has some reasonably good
forensic evidence that this exploit may have been used in combination with the
Linux kernel brk vulnerability (see <uri
link="/security/en/glsa/glsa-200312-02.xml">GLSA 200312-02</uri>) to exploit a
rsync.gentoo.org rotation server (see <uri
link="/security/en/glsa/glsa-200312-01.xml">GLSA-200312-01</uri>.)</p>

<p>Please see <uri>http://lwn.net/Articles/61541/</uri> for the security
advisory released by the rsync development team.</p>
</description>

	<solution>
<description>

<p>
To address this vulnerability, all Gentoo users should:
<ul>
<li>Read <uri link="/security/en/glsa/glsa-200312-02.xml">GLSA-200312-02</uri> and
ensure that all systems are upgraded to a version of the Linux kernel without the
<c>brk</c> vulnerability</li>

<li>Upgrade to version 2.5.7 of rsync. This can be done by typing <c>emerge sync; emerge '&gt;=net-misc/rsync-2.5.7'</c></li>

<li>Review your <path>/etc/rsync/rsyncd.conf</path> configuration file; ensure that 
the <c>use chroot="no"</c> command is commented out or removed, or change <c>use chroot="no"</c>
to <c>use chroot="yes"</c>. Then, if necessary, restart <c>rsyncd</c> by typing <c>/etc/init.d/rsyncd restart</c>
</li>
</ul>
</p>

</description>
	</solution>
</glsa>
