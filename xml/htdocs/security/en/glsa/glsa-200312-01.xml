<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet href="/xsl/glsa-old.xsl" type="text/xsl"?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>
<glsa id="200312-01" severity="normal">
	<date>2003-12-02</date>
	<exploit>remote</exploit>
	<cve>None</cve>
	<summary>rsync.gentoo.org rotation server compromised</summary>
<description>

<p> On December 2nd at approximately 03:45 UTC, one of the servers that makes
up the <path>rsync.gentoo.org</path> rotation was compromised via a remote exploit.  At this
point, we are still performing forensic analysis.  However, the compromised
system had both an IDS and a file integrity checker installed and we have a
very detailed forensic trail of what happened once the box was breached, so
we are reasonably confident that the portage tree stored on that box
was unaffected.</p>

<p> The attacker appears to have installed a rootkit and modified/deleted some
files to cover their tracks, but left the server otherwise untouched. The box
was in a compromised state for approximately one hour before it was discovered
and shut down. During this time, approximately 20 users synchronized against
the portage mirror stored on this box. The method used to gain access to the
box remotely is still under investigation.  We will release more details once
we have ascertained the cause of the remote exploit.  </p>

<p> This box is not an official Gentoo infrastructure box and is instead
donated by a sponsor. The box provides other services as well and the sponsor
has requested that we not publicly identify the box at this time. Because the
Gentoo part of this box appears to be unaffected by this exploit, we are
currently honoring the sponsor's request.  That said, if at any point, we
determine that any file in the portage tree was modified in any way, we will
release full details about the compromised server.  </p>

</description>

	<solution>
<description>

<p>
Again, based on the forensic analysis done so far, we are reasonably
confident that no files within the Portage tree on the box were affected.
However, the server has been removed from all <path>rsync.*.gentoo.org</path> rotations and
will remain so until the forensic analysis has been completed and the box has
been wiped and rebuilt. Thus, users preferring an extra level of security may
ensure that they have a correct and accurate portage tree by running:
</p>
<pre>emerge sync
</pre>
<p>
Which will perform a sync against another server and ensure that all
files are up to date.
</p>
</description>
	</solution>
</glsa>
