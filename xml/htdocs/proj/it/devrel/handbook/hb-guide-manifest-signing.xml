<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<sections>

<section>
<title>Come firmare i Manifests</title>
<subsection>
<body>

<p>
Requisiti:
</p>

<ul>
  <li>&gt;=sys-apps/portage-2.0.51_pre10</li>
  <li>&gt;=app-crypt/gnupg-1.2.4</li>
</ul>

<p>
Impostazione della chiave:
</p>

<ul>
  <li>
    <uri link="http://www.gentoo.org/doc/it/gnupg-user.xml#doc_chap2">Crea</uri> una nuova chiave DSA GnuPG lunga almeno 1024 bit, una scadenza non più lunga di 6 mesi e una buona passphrase.
  </li>
  <li>
    <uri link="http://www.gentoo.org/doc/it/gnupg-user.xml#doc_chap3">Trasmetti</uri> la chiave su un keyserver.
  </li>
</ul>

<p>
Configurazione del portage:
</p>

<ul>
  <li>Imposta <path>PORTAGE_GPG_DIR</path> con la tua directory <path>~/.gnupg/</path> (o la directory dove si trova l'anello chiave della tua nuova chiave). </li>
  <li>Imposta <path>PORTAGE_GPG_KEY</path> con l'id della tua nuova chiave.</li>
  <li>Imposta FEATURES="sign".</li>
</ul>

<p>
Adesso dovresti essere abilitato a firmare i tuoi Manifest tramite i commit con repoman. Repoman ti chiederà la tua passphrase prima di committare i Manifest. Questo passaggio avverrà <e>dopo</e> che ha committato tutti gli altri files. Al momento repoman non controlla se il Manifest è già firmato, per questo altri potrebbero toglierti la firma. La situazione cambierà quando firmare sarà obbligatorio.
</p>

</body>
</subsection>
</section>

<section>
<title>Come verificare i Manifest</title>
<subsection>
<body>

<p>
Al momento il portage non ha delle verifiche supportate integrate. Un primo approccio per controllare se un Manifest è disponibile si può trovare <uri link="http://dev.gentoo.org/~genone/scripts/portage-gpg-verify.sh">qui</uri> (solo per test). Questo è un codice alpha, molto incompleto e solo per test. Non è data nessuna garanzia.
</p>

</body>
</subsection>
</section>

</sections>
