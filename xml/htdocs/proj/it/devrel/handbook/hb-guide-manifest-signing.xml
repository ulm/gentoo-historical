<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<sections>
<version>1.0.2</version>
<date>2006-02-02</date>

<section>
<title>Come firmare i Manifest?</title>
<subsection>
<body>

<p>
Requisiti:
</p>

<ul>
  <li>&gt;=sys-apps/portage-2.0.51_pre10</li>
  <li>&gt;=app-crypt/gnupg-1.2.4</li>
</ul>

<p>
Impostazione della chiave:
</p>

<ul>
  <li>
    <uri
    link="http://www.gentoo.org/doc/it/gnupg-user.xml#doc_chap2">Creare</uri>
    una nuova chiave DSA GnuPG lunga almeno 1024 bit, una scadenza non superiore
    a 6 mesi e una buona 'passphrase'
  </li>
  <li>
    <uri
    link="http://www.gentoo.org/doc/it/gnupg-user.xml#doc_chap3">Trasmettere</uri>
    la chiave su un server delle chiavi.
  </li>
</ul>

<p>
Configurazione di portage:
</p>

<ul>
  <li>
    Impostare <path>PORTAGE_GPG_DIR</path> con la propria directory
    <path>~/.gnupg/</path> (o la directory dove si trova il portachiavi
    contenente la nuova chiave).
  </li>
  <li>
    Impostare <path>PORTAGE_GPG_KEY</path> con l'ID (identificativo) della
    propria nuova chiave.
  </li>
  <li>Impostare FEATURES="sign".</li>
</ul>

<p>
A questo punto si dovrebbe riuscire a firmare i propri Manifest tramite i commit
con repoman. Repoman chiederà la 'passphrase' prima di effettuare il commit del
Manifest. Questo passaggio avverrà <e>dopo</e> l'esecuzione del commit di tutti
gli altri file. Al momento repoman non controlla se il Manifest è già firmato,
per questo altri potrebbero togliere la firma. La situazione cambierà quando
firmare sarà obbligatorio.
</p>

</body>
</subsection>
</section>

<section>
<title>Come verificare i Manifest?</title>
<subsection>
<body>

<p>
Al momento portage non integra un supporto alle verifiche. Un primo
approccio per controllare un Manifest è disponibile <uri
link="http://dev.gentoo.org/~genone/scripts/portage-gpg-verify.sh">qui</uri>.
Questo è un codice alpha, molto incompleto e solo per test. Non viene data
nessuna garanzia.
</p>

</body>
</subsection>
</section>

</sections>
