<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/it/desktop/kde/Attic/kde4-guide.xml,v 1.6 2010/04/26 17:49:05 scen Exp $ -->

<guide lang="it">
<title>Guida a KDE per Gentoo</title>

<author title="Autore">
  <mail link="tampakrap"/>
</author>
<author title="Autore">
  <mail link="scarabeus"/>
</author>
<author title="Autore">
  <mail link="jmbsvicetto"/>
</author>
<author title="Autore">
  <mail link="cryos"/>
</author>
<author title="Redazione">
  <mail link="keytoaster"/>
</author>
<author title="Redazione">
  <mail link="nightmorph"/>
</author>
<author title="Traduzione">
  <mail link="scen"/>
</author>

<abstract>
Questa guida spiega come installare e configurare KDE usando le ebuild
disponibili nell'albero di Portage. Potrebbero venire usati, inoltre, alcuni
strumenti provenienti dall'overlay git del team KDE (kde).
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>2</version>
<date>2010-03-03</date>

<chapter>
<title>KDE 3</title>
<section>
<title>Brevi informazioni</title>
<body>

<p>
KDE 3 non viene più mantenuto dagli sviluppatori del progetto KDE, e la versione
3.5.10 rimane il loro ultimo rilascio. Inoltre, la maggior parte delle
applicazioni per KDE3 non sono più mantenute, in quanto sono già state
convertite per KDE4, o la loro conversione è in fase di esecuzione.
</p>

<p>
In Gentoo, le ebuild di KDE 3 sono state rimosse dall'albero di Portage, e sono
state spostate nell'overlay (gestito da utenti) chiamato <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde-sunset.git;a=summary">
kde-sunset</uri> (disponibile tramite layman). Tenere bene a mente che questo
overlay è gestito solamente da utenti, e gli attuali membri del team KDE non
hanno nessuna responsabilità per il suo contenuto. Se si è interessati a
co-mantenerlo, è possibile inviare un'email a <mail link="overlays"/>
chiedendo l'accesso per i commit. Se si vuole segnalare un bug per questo
overlay, non utilizzare l'interfaccia Bugzilla di Gentoo. Usare invece la
mailing list <uri
link="http://archives.gentoo.org/gentoo-desktop/">gentoo-desktop</uri>. Le
istruzioni su come iscriversi sono disponibili <uri
link="/main/it/lists.xml">qui</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>KDE 4</title>
<section>
<title>Introduzione</title>
<body>

<p>
KDE 4 è la versione corrente di KDE supportata dagli sviluppatori dell'omonimo
progetto. In Portage è presente una versione stabile, e potrebbe esserci una (o
più) versioni non stabili. In condizioni normali le nuove versioni vengono
stabilizzate dopo un mese. Le versioni di KDE 4 attualmente disponibili in
Portage sono la 4.3.5 (considerata stabile sia dal progetto KDE che da Gentoo) e
la 4.4.2 (considerata stabile dal progetto KDE ma attualmente in fase di test
per Gentoo). In aggiunta, gli sviluppatori di KDE forniscono degli <uri
link="ftp://ftp.kde.org/pub/kde/unstable">snapshot</uri> ("fotografie", ndt)
settimanali e i sorgenti più recenti tramite un <uri
link="http://websvn.kde.org">repository SVN</uri>. Il team KDE di Gentoo
fornisce le ebuild per gli snapshot e per i più recenti sorgenti del repository
SVN (quest'ultima tipologia di ebuild viene definita "live", ndt) attraverso
l'overlay <c>kde</c>.
</p>

<p>
È possibile scegliere la versione di KDE ritenuta più appropriata alle proprie
esigenze:
</p>
<table>
  <tr>
    <ti>
      <uri link="#kde_portage">KDE tramite Portage (attualmente 4.3.5 e
      4.4.2)</uri>
    </ti>
  </tr>
  <tr>
    <ti>
      <uri link="#snapshots">snapshot KDE (attualmente 4.4.XX)</uri>
    </ti>
  </tr>
  <tr>
    <ti>
      <uri link="#live">ebuild KDE "live"</uri> (sorgenti da repository SVN,
      ndt)
    </ti>
  </tr>
</table>

</body>
</section>
<section id="kde_portage">
<title>Installare KDE 4.3.5 o 4.4.2 (da Portage)</title>
<body>

<note>
Per ridurre al minimo gli inconvenienti si raccomanda di partire con un
ambiente pulito. Leggere la sezione <uri link="#cleanup">Pulizia di KDE</uri>
per ulteriori informazioni.
</note>

<p>
L'installazione può essere eseguita sia usando i meta pacchetti sia usando i
"set" (insiemi di pacchetti, ndt).
</p>

<p>
<b>Per KDE 4.3.5:</b>
</p>

<pre caption="Installazione di KDE usando i meta pacchetti">
# <i>emerge -av kde-meta:4.3</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av kdebase-meta:4.3 kdegames-meta:4.3</i> <comment>(installazione dei soli moduli prescelti)</comment>
</pre>

<p>
<b>Per KDE 4.4.2:</b>
</p>

<p>
Gli utenti con sistemi stabili devono inserire i pacchetti necessari nel file
keyword. Viene fornito un file package.keyword <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=blob_plain;f=Documentation/package.keywords/kde-4.4.keywords;hb=HEAD">
qui</uri>, il quale può essere scaricato nella propria directory
<path>/etc/portage/package.keywords/</path>.
</p>

<pre caption="Installazione di KDE usando i meta pacchetti">
# <i>emerge -av kde-meta:4.4</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av kdebase-meta:4.4 kdegames-meta:4.4</i> <comment>(installazione dei soli moduli prescelti)</comment>
</pre>

<p>
Per l'installazione tramite i "set" passare alla sezione <uri
link="#sets">Utilizzo dei Set</uri>.
</p>

</body>
</section>
<section id="snapshots">
<title>Installare gli snapshot di KDE 4.4.XX (dall'overlay kde)</title>
<body>

<p>
Attualmente, KDE 4.5 (dal ramo trunk) risulta essere troppo malfunzionante,
specialmente il modulo KDEPIM. Questo succede perchè la modalità
dimemorizzazione dei messaggi in kmail sta per essere portata su akonadi, che
richiederà un po' di tempo. Pertanto, è stato deciso nella <uri
link="meeting-logs/kde-project-meeting-summary-20100225.txt">riunione</uri> di
Febbraio di non fornire alcuno snapshot fino a che la versione 4.4.60 (la prima
alpha) non verrà rilasciata dal progetto KDE.
</p>

</body>
</section>
<section id="live">
<title>Installare le ebuild "live" di KDE (dall'overlay kde)</title>
<body>

<warn>
Le ebuild "live" di KDE sono <b>versioni estremamente sperimentali</b>. Usarle a
proprio rischio e pericolo.
</warn>

<p>
KDE è Open Source, con tutto il suo codice disponibile alla consultazione
attraverso l'interfaccia <uri link="http://websvn.kde.org">KDE Websvn</uri> e al
checkout pubblico attraverso un account anonimo (anonsvn). Gentoo, in quanto
distribuzione basata su sorgenti, ha l'abilità di fornire ebuild "live" che
effettuano il checkout del codice sia dal ramo ("branch") più recente che da
quello principale (trunk). Attualmente, vengono forniti gli ebuild 4.4.9999 dal
ramo 4.4.
</p>

<table>
<tr>
 <th>Versione Ebuild</th>
 <th>Versione KDE</th>
</tr>
<tr>
 <ti>4.4.9999</ti>
 <ti>KDE 4.4.Branch</ti>
</tr>
<tr>
 <ti>9999</ti>
 <ti>KDE 4 Trunk</ti>
</tr>
</table>

<note>
Per ridurre al minimo gli inconvenienti si raccomanda di partire con un
ambiente pulito. Leggere la sezione <uri link="#cleanup">Pulizia di KDE</uri>
per ulteriori informazioni.
</note>

<note>
È necessario l'utilizzo di portage-2.2_rc*, pertanto aggiungere la voce
<c>~sys-apps/portage</c> al proprio file
<path>/etc/portage/package.unmask</path>.
</note>

<p>
Le ebuild "live" sono disponibili solamente tramite l'overlay
<c>kde</c>, perciò come prima cosa bisognerà installarlo nel proprio
sistema:
</p>

<pre caption="Installare l'overlay kde">
# <i>layman -f -a kde</i>
<comment>Per maggiori informazioni riguardanti gli overlay, si prega di leggere
la <uri link="/proj/it/overlays/userguide.xml">Guida per gli Utenti agli Overlay Gentoo
</uri></comment>
</pre>

<p>
Gli utenti con sistemi stabili, per poter proseguire, devono aggiungere le
keyword necessarie per i pacchetti (per permettere l'installazione delle
versioni instabili, ndt). L'overlay <c>kde</c> fornisce un file
package.keywords, che dovrà essere collegato in modo simbolico alla propria
directory package.keywords:
</p>

<pre caption="Creare il collegamento simbolico del file kde-4.X.9999.keywords o
kde-live">
# <i>cd /etc/portage/package.keywords</i>
# <i>ln -s /percorso/all/overlay/kde/Documentation/package.keywords/kde-4.4.9999.keywords
.</i><comment>(per il ramo (Branch) 4.4 )</comment>
# <i>ln -s /percorso/all/overlay/kde/Documentation/package.keywords/kde-live.keywords
.</i><comment>(per il ramo (Trunk) KDE)</comment>
<comment>Sostituire /percorso/all/overlay/ con la directory contenente l'overlay, solitamente /usr/local/portage/layman/kde, ndt</comment>
</pre>

<p>
L'installazione può essere eseguita sia usando i meta pacchetti sia usando i
"set" (insiemi di pacchetti, ndt).
</p>

<pre caption="Installazione delle ebuild live di KDE usando i meta pacchetti">
<comment>(Per il ramo (Branch) KDE 4.4)</comment>
# <i>emerge -av kde-meta:4.4</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av kdebase-meta:4.4 kdegames-meta:4.4</i> <comment>(installazione dei soli moduli prescelti)</comment>
<comment>(Per il ramo (Trunk))</comment>
# <i>emerge -av kde-meta:live</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av kdebase-meta:live kdegames-meta:live</i> <comment>(installazione dei soli moduli prescelti)</comment>
</pre>

<pre caption="Installazione delle ebuild live di KDE usando i set">
<comment>(Per il ramo (Branch) KDE 4.4)</comment>
# <i>emerge -av @kde-4.4</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av @kdebase-4.4 @kdegames-4.4</i> <comment>(installazione dei soli moduli prescelti)</comment>
<comment>(Per il ramo (Trunk) KDE)</comment>
# <i>emerge -av @kde-live</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av @kdebase-live @kdegames-live</i> <comment>(installazione dei soli moduli prescelti)</comment>
<comment>Per ulteriori informazioni vedere la sezione <uri link="#sets">Utilizzo dei Set</uri>.</comment>
</pre>

</body>
</section>
<section>
<title>Installazione delle applicazioni KDE 4</title>
<body>

<p>
Nell'overlay kde è possibile trovare le ebuild live delle applicazioni
KDE 4. Sono disponibili nello slot :4 ma <b>non possono</b> essere installate
in paralello alle versioni normali. L'utente è libero di usare sia le
applicazioni KDE 4 nella versione "live" con KDE 4 installato tramite Portage,
sia di usare le applicazioni KDE 4 disponibili in Portage con la versione "live"
di KDE.
</p>

<note>
Inoltre è disponibile nell'overlay kde un set con le applicazioni KDE 4
"live", @kde-extras-live e un set con KOffice live @koffice-live nell'overlay
kde, e un set con le applicazioni Qt "live", @qt-extras-live, nell'overlay
qting-edge.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Informazioni aggiuntive riguardo Installazioni/Rimozioni</title>
<section id="sets">
<title>Utilizzo dei Set</title>
<body>

<warn>
Portage 2.2_rcX è correntemente mascherato. Pertanto se si vogliono utilizzare
i set si prega di smascherare <c>~sys-apps/portage</c> all'interno del proprio
file <c>/etc/portage.package.unmask</c>.
</warn>

<p>
Una delle nuove caratteristiche fornite da Portage 2.2 sono i set.
</p>

<p>
I set permettono al team KDE di fornire un sostituto completo ai pacchetti
monolitici, con il bonus aggiuntivo della possibilità da parte degli utenti di
scegliere la rimozione dei pacchetti indesiderati dai set predefiniti. Ci sono
ancora alcune discussioni in atto prima che i set vengano inseriti nell'albero
di Portage. È possibile prelevare i set dalla dalla <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=tree;f=sets">
directory sets</uri> dell'overlay <c>kde</c>, o scaricare un <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=snapshot;h=5b2fc54fa5d1c8aeddaeb05f044bf28754bb18be;sf=tbz2">
archivio tar.bz2</uri> e inserire quelli che si preferiscono in
<path>/etc/portage/sets</path> (è possibile consultare la lista dei set forniti
dal team KDE nell'overlay usando il primo collegamento).
</p>

<note>
Se si sta usando l'overlay kde è possibile usare direttamente i set,
invece che copiarli in <path>/etc/portage/sets</path>.
</note>

<p>
Tra l'altro ci sono i set per ogni pacchetto KDE - @kdeaccessibility, @kdeadmin,
@kdeartwork, @kdebase, @kdeedu, @kdegames, @kdegraphics, @kdemultimedia,
@kdenetwork, @kdepim, @kdesdk, @kdetoys, e @kdeutils. C'è anche un set di set
(l'equivalente del vecchio pacchetto kde-meta) @kde, e lo stesso per specifica
versione, ovvero @kde-3.5 e @kde-4x, un set per le dipendenze di KDE @kdedeps,
un set per i pacchetti opzionali @kdeoptional e un set per i pacchetti suddivisi
("split", ndt) di qt @qt-split.
</p>

<p>
L'utente può installare un sistema kde completo eseguendo <c>emerge -av
@kde</c>. Gli equivalenti con la versione specifica sono molto utili per
disinstallare una vecchia versione, es. <c>emerge -C @kde-3.5</c>, o per
reinstallare tutti i pacchetti appartenenti ad una versione specifica, es.
<c>emerge -av1 @kde-4x</c>. Alcune caratteristiche avanzate, come la rimozione
di pacchetti indesiderati da un set, verranno supportate nei rilasci futuri di
Portage; è possibile ottenere maggiori informazioni leggendo il <uri
link="http://planet.gentoo.org/developers/genone/2008/09/29/more_extensions_to_package_set_support">
blog di Marius Mauch's (genone)</uri>. Parte di questo codice è stato già
rilasciato in portage-2.2_rc12, pertanto è possibile reinstallare tutti i
pacchetti installati di un set con il comando <c>emerge -av
@&lt;set&gt;/@installed</c> o avere un set
<path>/etc/portage/sets/kdebase-unwanted</path> e successivamente eseguire
<c>emerge -av @kdebase-@kdebase-unwanted</c>.
</p>

<p>
Si consiglia vivamente di installare il set <c>kdebase</c> in modo da ottenere
una sessione completa di KDE4. Nell'esempio seguente verranno installati i set
<c>kdebase</c> e <c>kdegames</c>.
</p>

<pre caption="Installare KDE">
# <i>emerge @kdebase @kdegames</i>
</pre>

<note>
Se si vuole controllare la lista dei set a disposizione di Portage, eseguire il
seguente comando: <c>emerge --list-sets</c>
</note>

<note>
Tutte le ebuild per le versioni di KDE maggiori o uguali a 4.1 richiedono
<c>sys-apps/portage-2.1.6</c> o versioni successive, in quanto da tale versione
in poi sono state implementate in modo completo le nuove specifiche EAPI 2 usate
in queste ebuild (per usare i set, invece, è richiesto
<c>sys-apps/portage-2.2_rc12</c> o versioni successive).
</note>

</body>
</section>
<section id="cleanup">
<title>Pulizia di KDE</title>
<body>

<p>
Per ridurre al minimo gli inconvenienti la miglior cosa è iniziare con un
ambiente pulito. È raccomandato nei seguenti casi:
</p>

<ul>
  <li>
    Quando si sta migrando da un'installazione <c>+kdeprefix</c> ad una
    <c>-kdeprefix</c> (e viceversa)
  </li>
  <li>
    Ritorno ad una versione precedente ("downgrade", ndt) di KDE (es. da
    versioni snapshots/ebuild live a una versione di Portage)
 </li>
 <li>Aggiornamento completo da KDE 3 a KDE 4 (e viceversa)</li>
 <li>Migrazione da un vecchio overlay</li>
</ul>

<p>
Due possibili modalità di rimozione di vecchie installazioni di KDE sono:
</p>

<pre caption="Commandi di unmerge">
# <i>emerge -C @kde-4.X @kdebase-4.X @kde-3.5</i> (usando i tipici set)
# <i>emerge -C $(qfile -C -q -e /usr/kde/%PREFIX%)</i> <comment>(sostituire %PREFIX% con la propria versione di KDE, es. 3.5, 4)</comment>
</pre>

<pre caption="Commandi di unmerge (applicabili solamente se si sta migrando da un vecchio overlay)">
# <i>cd /percorso/all/overlay/</i>
# <i>emerge -C $(find ./ -name \*.ebuild |sed -e "s:\.ebuild$::" -e "s:./::" |awk -F'/' '{print "="$1"/"$3}')</i>
</pre>

<p>
Il passaggio finale sarà quello di rimuovere il vecchio overlay in modo da non
creare conflitti con le ebuild di KDE. Inoltre si dovranno rimuovere anche i
vecchi file relativi agli unmask e keyword dei pacchetti.
</p>

<note>
Non dimenticarsi di eseguire <c>emerge --depclean</c> in modo da disinstallare
tutte le dipendenze inutilizzate.
</note>

</body>
</section>
<section>
<title>Ricostruire il database delle applicazioni</title>
<body>

<p>
Per ricostruire il database delle applicazioni KDE eseguire:
</p>

<pre caption="comando kbuildsycoca">
# <i>kbuildsycoca4 --noincremental</i>
</pre>

</body>
</section>
<section>
<title>Localizzazione/Internazionalizzazione</title>
<body>

<p>
Con il nuovo KDE ci sono nuovi sforzi di traduzione nella Localizzazione
piuttosto che nell'Internazionalizzazione. Questo può causare un po' di
confusione, ma non c'è da preoccuparsi: l'unica cosa che cambia è il nome.
</p>

<pre caption="Ottenere le traduzioni">
<comment>Per KDE 4 e KOffice 2:</comment>
# <i>emerge kde-l10n</i>
# <i>emerge koffice-l10n</i>
</pre>

</body>
</section>
<section>
<title>Migrare le configurazioni da 3.5 a 4.X</title>
<body>

<p>
KDE memorizza i propri file di configurazione, come impostazione predefinita,
nella directory <path>~/.kde</path>. Nelle ebuild di Gentoo tale comportamento,
in KDE 4.x, è stato modificato per permettere una migliore integrazione tra KDE
3.5 e 4.X quando si utilizza lo stesso account utente. Se si esporta la
variabile $KDEHOME questa modalità verrà aggirata, pertanto sì raccomanda
caldamente di non farlo: $KDEHOME farà sì che KDE 3.5 e 4.X usino la stessa
directory di configurazione, cosa che normalmente non è desiderabile accada.
</p>

<p>
KDE 3.5 usa <path>~/.kde</path> e la modalità predefinita FSH
(<c>-kdeprefix</c>) di KDE 4.x usa <e>~/.kde4</e>.
</p>

<p>
Le impostazioni non vengono migrate in modo predefinito. Se si vuol provare a
migrare le proprie impostazioni bisogna copiare la vecchia directory di
configurazione nella nuova posizione, prima di effettuare la procedura di
login. Per esempio:
</p>

<pre caption="Copiare la directory di configurazione">
$ <i>cp -r ~/.kde ~/.kde4</i>
</pre>

<p>
Se questa operazione ha successo, allora le proprio impostazioni verranno
migrate in modo completo. In caso contrario, è possibile effettuare il logout e
rimuovere la nuova directory di configurazione e partire con una pulita.
</p>

<impo>
Migrare ad una versione precedente, dalla 4.x alla 3.5, non è supportato.
</impo>

</body>
</section>
</chapter>
<chapter>
<title>Suggerimenti e Risoluzione dei problemi</title>
<section>
<title>Plasmoidi</title>
<body>

<p>
I plasmoidi sono dei nuovi oggetti plasma che possono migliorare la propria
esperienza desktop. Molti plasmoidi sono disponibili nella categoria kde-misc/.
Se il proprio plasmoide preferito risulta mancante, aprire un bug report e
qualcuno creerà sicuramente l'ebuild. Se si desidera installarli tutti, c'è un
set chiamato @plasmoids che contiene tutti i plasmoidi attualmente disponibili.
</p>

<note>
Molti plasmoidi sono disponibili nell'overlay kde.
</note>

</body>
</section>
<section>
<title>Temi Plasma</title>
<body>

<p>
L'ebuild che contiene diversi temi per plasma si chiama
x11-themes/plasma-themes. La procedura per richiedere temi addizionali è uguale
a quella per i plasmoidi.
</p>

</body>
</section>
<section>
<title>Rendere simili le applicazioni GTK a quelle QT</title>
<body>

<p>
L'ebuild da utilizzare se si vuole che le proprie applicazioni GTK usino
un tema simile alle applicazioni Qt/KDE si chiama
x11-themes/gtk-engines-qtcurve. Bisogna inoltre installare
<c>x11-themes/qtcurve-qt4</c> per far sì che funzioni con le applicazioni Qt
4/KDE 4. Per poter accedere alla configurazione presente in "Impostazioni di
Sistema->Aspetto->Stili e caratteri GTK" bisogna installare
<c>x11-themes/kcm_gtk</c>.
</p>

</body>
</section>
<section>
<title>Akonadi si lamenta riguardo alla configurazione di MySQL</title>
<body>

<p>
Cominciare controllando i permessi in <path>/usr/share/config</path> e
<path>/usr/share/kde4</path>. Se sono 700 ("rwx------", ndt), bisognerà
aggiornarli ricorsivamente a 755 ("rwxr-xr-x", ndt).
</p>

<pre caption="Aggiornare i permessi di /usr/share/config">
# <i>chmod -R 755 /usr/share/{config,kde4}</i>
</pre>

<p>
Se ciò non risolve l'errore, bisogna aprire la configurazione di akonadi e
modificare la configurazione predefinita di mysql. Se non è in esecuzione
l'icona del vassoio ("tray", ndt), eseguire <c>akonaditray</c>, selezionare
"Configurazione Server Akonadi", attivare "Usare il server MySQL interno", e
premere il pulsante test. Se si vuole usare il server mysql e non l'eseguibile
integrato, è necessario assicurarsi che mysql sia in esecuzione.
</p>

</body>
</section>
<section>
<title>Eseguire KDE all'avvio del sistema</title>
<body>

<p>
Ci sono due modi per eseguire KDE all'avvio del sistema. Quello più semplice è
usare KDM, disponibile tramite il pacchetto <c>kde-base/kdm</c>. Per prima cosa
modificare il file di configurazione di Xorg, impostando la variabile
DISPLAYMANAGER a "kdm":
</p>

<pre caption="Modificare /etc/conf.d/xdm">
# What display manager do you use ?  [ xdm | gdm | kdm | kdm-4.3 | gpe | entran$
# NOTE: If this is set in /etc/rc.conf, that setting will override this one.
#
# KDE-specific note:
# - If you are using kdeprefix go with "kdm-4.Y", e.g. "kdm-4.3".
#     You can find possible versions by looking at the directories in /usr/kde/.
# - Else, if you are using KDE 3 enter "kdm-3.5"
# - Else, if you are using KDE 4 enter "kdm" without a version
DISPLAYMANAGER="kdm"
</pre>

<p>
Il passaggio successivo è aggiungere xdm al runlevel default:
</p>

<pre caption="Aggiungere xdm al runlevel default">
# <i>rc-update add xdm default</i>
</pre>

</body>
</section>
<section>

<title>Suggerimenti sui font</title>
<body>

<p>
Se cliccando per visualizzare il menù esso risulta illeggibile, bisogna
installare alcuni font di caratteri. Alcune delle scelte più comuni sono
<c>media-fonts/corefonts</c>, <c>media-fonts/ttf-bitstream-vera</c> e
<c>media-fonts/dejavu</c>.
</p>

</body>

</section>
<section>
<title>KDM non si avvia</title>
<body>

<p>
Cominciare controllando i permessi in /usr/share/config. Se sono 700
("rwx------", ndt), bisognerà aggiornarli ricorsivamente a 755 ("rwxr-xr-x",
ndt). Controllare la sezione precedente. Se ciò non risolve l'errore,
controllare il seguente avvertimento nell'ebuild di kdm:
</p>

<pre caption="avvertimento di kdm">
Se quando riavvii xdm, kdm non riesce ad avviarsi restituendo messaggi del tipo
gentoo kdm[2116]: X server startup timeout, terminating" in /var/log/messages,
decommentare la riga ServerTimeout in "grep kdmrc /var/db/pkg/kde-base/kdm-4.3.1/CONTENTS | cut -f2 -d " ""
e assicurarsi di incrementare il valore di timeout - con 60 dovrebbe funzionare
</pre>

<p>
Inoltre assicurarsi che i seguenti servizi siano avviati:
</p>

<pre caption="controllare ed avviare i servizi">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/hald status</i>
# <i>/etc/init.d/consolekit status</i>
</pre>

<p>
Se non sono avviati, abilitarli sostituendo <c>status</c> con <c>start</c>, e
usare il comando <c>rc-update add dbus default</c> (sostituire "dbus" con il
nome del relativo servizio, ndt) per ciascuno di essi per aggiungerli al
runlevel default.
</p>

<p>
Infine, KDM potrebbe non avviarsi correttamente a causa di errori in
<path>/etc/X11/xorg.conf</path>. Controllare i propri log:
<path>/var/log/Xorg.0.log</path> e <path>/var/log/kdm.log</path> e correggere
conseguentemente <path>xorg.conf</path>. Per ulteriore aiuto è possibile
trovare i membri del team KDE di Gentoo su IRC (canale #gentoo-kde su Freenode).
</p>

</body>
</section>
<section>
<title>L'applet della batteria o le notifiche di solid non mostrano le
informazioni pertinenti</title>
<body>

<p>
Per fare in modo che l'applet della batteria o altre notifiche di solid possano
mostrare le informazioni pertinenti, bisogna che dbus e hald siano in
esecuzione.
</p>

<pre caption="controllare ed avviare dbus e hald">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/hald status</i>
# <i>/etc/init.d/dbus start</i>
# <i>/etc/init.d/hald start</i>
</pre>

</body>
</section>
<section>
<title>Desktop profile and subprofiles</title>
<body>

<p>
Il profilo desktop è stato suddiviso nei sottoprifili KDE e GNOME. Ciò
significa che le flag specifiche per KDE E GNOME sono state rimosse dal profilo
desktop  di base e migrati nei sottoprofili. Tuttavia scegliere un sottoprofilo
non costringe l'utente ad usare solamente l'equivalente Ambiente Desktop.
</p>

</body>
</section>
</chapter>
</guide>
