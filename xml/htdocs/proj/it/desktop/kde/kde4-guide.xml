<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/it/desktop/kde/Attic/kde4-guide.xml,v 1.13 2012/05/27 17:23:36 ago Exp $ -->

<guide lang="it">
<title>Guida a KDE per Gentoo</title>

<author title="Autore">
  <mail link="tampakrap"/>
</author>
<author title="Autore">
  <mail link="dilfridge"/>
</author>
<author title="Autore">
  <mail link="scarabeus"/>
</author>
<author title="Autore">
  <mail link="jmbsvicetto"/>
</author>
<author title="Autore">
  <mail link="johu"/>
</author>
<author title="Autore">
  <mail link="cryos"/>
</author>
<author title="Redazione">
  <mail link="keytoaster"/>
</author>
<author title="Redazione">
  <mail link="nightmorph"/>
</author>
<author title="Traduzione">
  <mail link="scen"/>
</author>

<abstract>
Questa guida spiega come installare e configurare KDE SC usando le ebuild
disponibili nell'albero di Portage. Potrebbero venire usati, inoltre, alcuni
strumenti provenienti dall'overlay git del team KDE (kde).
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>3.13</version>
<date>2012-05-25</date>

<chapter>
<title>KDE 3</title>
<section>
<title>Brevi informazioni</title>
<body>

<p>
KDE 3 non viene più mantenuto dagli sviluppatori del progetto KDE, e la versione
3.5.10 rimane il loro ultimo rilascio. Inoltre, la maggior parte delle
applicazioni per KDE3 non sono più mantenute, in quanto sono già state
convertite per KDE4, o la loro conversione è in fase di esecuzione.
</p>

<p>
In Gentoo, le ebuild di KDE 3 sono state rimosse dall'albero di Portage, e sono
state spostate nell'overlay (gestito da utenti) chiamato <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde-sunset.git;a=summary">
kde-sunset</uri> (disponibile tramite layman). Tenere bene a mente che questo
overlay è gestito solamente da utenti, e gli attuali membri del team KDE non
hanno nessuna responsabilità per il suo contenuto. Se si è interessati a
co-mantenerlo, è possibile inviare un'email a <mail link="overlays"/>
chiedendo l'accesso per i commit. Se si vuole segnalare un bug per questo
overlay, non utilizzare l'interfaccia Bugzilla di Gentoo. Usare invece la
mailing list <uri
link="http://archives.gentoo.org/gentoo-desktop/">gentoo-desktop</uri>. Le
istruzioni su come iscriversi sono disponibili <uri
link="/main/it/lists.xml">qui</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>KDE 4 SC</title>
<section>
<title>Introduzione</title>
<body>

<p>
KDE 4 SC è la versione corrente di KDE supportata dagli sviluppatori
dell'omonimo progetto. In Portage è presente una versione stabile, e potrebbe
esserci una (o più) versioni non stabili. In condizioni normali le nuove
versioni vengono stabilizzate dopo un mese. Inoltre, sviluppatori del progetto
KDE offrono il <uri link="http://quickgit.kde.org">repository git pubblico dei
sorgenti</uri>. Il team Gentoo di KDE fornisce anche l'ultima versione disponibile
stabile e instabile degli ebuild tramite l'overlay <c>kde></c>.
</p>

<p>
È possibile scegliere la versione di KDE SC ritenuta più appropriata alle
proprie esigenze:
</p>

<table>
  <tr>
    <th>KDE SC Version</th>
    <th>Repository</th>
  </tr>
  <tr>
    <ti><uri link="#kde4_7">KDE SC 4.7.4</uri></ti>
    <ti>Portage</ti>
  </tr>
  <tr>
    <ti><uri link="#kde4_8">KDE SC 4.8.3</uri></ti>
    <ti>Portage</ti>
  </tr>
  <tr>
    <ti><uri link="snapshots">KDE SC 4.9 Snapshots</uri></ti>
    <ti>KDE Overlay</ti>
  </tr>
  <tr>
    <ti><uri link="#live">Live Ebuild (4.8 Branch, Trunk)</uri></ti>
    <ti>KDE Overlay</ti>
  </tr>
</table>

</body>
</section>
</chapter>
<chapter id="prerequisites">
<title>Prerequisiti</title>
<section>
<title>Profili e sottoprofili desktop</title>
<body>

<p>
Il profilo desktop è stato suddiviso nei sottoprofili KDE e GNOME. Questo
significa che le flag USE specifiche per KDE e GNOME sono state eliminate dal
profilo desktop di base e sono state migrate verso i sottoprofili. Scegliere un
sottoprofilo non limita all'uso di un solo ambiente desktop. Per scegliere il
profilo più adatto alle proprie esigenze, eseguire <c>eselect profile list</c>
per ottenere la lista dei profili e <c>eselect profile set X</c>, dove X è il
numero appropriato.
</p>

</body>
</section>

<section>
<title>Flag USE</title>
<body>
<p>
Prima di installare KDE SC è raccomandato impostare diverse flag USE. Una parte
del lavoro viene svolto automaticamente nel momento in cui si usa un profilo
desktop/kde o desktop. in dettaglio, occorre usare:
</p>
<table>
  <tr>
    <th>flag</th>
    <th>spiegazione</th>
  </tr>
  <tr>
    <ti>consolekit</ti>
    <ti>Abilita l'infrastruttura consolekit per definire e tener traccia di
    utenti, sessioni di login e risorse</ti>
  </tr>
  <tr>
    <ti>dbus</ti>
    <ti>Abilita l'uso del sistema di comunicazione tra applicazioni dbus</ti>
  </tr>
  <tr>
    <ti>policykit</ti>
    <ti>Abilita l'infrastruttura <b>polkit</b> per il controllo dei privilegi
    nei servizi di sistema</ti>
  </tr>
  <tr>
    <ti>udev</ti>
    <ti>Abilita il supporto per udev, il sistema dinamico e persistente di
    attrbuizione dei nomi ai dispositivi di Linux</ti>
  </tr>
</table>
<p>
Si osservi che tecnicamente sono possibili altre combinazioni, ma potrebbero
essere non supportate, non testate o condurre a una indesiderata perdita di
punzionalità.
</p>
<p>
Se vengono cambiate delle flag USE globali, bisognerà poi includere l'opzione -N
quando verrà eseguito il successivo comando emerge per l'aggiornamento del
sistema, ad esempio:
</p>
<pre caption="Aggiornare l'intero sistema dopo il cambiamento di una flag USE">
# <i>emerge -uDNav world</i>
</pre>
</body>
</section>

<section>
<title>Configurazione del kernel</title>
<body>
<p>
Se si esegue un proprio kernel, bisognerà installarne uno nuovo con le seguenti
opzioni:
</p>
<pre caption="Impostazioni del kernel raccomandate">
CONFIG_USB_SUSPEND=y
CONFIG_IDE=n
CONFIG_AUDITSYSCALL=y
</pre>
</body>
</section>

</chapter>

<chapter id="kde_portage">
<title>Installare KDE SC attraverso il Portage</title>
<section id="kde4_7">
<title>KDE SC 4.7</title>
<body>

<p>
KDE SC 4.7.4 è l'attuale versione stabile per amd64, ppc e x86.
</p>
<pre caption="Installazione di KDE 4.7 usando i meta pacchetti">
# <i>emerge -av kde-meta</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(installazione dei soli moduli prescelti)</comment>
</pre>

<warn>
Se si esegue KDEPIM e si aggiorna da 4.4 a 4.7, è bene consultare prima <uri
link="http://wiki.gentoo.org/wiki/KDEPIM-4.7_upgrade">Gentoo Wiki KDEPIM 4.7
Upgrade Guide</uri>! Se si preferisce rimanere alla versione 4.4 di KDEPIM si
può <uri link="kdepim-4.7-mask.txt">mascherare KDEPIM 4.7</uri>.
</warn>

</body>
</section>
<section id="kde4_8">
<title>KDE SC 4.8</title>
<body>

<p>
KDE SC 4.8.3 è stabile per amd64 e x86.
<!-- KDE SC 4.8.4 è in portage, attualmente come ~testing, ma la stabilizzazione è
pianificata per il prossimo futuro.-->
</p>

<p>
Gli utenti con un sistema stabile devono inserire <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=blob_plain;f=Documentation/package.keywords/kde-4.8.keywords">questo
file di keyword</uri> in <path>/etc/portage/package.keywords</path>.
</p>

<pre caption="Installazione di KDE SC 4.8 usando i meta pacchetti">
# <i>emerge -av kde-meta</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(installazione dei soli pacchetti desiderati)</comment>
</pre>

<warn>
Se si esegue KDEPIM e si aggiorna da 4.4 a 4.8, è bene consultare prima <uri
link="http://wiki.gentoo.org/wiki/KDEPIM-4.7_upgrade">Gentoo Wiki KDEPIM 4.7
Upgrade Guide</uri>! Se si preferisce rimanere alla versione 4.4 di KDEPIM si
può <uri link="kdepim-4.7-mask.txt">mascherare KDEPIM 4.7</uri> (La guida è
valida anche per 4.8).
</warn>

</body>
</section>
</chapter>
<chapter id="kde_overlay">
<title>Installare KDE SC dagli Overlay</title>
<section id="kde_overlay_prerequisites">
<title>Prerequisiti</title>
<body>
<p>
Gli snapshot di installazione sono disponibili solamente tramite l'overlay
<c>kde</c>, pertanto bisogna come prima cosa bisogna installarlo:
</p>

<pre caption="Installare l'overlay kde">
# <i>layman -f -a kde</i>
<comment>Per maggiori informazioni riguardanti gli overlay, si prega di leggere la <uri
link="http://www.gentoo.org/proj/en/overlays/userguide.xml">Guida per gli Utenti</uri> per gli overlay</comment>
</pre>

<impo>
Il <c>kde overlay</c> usa la funzione <e>thin manifest layout</e>. Per questo è
necessario <c>sys-apps/portage-2.1.10.18</c> o superiore. Altrimenti si avranno
errori di <e>manifest</e> mancante.
</impo>

</body>
</section>

<section id="snapshots">
<title>Installare gli snapshot di KDE SC</title>
<body>

<p>
Durante le fasi di sviluppo, gli sviluppatori di KDE forniscono <uri
link="ftp://ftp.kde.org/pub/kde/unstable">snapshot settimanali</uri> prelevati
dal repository git. Le versioni di KDE beta e Release Candidate seguono il
seguente piano di produzione degli snapshot:
</p>

<table>
  <tr>
    <th>Versione KDE SC</th>
    <th>Nome Rilascio</th>
  </tr>
  <tr>
    <ti>4.x.80</ti>
    <ti>Beta 1</ti>
  </tr>
  <tr>
    <ti>4.x.85</ti>
    <ti>Beta 2</ti>
  </tr>
  <tr>
    <ti>4.x.90</ti>
    <ti>Release Candidate 1</ti>
  </tr>
  <tr>
    <ti>4.x.95</ti>
    <ti>Release Candidate 2</ti>
  </tr>
</table>

<note>
Attualmente non ci sono snapshot disponibili.
</note>

<!-- Abilitare non appena lo snapshot di KDE SC 4.9 sarà disponibile in overlay -->
<p>
Gli utenti con sistemi stabili devono sbloccare diversi pacchetti per procedere.
Nell'overlay <c>kde</c> viene fornito in file package.keyword. A causa di
dipendenze mascherate, KDE SC 4.8.80 dovrebbe essere a sua volta mascherato.
Creare dei collegamenti simbolici ai file:
</p>

<pre caption="Creare collegamenti simbolici ai file keywords">
# <i>ln -s /path/to/overlay/kde/Documentation/package.keywords/kde-4.9.keywords /etc/portage/package.keywords/</i>
# <i>ln -s /path/to/overlay/kde/Documentation/package.unmask/kde-4.9 /etc/portage/package.unmask/</i>
</pre>

<p>
L'installazione può essere effettata sia usando i meta pacchetti che i set.
</p>

<pre caption="Installazione usando i meta pacchetti">
# <i>emerge -av kde-meta</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(installazione dei soli moduli prescelti)</comment>
</pre>

<pre caption="Installazione usando i set">
<comment>(Per lo snapshot KDE SC 4.9)</comment>
# <i>emerge -av @kde-4.9</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av @kdebase-4.9 @kdegames-4.9</i> <comment>(installazione dei soli moduli prescelti)</comment>
</pre>

</body>
</section>
<section id="live">
<title>Installare le ebuild "live" di KDE SC</title>
<body>

<p>
KDE SC è Open Source, con tutto il suo codice disponibile alla consultazione
attraverso l'interfaccia <uri link="http://quickgit.kde.org">KDE QuickGit</uri>
e al checkout pubblico. Gentoo, in quanto distribuzione basata su sorgenti, ha
l'abilità di fornire ebuild "live" che effettuano il checkout del codice sia dal
ramo ("branch") più recente che da quello principale (trunk).
</p>

<table>
  <tr>
   <th>Versione Ebuild</th>
   <th>Versione KDE SC</th>
  </tr>
  <tr>
    <ti>4.8.49.9999</ti>
    <ti>KDE 4.8 Branch</ti>
  </tr>
  <tr>
   <ti>9999</ti>
   <ti>KDE 4 Trunk</ti>
  </tr>
</table>

<p>
Gli utenti con sistemi stabili, per poter proseguire, devono aggiungere le
keyword necessarie per i pacchetti (per permettere l'installazione delle
versioni instabili, ndt). L'overlay <c>kde</c> fornisce un file
package.keywords, che dovrà essere collegato in modo simbolico alla propria
directory package.keywords:
</p>

<pre caption="Creare il collegamento simbolico del file keyword">
# <i>ln -s /path/to/overlay/kde/Documentation/package.keywords/kde-4.8.49.9999.keywords </i><comment>(per il ramo (Branch) 4.8 )</comment>
# <i>ln -s /path/to/overlay/kde/Documentation/package.keywords/kde-live.keywords </i><comment>(per il ramo (Trunk) KDE)</comment>
</pre>

<p>
L'installazione può essere eseguita sia usando i meta pacchetti sia usando i
"set" (insiemi di pacchetti, ndt).
</p>

<pre caption="Installazione usando i meta pacchetti">
# <i>emerge -av kde-meta</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(installazione dei soli moduli prescelti)</comment>
</pre>

<pre caption="Installazione usando i set">
<comment>(Per il ramo (Branch) KDE SC 4.8)</comment>
# <i>emerge -av @kde-4.8</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av @kdebase-4.8 @kdegames-4.8</i> <comment>(installazione dei soli moduli prescelti)</comment>
<comment>(Per il ramo (Trunk) KDE)</comment>
# <i>emerge -av @kde-live</i> <comment>(contiene tutti i moduli di KDE)</comment>
# <i>emerge -av @kdebase-live @kdegames-live</i> <comment>(installazione dei soli moduli prescelti)</comment>

<comment>Per ulteriori informazioni vedere la sezione <uri link="#sets">Utilizzo dei Set</uri>.</comment>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Informazioni aggiuntive riguardo Installazioni/Rimozioni</title>
<section id="sets">
<title>Utilizzo dei Set</title>
<body>

<p>
Una delle nuove caratteristiche fornite da Portage 2.2 sono i set.
</p>

<p>
I set permettono al team KDE di fornire un sostituto completo ai pacchetti
monolitici, con il bonus aggiuntivo della possibilità da parte degli utenti di
scegliere la rimozione dei pacchetti indesiderati dai set predefiniti. Ci sono
ancora alcune discussioni in atto prima che i set vengano inseriti nell'albero
di Portage. È possibile prelevare i set dalla dalla <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=tree;f=sets">
directory sets</uri> dell'overlay <c>kde</c>, o scaricare un <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=snapshot;h=5b2fc54fa5d1c8aeddaeb05f044bf28754bb18be;sf=tbz2">
archivio tar.bz2</uri> e inserire quelli che si preferiscono in
<path>/etc/portage/sets</path> (è possibile consultare la lista dei set forniti
dal team KDE nell'overlay usando il primo collegamento).
</p>

<note>
Se si sta usando l'overlay kde è possibile usare direttamente i set,
invece che copiarli in <path>/etc/portage/sets</path>.
</note>

<p>
Tra l'altro ci sono i set per ogni pacchetto KDE - @kdeaccessibility, @kdeadmin,
@kdeartwork, @kdebase, @kdeedu, @kdegames, @kdegraphics, @kdemultimedia,
@kdenetwork, @kdepim, @kdesdk, @kdetoys, e @kdeutils. C'è anche un set di set
(l'equivalente del vecchio pacchetto kde-meta) @kde, e lo stesso per specifica
versione, ovvero @kde-3.5 e @kde-4x, un set per le dipendenze di KDE @kdedeps,
un set per i pacchetti opzionali @kdeoptional e un set per i pacchetti suddivisi
("split", ndt) di qt @qt-split.
</p>

<p>
L'utente può installare un sistema kde completo eseguendo <c>emerge -av
@kde</c>. Gli equivalenti con la versione specifica sono molto utili per
disinstallare una vecchia versione, es. <c>emerge -C @kde-3.5</c>, o per
reinstallare tutti i pacchetti appartenenti ad una versione specifica, es.
<c>emerge -av1 @kde-4x</c>. Alcune caratteristiche avanzate, come la rimozione
di pacchetti indesiderati da un set, verranno supportate nei rilasci futuri di
Portage; è possibile ottenere maggiori informazioni leggendo il <uri
link="http://blogs.gentoo.org/developers/genone/2008/09/29/more_extensions_to_package_set_support">
blog di Marius Mauch's (genone)</uri>. Parte di questo codice è stato già
rilasciato in portage-2.2_rc12, pertanto è possibile reinstallare tutti i
pacchetti installati di un set con il comando <c>emerge -av
@&lt;set&gt;/@installed</c> o avere un set
<path>/etc/portage/sets/kdebase-unwanted</path> e successivamente eseguire
<c>emerge -av @kdebase-@kdebase-unwanted</c>.
</p>

<p>
Si consiglia vivamente di installare il set <c>kdebase</c> in modo da ottenere
una sessione completa di KDE4. Nell'esempio seguente verranno installati i set
<c>kdebase</c> e <c>kdegames</c>.
</p>

<pre caption="Installare KDE SC">
# <i>emerge @kdebase @kdegames</i>
</pre>

<note>
Se si vuole controllare la lista dei set a disposizione di Portage, eseguire il
seguente comando: <c>emerge --list-sets</c>
</note>

<note>
Tutte le ebuild per le versioni di KDE maggiori o uguali a 4.6 richiedono
<c>sys-apps/portage-2.1.9.27</c> o versioni successive, in quanto da tale
versione in poi sono state implementate in modo completo le nuove specifiche
EAPI 4 usate in queste ebuild (per usare i set, invece, è richiesto
<c>sys-apps/portage-2.2_alpha11</c> o versioni successive).
</note>

</body>
</section>
<section id="cleanup">
<title>Pulizia di KDE</title>
<body>

<p>
Per ridurre al minimo gli inconvenienti la miglior cosa è iniziare con un
ambiente pulito. È raccomandato nei seguenti casi:
</p>

<ul>
  <li>
    Quando si sta migrando da un'installazione <c>+kdeprefix</c> ad una
    <c>-kdeprefix</c> (e viceversa)
  </li>
  <li>
    Ritorno ad una versione precedente ("downgrade", ndt) di KDE (es. da
    versioni snapshots/ebuild live a una versione di Portage)
 </li>
 <li>Aggiornamento completo da KDE 3 a KDE 4 (e viceversa)</li>
 <li>Migrazione da un vecchio overlay</li>
</ul>

<p>
Un possibile modo per rimuovere completamente una vecchia installazione di KDE
in questo caso è:
</p>

<pre caption="Comandi di unmerge">
# <i>emerge -ac kde-base/kdelibs $(qlist -IC 'kde-base/*') \
             $(for name in $(qlist -IC|grep -v '^kde-base/') ; do (  qdepends -C $name | grep -q kdelibs )  &amp;&amp; echo $name  ; done)</i>
</pre>

<p>
Si osservi che questo comando rimuoverà non solo kde ma anche tutti gli altri
pacchetti che dipendono da esso, ad esempio libreoffice[kde].
</p>

<p>
Se si usa portage-2.2 la rimozione si può anche fare nel seguente modo:
</p>

<pre caption="Commandi di unmerge se si usano i set (esempio per portage-2.2)">
# <i>emerge -C @kde-4.X @kdebase-4.X @kde-3.5</i>(using the typical sets)
</pre>

<p>
Il passaggio finale sarà quello di rimuovere ogni vecchio overlay in modo da non
creare conflitti con le ebuild di KDE. Inoltre si dovranno rimuovere anche i
vecchi file relativi agli unmask e keyword dei pacchetti.
</p>

<note>
Non dimenticarsi di eseguire <c>emerge --depclean</c> in modo da disinstallare
tutte le dipendenze non più necessarie.
</note>

</body>
</section>
<section>
<title>Localizzazione/Internazionalizzazione</title>
<body>

<p>
Con il nuovo KDE ci sono nuovi sforzi di traduzione nella Localizzazione
piuttosto che nell'Internazionalizzazione. Questo può causare un po' di
confusione, ma non c'è da preoccuparsi: l'unica cosa che cambia è il nome.
</p>

<pre caption="Ottenere le traduzioni">
<comment>Per KDE 4 e KOffice 2:</comment>
# <i>emerge kde-l10n</i>
# <i>emerge koffice-l10n</i>
</pre>

</body>
</section><section>
<title>Migrare le configurazioni da 3.5 a 4.X</title>
<body>

<p>
KDE memorizza i propri file di configurazione, come impostazione predefinita,
nella directory <path>~/.kde</path>. Per ebuild di Gentoo questo comportamento è
stato modificato in KDE 4.x, per permettere una migliore integrazione tra KDE
3.5 e 4.X quando si utilizza lo stesso account utente. È fortemente raccomandato
di non farlo. $KDEHOME farà sì che KDE 3.5 e 4.X usino la stessa directory di
configurazione, cosa che normalmente non è desiderabile accada.
</p>

<p>
KDE 3.5 usa <path>~/.kde</path> e la modalità predefinita FSH
(<c>-kdeprefix</c>) di KDE 4.x usa <e>~/.kde4</e>.
</p>

<p>
Le impostazioni non vengono migrate in modo predefinito. Se si vuol provare a
migrare le proprie impostazioni bisogna copiare la vecchia directory di
configurazione nella nuova posizione, prima di effettuare la procedura di
login. Per esempio:
</p>

<pre caption="Copiare la directory di configurazione">
$ <i>cp -r ~/.kde ~/.kde4</i>
</pre>

<p>
Se questa operazione ha successo, allora le proprio impostazioni verranno
migrate in modo completo. In caso contrario, è possibile effettuare il logout e
rimuovere la nuova directory di configurazione e partire con una pulita.
</p>

<impo>
Migrare ad una versione precedente, dalla 4.x alla 3.5, non è supportato.
</impo>

</body>
</section>
</chapter>

<chapter>
<title>Suggerimenti e Risoluzione dei problemi</title>
<section>
<title>Sbarazzarsi della finestra di KResource Migration Tool</title>
<body>
<p>
Sono stati segnalati casi in cui il KResource Migration Tool (strumento per la
migrazione, NdT) apre una finestra ad ogni login. Non c'è una vera e propria
soluzione per questo problema, ma si può trovare un modo per aggirarlo nel <uri
link="https://bugs.gentoo.org/353200">bug 353200</uri>.
</p>

</body>
</section>
<section>
<title>Ricostruire il database delle applicazioni</title>
<body>

<p>
Se il menu K perde alcune applicazioni o l'intera lista delle applicazioni,
probabilmente è necessario ricostruire il database delle applicazioni. Questa
operazione è anche una possibile soluzione per tutti i problemi relativi al menu
K, come la scomparsa di icone.
</p>

<pre caption="comando kbuildsycoca">
# <i>kbuildsycoca4 --noincremental</i>
</pre>

</body>
</section>
<section>
<title>Rendere applicazioni GTK simili a quelle QT</title>
<body>

<p>
Ci sono due temi disponibili che hanno lo stesso aspetto in entrambi gli
ambienti (GTK/Gnome e Qt/KDE): "QtCurve" è fornito attraverso i pacchetti
<c>gtk-engines-qtcurve</c> e <c>x11-themes/qtcurve-qt4</c>, "Oxygen" è parte di
KDE 4.x e a sua controparte è fornita attraverso il pacchetto
<c>x11-themes/oxygen-gtk</c>. I temi di KDE possono essere configurati
attraverso Le Impostazioni di Sistema di KDE, in "Aspetto delle applicazioni",
nella scheda "Stile". Per configurare il tema delle applicazioni GTK dalle
Impostazioni di Sistema di KDE, installare <c>kde-misc/kde-gtk-config</c> per
ottenere una nuova scheda in "Aspetto delle applicazioni".
</p>

</body>
</section>
<section>
<title>Akonadi si lamenta riguardo alla configurazione di MySQL</title>
<body>

<p>
Cominciare controllando i permessi in <path>/usr/share/config</path> e
<path>/usr/share/kde4</path>. Se sono 700 ("rwx------", ndt), bisognerà
aggiornarli ricorsivamente a 755 ("rwxr-xr-x", ndt).
</p>

<pre caption="Aggiornare i permessi di /usr/share/config">
# <i>chmod -R 755 /usr/share/{config,kde4}</i>
</pre>

<p>
Se ciò non risolve l'errore, bisogna aprire la configurazione di akonadi e
modificare la configurazione predefinita di mysql. Se non è in esecuzione
l'icona del vassoio ("tray", ndt), eseguire <c>akonaditray</c>, selezionare
"Configurazione Server Akonadi", attivare "Usare il server MySQL interno", e
premere il pulsante test. Se si vuole usare il server mysql e non l'eseguibile
integrato, è necessario assicurarsi che mysql sia in esecuzione.
</p>

</body>
</section>
<section>
<title>Eseguire KDE all'avvio del sistema</title>
<body>

<p>
Ci sono due modi per eseguire KDE all'avvio del sistema. Quello più semplice è
usare KDM, disponibile tramite il pacchetto <c>kde-base/kdm</c>. Per prima cosa
modificare il file di configurazione di Xorg, impostando la variabile
DISPLAYMANAGER a "kdm":
</p>

<pre caption="Modificare /etc/conf.d/xdm">
# What display manager do you use ?  [ xdm | gdm | kdm | kdm-4.3 | gpe | entran$
# NOTE: If this is set in /etc/rc.conf, that setting will override this one.
#
# KDE-specific note:
# - If you are using kdeprefix go with "kdm-4.Y", e.g. "kdm-4.3".
#     You can find possible versions by looking at the directories in /usr/kde/.
# - Else, if you are using KDE 3 enter "kdm-3.5"
# - Else, if you are using KDE 4 enter "kdm" without a version
DISPLAYMANAGER="kdm"
</pre>

<p>
Il passaggio successivo è aggiungere xdm al runlevel default:
</p>

<pre caption="Aggiungere xdm al runlevel default">
# <i>rc-update add xdm default</i>
</pre>

</body>
</section>
<section>

<title>Suggerimenti sui font</title>
<body>

<p>
Se cliccando per visualizzare il menù esso risulta illeggibile, bisogna
installare alcuni font di caratteri. Alcune delle scelte più comuni sono
<c>media-fonts/corefonts</c>, <c>media-fonts/ttf-bitstream-vera</c> e
<c>media-fonts/dejavu</c>.
</p>

</body>

</section>
<section>
<title>KDM non si avvia</title>
<body>

<p>
Cominciare controllando i permessi in /usr/share/config. Se sono 700
("rwx------", ndt), bisognerà aggiornarli ricorsivamente a 755 ("rwxr-xr-x",
ndt). Controllare la sezione precedente. Se ciò non risolve l'errore,
controllare il seguente avvertimento nell'ebuild di kdm:
</p>

<pre caption="avvertimento di kdm">
Se quando riavvii xdm, kdm non riesce ad avviarsi restituendo messaggi del tipo
gentoo kdm[2116]: X server startup timeout, terminating" in /var/log/messages,
decommentare la riga ServerTimeout in "grep kdmrc /var/db/pkg/kde-base/kdm-4.3.1/CONTENTS | cut -f2 -d " ""
e assicurarsi di incrementare il valore di timeout - con 60 dovrebbe funzionare
</pre>

<p>
Inoltre assicurarsi che i seguenti servizi siano avviati:
</p>

<pre caption="controllare ed avviare i servizi">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/consolekit status</i>
</pre>

<p>
Se non sono avviati, abilitarli sostituendo <c>status</c> con <c>start</c>, e
usare il comando <c>rc-update add dbus default</c> (sostituire "dbus" con il
nome del relativo servizio, ndt) per ciascuno di essi per aggiungerli al
runlevel default.
</p>

<p>
Infine, KDM potrebbe non avviarsi correttamente a causa di errori in
<path>/etc/X11/xorg.conf</path>. Controllare i propri log:
<path>/var/log/Xorg.0.log</path> e <path>/var/log/kdm.log</path> e correggere
conseguentemente <path>xorg.conf</path>. Per ulteriore aiuto è possibile
trovare i membri del team KDE di Gentoo su IRC (canale #gentoo-kde su Freenode).
</p>

</body>
</section>
<section>
<title>L'applet della batteria o le notifiche di solid non mostrano le
informazioni pertinenti</title>
<body>

<p>
Per fare in modo che l'applet della batteria o altre notifiche di solid possano
mostrare le informazioni pertinenti, bisogna che dbus e consolekit siano in
esecuzione.
</p>

<pre caption="controllare ed avviare dbus e consolekit">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/dbus start</i>
# <i>/etc/init.d/consolekit status</i>
# <i>/etc/init.d/consolekit start</i>
</pre>

</body>
</section>

<section>
<title>Doppia ibernazione o crash dopo l'ibernazione (bug 363363)</title>
<body>

<p>
KDE 4.6 gestisce autonomamente il pulsante "sleep" e il sistema si iberna
correttamente. Se se sono stati configurati manualmente altri programmi per
gestire questi eventi (ad esempio acpid), è meglio disabilitarli, altrimenti si
rischia di richiedere una doppia ibernazione e/o instabilità del sistema.
</p>
</body>
</section>

<section>
<title>Spegnimento, riavvio o logout non funzionano (bug 326393)</title>
<body>

<p>
Esiste una strana interazione tra il sistema sonoro e l'avvio del meccanismo di
logout. Aprire le impostazioni di sistema e disabilitare il suono di logout. I
logout successivi probabilmente funzioneranno.
</p>
</body>
</section>

<section>
<title>Lo sfondo del desktop copre tutte le finestre (bug 365623)</title>
<body>

<p>
In rari casi, dopo aver lavorato in diversi schermi le impostazioni del desktop
non vengono pulite in modo appropriato. Il risultato è che lo sfondo del desktop
sempre coprire tutte le finestre. Maggiori dettagli e alcune vie d'uscita sono
in <uri link="https://bugs.kde.org/show_bug.cgi?id=260360">questo bug di
KDE</uri>.
</p>
</body>
</section>

<section>
<title>Login impossibile, il sistema si blocca alla schermata di benvenuto (bug
365637)</title>
<body>

<p>
Se si sono fatti esperimenti con alcuni elementi instabili di Gnome (monelli!)
si possono incotnrare delle instabilità mai ben spiegate. Il login in KDE
fallisce se net-libs/glib-networking è installato. Rimuovere quel pacchetto e
tutto dovrebbe funzionare regolarmente.
</p>
</body>
</section>

</chapter>
<chapter>
<title>Archivio</title>
<section>
<title>Aggiornare da KDE SC 4.4 a 4.6</title>
<body>
<p>
KDE SC 4.6.3 è attualmente stabile. Se si incontrano problemi durante
l'aggiornamento da KDE SC 4.4, si consulti prima la <uri
link="/proj/en/desktop/kde/kde44-46-upgrade.xml">Gentoo KDE 4.4 - 4.6 Upgrade
Guide</uri>! (in inglese, NdT)
</p>
</body>
</section>
</chapter>
</guide>
