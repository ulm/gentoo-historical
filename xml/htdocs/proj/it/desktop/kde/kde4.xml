<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/it/desktop/kde/Attic/kde4.xml,v 1.8 2008/05/01 13:38:32 scen Exp $ -->

<guide link="/proj/it/desktop/kde/kde4.xml" lang="it">
<title>Guida a Gentoo KDE 4.0</title>

<author title="Autore">
  <mail link="ingmar"/>
</author>
<author title="Autore">
  <mail link="mark_alec"/>
</author>
<author title="Traduzione">
  <mail link="hujuice@inservibile.org">Sergio Vaccaro</mail>
</author>

<abstract>
Questa guida fornisce le informazioni necessarie per l'aggiornamento e l'uso di
KDE 4.0.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.11</version>
<date>2008-04-22</date>

<chapter>
<title>Installazione</title>
<section>
<title>Rimuovere tutti gli ebuild precedenti</title>
<body>

<p>
È fortemente consigliabile, per chi ha installato <uri
link="http://genkdesvn.mailstation.de">l'overlay genkdesvn</uri>, rimuovere
ogni rilascio precedente dal proprio sistema prima dell'aggiornamento. Per molti
utenti dovrebbe essere semplice, eseguendo <c>layman -d kde</c>. Inoltre, se è
stato modificato qualcuno dei file riguardanti KDE in <path>/etc/env.d/</path>,
quei file vanno rimossi manualmente.
</p>

</body>
</section>
<section>
<title>Abilitare le flag USE necessarie</title>
<body>

<p>
KDE 4.0 richiede che <c>x11-libs/qt:4</c> sia compilato con un insieme minimo di
flag USE. Occorre aggiungere la riga seguente a
<path>/etc/portage/package.use</path>.
</p>

<pre caption="Abilitare le flag USE necessarie per x11-libs/qt:4">
x11-libs/qt:4 accessibility dbus gif jpeg png qt3support ssl zlib
</pre>

<p>
Chi ha abilitato la flag USE <c>opengl</c> per gli ebuild di KDE dovrà abilitare
<c>opengl</c> anche per x11-libs/qt:4.
</p>

<note>
KDE 4.0.x non è stato testato con l'anteprima tecnica di Qt-4.4.0, e al momento
della scrittura di questa guida gli ebuild di KDE 4.0.x <c>NON</c> funzionano
con quella versione di Qt.
</note>

</body>
</section>
<section>
<title>Gestire la branca e il mascheramento</title>
<body>

<p>
KDE 4.0.x attualmente è mascherato, quindi è necessario rimuovere il
mascheramento usando il file package.unmask d'esempio prima di eseguire
l'emerge. Gli utenti con <c>ACCEPT_KEYWORDS="~x86"</c> o
<c>ACCEPT_KEYWORDS="~amd64"</c> non devono eseguire nessuna operazione. Tutti
gli altri dovranno inserire i pacchetti in package.keywords.<br/>
<path>/etc/portage/package.unmask/</path>
e <path>/etc/portage/package.keywords/</path> possono essere directory, quindi
per rimuovere il mascheramento di KDE 4.0.x si possono salvare gli esempi
seguenti in quelle directory.
</p>

<p>
Esempio per gli ebuild <c>suddivisi</c> (raccomandato):
<uri
link="https://www2.mailstation.de/gitweb/?p=genkde4svn.git;a=blob_plain;f=Documentation/package.unmask-4.0.0-split;hb=HEAD">
package.unmask d'esempio</uri>
<uri
link="https://www2.mailstation.de/gitweb/?p=genkde4svn.git;a=blob_plain;f=Documentation/package.keywords.4.0.0-split;hb=HEAD">
package.keywords d'esempio</uri>
</p>

<p>
Esempio per gli ebuild <c>monolitici</c>:
<uri
link="https://www2.mailstation.de/gitweb/?p=genkde4svn-pub.git;a=blob_plain;f=Documentation/package.unmask-4.0.0-mono;hb=HEAD">
package.unmask</uri>
<uri
link="https://www2.mailstation.de/gitweb/?p=genkde4svn-pub.git;a=blob_plain;f=Documentation/package.keywords.4.0.0-mono;hb=HEAD">
package.keywords</uri>
</p>

</body>
</section>

<section>
<title>Installazione</title>
<body>

<p>
A questo punto si può eseguire uno dei seguenti comandi emerge, per installare
KDE. Il primo installa tutto KDE 4.0.x, compilato a partire dagli ebuild
suddivisi. Il secondo installa un ambiente desktop 4.0.x minimale, come base per
poi aggiungere solo i programmi preferiti.
</p>

<pre caption="Installazione KDE 4.0.x">
emerge -avD kde-base/kde-meta:kde-4
emerge -avD kde-base/kdebase-startkde:kde-4
</pre>

<p>
Per saperne di più sulla differenza tra ebuild suddivisi e monolitici, si veda
<uri link="http://www.gentoo.org/doc/it/kde-split-ebuilds.xml">Guida agli Ebuild
"split" (suddivisi) di KDE</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Differenze da KDE 3.5</title>
<section>
<body>

<p>
KDE 4 introduce drastici cambiamenti nell'architettura dell'ambiente desktop
rispetto a KDE 3. Uno di questi cambiamenti è la migrazione da autotool a cmake.
Questo cambiamento introduce un indicatore di avanzamento durante la
compilazione di KDE.
</p>

</body>
</section>
<section>
<title>Lo script startkde</title>
<body>

<p>
Non è consigliabile lasciare che KDE 3.5 e KDE 4.0 condividano gli stessi file
di configurazione. Per evitarlo, lo script startkde riscrive il link simbolico
<path>~/.kde</path> durante l'avvio. Questo significa che quando si è in una
sessione KDE 4.0 la configurazione di KDE 3.5 non è disponibile e viceversa.
</p>

</body>
</section>
<section>
<body>

<p>
per questa ragione, non si devono eseguire due versioni di KDE con lo stesso
utente, nello stesso tempo. (Cioè autenticarsi con KDE 4.0, mentre KDE 3.5 è
ancora in esecuzione in background, con la stessa utenza.)
</p>

</body>
</section>
<section>
<title>Selezionare il manager di login</title>
<body>

<p>
Per default, viene avviata al login la versione più alta di kde-base/kdm che sia
installata. Per configurare questo comportamento, si può aprire
<path>/etc/conf.d/xdm</path> con il proprio editor di testo preferito e cambiare
la variabile <c>DISPLAYMANAGER</c> in <c>kdm-3.5</c> o <c>kdm-4.0</c>. Si
possono conoscere le versioni possibili di kdm eseguendo <c>ls
<path>/usr/kde/</path></c> in una shell.
</p>

<pre caption="Aggiungere l'impostazione seguente a /etc/conf.d/xdm">
<ident>DISPLAYMANAGER</ident>=<const>kdm-3.5</const>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Domande frequenti (FAQ)</title>
<section>
<title>D: Posso installare KDE 4.0 e KDE 3.5 nello stesso tempo?</title>
<body>

<p>
R: Sì, entrambe le versioni sono affiancabili, e possono essere installate nello
stesso sistema. Entrambe le versioni di KDE usano una propria <c>KDEHOME</c>,
quindi si può provare KDE 4.0 con lo stesso utente, senza sovrascrivere le
proprie impostazioni di KDE 3.5.
</p>

</body>
</section>
<section>
<title>
D: È stato detto che posso installare KDE 3.5 e KDE 4.0, ma si bloccano a
vicenda!
</title>
<body>

<p>
R: È necessario installare l'ultima revisione (non solo versione) di
kde-base/kdebase (se sono stati installati gli ebuild monolitici) o
kde-base/kdebase-startkde (se sono stati installati gli ebuild suddivisi).
Queste versioni includono le patch per consentire che versioni multiple di KDE
possano coesistere.
</p>

</body>
</section>
<section>
<title>D: Perché KDE 4.0.x è mascherato?</title>
<body>

<p>
R: KDE 4.0.x è per buona parte il rilascio di una nuova tecnologia. Non è ancora
inteso come un sostituto completo della serie KDE 3. Diverse caratteristiche non
sono state realizzate e saranno trovati ancora diversi bug. Quando KDE 4.x sarà
all'altezza di offrire un vero percorso di aggiornamento per gli utenti, allora
lo stato di mascheramento sarà abbandonato.
</p>

</body>
</section>
<section>
<title>D: Perché KDE 4.0.x è mascherato dall'EAPI?</title>
<body>

<p>
R: Gli ebuild di KDE 4.0.x usano dipendenze che tengono conto dell'affiancamento
di versione, come <c>kde-base/kdebase-startkde:kde-4</c>, nella sintassi delle
dipendenze. Occorre una versione di portage che possa tenerne conto. Se si
riceve un messaggio di mascheramento di questo tipo, bisogna semplicemente
aggiornare portage ad una versione abbastanza recente.
</p>

<pre caption="Aggiornare ad una versione di portage che supporta EAPI=1">
# <i>emerge --oneshot &gt;=sys-apps/portage-2.1.3.12</i>
</pre>

</body>
</section>
<section>
<title>D: Dove sono gli ebuild monolitici per KDE4?</title>
<body>

<p>
Gli sviluppatori KDE di Gentoo si sono resi conto che avere sia gli ebuild
monolitici sia quelli suddivisi causava molto spesso un'inutile confusione
negli utenti, un'inutile complessità nelle eclass, ed un sacco di duplicazione
di sforzi superflui, sia per i team delle architetture che per gli sviluppatori
KDE di Gentoo. Siccome ora KDE usa cmake, il principale svantaggio nell'usare
gli ebuild suddivisi (tempi di compilazione più lunghi a causa di esecuzioni
duplicate di ./configure-runs) è diventato insignificante. Per tale ragione, è
stato deciso di mantenere solamente gli ebuild suddivisi. Per effettuare la
migrazione dagli ebuild monolitici a quelli suddivisi bisogna rimuovere tutti
gli ebuild monolitici di KDE 4:
</p>

<pre caption="Disinstallare KDE 4 monolitico">
# <i>emerge -C ~kde-base/kde{,accessibility,admin,artwork,base,edu,games,graphics,multimedia,network,sdk,toys,utils,webdev}-4.0.x</i>
</pre>

<p>
Dopodiché continuare con l'installazione degli ebuild suddivisi di KDE come
spiegato precedentemente in questa pagina.
</p>

</body>
</section>
<section>
<title>D: Dov'è KDE-PIM in KDE 4?</title>
<body>

<p>
R: KDE-PIM non è stato rilasciato all'interno di KDE 4.0, quindi purtroppo per
qualche tempo non sarà possibile trovarlo nell'albero. Naturalmente si può
ancora usare la versione 3.5 di kmail, akregator e i loro compagni, insieme con
KDE 4.0.x.
</p>

</body>
</section>
<section>
<title>
D: Ho provato KDE4 e ho capito di non volerlo più, come posso fare per
toglierlo?
</title>
<body>

<p>
R: Occorre rimuovere KDE 4 dai propri <path>package.keywords</path> e
<path>package.unmask</path>, quindi rimuovere i pacchetti installati. Ricordare
di modificare il proprio <c>DISPLAYMANAGER</c> se era stato precedentemente
impostato a <c>kdm-4.0</c>.
</p>

</body>
</section>
<section>
<title>D: KDE 3.5 scomparirà presto?</title>
<body>

<p>
R: Assolutamente no! KDE 3.5 è molto stabile, e riceve tuttora dei piccoli
miglioramenti specifici da parte dei suoi sviluppatori principali. Sebbene in
KDE 3.5 non verranno aggiunte ulteriori funzionalità, abbiamo in programma di
curarne la manutenzione ancora a lungo.
</p>

</body>
</section>
</chapter>
</guide>
