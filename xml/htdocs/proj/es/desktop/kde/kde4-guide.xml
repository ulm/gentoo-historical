<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/es/desktop/kde/kde4-guide.xml,v 1.47 2012/08/30 11:13:21 nimiux Exp $ -->

<guide lang="es">
<title>Guía KDE de Gentoo</title>

<author title="Autor">
  <mail link="tampakrap"/>
</author>
<author title="Autor">
  <mail link="dilfridge"/>
</author>
<author title="Autor">
  <mail link="scarabeus"/>
</author>
<author title="Autor">
  <mail link="jmbsvicetto"/>
</author>
<author title="Autor">
  <mail link="johu"/>
</author>
<author title="Autor">
  <mail link="cryos"/>
</author>
<author title="Editor">
  <mail link="keytoaster"/>
</author>
<author title="Editor">
  <mail link="nightmorph"/>
</author>
<author title="Traductor">
  <mail link="nimiux" />
</author>
<author title="Traductor">
  <mail link="chiguire" />
</author>

<abstract>
Esta guía muestra como configurar KDE SC usando los ebuilds del árbol.
Se usarán algunas herramientas del overlay git del equipo de KDE (kde).
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license
 See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>3.21</version>
<date>2012-08-22</date>

<chapter>
<title>KDE SC 4</title>
<section>
<title>Introducción</title>
<body>

<p>
KDE SC 4 es la versión actual de KDE mantenida por el equipo principal
de desarrollo. En Portage hay una versión estable y debería haber una
(o más de una) versiones inestables. En condiciones normales las nuevas
versiones se hacen estables después de un mes.
Además el equipo principal de desarrollo de KDE ofrece <uri
link="http://quickgit.kde.org">repositorios de código fuente git
actualizados instantáneamente</uri>. El equipo KDE de Gentoo, ofrece
ebuilds para la rama principal de desarrollo y la última rama (la más
actual) a través del overaly <c>kde</c>.
</p>

<p>
Elija qué versión de KDE SC mejor se adapta a sus necesidades:
</p>

<table>
  <tr>
    <th>Versión KDE SC</th>
    <th>Repositorio</th>
  </tr>
  <tr>
    <ti><uri link="#kde4_7">KDE SC 4.7.4</uri></ti>
    <ti>Portage</ti>
  </tr>
  <tr>
    <ti><uri link="#kde4_8">KDE SC 4.8.3</uri></ti>
    <ti>Portage</ti>
  </tr>
  <tr>
    <ti><uri link="#kde4_8">KDE SC 4.8.5</uri></ti>
    <ti>Portage</ti>
  </tr>
  <tr>
    <ti><uri link="#kde4_9">KDE SC 4.9.0</uri></ti>
    <ti>Portage</ti>
    </tr>
  <tr>
    <ti><uri link="#snapshots">KDE SC 4.9 Snapshots</uri></ti>
    <ti>Overlay KDE</ti>
  </tr>
  <tr>
    <ti><uri link="#live">Ebuilds Live (Rama 4.9, Rama principal)</uri></ti>
    <ti>Overlay KDE</ti>
  </tr>
</table>

</body>
</section>
</chapter>

<chapter id="prerequisites">
<title>Prerequisitos</title>
<section>
<title>Perfiles y subperfiles de escritorio</title>
<body>

<p>
El perfil de escritorio se ha dividido en subperfiles para KDE y GNOME.
Esto significa que los ajustes USE específicos de KDE y de GNOME se han
quitado del perfil básico de escritorio y se han migrado a los subperfiles.
El hecho de elegir un subperfil no restringe el uso del entorno de
escritorio equivalente. Para elegir el perfil que mejor le conviene,
deberá ejecutar <c>eselect profile list</c> para obtener la lista de
perfiles, y <c>eselect profile set X</c>, donde X el el número del
perfil.
</p>

</body>
</section>
<section>
<title>Ajustes USE</title>
<body>

<p>
Antes de instalar KDE SC se recomienda que realice ajustes en algunos
parámetros USE. Parte de esta tarea es realizada automáticamente al
utilizar un escritorio kde o perfil de escritorio. Detalladamente debe
utilizar:
</p>

<table>
  <tr>
    <th>ajuste</th>
    <th>explicación</th>
  </tr>
  <tr>
    <ti>consolekit</ti>
    <ti>Habilita el marco de trabajo de consolekit para la definición y
    seguimiento de usuarios, sesiones y asientos</ti>
  </tr>
  <tr>
    <ti>dbus</ti>
    <ti>Habilita la utilización del sistema de mensajes dbus</ti>
  </tr>
  <tr>
    <ti>policykit</ti>
    <ti>Habilita el marco de trabajo <b>polkit</b> para el control de
    privilegios y servicios en todo el sistema</ti>
  </tr>
  <tr>
    <ti>udev</ti>
    <ti>Habilita el soporte Linux de udev dinámico y el nombrado persistente
    de servicios</ti>
  </tr>
</table>

<p>
Observe que otras combinaciones pueden ser técnicamente posibles, pero
puede que no estén soportadas, no comprobadas o conduzcan a una pérdida
inesperada de funcionalidad.
</p>

<p>
Si ha cambiado algún ajuste USE global, deberá incluir más adelante
la opción -N cuando ejecute la orden emerge que actualice su sistema.
</p>

<pre caption="Actualizar world después de un cambio en un ajuste USE">
# <i>emerge -uDNav world</i>
</pre>

</body>
</section>

<section>
<title>Ajustes del núcleo</title>
<body>

<p>
Si trabaja con su propio núcleo, deberá instalar uno nuevo con las siguientes
opciones:
</p>

<pre caption="Ajustes del núcleo recomendados">
CONFIG_USB_SUSPEND=y
CONFIG_IDE=n
CONFIG_AUDITSYSCALL=y
</pre>

</body>
</section>
</chapter>

<chapter id="kde_portage">
<title>Instalando KDE SC desde Portage</title>
<section id="kde4_7">
<title>KDE SC 4.7</title>
<body>

<p>
KDE SC 4.7.4 es la versión estable actual para amd64, ppc y x86.
</p>

<pre caption="Instalación de KDE SC 4.7 utilizando meta paquetes">
# <i>emerge -av kde-meta</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
</pre>

<warn>
Si está ejecutando KDEPIM y actualizando desde la versión 4.4 a la 4.7,
por favor, ¡eche primero un vistazo a la <uri
link="http://wiki.gentoo.org/wiki/KDEPIM-4.7_upgrade">Gentoo Wiki KDEPIM
4.7 Upgrade Guide</uri> (en inglés)!. Si quiere continuar con KDEPIM 4.4
puede <uri link="kdepim-4.7-mask.txt">enmascarar KDEPIM 4.7</uri>
</warn>

</body>
</section>
<section id="kde4_8">
<title>KDE SC 4.8</title>
<body>

<p>
KDE SC 4.8.3 esta en proceso de estabilización y está marcada como
estable para las arquitecturas amd64 y x86. KDE SC 4.8.5 están
actualmente en portage en proceso de prueba (~testing), sin embargo su
estabilización está prevista para un futuro próximo.
</p>

<p>
Los usuarios con sistemas estables necesitarán copiar <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=blob_plain;f=Documentation/package.keywords/kde-4.8.keywords">
este fichero de palabras clave</uri> a
<path>/etc/portage/package.keywords</path>.
</p>

<pre caption="Instalación de KDE SC 4.8 usando metapaquetes">
# <i>emerge -av kde-meta</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
</pre>

<warn>
Si está corriendo KDEPIM y está actualizando de la versión 4.4 a la 4.8,
por favor, eche primero un vistazo a la
<uri link="http://wiki.gentoo.org/wiki/KDEPIM-4.7_upgrade">Guía de
actualización de KDEPIM 4.7 en la Wiki de Gentoo</uri> (en inglés).
Si quiere conservar la versión 4.4 de KDEPIM 4.4 puede
<uri link="kdepim-4.7-mask.txt">enmascarar KDEPIM 4.8</uri> (esta
guía es válida para la versión 4.8).
</warn>

</body>
</section>
<section id="kde4_9">
<title>KDE SC 4.9</title>
<body>

<p>
KDE SC 4.9.0 está actualmente en portage en proceso de prueba
(~testing), su estabilización todavía no ha sido programada.
</p>

<p>
Los usuarios con sistemas estables, deberán poner <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=blob_plain;f=Documentation/package.keywords/kde-4.9.keywords">
este fichero de palabras clave</uri> en
<path>/etc/portage/package.keywords</path>.
</p>

<pre caption="Instalación de KDE SC 4.9 utilizando meta paquetes">
# <i>emerge -av kde-meta</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
</pre>

<warn>
Si está ejecutando KDEPIM y está realizando una actualización desde
la versión 4.4 a la 4.9, por favor, eche en primer lugar, un vistazo a
 la <uri link="http://wiki.gentoo.org/wiki/KDEPIM-4.7_upgrade">
Gentoo Wiki KDEPIM 4.7 Upgrade Guide</uri> (en inglés). Si quiere
continuar trabajando con KDEPIM 4.4 puede
<uri link="kdepim-4.7-mask.txt">enmascarar KDEPIM 4.9</uri>
(La guía es también válida para la versión 4.9).
</warn>

</body>
</section>
</chapter>

<chapter id="kde_overlay">
<title>Instalar KDE SC desde el Overlay</title>
<section id="kde_overlay_prerequisites">
<title>Prerequisitos</title>
<body>

<p>
La instalación de instantáneas y ebuilds live solo está disponible a través
del overlay <c>kde</c>, por lo que en primer lugar deberá instalarlo:
</p>

<pre caption="Instalar el overlay  kde">
# <i>layman -f -a kde</i>
<comment>Para más información sobre los overlays, por favor, lea la
<uri link="http://www.gentoo.org/proj/es/overlays/userguide.xml">Guía del
Usuario de Overlays</uri></comment>
</pre>

<impo>
El <c>overlay kde</c> utiliza la disposición de manifiesto ligero. Para
que funcione se necesita <c>sys-apps/portage-2.1.10.18</c> o superior.
De lo contrario obtendrá errores de manifiestos no encontrados.
</impo>

</body>
</section>
<section id="snapshots">
<title>Instalando instantáneas KDE SC</title>
<body>

<p>
Mientras se realizan las fases de prueba, el equipo de desarrollo
principal de KDE ofrece <uri link="ftp://ftp.kde.org/pub/kde/unstable">
instantáneas</uri> tomadas de los repositorios de código fuente git.
Las versiones Beta y Candidatas de KDE siguen el modelo de
instantáneas de abajo:
</p>

<table>
  <tr>
    <th>Versión KDE SC</th>
    <th>Nombre de la versión</th>
  </tr>
  <tr>
    <ti>4.x.80</ti>
    <ti>Beta 1</ti>
  </tr>
  <tr>
    <ti>4.x.90</ti>
        <ti>Beta 2</ti>
  </tr>
  <tr>
    <ti>4.x.95</ti>
    <ti>Release Candidate 1</ti>
  </tr>
  <tr>
    <ti>4.x.97</ti>
    <ti>Release Candidate 2</ti>
  </tr>
</table>

<note>
Actualmente no hay instantáneas disponibles.
</note>

<!-- Enable this if first KDE SC 4.10 Snapshot is in overlay available -->
<!--

<p>
Los usuarios con sistemas estables tienen que usar keywords para
continuar. Proporcionamos un fichero package.keyword en el overlay
<c>kde</c>. Dadas las dependencias enmascaradas, KDE SC 4.9.80 debe
estar enmascarado también. Tendremos enlazar simbólicamente los
archivos:
</p>

<pre caption="Creando un enlace simbólico del fichero keywords">
# <i>ln -s /path/to/overlay/kde/Documentation/package.keywords/kde-4.10.keywords /etc/portage/package.keywords/</i>
# <i>ln -s /path/to/overlay/kde/Documentation/package.unmask/kde-4.10 /etc/portage/package.unmask/</i>

</pre>

<p>
La instalación puede realizarse usando metapaquetes o conjuntos.
</p>

<pre caption="Instalación usando metapaquetes">
# <i>emerge -av kde-meta</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
</pre>

<pre caption="Instalación usando conjuntos">
<comment>(Para instantáneas KDE SC 4.10)</comment>
# <i>emerge -av @kde-4.10</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av @kdebase-4.10 @kdegames-4.9</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
</pre>
-->

</body>
</section>
<section id="live">
<title>Instalando los ebuilds live KDE SC</title>
<body>

<p>
KDE SC es software de código abierto, y por tanto este código puede
leerse en <uri link="http://quickgit.kde.org">KDE QuickGit</uri>, y
es accesible por todo el mundo. Gentoo, como distro basada en código
fuente, tiene la capacidad de ofrecer ebuilds live que obtienen el
código desde la última rama o desde la rama principal. Actualmente
ofrecemos ebuilds 4.9.49.9999 para la rama 4.9 y ebuilds 9999 ebuilds
para la rama de desarrollo principal.
</p>

<table>
 <tr>
  <th>Versión Ebuild</th>
  <th>Versión KDE SC</th>
 </tr>
 <tr>
   <ti>4.9.49.9999</ti>
   <ti>Rama KDE 4.9</ti>
 </tr>
 <tr>
  <ti>9999</ti>
  <ti>Árbol KDE 4</ti>
 </tr>
</table>

<p>
Los usuarios con sistemas estables tienen que usar keywords para
continuar. Proporcionamos un fichero package.keyword en el overlay
<c>kde</c> que tendremos que enlazar simbólicamente a nuestro directorio
package.keywords:
</p>

<pre caption="Creando enlaces simbólicos al fichero keywords">
# <i>cd /etc/portage/package.keywords</i>
# <i>ln -s /camino/al/overlay/kde/Documentation/package.keywords/kde-4.9.49.9999.keywords .</i><comment>(para la rama 4.9)</comment>
# <i>ln -s /camino/al/overlay/kde/Documentation/package.keywords/kde-live.keywords .</i><comment>(para la rama principal KDE)</comment>
</pre>

<p>
La instalación puede realizarse usando meta-paquetes o conjuntos.
</p>

<pre caption="Instalación usando meta paquetes">
# <i>emerge -av kde-meta</i> <comment>(contains all of KDE modules)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(installation of chosen modules only)</comment>
</pre>

<pre caption="Instalación usando conjuntos">
<comment>(para la rama KDE SC 4.9)</comment>
# <i>emerge -av @kde-4.9</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av @kdebase-4.9 @kdegames-4.8</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
<comment>(Para la rama principal KDE SC)</comment>
# <i>emerge -av @kde-live</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av @kdebase-live @kdegames-live</i> <comment>(instalación únicamente de los módulos elegidos)</comment>

<comment>Mire la sección <uri link="#sets">Usando conjuntos</uri> para más información.</comment>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Información adicional de instalación/desinstalación</title>
<section id="sets">
<title>Usando conjuntos</title>
<body>

<p>
Una de las nuevas características ofrecidas por Portage 2.2 son los
conjuntos.
</p>

<p>
Los conjuntos permiten al equipo KDE ofrecer un substituto completo a los
paquete monolíticos, con el extra de que los usuarios pueden desinstalar de
los conjuntos por defecto cualquier paquete que no deseen. Todavía tenemos
que resolver alguna discusión antes de que podamos poner conjuntos en el
árbol Portage. Así, puede obtener los conjuntos desde el <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=tree;f=sets">
directorio de conjuntos</uri> del overlay <c>kde</c> o también como un <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=snapshot;h=5b2fc54fa5d1c8aeddaeb05f044bf28754bb18be;sf=tbz2">
archivo tar.bz2</uri> y poner los que desee en
<path>/etc/portage/sets</path> -- puede ver la lista de conjuntos ofertados
por el equipo KDE en el overlay, usando el primer enlace.
</p>

<note>
Si está usando el overlay kde puede usar conjuntos directamente en lugar de
copiarlos a <path>/etc/portage/sets</path>.
</note>

<p>
Entre otros, hay conjuntos para cada tarball de KDE - @kdeaccessibility,
@kdeadmin, @kdeartwork, @kdebase, @kdeedu, @kdegames, @kdegraphics,
@kdemultimedia, @kdenetwork, @kdepim, @kdesdk, @kdetoys, y
@kdeutils. Existen también  un conjunto de conjuntos (el equivalente al
antiguo paquete kde-meta) @kde, de igual forma para versiones específicas
@kde-3.5 y @kde-4x, un conjunto para las dependencias de KDE, @kdedeps, un
conjunto para paquetes opcionales @kdeoptional y un conjunto para el split
de los paquetes qt, @qt-split.
</p>

<p>
Se puede instalar KDE completamente ejecutando <c>emerge -av @kde</c>.
Las órdenes equivalentes para versiones específicas son muy prácticos
para desinstalar una versión antigua, por ejemplo
<c>emerge -C @kde-3.5</c>, o para reinstalar todos los paquetes de una
versión específica, por ejemplo, <c>emerge -av1 @kde-4x</c>.
Características avanzadas como eliminación de todos los paquetes no
deseados de un conjunto, serán ofrecidas en una versión futura de
Portage -- puede leer más sobre esto en <uri
link="http://planet.gentoo.org/developers/genone/2008/09/29/more_extensions_to_package_set_support">
el blog de Marius Mauch (genone)</uri>. Parte de este código ha sido
publicado en portage-2.2_rc12, de forma que puede reinstalar todos los
paquetes de un conjunto con <c>emerge -av @&lt;set&gt;/@installed</c> o
tener un conjunto <path>/etc/portage/sets/kdebase-unwanted</path> y
entonces ejecutar <c>emerge -av @kdebase-@kdebase-unwanted</c>.
</p>

<p>
Recomendamos expresamente que instale el conjunto <c>kdebase</c> para
obtener una sesión completa KDE. El ejemplo de abajo debería instalar el
conjunto <c>kdebase</c> y el conjunto <c>kdegames</c>.
</p>

<pre caption="Instalando KDE SC">
# <i>emerge @kdebase @kdegames</i>
</pre>

<note>
Si quiere obtener la lista de conjuntos que están comprobados en Portage,
puede ejecutar lo siguiente: <c>emerge --list-sets</c>
</note>

<note>
Todos los ebuilds >= KDE 4.6 requieren <c>portage-2.1.9.27</c> o
superior, ya que ha implementado todas las especificaciones usadas en
estos ebuilds en la nueva EAPI 4 (para usar conjuntos, se requiere
<c>>=sys-apps/portage-2.2_alpha11</c>).
</note>

</body>
</section>

<section id="cleanup">
<title>Limpiando KDE</title>
<body>

<p>
Para minimizar los problemas, es mejor comenzar con un entorno limpio. Esto
está recomendado en los siguientes casos:
</p>

<ul>
 <li>Cambiando de <c>+kdeprefix</c> a <c>-kdeprefix</c> (y viceversa)</li>
 <li>
   Bajando la versión de KDE (p.e. de ebuils snapshots/live a la versión de
Portage)
 </li>
 <li>Actualizando completamente de KDE 3 a KDE 4 (y viceversa)</li>
 <li>Actualizando desde un overlay antiguo</li>
</ul>

<p>
Una forma posible de eliminar completamente un instalación KDE antigua
en este caso es:
</p>

<pre caption="Órdenes para la desinstalación">
# <i>emerge -ac kde-base/kdelibs $(qlist -IC 'kde-base/*') \
             $(for name in $(qlist -IC|grep -v '^kde-base/') ; do (  qdepends -C $name | grep -q kdelibs )  &amp;&amp; echo $name  ; done)</i>
</pre>

<p>
Observe que las órdenes anteriores no solo eliminarán kde, también los
paquetes que depende de él, por ejemplo libreoffice[kde].
</p>

<p>
Si utiliza portage-2.2 también puede hacer lo siguiente:
</p>

<pre caption="Orden de desinstalación usando conjuntos (con portage-2.2)">
# <i>emerge -C @kde-4.X @kdebase-4.X @kde-3.5</i>(usar los conjuntos típicos)
</pre>

<p>
Como paso final debería eliminar cualquier overlay antiguo de forma que no
haya conflictos con los ebuilds KDE. También debería eliminar los datos
antiguos de enmascaramiento y palabras clave (keyword).
</p>

<note>
No olvide ejecutar <c>emerge --depclean</c> para desinstalar cualquier
paquete que ahora no sea necesario.
</note>
</body>
</section>

<section>
<title>Localización/Internacionalización</title>
<body>

<p>
Con el nuevo KDE, se ha realizado un nuevo esfuerzo a favor de la
Localización en lugar de la Internacionalización. Esto ha causado alguna
confusión, pero no hay que preocuparse; únicamente ha cambiado el nombre.
</p>

<pre caption="Obteniendo las traducciones">
<comment>Para KDE 4 y Calligra:</comment>
# <i>emerge kde-l10n</i>
# <i>emerge calligra-l10n</i>
</pre>
</body>
</section>

<section>
<title>Migrando configuraciones de 3.5 a 4.X</title>
<body>

<p>
KDE almacena sus ficheros de configuración en el directorio
<path>~/.kde</path> por defecto. En los ebuilds de Gentoo, esto se ha
cambiado para KDE 4.X, de tal forma que se permite una mejor integración de
3.5 y 4.X cuando se usa la misma cuenta de usuario. Si exporta $KDEHOME,
este comportamiento será ignorado. Se recomienda expresamente que no se haga
esto. $KDEHOME hará que KDE 3.5 and 4.X usen el mismo directorio de
configuración, lo que normalmente no es deseable.
</p>

<p>
KDE 3.5 usa <path>~/.kde</path> y el FHS (Filesystem Hierarchy Standard o
Estándar de jerarquía del sistema de ficheros) por defecto
(<c>-kdeprefix</c>) KDE 4.X usa <e>~/.kde4</e>.
</p>

<p>
Los ajustes no son migrados por defecto. Si quiere intentar migrar sus
ajustes debería copiar su directorio de configuración antiguo a su nuevo
sitio antes de hacer login. Por ejemplo:
</p>

<pre caption="Copiando el directorio de configuración">
$ <i>cp -r ~/.kde ~/.kde4</i>
</pre>

<p>
Si tiene éxito, entonces sus ajustes deberían haberse migrado. Si no, es
posible cerrar la sesión y eliminar el nuevo directorio de configuración
para comenzar con un directorio de configuración limpio.
</p>

<impo>
Volver atrás una versión desde 3.5 a 4.X no está soportado
</impo>
</body>
</section>
</chapter>

<chapter>
<title>Algunos consejos y qué hacer en caso de problemas</title>
<section>
<title>Eliminando la ventana emergente de la herramienta de migración KResource</title>
<body>

<p>
Se han dado informes de casos en los que la herramienta de migración
KResource aparece cada vez que se accede al escritorio. Actualmente
no hay una solución adecuada para esto, pero puede ver una forma
de evitarlo en el <uri
link="https://bugs.gentoo.org/353200">informe de error 353200</uri>.
</p>

</body>
</section>
<section>
<title>Reconstruyendo la base de datos de aplicaciones</title>
<body>

<p>
Si su KMenu no muestra ninguna aplicación, o la lista completa de
aplicaciones, entonces probablemente necesite reconstruir la base
de datos de aplicaciones de KDE. Esto sirve también para
corregir otros problemas con KMenu como la falta de iconos.
</p>

<pre caption="Orden kbuildsycoca">
# <i>kbuildsycoca4 --noincremental</i>
</pre>

</body>
</section>
<section>
<title>Hacer que las aplicaciones GTK se vean como las Qt 4</title>
<body>

<p>
Hay dos temas disponibles que tienen el mismo aspecto en ambos juegos
de herramientas (GTK/Gnome y Qt/KDE): "QtCurve" se ofrece a través de
los paquetes <c>gtk-engines-qtcurve</c> y <c>x11-themes/qtcurve-qt4</c>,
"Oxygen" es parte de KDE 4.x, el correspondiente en GTK se ofrece a
través del paquete <c>x11-themes/oxygen-gtk</c>. Los temas de KDE
se pueden configurar a través de los ajustes de sistema de KDE bajo
"Apariencia" ("Appearance") en la pestaña "Estilo" ("Style"). Para
configurar el tema en las aplicaciones GTK desde los ajustes de sistema
de KDE, instale <c>kde-misc/kde-gtk-config</c> para obtener una nueva
pestaña llamada "Configuración GTK" ("Gtk Config") bajo "Apariencia"
("Appearance").
</p>

</body>
</section>

<section>
<title>Protestas de Akonadi sobre la configuración MySQL</title>
<body>

<p>
Se comienza comprobando los permisos en <path>/usr/share/config</path> y
<path>/usr/share/kde4</path>. Si éstos son 700, necesitará actualizarlos a
755 de forma recursiva.
</p>

<pre caption="Actualizando los permisos en /usr/share/config">
# <i>chmod -R 755 /usr/share/{config,kde4}</i>
</pre>

<p>
Si esto no soluciona el problema, necesitará abrir la configuración de
akonadi y cambiar la configuración mysql por defecto. Si no tiene la bandeja
en ejecución, ejecute <c>akonaditray</c>, seleccione la "Configuración del
Servidor Akonadi" ("Akonadi Server Configuration"), active "Usar el servidor
MySQL interno" ("Use internal MySQL server") y presione el botón Comprobar
(Test). Si quiere usar el servidor mysql y no el ejecutable integrado,
necesitará asegurarse de que mysql se encuentra en ejecución.
</p>
</body>
</section>

<section>
<title>Haciendo que KDE arranque en el inicio del sistema</title>
<body>

<p>
Hay dos formas de indicar a KDE que arranque en el inicio del sistema.
La forma más fácil es usando KDM, que está disponible en
<c>kde-base/kdm</c>. En primer lugar, editamos el fichero de
configuración de Xorg, de forma que DISPLAYMANAGER esté definido como
"kdm":
</p>

<pre caption="Editando /etc/conf.d/xdm">
# What display manager do you use ?  [ xdm | gdm | kdm | kdm-4.3 | gpe | entran$
# NOTE: If this is set in /etc/rc.conf, that setting will override this one.
#
# KDE-specific note:
# - If you are using kdeprefix go with "kdm-4.Y", e.g. "kdm-4.3".
#     You can find possible versions by looking at the directories in /usr/kde/.
# - Else, if you are using KDE 3 enter "kdm-3.5"
# - Else, if you are using KDE 4 enter "kdm" without a version
DISPLAYMANAGER="kdm"
</pre>

<p>
El siguiente paso es añadir xdm al nivel de ejecución por defecto:
</p>

<pre caption="Añadiendo xdm al nivel de ejecución por defecto">
# <i>rc-update add xdm default</i>
</pre>

</body>
</section>
<section>
<title>Sugerencias sobre las fuentes</title>
<body>

<p>
Si hace clic para ver el menú y ve que nada es legible, necesitará
instalar algunas fuentes. Algunas opciones comunes son
<c>media-fonts/corefonts</c>, <c>media-fonts/ttf-bitstream-vera</c>
y <c>media-fonts/dejavu</c>.
</p>
</body>
</section>

<section>
<title>KDM falla al arrancar</title>
<body>

<p>
Se comienza comprobando los permisos en /usr/share/config. Si éstos son 700,
necesitará actualizarlos a 755. Compruebe la sección anterior. Si esto no
soluciona el problema, compruebe la siguiente notificación del ebuild kdm:
</p>

<pre caption="Notificación kdm">
Si cuando reinicia xdm, kdm falla en el arranque con un mensaje como
"gentoo kdm[2116]: X server startup timeout, terminating"
en /var/log/messages, quite el comentario  a la línea ServerTimeout
en "grep kdmrc /var/db/pkg/kde-base/kdm-4.3.1/CONTENTS | cut -f2 -d " ""
y asegúrese de incrementar el tiempo de espera - 60 debería funcionar.
</pre>

<p>
Compruebe también que los siguientes servicios se han arrancado:
</p>

<pre caption="Comprobando y arrancando servicios">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/consolekit status</i>
</pre>

<p>
Si no, actívelos reemplazando <c>status</c> con <c>start</c> y use la
orden <c>rc-update add dbus default</c> para cada uno de ellos y serán
añadidos al nivel de ejecución por defecto.
</p>

<p>
Finalmente, KDM podría fallar debido a errores en
<path>/etc/X11/xorg.conf</path>. Eche un vistazo a sus registros (logs):
<path>/var/log/Xorg.0.log</path> y <path>/var/log/kdm.log</path> y corrija
<path>xorg.conf</path> apropiadamente. Para ayuda adicional, nos puede
encontrar en IRC (#gentoo-kde en Freenode).
</p>

</body>
</section>
<section>
<title>El applet de la batería o notificaciones sólidas no muestra
información relevante.</title>
<body>

<p>
Debido a esto, necesitará tener dbus y consolekit en ejecución.
</p>

<pre caption="Comprobando y arrancando dbus y consolekit">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/dbus start</i>
# <i>/etc/init.d/consolekit status</i>
# <i>/etc/init.d/consolekit start</i>
</pre>

</body>
</section>
<section>
<title>Perfiles de escritorio y subperfiles</title>
<body>

<p>
KDE 4.6 gestiona los eventos del "botón de dormir" por sí mismo, y el
sistema hiberna correctamente. Si ha configurado manualmente otros
programas para gestionar estos eventos (por ejemplo, acpid), por favor,
deshabilítelo, ya que de lo contrario podrían producirse hibernaciones
dobles con la consecuente inestabilidad del sistema.
</p>

</body>
</section>
<section>
<title>No funcionan el apagado, el reinicio ni el cierre de sesión (bug 326393)</title>
<body>

<p>
Existe una extraña interacción entre el sistema de sonido y los mecanismos
para cerrar la sesión. Abra los ajustes del sistema y deshabilite el
"sonido de cierre de sesión". Después de esto, el cierre de sesión
debería funcionar.
</p>

</body>
</section>
<section>
<title>El fondo de escritorio cubre todas las ventanas (bug 365623)</title>
<body>

<p>
En contadas ocasiones, después de trabajar con varias ventanas, los
ajustes de escritorio no se limpian correctamente. El resultado es que
el fondo de escritorio parece cubrir todas las ventanas.
Se dan más detalles sobre esto así como algunas soluciones manuales
ein <uri link="https://bugs.kde.org/show_bug.cgi?id=260360">este informe
de incidencia de KDE</uri>.
</p>

</body>
</section>
<section>
<title>No se puede ingresar en el escritorio, se cuelga en la pantalla de inicio(bug 365637)</title>
<body>

<p>
Si ha estado trabajando con paquetes inestables de Gnome (¡no muy
recomendable!) puede encontrar incompatibilidades extrañas. El ingreso
en KDE falla tan pronto como se haya instalado net-libs/glib-networking.
Desinstale este paquete y debería funcionar.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Archivo</title>
<section>
<title>Actualización desde KDE SC 4.4 a 4.6</title>
<body>

<p>
KDE SC 4.6.3 es estable actualmente. Si encuentra problemas cuando
actualice desde KDE SC 4.4, por favor, ¡eche primero un vistazo a la
<uri link="kde44-46-upgrade.xml">Guía de actualización Gentoo KDE
4.4 - 4.6</uri>!
</p>

</body>
</section>
</chapter>
</guide>
