<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/es/desktop/kde/kde4-guide.xml,v 1.23 2011/07/27 15:23:41 nimiux Exp $ -->

<guide lang="es">
<title>Guía KDE de Gentoo</title>

<author title="Autor">
  <mail link="tampakrap"/>
</author>
<author title="Autor">
  <mail link="dilfridge"/>
</author>
<author title="Author">
  <mail link="scarabeus"/>
</author>
<author title="Autor">
  <mail link="jmbsvicetto"/>
</author>
<author title="Autor">
  <mail link="cryos"/>
</author>
<author title="Editor">
  <mail link="keytoaster"/>
</author>
<author title="Editor">
  <mail link="nightmorph"/>
</author>
<author title="Traductor">
  <mail link="nimiux" />
</author>
<author title="Traductor">
  <mail link="chiguire" />
</author>

<abstract>
Esta guía muestra como configurar KDE SC usando los ebuilds del árbol.
Se usarán algunas herramientas del overlay git del equipo de KDE (kde).
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license
 See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>3.0</version>
<date>2011-07-27</date>

<chapter>
<title>KDE 3</title>
<section>
<title>Información breve</title>
<body>

<p>
El equipo de desarrollo principal ya no mantiene KDE 3, siendo su última
publicación la 3.5.10. Además, muchas de las aplicaciones KDE 3 tampoco
se mantienen ya que han sido o están siendo portadas a KDE4.
</p>

<p>
En Gentoo, los ebuilds KDE 3 han sido eliminados del árbol Portage y se
han movido al overlay <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde-sunset.git;a=summary">
kde-sunset</uri> mantenido por usuarios (disponible en layman). Recuerde
que este overlay es mantenido por el usuario únicamente y por lo tanto
los miembros del equipo KDE no son responsables de su contenido. Si está
interesado en ayudar a su mantenimiento, puede enviar un correo a
<mail link="overlays"/> pidiendo acceso para realizar cambios. Si quiere
informar de un error en este overlay, por favor no envíe un bug al
Bugzilla de Gentoo. Use la lista de correo <uri
link="http://archives.gentoo.org/gentoo-desktop/">gentoo-desktop</uri>. Las
instrucciones para suscribirse puede encontrarlas <uri
link="/main/es/lists.xml">aquí</uri>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>KDE SC 4</title>
<section>
<title>Información rápida: Actualización estable desde KDE SC 4.4 a 4.6</title>
<body>

<p>
Actualmente KDE SC 4.6.3 es estable. Si encuentra algún problema durante la
actualización desde KDE SC 4.4, por favor, ¡eche primero un vistazo a la
<uri link="kde44-46-upgrade.xml">Guía de actualización Gentoo
KDE 4.4 - 4.6</uri>!
</p>

</body>
</section>

<section>
<title>Introducción</title>
<body>

<p>
KDE SC 4 es la versión actual de KDE mantenida por el equipo principal de
desarrollo. En Portage hay una versión estable y debería haber una ( o más
de una) versiones inestables. En condiciones normales las nuevas versiones
se hacen estables después de un mes. La versión de KDE SC 4 disponible en
Portage es la 4.6.3 (estable por el equipo principal de desarrollo y por
Gentoo).
Además, el equipo de KDE ofrece <uri
link="ftp://ftp.kde.org/pub/kde/unstable">instantáneas</uri> semanales y un
<uri link="http://websvn.kde.org">árbol SVN activo</uri>. El equipo KDE de
Gentoo ofrece estas instantáneas, la versión troncal y los últimos ebuilds
con las ramificaciones (live), todo a través del overlay
<c>kde</c>.
</p>

<p>
Elija qué versión de KDE SC mejor se adapta a sus necesidades:
</p>

<table>
  <tr>
    <th>Versión KDE SC</th>
    <th>Repositorio</th>
  </tr>
  <tr>
    <ti><uri link="#kde4_6">KDE SC 4.6.3</uri></ti>
    <ti>Portage</ti>
  </tr>
  <tr>
    <ti><uri link="#kde4_7">KDE SC 4.7.0</uri></ti>
    <ti>Portage</ti>
  </tr>
  <!--tr>
    <ti><uri link="#snapshots">KDE SC 4.x.xx snapshots</uri></ti>
    <ti>Overlay KDE</ti>
  </tr-->
  <tr>
    <ti><uri link="#live">Live Ebuilds (Raman 4.7, Tronco)</uri></ti>
    <ti>Overlay KDE</ti>
  </tr>
</table>

</body>
</section>
</chapter>

<chapter id="kde_portage">
<title>Instalando KDE SC desde Portage</title>
<section id="kde4_6">
<title>KDE SC 4.6.3</title>
<body>

<p>
KDE SC 4.6.3 es la versión estable actual.
</p>

<pre caption="Instalación de KDE SC 4.6.3 usando metapaquetes">
# <i>emerge -av kde-meta</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
</pre>

</body>
</section>
<section id="kde4_7">
<title>KDE SC 4.7.0</title>
<body>

<p>
Actualmente KDE SC 4.7.0 está en portage en periodo de pruebas
(~testing), está planificada su estabilización.
</p>

<p>
Los usuarios con sistemas estables necesitarán copiar <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=blob_plain;f=Documentation/package.keywords/kde-4.7.keywords">
este fichero de palabras clave</uri> a
<path>/etc/portage/package.keywords</path>.
</p>

<pre caption="Instalación de KDE SC 4.7.0 usando metapaquetes">
# <i>emerge -av kde-meta</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
</pre>

</body>
</section>
<section id="snapshots">
<title>Instalando instantáneas KDE (desde el overlay kde)</title>
<body>

<p>
El desarrollo principal de KDE ofrece
<uri link="ftp://ftp.kde.org/pub/kde/unstable">instantáneas semanales
</uri> tomadas del <uri link="http://websvn.kde.org/trunk/">árbol
principal SVN</uri>. KDE ofrece ahora instantáneas de las series
4.5.xx, y después de la versión 4.6 van a empezar con la 4.6.60.
Las versiones Beta y Candidatas de KDE siguen el modelo de
instantáneas de abajo:
</p>

<table>
  <tr>
    <th>Versión KDE SC</th>
    <th>Nombre de la versión</th>
  </tr>
  <tr>
    <ti>4.x.80</ti>
        <ti>Beta 1</ti>
  </tr>
  <tr>
    <ti>4.x.85</ti>
        <ti>Beta 2</ti>
  </tr>
  <tr>
    <ti>4.x.90</ti>
        <ti>Release Candidate 1</ti>
  </tr>
  <tr>
    <ti>4.x.95</ti>
        <ti>Release Candidate 2</ti>
  </tr>
</table>

<note>
Actualmente no hay instantáneas disponibles.
</note>

<!--p>
Las instantáneas están únicamente disponibles a través del overlay
<c>kde</c>, por lo que lo primero es instalarlo:
</p>

<pre caption="Instalando el overlay kde">
# <i>layman -f -a kde</i>
<comment>Para más información acerca de los overlays, por favor, lea la
<uri link="http://www.gentoo.org/proj/es/overlays/userguide.xml">
Guía de Overlays</uri></comment>
</pre>

<p>
Los usuarios con sistemas estables tienen que usar keywords para
continuar. Proporcionamos un fichero package.keyword en el overlay
<c>kde</c>. Dadas las dependencias enmascaradas, KDE SC 4.5.90 debe
estar enmascarado también. Tendremos enlazar simbólicamente los
archivos:
</p>

<pre caption="Creando un enlace simbólico del fichero keywords">
# <i>ln -s /camino/al/overlay/kde/Documentation/package.keywords/kde-4.6.keywords /etc/portage/package.keywords/</i>
# <i>ln -s /camino/al/overlay/kde/Documentation/package.unmask/kde-4.6 /etc/portage/package.unmask/</i>
</pre>

<p>
La instalación puede realizarse usando metapaquetes o conjuntos.
</p>

<pre caption="Instalación usando metapaquetes">
# <i>emerge -av kde-meta</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
</pre-->

</body>
</section>
<section id="live">
<title>Instalando los ebuilds KDE SC live (desde el overlay kde)</title>
<body>

<p>
KDE SC es software de código abierto, y por tanto este código puede
leerse en <uri link="http://websvn.kde.org">KDE Websvn</uri>, y
accesible a todo el mundo a través de una cuenta anónima (anonsvn).
Gentoo, como distro basada en código fuente, tiene la habilidad de
ofrecer ebuilds live que obtienen el código desde la última rama o
desde la rama principal. Actualmente ofrecemos ebuilds versión
4.5.9999 de la rama 4.6 y de la versión 9999 del tronco.
</p>

<table>
 <tr>
  <th>Versión Ebuild</th>
  <th>Version KDE SC</th>
 </tr>
 <tr>
  <ti>4.7.9999</ti>
  <ti>Rama KDE 4.7</ti>
 </tr>
 <tr>
  <ti>9999</ti>
  <ti>Árbol principal KDE 4</ti>
 </tr>
</table>

<p>
Los ebuilds live están únicamente disponibles a través del overlay
<c>kde</c>, por lo que lo primero será instalarlo:
</p>

<pre caption="Instalando el overlay kde">
# <i>layman -f -a kde</i>
<comment>Para más información acerca de los overlays, por favor, lea la
<uri link="http://www.gentoo.org/proj/es/overlays/userguide.xml">
Guía de Overlays</uri></comment>
</pre>

<p>
Los usuarios con sistemas estables tienen que usar keywords para
continuar. Proporcionamos un fichero package.keyword en el overlay
<c>kde</c> que tendremos que enlazar simbólicamente a nuestro directorio
package.keywords:
</p>

<pre caption="Creando enlaces simbólicos al fichero keywords">
# <i>cd /etc/portage/package.keywords</i>
# <i>ln -s /camino/al/overlay/kde/Documentation/package.keywords/kde-4.7.9999.keywords .</i><comment>(para la rama 4.7)</comment>
# <i>ln -s /camino/al/overlay/kde/Documentation/package.keywords/kde-live.keywords .</i><comment>(para el tronco KDE)</comment>
</pre>

<p>
La instalación puede realizarse usando meta-paquetes o conjuntos.
</p>

<pre caption="Instalación usando meta paquetes">
# <i>emerge -av kde-meta</i> <comment>(contains all of KDE modules)</comment>
# <i>emerge -av kdebase-meta kdegames-meta</i> <comment>(installation of chosen modules only)</comment>
</pre>

<pre caption="Instalación usando conjuntos">
<comment>(para la rama KDE SC 4.7)</comment>
# <i>emerge -av @kde-4.7</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av @kdebase-4.7 @kdegames-4.7</i> <comment>(instalación únicamente de los módulos elegidos)</comment>
<comment>(Para el tronco KDE SC)</comment>
# <i>emerge -av @kde-live</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av @kdebase-live @kdegames-live</i> <comment>(instalación únicamente de los módulos elegidos)</comment>

<comment>Mire la sección <uri link="#sets">Usando conjuntos</uri> para más información.</comment>
</pre>

</body>
</section>
</chapter>

<chapter>
<title>Información adicional de instalación/desinstalación</title>
<section id="sets">
<title>Usando conjuntos</title>
<body>

<p>
Una de las nuevas características ofrecidas por Portage 2.2 son los
conjuntos.
</p>

<p>
Los conjuntos permiten al equipo KDE ofrecer un substituto completo a los
paquete monolíticos, con el extra de que los usuarios pueden desinstalar de
los conjuntos por defecto cualquier paquete que no deseen. Todavía tenemos
que resolver alguna discusión antes de que podamos poner conjuntos en el
árbol Portage. Así, puede obtener los conjuntos desde el <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=tree;f=sets">
directorio de conjuntos</uri> del overlay <c>kde</c> o también como un <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=snapshot;h=5b2fc54fa5d1c8aeddaeb05f044bf28754bb18be;sf=tbz2">
archivo tar.bz2</uri> y poner los que desee en
<path>/etc/portage/sets</path> -- puede ver la lista de conjuntos ofertados
por el equipo KDE en el overlay, usando el primer enlace.
</p>

<note>
Si está usando el overlay kde puede usar conjuntos directamente en lugar de
copiarlos a <path>/etc/portage/sets</path>.
</note>

<p>
Entre otros, hay conjuntos para cada tarball de KDE - @kdeaccessibility,
@kdeadmin, @kdeartwork, @kdebase, @kdeedu, @kdegames, @kdegraphics,
@kdemultimedia, @kdenetwork, @kdepim, @kdesdk, @kdetoys, y
@kdeutils. Existen también  un conjunto de conjuntos (el equivalente al
antiguo paquete kde-meta) @kde, de igual forma para versiones específicas
@kde-3.5 y @kde-4x, un conjunto para las dependencias de KDE, @kdedeps, un
conjunto para paquetes opcionales @kdeoptional y un conjunto para el split
de los paquetes qt, @qt-split.
</p>

<p>
Se puede instalar KDE completamente ejecutando <c>emerge -av @kde</c>.
Los comandos equivalentes para versiones específicas son muy prácticos
para desinstalar una versión antigua, por ejemplo
<c>emerge -C @kde-3.5</c>, o para reinstalar todos los paquetes de una
versión específica, por ejemplo, <c>emerge -av1 @kde-4x</c>.
Características avanzadas como eliminación de todos los paquetes no
deseados de un conjunto, serán ofrecidas en una versión futura de
Portage -- puede leer más sobre esto en <uri
link="http://planet.gentoo.org/developers/genone/2008/09/29/more_extensions_to_package_set_support">
el blog de Marius Mauch (genone)</uri>. Parte de este código ha sido
publicado en portage-2.2_rc12, de forma que puede reinstalar todos los
paquetes de un conjunto con <c>emerge -av @&lt;set&gt;/@installed</c> o
tener un conjunto <path>/etc/portage/sets/kdebase-unwanted</path> y
entonces ejecutar <c>emerge -av @kdebase-@kdebase-unwanted</c>.
</p>

<p>
Recomendamos expresamente que instale el conjunto <c>kdebase</c> para
obtener una sesión completa KDE. El ejemplo de abajo debería instalar el
conjunto <c>kdebase</c> y el conjunto <c>kdegames</c>.
</p>

<pre caption="Instalando KDE SC">
# <i>emerge @kdebase @kdegames</i>
</pre>

<note>
Si quiere obtener la lista de conjuntos que están comprobados en Portage,
puede ejecutar lo siguiente: <c>emerge --list-sets</c>
</note>

<note>
Todos los ebuilds >= KDE 4.1 requieren <c>sys-apps/portage-2.1.6</c> o
superior, ya que ha implementado todas las especificaciones EAPI 2 usadas en
estos ebuilds (se requiere <c>>=sys-apps/portage-2.2_rc12</c> para usar
conjuntos.
</note>
</body>
</section>

<section id="cleanup">
<title>Limpiando KDE</title>
<body>

<p>
Para minimizar los problemas, es mejor comenzar con un entorno limpio. Esto
está recomendado en los siguientes casos:
</p>

<ul>
 <li>Cambiando de <c>+kdeprefix</c> a <c>-kdeprefix</c> (y viceversa)</li>
 <li>
   Bajando la versión de KDE (p.e. de ebuils snapshots/live a la versión de
Portage)
 </li>
 <li>Actualizando completamente de KDE 3 a KDE 4 (y viceversa)</li>
 <li>Actualizando desde un overlay antiguo</li>
</ul>

<p>
Las dos formas posibles de eliminar las instalaciones antiguas de KDE, son:
</p>

<pre caption="Comandos unmerge">
# <i>emerge -C @kde-4.X @kdebase-4.X @kde-3.5</i>(usando los conjuntos típicos)
# <i>emerge -C $(qfile -C -q -e /usr/kde/%PREFIX%)</i> <comment>(reemplazar %PREFIX% por su versión KDE version, p.e. 3.5, 4)</comment>
</pre>

<pre caption="Comandos unmerge (sólo aplicable si está actualizando desde un overlay)">
# <i>cd /camino/al/overlay/</i>
# <i>emerge -C $(find ./ -name \*.ebuild |sed -e "s:\.ebuild$::" -e "s:./::" |awk -F'/' '{print "="$1"/"$3}')</i>
</pre>

<p>
Como paso final debería eliminar el overlay antiguo de forma que no haya
conflictos con los ebuilds KDE. También debería eliminar los datos antiguos
de enmascaramiento y palabras clave (keyword).
</p>

<note>
No olvide ejecutar <c>emerge --depclean</c> para desinstalar cualquier
paquete dependiente.
</note>
</body>
</section>

<section>
<title>Localización/Internacionalización</title>
<body>

<p>
Con el nuevo KDE, se ha realizado un nuevo esfuerzo a favor de la
Localización en lugar de la Internacionalización. Esto ha causado alguna
confusión, pero no hay que preocuparse; únicamente ha cambiado el nombre.
</p>

<pre caption="Obteniendo las traducciones">
<comment>Para KDE 4 y KOffice 2:</comment>
# <i>emerge kde-l10n</i>
# <i>emerge koffice-l10n</i>
</pre>
</body>
</section>

<section>
<title>Migrando configuraciones de 3.5 a 4.X</title>
<body>

<p>
KDE almacena sus ficheros de configuración en el directorio
<path>~/.kde</path> por defecto. En los ebuilds de Gentoo, esto se ha
cambiado para KDE 4.X, de tal forma que se permite una mejor integración de
3.5 y 4.X cuando se usa la misma cuenta de usuario. Si exporta $KDEHOME,
este comportamiento será ignorado. Se recomienda expresamente que no se haga
esto. $KDEHOME hará que KDE 3.5 and 4.X usen el mismo directorio de
configuración, lo que normalmente no es deseable.
</p>

<p>
KDE 3.5 usa <path>~/.kde</path> y el FHS (Filesystem Hierarchy Standard o
Estándar de jerarquía del sistema de ficheros) por defecto
(<c>-kdeprefix</c>) KDE 4.X usa <e>~/.kde4</e>.
</p>

<p>
Los ajustes no son migrados por defecto. Si quiere intentar migrar sus
ajustes debería copiar su directorio de configuración antiguo a su nuevo
sitio antes de hacer login. Por ejemplo:
</p>

<pre caption="Copiando el directorio de configuración">
$ <i>cp -r ~/.kde ~/.kde4</i>
</pre>

<p>
Si tiene éxito, entonces sus ajustes deberían haberse migrado. Si no, es
posible cerrar la sesión y eliminar el nuevo directorio de configuración
para comenzar con un directorio de configuración limpio.
</p>

<impo>
Volver atrás una versión desde 3.5 a 4.X no está soportado
</impo>
</body>
</section>
</chapter>

<chapter>
<title>Algunos consejos y qué hacer en caso de problemas</title>
<section>
<title>Eliminando la ventana emergente de la herramienta de migración KResource</title>
<body>

<p>
Se han dado informes de casos en los que la herramienta de migración
KResource aparece cada vez que se accede al escritorio. Actualmente
no hay una solución adecuada para esto, pero puede ver una forma
de evitarlo en el <uri
link="https://bugs.gentoo.org/353200">informe de error 353200</uri>.
</p>

</body>
</section>
<section>
<title>Reconstruyendo la base de datos de aplicaciones</title>
<body>

<p>
Si su KMenu no muestra ninguna aplicación, o la lista completa de
aplicaciones, entonces probablemente necesite reconstruir la base
de datos de aplicaciones de KDE. Esto sirve también para
corregir otros problemas con KMenu como la falta de iconos.
</p>

<pre caption="Comando kbuildsycoca">
# <i>kbuildsycoca4 --noincremental</i>
</pre>

</body>
</section>
<section>
<title>Hacer que las aplicaciones GTK se vean como las Qt 4</title>
<body>

<p>
Hay dos temas disponibles que tienen el mismo aspecto en ambos juegos
de herramientas (GTK/Gnome y Qt/KDE): "QtCurve" se ofrece a través de
los paquetes <c>gtk-engines-qtcurve</c> y <c>x11-themes/qtcurve-qt4</c>,
"Oxygen" es parte de KDE 4.x, el correspondiente en GTK se ofrece a
través del paquete <c>x11-themes/oxygen-gtk</c>. Los temas de KDE
se pueden configurar a través de los ajustes de sistema de KDE bajo
"Apariencia" ("Appearance") en la pestaña "Estilo" ("Style"). Para
configurar el tema en las aplicaciones GTK desde los ajustes de sistema
de KDE, instale <c>kde-misc/kcm_gtk</c> para obtener una nueva pestaña
llamada "Estilos y Fuentes GTK" bajo "Apariencia".
</p>

</body>
</section>

<section>
<title>Protestas de Akonadi sobre la configuración MySQL</title>
<body>

<p>
Se comienza comprobando los permisos en <path>/usr/share/config</path> y
<path>/usr/share/kde4</path>. Si éstos son 700, necesitará actualizarlos a
755 de forma recursiva.
</p>

<pre caption="Actualizando los permisos en /usr/share/config">
# <i>chmod -R 755 /usr/share/{config,kde4}</i>
</pre>

<p>
Si esto no soluciona el problema, necesitará abrir la configuración de
akonadi y cambiar la configuración mysql por defecto. Si no tiene la bandeja
en ejecución, ejecute <c>akonaditray</c>, seleccione la "Configuración del
Servidor Akonadi" ("Akonadi Server Configuration"), active "Usar el servidor
MySQL interno" ("Use internal MySQL server") y presione el botón Comprobar
(Test). Si quiere usar el servidor mysql y no el ejecutable integrado,
necesitará asegurarse de que mysql se encuentra en ejecución.
</p>
</body>
</section>

<section>
<title>Haciendo que KDE arranque en el inicio del sistema</title>
<body>

<p>
Hay dos formas de indicar a KDE que arranque en el inicio del sistema.
La forma más fácil es usando KDM, que está disponible en
<c>kde-base/kdm</c>. En primer lugar, editamos el fichero de
configuración de Xorg, de forma que DISPLAYMANAGER esté definido como
"kdm":
</p>

<pre caption="Editando /etc/conf.d/xdm">
# What display manager do you use ?  [ xdm | gdm | kdm | kdm-4.3 | gpe | entran$
# NOTE: If this is set in /etc/rc.conf, that setting will override this one.
#
# KDE-specific note:
# - If you are using kdeprefix go with "kdm-4.Y", e.g. "kdm-4.3".
#     You can find possible versions by looking at the directories in /usr/kde/.
# - Else, if you are using KDE 3 enter "kdm-3.5"
# - Else, if you are using KDE 4 enter "kdm" without a version
DISPLAYMANAGER="kdm"
</pre>

<p>
El siguiente paso es añadir xdm al nivel de ejecución por defecto:
</p>

<pre caption="Añadiendo xdm al nivel de ejecución por defecto">
# <i>rc-update add xdm default</i>
</pre>

</body>
</section>
<section>
<title>Sugerencias sobre las fuentes</title>
<body>

<p>
Si hace clic para ver el menú y ve que nada es legible, necesitará
instalar algunas fuentes. Algunas opciones comunes son
<c>media-fonts/corefonts</c>, <c>media-fonts/ttf-bitstream-vera</c>
y <c>media-fonts/dejavu</c>.
</p>
</body>
</section>

<section>
<title>KDM falla al arrancar</title>
<body>

<p>
Se comienza comprobando los permisos en /usr/share/config. Si éstos son 700,
necesitará actualizarlos a 755. Compruebe la sección anterior. Si esto no
soluciona el problema, compruebe la siguiente notificación del ebuild kdm:
</p>

<pre caption="Notificación kdm">
Si cuando reinicia xdm, kdm falla en el arranque con un mensaje como
"gentoo kdm[2116]: X server startup timeout, terminating"
en /var/log/messages, quite el comentario  a la línea ServerTimeout
en "grep kdmrc /var/db/pkg/kde-base/kdm-4.3.1/CONTENTS | cut -f2 -d " ""
y asegúrese de incrementar el tiempo de espera - 60 debería funcionar.
</pre>

<p>
Compruebe también que los siguientes servicios se han arrancado:
</p>

<pre caption="Comprobando y arrancando servicios">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/hald status</i>
# <i>/etc/init.d/consolekit status</i>
</pre>

<p>
Si no, actívelos reemplazando <c>status</c> con <c>start</c> y use el
comando <c>rc-update add dbus default</c> para cada uno de ellos y serán
añadidos al nivel de ejecución por defecto.
</p>

<p>
Finalmente, KDM podría fallar debido a errores en
<path>/etc/X11/xorg.conf</path>. Eche un vistazo a sus registros (logs):
<path>/var/log/Xorg.0.log</path> y <path>/var/log/kdm.log</path> y corrija
<path>xorg.conf</path> apropiadamente. Para ayuda adicional, nos puede
encontrar en IRC (#gentoo-kde en Freenode).
</p>

</body>
</section>
<section>
<title>El applet de la batería o notificaciones sólidas no muestra
información relevante.</title>
<body>

<p>
Debido a esto, necesitará tener dbus y hald en ejecución.
</p>

<pre caption="Comprobando y arrancando dbus y hald">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/hald status</i>
# <i>/etc/init.d/dbus start</i>
# <i>/etc/init.d/hald start</i>
</pre>

</body>
</section>
<section>
<title>Perfiles de escritorio y subperfiles</title>
<body>

<p>
Los perfiles de escritorio han sido separados en subperfiles KDE y
GNOME. Esto implica que los ajustes USE específicos para KDE y
GNOME han sido separados del perfil básico de escritorio y han
sido migrados a los subperfiles. Elegir un subperfil no le
restringe a usar únicamente el entorno de escritorio equivalente.
Para elegir el perfil que mejor se adapta a sus necesidades,
ejecute "eselect profile list" para obtener una lista de perfiles,
y "eselect profile set X" en el que X es un número apropiado de
perfil.
</p>

</body>
</section>
</chapter>
</guide>
