<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">


<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/es/desktop/kde/kde4-guide.xml,v 1.1 2009/11/26 12:28:51 chiguire Exp $ -->
<guide link="/proj/es/desktop/kde/kde4-guide.xml" lang="es">
<title>Guía KDE de Gentoo</title>

<author title="Autor">
  <mail link="tampakrap"/>
</author>
<author title="Autor">
  <mail link="scarabeus"/>
</author>
<author title="Autor">
  <mail link="jmbsvicetto"/>
</author>
<author title="Autor">
  <mail link="cryos"/>
</author>
<author title="Editor">
  <mail link="keytoaster"/>
</author>
<author title="Editor">
  <mail link="nightmorph"/>
</author>
<author title="Traductor">
  <mail link="gentoo@nimiux.org">José María Alonso</mail>
</author>

<abstract>
Esta guía muestra como configurar KDE usando los ebuilds del árbol. Se
usarán algunas herramientas del overlay git del equipo de KDE (kde-testing).
</abstract>



<!-- The content of this document is licensed under the CC-BY-SA license
 See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>0.7</version>
<date>2009-11-16</date>

<chapter>
<title>KDE 3</title>
<section>
<title>Introducción</title>
<body>

<p>
El equipo de desarrollo principal ya no mantiene KDE 3, siendo su última
publicación la 3.5.10. Además, muchas de las aplicaciones KDE 3 tampoco se
mantienen ya que han sido o están siendo portadas a KDE4. El equipo KDE de
Gentoo ofrece ebuilds del KDE base y de varias de sus aplicaciones tanto
para KDE 3 como para KDE 4 y da soporte a la instalación completa del
escritorio KDE 3 y 4, incluyendo aplicaciones KDE misceláneas. Nuestro
consejo es que instale y use un escritorio por defecto de KDE 4 y utlice
únicamente aquellas aplicaciones KDE 3 que sepa que han sido
convenientemente portadas a KDE 4 (debido a características que faltan,
fallos aleatorios, etc).
</p>

<warn>
Recuerde que debido a que KDE 3 ya no es mantenido por el equipo de
desarrollo principal, es posible que no se corrijan informes de error que
afecten a aplicaciones KDE 3 y éstos informes se cierren como WONTFIX /
CANTFIX / UPSTREAM, o que se mantengan abiertos durante un largo periodo de
tiempo hasta que se ofrezca una solución (parche).
</warn>

</body>
</section>
<section>
<title>Eliminación de KDE 3</title>
<body>

<p>
Actualmente KDE 3.5.10 está enmascarado para todas las arquitecturas, ya que
está siendo eliminado de Portage.
</p>

<p>
El equipo KDE ha estado haciendo limpieza de varias aplicaciones KDE 3,
eliminándolas del árbol ya que están obsoletas, rotas y sin ningún
mantenimiento. El equipo también ha eliminado soporte a arts (con mucha
colaboración de los equipos Media/Vídeo). Cuando se termine esta tarea,
vamos a eliminar arts también del KDE 3 base.
</p>

<p>
Usar KDE 3 no es recomendable debido a cuestiones de seguridad y fallos. Si
<e>tiene que</e> instalarlo, puede encontrarlo en el overlay <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde-sunset.git;a=summary">kde-sunset</uri>.
</p>

<note>
Este overlay no está de ningún modo mantenido por Gentoo. Tampoco está
mantenido por el equipo KDE, por lo que <b>no</b> informe de ninguna
incidencia a los desarrolladores de Gentoo, bugzilla,etc.
</note>

</body>
</section>
</chapter>

<chapter>
<title>KDE 4</title>
<section>
<title>Introducción</title>
<body>

<p>
KDE 4 es la versión actual de KDE mantenida por el equipo principal de
desarrollo. La versión actual de KDE 4 que está disponible a través de es la
4.3.1 (esta versión está considerada como estable por el equipo principal de
desarrollo de KDE). Además, el equipo de KDE ofrece <uri
link="ftp://ftp.kde.org/pub/kde/unstable">instantáneas</uri> semanales y un
<uri link="http://websvn.kde.org">árbol SVN activo</uri>. El equipo KDE de
Gentoo ofrece estas instantáneas, la versión troncal y los últimos ebuilds
con las ramificaciones (live), todo a través del overlay
<c>kde-testing</c>. Para activarlo, el usuario puede tener varias
instalaciones KDE 4 en paralelo mediante el manejo del indicador USE
<c>kdeprefix</c>.
</p>

<p>
Elija cuál es la versión de KDE que más se adapta a sus necesidades:
</p>
<table>
  <tr>
    <ti><uri link="#kde_portage">KDE de Portage (actualmente 4.3.1)</uri></ti>
  </tr>
  <tr>
    <ti><uri link="#snapshots">Instantáneas KDE (actualmente 4.3.X)</uri></ti>
  </tr>
  <tr>
    <ti><uri link="#live">Ebuilds live de KDE</uri></ti>
  </tr>
</table>

</body>
</section>
<section>
<title>El indicador USE kdeprefix</title>
<body>

<warn>
El indicador USE <c>kdeprefix</c> está actualmente enmascarado. <b>No está
mantenido</b> y no debe usarse de ninguna forma. Úselo por su cuenta y
riesgo. Léa más abajo acerca de las razones que llevaron al enmascaramiento
de este indicador.
</warn>

<p>
El indicador USE <c>kdeprefix</c> permite a los usuarios, elejir entre una
instalación comforme a FHS (<c>-kdeprefix</c>) o una instación slot, en el
prefijo KDE (<c>+kdeprefix</c>).
</p>

<p>
Si <c>kdeprefix</c> está deshabilitada (opción por defecto), entonces KDE es
instalado en la localización conforme a FHS, esto es,
<path>/usr</path>. Esto significa que todos los ficheros son puestos bajo
<path>/usr</path>. Este es el comportamiento deseable para la mayoría de los
usuarios. Lo malo de la instalación conforme a FHS es que no será posible
tener más de una versión menor de KDE (comportamiento anterior), por ejemplo
KDE 4.3 y 4.4.
</p>

<warn>
Mezclar instalaciones KDE de los tipos <c>+kdeprefix</c> y <c>-kdeprefix</c>
no está soportado ni recomendado. Si realmente quiere kdeprefix en su
sistema, tendrá que desenmascararlo y ajustarlo globalmente en
<path>/etc/make.conf</path>.
</warn>

<p>
Si <c>kdeprefix</c> está activado entonces KDE es instalado en
<path>/usr/kde/${SLOT}</path>, lo que le permite instalar KDE 4.3, live,
etc. en <path>/usr/kde/4.3</path> y <path>/usr/kde/live</path> por ejemplo.
</p>

<warn>
Si quiere moverse entre <c>kdeprefix</c> y <c>-kdeprefix</c> (o viceversa),
se recomienda que haga unmerge de todos los paquetes KDE y entonces haga
emerge con el indicador modificado. Si no se modifica, las instalaciones KDE
pueden tener problemas encontrando ciertas librerías/plugins. Compruebe <uri
link="#cleanup">Limpiando KDE</uri> para más detalles.
</warn>

<p>
Recientemente <c>kdeprefix</c> se enmascara por defecto ya que ha causado
muchos problemas como colisiones entre los mismos paquetes cuando se tienen
dos o más instalaciones KDE, o un comportamiento extraño incluso cuando una
única instalación KDE con <c>+kdeprefix</c> está presente en el sistema.
</p>

<p>
Importantes ejemplos de paquetes que tienen estos problemas son
<c>pykde4</c> y <c>amarok</c>. Debido a que el equipo KDE de Gentoo decidió
proceder con la estabilización de KDE 4, estas cuestiones requerían ser
resueltas en primer lugar. Ya que era difícil corregirlas, decidimos en
lugar de esto, enmascar el indicador. <b>Si sabe realmente lo que está
haciendo</b> y está seguro de que quiere tener <c>kdeprefix</c>
desenmascarado y activado en su sistema, añada kdeprefix globalmente a
<path>/etc/make.conf</path> y desenmascárelo siguiendo estas instrucciones.
</p>

<pre caption="Desenmascarando el indicador use kdeprefix">
# <i>mkdir -p /etc/portage/profile</i>
# <i>echo "-kdeprefix" >> /etc/portage/profile/use.mask</i>
</pre>

</body>
</section>
<section id="kde_portage">
<title>Instalando KDE 4.3.1 (desde Portage)</title>
<body>


<note>
Para minimizar los problemas, es recomendable comenzar con un entorno
limpio. Lea más en <uri link="#cleanup">Limpiando KDE</uri>.
</note>

<p>
La instalación se puede hacer usando metapaquetes o usando conjuntos.
</p>

<pre caption="Instalación de KDE usando metapaquetes">
# <i>emerge -av kde-meta:4.3</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta:4.3 kdegames-meta:4.3</i> <comment>(instalación únicamente de módulos elegidos)</comment>
</pre>

<p>
Para la instalación usando conjuntos, consulte <uri link="#sets">Usando
conjuntos.</uri>
</p>

</body>
</section>
<section id="snapshots">
<title>Instalando instantáneas KDE 4.3.X (desde el overlay kde-testing)</title>
<body>

<warn>
Las instantáneas KDE son <b>lo último de lo último</b>. Úselas por su cuenta
y riesgo.
</warn>

<p>
El desarrollo principal de KDE ofrece <uri
link="ftp://ftp.kde.org/pub/kde/unstable">instantáneas semanales</uri>
tomadas de <uri link="http://websvn.kde.org/trunk/">árbol troncal
SVN</uri>. KDE ahora ofrece series de instantáneas 4.3.X y después de la
publicación 4.4 van a empezar con la 4.4.60. Las publicaciones Beta y
Candidata (Release Candidate) de KDE seguirán el modelo de instantáneas
indicado abajo:
</p>

<table>
<tr>
 <th>Versión de la instantánea</th>
 <th>Versión de KDE</th>
</tr>
<tr>
 <ti>4.X.85</ti>
 <ti>KDE 4.X Beta 1</ti>
</tr>
<tr>
 <ti>4.X.90</ti>
 <ti>KDE 4.X Beta 2</ti>
</tr>
<tr>
 <ti>4.X.95</ti>
 <ti>KDE 4.X Release Candidate</ti>
</tr>
</table>

<note>
Para minimizar los problemas, es recomendable comenzar con un entorno
limpio. Lea más en <uri link="#cleanup">Limpiando KDE</uri>.
</note>

<note>
Necesitará portage-2.2_rc*, así que, por favor añada la entrada
<c>~sys-apps/portage-2.2</c> a su fichero
<path>/etc/portage/package.unmask[/*]</path>.
</note>

<p>
Las instantáneas están únicamente disponibles a través del overlay
<c>kde-testing</c>, por lo que tendrá que añadirlo:
</p>

<pre caption="Instalando el overlay kde-testing desde layman">
# <i>layman -f -a kde-testing</i>
<comment>Para más información sobre overlays, por favor, lea la <uri link="http://www.gentoo.org/proj/es/overlays/userguide.xml">guía del usuario de overlays</uri></comment>
</pre>

<p>
Si está acostumbrado a repositorios git, no quiere usar layman y hacer todo
el trabajo de sincronización, puede instalar el repositorio directamente:
</p>

<pre caption="Instalando el overlay kde-testing directamente">
# <i>mkdir /&lt;repo-base-dir&gt;</i>
# <i>cd /&lt;repo-base-dir&gt;</i>
# <i>git clone git://git.overlays.gentoo.org/proj/kde.git</i>
</pre>

<p>
Los usuarios con sistemas estables tienen que ajustar algunas palabras clave
para proseguir. Ofrecemos un fichero package.keyword en el overlay
<c>kde-testing</c> que tendremos que enlazar simbólicamente al directorio de
nuestro package.keywords:
</p>

<pre caption="Creando el enlace simbólico al fichero kde-4.3.keywords">
# <i>cd /etc/portage/package.keywords</i>
# <i>ln -s /camino/al/overlay/kde-testing/Documentation/package.keywords/kde-4.4.keywords .</i>
</pre>

<p>
La instalación se puede hacer usando metapaquetes o usando conjuntos.
</p>

<pre caption="Instalación de instantáneas KDE usando metapaquetes">
# <i>emerge -av kde-meta:4.4</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta:4.4 kdegames-meta:4.4</i> <comment>(instalación únicamente de módulos elegidos)</comment>
</pre>

<pre caption="Instalación de instantáneas KDE usando conjuntos">
# <i>emerge -av @kde-4.3</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av @kdebase-4.3 @kdegames-4.3</i> <comment>(instalación únicamente de módulos elegidos)</comment>
<comment>Consulte la sección <uri link="#sets">Usando conjuntos</uri> para más información.</comment>
</pre>

</body>
</section>
<section id="live">
<title>Instalando ebuilds KDE live (desde el overlay kde-testing)</title>
<body>

<warn>
Los ebuilds KDE live son <b>lo último de lo último</b>. Úselas por su cuenta
y riesgo.
</warn>

<p>
KDE es Código Abierto, y éste código está disponible para verlo usando un
navegador a través de <uri link="http://websvn.kde.org">KDE Websvn</uri>, y
para que el público la pueda obtener usando una cuenta anónima
(anonsvn). Gentoo, como distibucion basada en código fuente tiene la
habilidad de ofrecer ebuils live que obtienen el código bien desde la última
rama o desde el desarrollo troncal. Actualmente, ofrecemos 4.3.9999 ebuilds
de la rama 4.3.
</p>

<table>
<tr>
 <th>Versión de ebuilds</th>
 <th>Versión de KDE</th>
</tr>
<tr>
 <ti>4.3.9999</ti>
 <ti>KDE 4.3.Branch</ti>
</tr>
<tr>
 <ti>9999</ti>
 <ti>KDE 4 Troncal (actualmente 4.4)</ti>
</tr>
</table>

<note>
Para minimizar los problemas, es recomendable comenzar con un entorno
limpio. Lea más en <uri link="#cleanup">Limpiando KDE</uri>.
</note>

<note>
Necesitará portage-2.2_rc*, así que, por favor añada la entrada
<c>~sys-apps/portage-2.2</c> a su fichero
<path>/etc/portage/package.unmask</path>.
</note>

<p>
Los ebuilds live únicamente están disponibles a través del overlay
<c>kde-testing</c> por lo que se deben instalar en primer lugar:
</p>

<pre caption="Instalando el overlay kde-testing">
# <i>layman -f -a kde-testing</i>
<comment>Para más información sobre overlays, por favor, lea la <uri link="http://www.gentoo.org/proj/es/overlays/userguide.xml">guía del usuario de overlays</uri></comment>
</pre>

<p>
Los usuarios con sistemas estables tienen que ajustar algunas palabras clave
para proseguir. Ofrecemos un fichero package.keyword en el overlay
<c>kde-testing</c> que tendremos que enlazar simbólicamente al directorio de
nuestro package.keywords:
</p>

<pre caption="Creando el enlace simbólico del fichero kde-4.X.9999.keywords o kde-live.">
# <i>cd /etc/portage/package.keywords</i>
# <i>ln -s /camino/al/overlay/kde-testing/Documentation/package.keywords/kde-4.3.9999.keywords .</i><comment>(Para la rama 4.3)</comment>
# <i>ln -s /camino/al/overlay/kde-testing/Documentation/package.keywords/kde-live.keywords .</i><comment>(Para el Troncal KDE 4.4)</comment>
</pre>

<p>
La instalación se puede hacer usando metapaquetes o usando conjuntos.
</p>

<pre caption="Instalación de ebuilds KDE live usando metapaquetes">
<comment>(Para la rama KDE 4.3)</comment>
# <i>emerge -av kde-meta:4.3</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta:4.3 kdegames-meta:4.3</i> <comment>(instalación únicamente de módulos elegidos)</comment>
<comment>(Para el Troncal KDE 4.4)</comment>
# <i>emerge -av kde-meta:live</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av kdebase-meta:live kdegames-meta:live</i> <comment>(instalación únicamente de módulos elegidos)</comment>
</pre>

<pre caption="Instalación de ebuilds KDE live usando conjuntos">
<comment>(Para la rama KDE 4.3)</comment>
# <i>emerge -av @kde-4.3</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av @kdebase-4.3 @kdegames-4.3</i> <comment>(instalación únicamente de módulos elegidos)</comment>
<comment>(Para el Troncal KDE 4.4)</comment>
# <i>emerge -av @kde-live</i> <comment>(contiene todos los módulos KDE)</comment>
# <i>emerge -av @kdebase-live @kdegames-live</i> <comment>(instalación únicamente de módulos elegidos)</comment>
<comment>Consulte la sección <uri link="#sets">Usando conjuntos</uri> para más información.</comment>
</pre>

</body>
</section>
<section>
<title>Instalación de aplicaciones KDE 4</title>
<body>

<p>
En kde-testing encontrará ebuilds live de aplicaciones KDE 4. Están en el
slot :4, sin embargo <b>no se pueden</b> instalar en paralelo con las
normales. Es libre de usar aplicaciones live KDE 4 con KDE 4 de Portage, o
usar aplicaciones KDE 4 de Portage con su KDE live.
</p>

<note>
Hay también definido un conjunto con las aplicaciones KDE 4,
@kde-extras-live, en kde-testing y un conjunto con las aplicaciones Qt live,
@qt-extras-live, en el overlay qting-edge.
</note>

</body>
</section>
</chapter>

<chapter>
<title>Información adicional de instalación/desinstalación</title>
<section id="sets">
<title>Usando conjuntos</title>
<body>

<warn>
Portage 2.2_rcX está actualmente enmascarado. Por lo tanto, si quiere usar
conjuntos, por favor desemascare <c>~sys-apps/portage-2.2</c>.
</warn>

<p>
Una de las nuevas características ofrecidas por Portage 2.2 son los
conjuntos.
</p>

<p>
Los conjuntos permiten al equipo KDE ofrecer un substituto completo a los
paquete monolíticos, con el extra de que los usuarios pueden desinstalar de
los conjuntos por defecto cualquier paquete que no deseen. Todavía tenemos
que resolver alguna discusión antes de que podamos poner conjuntos en el
árbol Portage. Así, puede obtener los conjuntos desde el <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=tree;f=sets">directorio
de conjuntos</uri> del overlay <c>kde-testing</c> o también como un <uri
link="http://git.overlays.gentoo.org/gitweb/?p=proj/kde.git;a=snapshot;h=5b2fc54fa5d1c8aeddaeb05f044bf28754bb18be;sf=tbz2">
archivo tar.bz2</uri> y poner los que desee en
<path>/etc/portage/sets</path> -- puede ver la lista de conjuntos ofertados
por el equipo KDE en el overlay, usando el primer enlace.
</p>

<note>
Si está usando el overlay kde-testing puede usar conjuntos directamente en
lugar de copiarlos a <path>/etc/portage/sets</path>.
</note>

<p>
Entre otros, hay conjuntos para cada tarball de KDE - @kdeaccessibility,
@kdeadmin, @kdeartwork, @kdebase, @kdeedu, @kdegames, @kdegraphics,
@kdemultimedia, @kdenetwork, @kdepim, @kdesdk, @kdetoys, y
@kdeutils. Existen también  un conjunto de conjuntos (el equivalente al
antiguo paquete kde-meta) @kde, de igual forma para versiones específicas
@kde-3.5 y @kde-4x, un conjunto para las dependencias de KDE, @kdedeps, un
conjunto para paquetes opcionales @kdeoptional y un conjunto para el split
de los paquetes qt, @qt-split.
</p>

<p>
Se puede instalar KDE completamente ejecutando <c>emerge -av @kde</c>. Los
comandos equivalentes para versiones específicas son muy prácticos para
desinstalar una versión antigua, por ejemplo <c>emerge -C @kde-3.5</c>, o
para reinstalar todos los paquetes de una versión especiífica, por ejemplo,
<c>emerge -av1 @kde-4x</c>. Características avanzadas como eliminación de
todos los paquetes no deseados de un conjunto, serán ofrecidas en una
versión futura de Portage -- puede leer más sobre esto en <uri
link="http://planet.gentoo.org/developers/genone/2008/09/29/more_extensions_to_package_set_support">el
blog de Marius Mauch (genone)</uri>. Parte de este código ha sido publicado
en portage-2.2_rc12, de forma que puede reinstalar todos los paquetes de un
conjunto con <c>emerge -av @&lt;set&gt;/@installed</c> o tener un conjunto
<path>/etc/portage/sets/kdebase-unwanted</path> y entonces ejecutar
<c>emerge -av @kdebase-@kdebase-unwanted</c>.
</p>

<p>
Recomendamos expresamente que instale el conjunto <c>kdebase</c> para
obtener una sesión completa KDE. El ejemplo de abajo debería instalar el
conjunto <c>kdebase</c> y el conjunto <c>kdegames</c>.
</p>

<pre caption="Instalando KDE">
# <i>emerge @kdebase @kdegames</i>
</pre>

<note>
Si quiere obetener la lista de conjuntos que están comprobados en Portage,
puede ejecutar lo siguiente: <c>emerge --list-sets</c>
</note>

<note>
Todos los ebuilds >= KDE 4.1 requieren <c>sys-apps/portage-2.1.6</c> o
superior, ya que ha implementado todas las especificaciones EAPI 2 usadas en
estos ebuilds (se requiere <c>>=sys-apps/portage-2.2_rc12</c> para usar
conjuntos.
</note>

</body>
</section>
<section id="cleanup">
<title>Limpiando KDE</title>
<body>

<p>
Para minimizar los problemas, es mejor comenzar con un entorno limpio. Esto
está recomendado en los siguientes casos:
</p>

<ul>
 <li>Cambiando de <c>+kdeprefix</c> a <c>-kdeprefix</c> (y viceversa)</li>
 <li>
   Bajando la versión de KDE (p.e. de ebuils snapshots/live a la versión de
Portage)
 </li>
 <li>Actualizando completamente de KDE 3 a KDE 4 (y viceversa)</li>
 <li>Actualizando desde un overlay antiguo</li>
</ul>

<p>
Las dos formas posibles de eliminar las instalaciones antiguas de KDE, son:
</p>

<pre caption="Comandos unmerge">
# <i>emerge -C @kde-4.X @kdebase-4.X @kde-3.5</i>(usando los típicos conjuntos)
# <i>emerge -C $(qfile -C -q -e /usr/kde/%PREFIX%)</i> <comment>(reemplazar %PREFIX% por su versión KDE version, p.e. 3.5, 4)</comment>
</pre>

<pre caption="Comandos unmerge (sólo aplicable si está actualizando desde un overlay)">
# <i>cd /camino/al/overlay/</i>
# <i>emerge -C $(find ./ -name \*.ebuild |sed -e "s:\.ebuild$::" -e "s:./::" |awk -F'/' '{print "="$1"/"$3}')</i>
</pre>

<p>
Como paso final debería eliminar el overlay antiguo de forma que no haya
conflictos con los ebuilds KDE. También debería eliminar los datos antiguos
de enmascaramiento y palabras clave (keyword).
</p>

<note>
No olvide ejecutar <c>emerge --depclean</c> para desinstalar cuanquier
paquete dependiente.
</note>

</body>
</section>
<section>
<title>Reconstruyendo la base de datos de aplicaciones</title>
<body>

<p>
Para reconstruir la base de datos de aplicacines KDE, ejecute:
</p>

<pre caption="comando kbuildsycoca">
# <i>kbuildsycoca4 --noincremental</i>
</pre>

</body>
</section>
<section>
<title>Localización/Intenacionalización</title>
<body>

<p>
Con el nuevo KDE, se ha realizado un nuevo esfuerzo a favor de la
Localización en lugar de la Internacionalización. Esto ha causado alguna
confusión, pero no hay que preocuparse; únicamente ha cambiado el nombre.
</p>

<pre caption="Obteniendo las traducciones">
<comment>Para KDE 4 y KOffice 2:</comment>
# <i>emerge kde-l10n</i>
# <i>emerge koffice-l10n</i>
</pre>

</body>
</section>
<section>
<title>Migrando configuraciones de 3.5 a 4.X</title>
<body>

<p>
KDE almacena sus ficheros de configuración en el directorio
<path>~/.kde</path> por defecto. En los ebuilds de Gentoo, esto se ha
cambiado para KDE 4.X, de tal forma que se permite una mejor integración de
3.5 y 4.X cuando se usa la misma cuenta de usuario. Si exporta $KDEHOME,
este comportamiento será ignorado. Se recomienda expresamente que no se haga
esto. $KDEHOME hará que KDE 3.5 and 4.X usen el mismo directorio de
configuración, lo que normalmente no es deseable.
</p>

<p>
KDE 3.5 usa <path>~/.kde</path> y el FHS por defecto (<c>-kdeprefix</c>) KDE
4.X usa <e>~/.kde4</e>.
</p>

<p>
Los ajustes no son migrados por defecto. Si quiere intentar migrar sus
ajustes debería copiar su directorio de configuración antiguo a su nuevo
sitio antes de hacer login. Por ejemplo:
</p>

<pre caption="Copiando el directorio de configuración">
$ <i>cp -r ~/.kde ~/.kde4</i>
</pre>

<p>
Si tiene éxito, entonces sus ajustes deberían haberse migrado. Si no, es
posible cerrar la sesión y eliminar el nuevo directorio de configuración
para comenzar con un directorio de configuración limpio.
</p>

<impo>
Volver atrás una versión desde 3.5 a 4.X no está soportado
</impo>

</body>
</section>
</chapter>
<chapter>
<title>Algunos consejos y qué hacer en caso de problemas</title>
<section>
<title>Plasmoids</title>
<body>

<p>
Plasmoids son las nuevas herramientas plasma que pueden mejorar la
experiencia con su escritorio. Hay muchos plasmoids disponibles en la
categoría kde-misc/ category. Si no encuentra su plasmoid favorito. Abra un
informe de error, y alguien puede que lo cree. Si los quiere todos, existe
un conjunto llamado @plasmoids que contiene todos los plasmoids disponibles
actualmente.
</p>

<note>
Muchos de los plasmoids están en el overlay kde-testing
</note>

</body>
</section>
<section>
<title>x11-themes/plasma-themes</title>
<body>

<p>
Este ebuild contiene varios temas plasma. El procedimiento para solicitar
temas adicionales es el mismo que para los plasmoids.
</p>

</body>
</section>
<section>
<title>x11-themes/gtk-engines-qt</title>
<body>

<p>
Este ebuild debe ser usando en el caso en que se quiera que sus aplicaciones
GTK usen un tema similar al las aplicaciones Qt/KDE. Se puede encontrar la
forma de configurarlo en Sistema Ajustes->Apariencia->Fuentes y Estilos GTK
(Settings->Appearance->GTK Styles and Fonts).
</p>

</body>
</section>
<section>
<title>x11-themes/gtk-engines-qtcurve</title>
<body>

<p>
Existe otro enfoque para hacer que las aplicaciones GTK/Qt 3/Qt 4 tengan el
mismo aspecto. Debe instalar también <c>x11-themes/qtcurve-qt4</c> para que
funcione con aplicaciones Qt 4/KDE 4.
</p>

</body>
</section>
<section>
<title>Protestas de Akonadi sobre la configuración MySQL</title>
<body>

<p>
Se comienza comprobando los permisos en <path>/usr/share/config</path> y
<path>/usr/share/kde4</path>. Si éstos son 700, necesitará actualizarlos a
755 de forma recursiva.
</p>

<pre caption="Actualizando los permisos en /usr/share/config">
# <i>chmod -R 755 /usr/share/{config,kde4}</i>
</pre>

<p>
Si esto no soluciona el problema, necesitará abrir la configuración de
akonadi y cambiar la configuración mysql por defecto. Si no tiene la bandeja
en ejecución, ejecute <c>akonaditray</c>, seleccione la "Configuración del
Servidor Akonadi" ("Akonadi Server Configuration"), active "Usar el servidor
MySQL interno" ("Use internal MySQL server") y presione el botón Comprobar
(Test). Si quiere usar el servidor mysql y no el ejecutable integrado,
necesitará asegurarse de que mysql se encuentra en ejecución.
</p>

</body>
</section>
<section>
<title>KDM falla al arrancar</title>
<body>

<p>
Se comienza comprobando los permisos en /usr/share/config. Si éstos son 700,
necesitará actualizarlos a 755. Compruebe la sección anterior. Si esto no
soluciona el problema, compruebe la siguiente notificación del ebuild kdm:
</p>

<pre caption="Notificación kdm">
Si cuando reinicia xdm, kdm falla en el arranque con un mensaje como "gentoo kdm[2116]: X
server startup timeout, terminating" en /var/log/messages, quite el comentario  a la línea ServerTimeout
en "grep kdmrc /var/db/pkg/kde-base/kdm-4.3.1/CONTENTS | cut -f2 -d " ""
y asegúrese de incrementar el tiempo de espera - 60 debería funcionar
</pre>

<p>
Compruebe también que los siguientes servicios se han arrancado:
</p>

<pre caption="Comprobando y arrancando servicios">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/hald status</i>
# <i>/etc/init.d/consolekit status</i>
</pre>

<p>
Si no, actívelos reemplazando <c>status</c> con <c>start</c> y use el
comando <c>rc-update add dbus default</c> para cada uno de ellos y serán
añadidos al nivel de ejecución por defecto.
</p>

<p>
Finalmente, KDM podría fallar debido a errores en
<path>/etc/X11/xorg.conf</path>. Eche un vistazo a sus registros (logs):
<path>/var/log/Xorg.0.log</path> y <path>/var/log/kdm.log</path> y corrija
<path>xorg.conf</path> apropiadamente. Para ayuda adicional, nos puede
encontrar en IRC (#gentoo-kde en Freenode).
</p>

</body>
</section>
<section>
<title>El applet de la batería o notificaciones sólidas no muestran información
relevante.</title>
<body>

<p>
Debido a esto, necesitará tener dbus y hald en ejecución.
</p>

<pre caption="Comprobando y arrancando dbus y hald">
# <i>/etc/init.d/dbus status</i>
# <i>/etc/init.d/hald status</i>
# <i>/etc/init.d/dbus start</i>
# <i>/etc/init.d/hald start</i>
</pre>

</body>
</section>
</chapter>
</guide>
