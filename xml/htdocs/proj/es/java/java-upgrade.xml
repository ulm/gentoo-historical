<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/es/java/Attic/java-upgrade.xml,v 1.1 2008/04/29 18:35:44 chiguire Exp $ -->

<guide link="/proj/en/java/java-upgrade.xml" lang="es">

<title>Guía Gentoo de actualización de Java</title>

<author title="Autor">
  <mail link="nichoj@gentoo.org">Joshua Nichols</mail>
</author>
<author title="Autor">
  <mail link="kartk@gentoo.org">Karl Trygve Kalleberg</mail>
</author>
<author title="Editor">
  <mail link="nightmorph@gentoo.org">Josh Saddler</mail>
</author>
<author title="Traductor">
  <mail link="jesus.riveroa@gmail.com">Jesús Rivero</mail>
</author>

<abstract>
Esta guía muestra cómo actualizar Java a la nueva generación de Java
en Gentoo, además de mostrar algunos conceptos y herramientas
relacionadas.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.0.12</version>
<date>2006-10-19</date>

<chapter>
<title>Introducción</title>

<section>
<body>
<p>
Hola y bienvenidos. Puede que se esté preguntado '¿Por qué quisiera
actualizar mi Java?' O quizás comenzó el proceso de actualización y
fue redirigido a esta página por un error durante el proceso. Sin
importar cuál sea el caso, el propósito de este documento es ayudarle
durante la actualización al nuevo sistema Java. ¡Ah!, pero ¿qué es
esto del nuevo sistema Java?
</p>
</body>
</section>

<section>
<title>El nuevo sistema Java</title>
<body>

<p>
Para aquellos que no están familiarizados con el nuevo sistema Java,
he aquí una lista de nuevas características:
</p>

<ul>
  <li>Habilidad de cambiar la VM actual sobre la marcha</li>

  <li>Los cambios al usuario y sistema VM se hacen efectivos de
  inmediato y no están atados al ambiente de la consola. (ej. no mas
  env-update &amp;&amp; source /etc/profile luego de cambiar la
  VM)</li>

  <li>Se introduce el concepto 'VM de compilación' que es utilizada
  para hacer emerge de paquetes, y es independiente de la VM del
  sistema.</li>

  <li>Para cada versión de Java, ej. 1.3, 1.4, 1.5, etc. la 'VM de
  compilación' puede ser configurada para especificar que fabricante y
  versión de VM se utilizará.</li>

  <li>La VM al momento de ejecutar emerge será cambiada de acuerdo
  tanto a su configuración como a las dependencias del paquete. Por
  ejemplo, algunos paquetes no compilarán con 1.5. En estos casos una
  VM 2.4 será utilizada al construir el paquete.</li>

  <li>Los paquetes Java que se compilan utilizando ant reescribirán su
  build.xml al momento de ser construidos para asegurar que la versión
  correcta del bytecode de Java sea compilado.</li>

  <li>Java 1.5 ahora está desenmascarado luego de haber estado en
  package.unmask por algún tiempo.</li>

  <li>Java 1.6 estará disponible al momento en que sea liberado.</li>
</ul>
</body>
</section>

<section>
<title>Terminología / Conceptos</title>
<body>

<p>
Ahora que se tiene una idea de en qué se está metiendo ... aquí hay
algunos términos y conceptos que pueden resultar útiles antes de
comenzar.
</p>

<dl>
  <dt>Generación</dt>
  <dd>
    Es un nuevo concepto. Una generación es un conjunto de
    herramientas e eclasses para construir paquetes Java. Cuando
    comience la migración la generación existente hacia una nueva,
    ambas generaciones coexistirán en su sistema y en el árbol de
    portage. Por ejemplo, tendrá una VM para la Generación 1 <e>y</e>
    una VM para la generación 2. Al hacer esto, los paquetes que
    utilicen ambas generaciones, Generación 1 y Generación 2, podrán
    coexistir mientras se migra a la nueva generación.
  </dd>

  <dt>Generación 1</dt>
  <dd>
    La Generación 1 consiste en eclasses existentes (java-pkg,
    java-utils y java) y <c>java-config-1.</c> La Generación 1 es un
    sistema legacy que está siendo eliminado.
  </dd>

  <dt>Generación 2</dt>
  <dd>
    La Generación 2 consiste en nuevas eclasses (java-pkg-2,
    java-pkg-opt-2, java-ant-2 y java-utils-2) y en la nueva versión
    de <c>java-config.</c> Esta es la Generación a la que se quiere
    migrar.
  </dd>

  <dt>VM de Sistema para la Generación 1</dt>
  <dd>
    Esta es la VM que se utilizará para hacer emerge de paquetes Java
    utilizando las eclasses de la Generación 1. Se puede configurar
    utilizando el comando <c>java-config-1 --set-system-vm &lt;versión
    de VM&gt;</c>
  </dd>

  <dt>VM de Sistema para la Generación 2</dt>
  <dd>
    La VM de sistema para la Generación 2 sólo es utilizada por root y
    por aquellos usuarios que no han configurado una VM.
  </dd>

  <dt>VM de compilación para la Generación 2</dt>
  <dd>
    La Generación 2 introduce una nueva clase de VM. La VM de
    compilación es utilizada al momento de construir e instalar
    paquetes Java. Esta VM puede cambiar de acuerdo al paquete que
    esta siendo instalado.  Por ejemplo, si un paquete compila sólo
    utilizando la versión 1.4, una VM 1.4 será utilizada. La
    configuración por defecto se puede establecer en
    <path>/usr/share/java-config-2/config/jdk-defaults.conf</path>.
    Adicionalmente se puede configurar la VM de compilación en
    <path>/etc/java-config-2/build/jdk.conf</path>.
  </dd>
</dl>
</body>
</section>
</chapter>

<chapter>
<title>Actualizando java-config</title>
<section>
<body>

<p>
Un nuevo paquete <c>java-config-wrapper</c> es bloqueado por una
versión anterior de <c>java-config</c>, así que primero debería ser
eliminado:
</p>

<pre caption="Eliminar versión anterior de java-config">
# <i>emerge -C java-config</i>
</pre>

<p>
Ahora la nueva versión de <c>java-config</c> puede ser instalada:
</p>

<pre caption="Instalando el nuevo java-config">
# <i>emerge -1 "=java-config-1*" "=java-config-2*"</i>
</pre>
</body>
</section>
</chapter>

<chapter>
<title>Revisando el entorno</title>
<section>
<body>

<p>
Ahora proporcionamos un nuevo guión, <c>java-check-environment</c> y
como su nombre lo indica revisa la salud del entorno Java en su
sistema. Al ejecutarse, sugiere las acciones que deben ser empleadas
para solucionar cualquier problema que pudiese surgir. Ahora ejecute:
</p>

<pre caption="Revisando el entorno">
# <i>java-check-environment</i>
</pre>

<p>
Si <c>java-check-environment</c> encuentra un problema se detendrá y
le informará sobre el error y cómo solucionarlo. Siga las sugerencias
dadas y ejecute <c>java-check-environment</c> nuevamente hasta que no
pueda encontrar problemas adicionales.
</p>
</body>
</section>
</chapter>

<chapter>
<title>Actualización ... completa!</title>
<section>
<body>

<p>
Si ha llegado a este punto, entonces ha actualizado satisfactoriamente
al nuevo sistema Java. ¡Felicitaciones!
</p>

<p>
Ahora que ha actualizado puede dar ver nuestra documentación
actualizada>
</p>

<ul>
 <li><uri link="/doc/es/java.xml">Guía de Usuarios</uri></li>
 <li><uri link="java-devel.xml">Guía de Desarrolladores</uri></li>
</ul>
</body>
</section>
</chapter>

<chapter>
<title>Problemas y Preguntas Comunes</title>
<section>
<body>

<p>
Para algunos problemas comunes en la actualización, el equipo de Java
ha creado una página <uri
link="http://overlays.gentoo.org/proj/java/wiki/Common_Problems">aquí</uri>. Antes
de buscar ayuda o reportar problemas en otro lugar, por favor visite
esta página.
</p>
</body>
</section>
</chapter>
</guide>
