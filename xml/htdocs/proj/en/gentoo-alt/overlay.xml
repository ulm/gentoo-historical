<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/en/gentoo-alt/Attic/overlay.xml,v 1.4 2005/09/28 14:54:51 flameeyes Exp $ -->

<guide link="/proj/en/gentoo-alt/overlay.xml" lang="en">
<title>Gentoo/ALT overlay</title>

<author title="Author">
  <mail link="flameeyes@gentoo.org">Diego Petten√≤</mail>
</author>

<abstract>
This page will show the details about Gentoo/ALT overlay and the ways to add
and remove ebuilds from it.
</abstract>


<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>0.0</version>
<date>2005-09-27</date>

<chapter> <!-- The overlay -->
<title>The Overlay</title>

<section> <!-- Reasoning -->
<title>Reasoning behind</title>
<body>

<impo>
This guide is still a <e>draft</e>. It does not contain true policies about the
use of the overlay as they are not being delineated yet, 
</impo>

<p>
Gentoo/ALT projects often need to change current ebuilds to let them know about
their userland, libc or what else. These changes can be non-trivial, and should
usually be hold until the maintainer of the ebuild can take a look to the
patches and make sure that they works as intended.
</p>

<p>
The drawback is that then Gentoo/ALT users can't make use of the ebuilds on the
fly, and developers might try to do the same thing more than one time as they
might not know what the other developers worked on.
</p>

<p>
The overlay idea is took from Gentoo/FreeBSD, that used the overlay to apply
patches that involved, for example, malloc patches, userland checks and other
things that should have been reviewed before going into main tree.
</p>

</body>
</section>

<section> <!-- In and Out -->
<title>In and Out</title>
<body>

<p>
The overlay is intended to work as a cache of ebuilds while they are being
tested (for totally new packages) or while the patches are being reviewed by
ebuild maintainers.
</p>

<p>
In the case of packags that goes on the overlay just to wait for review
by ebuilds maintainers, their addition should be direct, with obviously the
same name of the original package. It's usually better, if the patch is
trivial, to open a bug and note that in the ChangeLog for the overlaid package
just before adding the package to the overlay itself, unless the patches needs
to be tested for a while before submitting them to the ebuild maintainer.
</p>

<p>
As soon as a patch is merged in main tree, the ebuilds in the overlay needs to
go, to avoid having unneeded ebuilds there. It's also important to have the
ebuilds be in sync with the main tree in case of revision bumps.
</p>

</body>
</section>

<section> <!-- Where -->
<title>Where</title>

<body>

<p>
For developers, the overlay is available on Gentoo's Subversion repositories in
<path>svn+ssh://username@svn.gentoo.org/var/svnroot/gentoo-alt/trunk/overlay</path>.
It's not restricted, so please don't
go over other's changes without notifying before, unless they causes problem on
all the systems. Always try to get a solution that does work for every project
while changes the minimum quantity of code.
</p>

<warn>
At the time of writing, there's no snapshot of the overlay yet, so there's no
way for non-dev to access this overlay beside carpaski's mirror.
</warn>

<p>
As the overlay is intended to be used by users, too, it can be found on mirrors
inside <path>/experimental/snapshots</path>. The daily snapshot can be fetched
and used as portage overlay, and should be safe to be used in both Gentoo/ALT
and Gentoo/Linux systems, also if might happen that the overlay interfere with
Gentoo/Linux. In case that happens, remember to contact Gentoo/ALT developers
so that the issues can be checked and resolved.
</p>

<p>
If you want a more updated overlay to test just added ebuilds and you're not a
dev, you can get a copy of the overlay from the mirror hosted by Nicholas
Jones at <path>svn://twobit.net/gentoo-alt/trunk/overlay</path>. See
<uri link="http://www.twobit.net/gentoo/cvsup.txt">his instructions</uri> on
how to use it.
</p>

</body>
</section>

</chapter>

</guide>

<!-- kate: space-indent on; indent-width 2; replace-tabs on; -->
