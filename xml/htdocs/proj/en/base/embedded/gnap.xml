<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link="/proj/en/base/embedded/gnap.xml">
<title>Gentoo Network APpliance</title>
<author title="Author">
  <mail link="koon@gentoo.org">Koon</mail>
</author>

<abstract>
This document describes the features of the current and future GNAP releases.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->
<license/>

<version>1.0</version>
<date>December 3, 2004</date>

<chapter>
<title>Introduction to GNAP</title>
<section>
<body>

<p>
The acronym GNAP stands for Gentoo Network APpliance. It's an easy way to build
stateless network appliances (firewalls, routers...) for old or embedded
configurations without the need for a full installation.
</p>

<p>
A GNAP is a LiveCD, much like Knoppix, geared toward routing services like
firewalling, traffic profiling, VPN and network monitoring.
Specific configuration files are burnt onto the LiveCD to customize its
behaviour, making it easy to restart, and impossible to permanently compromise.
</p>

<p>
It is also possible to install GNAP on a hard disk, DiskOnModule or CF card
for embedded configurations.
</p>

</body>
</section>
<section>
<title>Easy to build, easy to maintain up to date</title>
<body>

<p>
To create a GNAP, use the provided GNAP Core and create a configuration overlay
detailing your specific needs. Using the <c>gnap_overlay</c> script, in a few
seconds your overlay is combined to the GNAP Core to produce a new LiveCD ISO
file. Burn this file to a CD, put it inside an old box (no hard disk or mouse
needed), and boot.
</p>

<p>
To completely update a GNAP configuration, just modify your saved overlay and
combine it to the latest GNAP Core to produce an updated LiveCD ISO file.
Burn a CD, reboot the appliance with it. You're done.
</p>

</body>
</section>
<section>
<title>GNAP User Guide</title>
<body>

<p>
Please read the <uri link="gnap-userguide.xml.html">GNAP User Guide</uri> for
more information on how to use an existing GNAP Core to build GNAP LiveCDs, and how to build your own GNAP Core files.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Features</title>
<section>
<body>

<ul>
<li>Stripped down system with squashfs compressed filesystem (15Mb)</li>
<li>hardened-dev-sources kernel</li>
<li>GRsec kernel security patch enabled, including PaX address
    randomization</li>
<li>Small footprint executables with PIE/SSP security protection
    (Gentoo uclibc/x86/hardened profile)</li>
<li>Features supported as configuration options : OpenSSH, Shorewall, CBQ
    traffic control, OpenVPN, OpenNTPD (time synchronisation), DNSMasq
    (DNS relay and DHCP server)</li>
<li>Utilities: Watch network traffic flow using iftop or tcpdump</li>
</ul>

</body>
</section>
</chapter>
<chapter>
<title>Known issues</title>
<section>
<body>

<ul>
<li>The network scripts in the new baselayout used are very slow on slow
    systems (bug
    <uri link="http://bugs.gentoo.org/show_bug.cgi?id=73214">#73214</uri>)</li>
<li>The bundled OpenNTPD doesn't support setting time at bootup (yet)</li>
<li>GNAP does not work with genkernel 3.1.0c (bug 
    <uri link="http://bugs.gentoo.org/show_bug.cgi?id=73112">#73112</uri>)</li>
</ul>

</body>
</section>
</chapter>
<chapter>
<title>Download and Changelog</title>
<section>
<title>GNAP 1.0 (2004/12/03)</title>
<body>

<table>
<tr>
<th>File</th>
<th>Size</th>
<th>MD5</th>
<th>SHA1</th>
</tr>
<tr>
<ti><uri link="gnap/gnap-core-1.0.tar">GNAP Core</uri></ti>
<ti>15953920 bytes</ti>
<ti>1b0cc1ea85e63632c4335c5936787ba7</ti>
<ti>f00d248a27c6f83716418e90afc4be90964b7c94</ti>
</tr>
<tr>
<ti><uri link="gnap/gnap-tools-1.0.tar.bz2">GNAP Tools and examples</uri></ti>
<ti>20530 bytes</ti>
<ti>f0ef9ea5f06064d5ac6e6a496a9208cd</ti>
<ti>1275127d1e8eab75e67526f0bbb465d20bc9ca5b</ti>
</tr>
<tr>
<ti><uri link="gnap/gnap-sources-1.0.tar.bz2">GNAP Sources</uri></ti>
<ti>12319 bytes</ti>
<ti>d4e026997dab800d594613176865e957</ti>
<ti>e5d039e91ff6031ef760cc78c6549eabfc182248</ti>
</tr>
</table>

<p>
New features:
</p>

<ul>
<li>DNSMasq (DNS relay and DHCP server) is now supported (see USE_DNSDHCP
    option in overlay.conf)</li>
<li>GNAP uses recent (~x86) baselayout
    (supports iproute2-style network configuration)</li>
<li>Speedups in overlaying (one single pass to add all services)</li>
<li>14% smaller (now fits a 16Mb CF card)</li>
<li>No more "CONFIG_HOTPLUG not enabled" error</li>
<li>Replaced buggy ntpd by smaller and nicer OpenNTPD</li>
</ul>

</body>
</section>
<section>
<title>GNAP 0.5 (2004/11/19)</title>
<body>

<table>
<tr>
<th>File</th>
<th>Size</th>
<th>MD5</th>
<th>SHA1</th>
</tr>
<tr>
<ti><uri link="gnap/gnap-core-0.5.tar">GNAP Core</uri></ti>
<ti>18554880 bytes</ti>
<ti>1be13a1be9522638a400e757068578e6</ti>
<ti>88c7b4e70c89077958e3a8429eda55ae842d3e09</ti>
</tr>
<tr>
<ti><uri link="gnap/gnap-tools-0.5.tar.bz2">GNAP Tools and examples</uri></ti>
<ti>20523 bytes</ti>
<ti>1fc7fe4cfd29d94c063b9cec4caa5d7d</ti>
<ti>f942cee933ae212d5fabeb27edb26885305ec457</ti>
</tr>
<tr>
<ti><uri link="gnap/gnap-sources-0.5.tar.bz2">GNAP Sources</uri></ti>
<ti>12145 bytes</ti>
<ti>3cee0dc6aaab3eebe719c9041fc8274f</ti>
<ti>aac83f9fd4b66f943f4b4477976913e189a45199</ti>
</tr>
</table>

<p>
New features:
</p>

<ul>
<li>GNAP now supports installation on a hard disk, CF card or DiskOnModule</li>
<li>GNAP kernel now supports hard disks, Soekris systems (serial console)</li>
</ul>

</body>
</section>
<section>
<title>GNAP 0.4 (2004/10/28)</title>
<body>

<table>
<tr>
<th>File</th>
<th>Size</th>
<th>MD5</th>
<th>SHA1</th>
</tr>
<tr>
<ti><uri link="gnap/gnap-core-0.4.tar">GNAP Core</uri></ti>
<ti>18432000 bytes</ti>
<ti>170ff92ef3ea10c7068e47799163f9f4</ti>
<ti>e7588bb547a1e4ca9733c1371b0889ea1900880a</ti>
</tr>
<tr>
<ti><uri link="gnap/gnap-tools-0.3.tar.bz2">GNAP Tools and examples</uri></ti>
<ti>19149 bytes</ti>
<ti>7f2cb19f8d85e66ed9f0ca0238754c6b</ti>
<ti>965421e88fb5df908c2f6baabb6c7eb17965d532</ti>
</tr>
<tr>
<ti><uri link="gnap/gnap-sources-0.4.tar.bz2">GNAP Sources</uri></ti>
<ti>11267 bytes</ti>
<ti>bf25b9ce0f4d62258447d76d1782f4b5</ti>
<ti>281e847843871f122d48e621c290e5a1dfafe7bc</ti>
</tr>
</table>

<p>
New features:
</p>

<ul>
<li>GNAP now uses official uclibc/hardened stage2 tarballs as seed</li>
<li>GNAP rebuild no longer requires stage1 and stage2 catalyst stages</li>
<li>Possibility to use official Portage snapshots (no more portage overlay)</li>
</ul>

</body>
</section>
</chapter>
</guide>
