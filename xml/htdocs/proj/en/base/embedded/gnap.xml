<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link="/proj/en/base/embedded/gnap.xml">
<title>Gentoo Network APpliance</title>
<author title="Author">
  <mail link="koon@gentoo.org">Koon</mail>
</author>

<abstract>
This document describes the features of the current and future GNAP releases.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->
<license/>

<version>1.5</version>

<date>April 6, 2005</date>

<chapter>
<title>Introduction to GNAP</title>
<section>
<body>

<p>
The acronym GNAP stands for Gentoo Network APpliance. It's an easy way to build
stateless network appliances (firewalls, routers...) for old or embedded
configurations without the need for a full installation.
</p>

<p>
A GNAP is a LiveCD, much like Knoppix, geared toward routing services like
firewalling, traffic profiling, VPN and network monitoring.
Specific configuration files are burnt onto the LiveCD to customize its
behaviour, making it easy to restart, and impossible to permanently compromise.
</p>

<p>
It is also possible to install GNAP on a hard disk, DiskOnModule or CF card
for embedded configurations.
</p>

</body>
</section>
<section>
<title>Easy to build, easy to maintain up to date</title>
<body>

<p>
To create a GNAP, use the provided GNAP Core and create configuration overlays
detailing your specific needs. Using the <c>gnap_overlay</c> script, in a few
seconds your overlays are combined to the GNAP Core to produce a new LiveCD ISO
file. Burn this file to a CD, put it inside an old box (no hard disk or mouse
needed), and boot.
</p>

<p>
To completely update a GNAP configuration, just modify your saved overlay and
combine it to the latest GNAP Core to produce an updated LiveCD ISO file.
Burn a CD, reboot the appliance with it. You're done.
</p>

</body>
</section>
<section>
<title>GNAP User Guide</title>
<body>

<p>
Please read the <uri link="gnap-userguide.xml">GNAP User Guide</uri> for
more information on how to use an existing GNAP Core to build GNAP LiveCDs, and how to build your own GNAP Core files.
</p>

</body>
</section>
</chapter>
<chapter>
<title>Features</title>
<section>
<body>

<ul>
<li>Stripped down system with squashfs compressed filesystem (15Mb)</li>
<li>hardened-dev-sources kernel</li>
<li>GRsec kernel security patch enabled, including PaX address
    randomization</li>
<li>Small footprint executables with PIE/SSP security protection
    (Gentoo uclibc/x86/hardened profile)</li>
<li>Features supported as configuration options : Dropbear (SSH server),
    Shorewall/FireHOL (iptables firewall helpers), traffic control using
    cbqinit or htbinit, OpenVPN, OpenNTPD (time synchronisation), DNSMasq
    (DNS relay and DHCP server), Boa (HTTP server), RP-PPPOE</li>
<li>Utilities: Watch network traffic flow using iftop or tcpdump, store
    and graph statistics using rrdtool</li>
</ul>

</body>
</section>
</chapter>
<chapter>
<title>Known issues</title>
<section>
<body>

<ul>
<li>(no known issues)</li>
</ul>

</body>
</section>
</chapter>
<chapter>
<title>Download and Changelog</title>
<section>
<title>GNAP 1.5 (2005/04/06)</title>
<body>

<table>
<tr>
<th>File</th>
<th>Size</th>
<th>MD5</th>
<th>SHA1</th>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-core-1.5.tar">GNAP Core</uri></ti>
<ti>13936640 bytes</ti>
<ti>763b4815f2e9e4a479c94493a480d17c</ti>
<ti>191656058b8ec08308d826ce36a7649e09a426a6</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-tools-1.5.tar.bz2">GNAP Tools and examples</uri></ti>
<ti>23292 bytes</ti>
<ti>16164a85d7fdb3e8c0562b236956d4c3</ti>
<ti>f4a1b204e861bf0c42eb2598ec9cbdd217fa06ee</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-sources-1.5.tar.bz2">GNAP Sources</uri></ti>
<ti>14687 bytes</ti>
<ti>4ee0e647d4803d4e5e8e51cf6438217d</ti>
<ti>249a6d8f6dd7bea95d7497b43e66a7c83b940d55</ti>
</tr>
</table>

<p>
New features/bugfixes:
</p>

<ul>
<li>gnap_make and gnap_overlay have been extensively rewritten for prettier
    output, better warnings and handling of errors and position-independant
    parameters support</li>
<li>Now includes man pages and support for installation from Portage</li>
<li>Support for multiple overlay directories and using tar.bz2 files
    (conflets) as overlay sources</li>
<li>No more "/etc/init.d/serial missing" warnings during boot</li>
<li>20040404 portage snapshot, including a dnsmasq security update</li>
<li>6.5 % smaller than version 1.2 core file !</li>
</ul>

</body>
</section>
<section>
<title>GNAP 1.2.1 (2005/03/21)</title>
<body>

<table>
<tr>
<th>File</th>
<th>Size</th>
<th>MD5</th>
<th>SHA1</th>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-core-1.2.1.tar">GNAP Core</uri></ti>
<ti>15052800 bytes</ti>
<ti>281da67b3bcfde588253e3256c775203</ti>
<ti>66e4d6dc750e7287f6424945fc8c2abfb0c95788</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-tools-1.2.1.tar.bz2">GNAP Tools and examples</uri></ti>
<ti>20352 bytes</ti>
<ti>30e81dd3619004e677f50dbfea45fea7</ti>
<ti>be576f9873b88e1a510fd0091699ec36119236ca</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-sources-1.2.1.tar.bz2">GNAP Sources</uri></ti>
<ti>13260 bytes</ti>
<ti>b4f67b633985e7107b54df66332f383c</ti>
<ti>43ef73ba19dc8cabd1cd011a1280f88595ca371e</ti>
</tr>
</table>

<p>
New features/bugfixes:
</p>

<ul>
<li>hardened-dev-sources-2.6.11-r1 with recent GRSEC security fixes</li>
<li>gnap_make now creates the necessary temporary directories under 
    <path>/var/tmp/catalyst</path> at first run.</li>
</ul>

</body>
</section>
<section>
<title>GNAP 1.2 (2005/02/15)</title>
<body>

<table>
<tr>
<th>File</th>
<th>Size</th>
<th>MD5</th>
<th>SHA1</th>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-core-1.2.tar">GNAP Core</uri></ti>
<ti>14909440 bytes</ti>
<ti>cb18aeaf00ef2ee45aec583a9d6192f8</ti>
<ti>7718a4124b15f47fb5a10a6f5102353115c13369</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-tools-1.2.tar.bz2">GNAP Tools and examples</uri></ti>
<ti>20335 bytes</ti>
<ti>8101fd4e28f6bd078872c8a3c0a6486d</ti>
<ti>01a04a28c1009a7209b8e5e001900781cc601fe2</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-sources-1.2.tar.bz2">GNAP Sources</uri></ti>
<ti>13171 bytes</ti>
<ti>f9f44d49e7c6faaea5c76ae07f396009</ti>
<ti>9205010215985f110932da0a9e58b723e6e7ba3c</ti>
</tr>
</table>

<p>
New features/bugfixes:
</p>

<ul>
<li>hardened-dev-sources-2.6.10</li>
<li>RP-PPPOE is now supported (see USE_PPPOE option in
    overlay.conf)</li>
<li>Support for the FireHOL iptables script, in addition to Shorewall (see
    FW_TYPE option in overlay.conf)</li>
<li>A minimal firewall is started before the network and the shorewall/firehol
    script, allowing full protection while still enabling any Shorewall
    configuration options</li>
<li>Support for the htbinit traffic control script, in addition to cbqinit
    (see the USE_TC and TC_TYPE options in overlay.conf)</li>
<li>iputils (ping, tracepath...), which was unavailable in 1.1, is back !</li>
<li>gnap_overlay now ignores CVS/ subdirectories, allowing you to use CVS to
    control versions on your overlay files without bringing unnecessary fat
    into your GNAp system</li>
<li>More features, less fat: GNAP 1.2 core is 5% smaller than GNAP 1.1</li>
</ul>

</body>
</section>
<section>
<title>GNAP 1.1 (2005/01/06)</title>
<body>

<table>
<tr>
<th>File</th>
<th>Size</th>
<th>MD5</th>
<th>SHA1</th>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-core-1.1.tar">GNAP Core</uri></ti>
<ti>15656960 bytes</ti>
<ti>47997aab35f7701147914e75b5b783ee</ti>
<ti>e7eb119baa088dc27e38559fc839e64dcc2348fa</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-tools-1.1.tar.bz2">GNAP Tools and examples</uri></ti>
<ti>19991 bytes</ti>
<ti>996853b008619f5de8718c10e136181c</ti>
<ti>26d845483ee4d8097fbc6df8998948c3f0186e01</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-sources-1.1.tar.bz2">GNAP Sources</uri></ti>
<ti>12387 bytes</ti>
<ti>35ab3cde052f3b98ba6e9926143e94e1</ti>
<ti>b4db0c526e2387c88bbaf2807a55cdc169dd6c23</ti>
</tr>
</table>

<p>
New features/bugfixes:
</p>

<ul>
<li>Boa (HTTP server) is now supported (see USE_HTTP option in
    overlay.conf)</li>
<li>rrdtool can be used to store and graph statistics</li>
<li>Boot speedups (new baselayout scripts, possibility to use "dash" as the
    SHOREWALL_SHELL)</li>
<li>OpenNTPD now support "-s" option in /etc/conf.d/ntpd to set time at
    startup</li>
<li>Shorewall is now started before the network for full protection</li>
<li>OpenSSH has been replaced by dropbear to make GNAP even smaller despite
    all those new features</li>
<li>A README.upgrading file has been added to the gnap-tools to help in
    upgrading existing configurations</li>
</ul>

</body>
</section>
<section>
<title>GNAP 1.0 (2004/12/03)</title>
<body>

<table>
<tr>
<th>File</th>
<th>Size</th>
<th>MD5</th>
<th>SHA1</th>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-core-1.0.tar">GNAP Core</uri></ti>
<ti>15953920 bytes</ti>
<ti>1b0cc1ea85e63632c4335c5936787ba7</ti>
<ti>f00d248a27c6f83716418e90afc4be90964b7c94</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-tools-1.0.tar.bz2">GNAP Tools and examples</uri></ti>
<ti>20530 bytes</ti>
<ti>f0ef9ea5f06064d5ac6e6a496a9208cd</ti>
<ti>1275127d1e8eab75e67526f0bbb465d20bc9ca5b</ti>
</tr>
<tr>
<ti><uri link="http://dev.gentoo.org/~koon/gnap/gnap-sources-1.0.tar.bz2">GNAP Sources</uri></ti>
<ti>12319 bytes</ti>
<ti>d4e026997dab800d594613176865e957</ti>
<ti>e5d039e91ff6031ef760cc78c6549eabfc182248</ti>
</tr>
</table>

<p>
New features:
</p>

<ul>
<li>DNSMasq (DNS relay and DHCP server) is now supported (see USE_DNSDHCP
    option in overlay.conf)</li>
<li>GNAP uses recent (~x86) baselayout
    (supports iproute2-style network configuration)</li>
<li>Speedups in overlaying (one single pass to add all services)</li>
<li>14% smaller (now fits a 16Mb CF card)</li>
<li>No more "CONFIG_HOTPLUG not enabled" error</li>
<li>Replaced buggy ntpd by smaller and nicer OpenNTPD</li>
</ul>

</body>
</section>
</chapter>
</guide>
