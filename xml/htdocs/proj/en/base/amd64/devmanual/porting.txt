Porting Notes
=============

Machine Word sizes
--------------------

On AMD64, some types differ in size from x86:

TODO: Fill in table

=============== ======= =======
Type            x86     amd64
=============== ======= =======
``short``
``char``
``int``
``float``
``double``
``long``
``long double`` 
``pointer``     4 bytes 8 bytes
=============== ======= =======

If you need an exact amount of bytes, don't use these types but the ``uXX`` and
``sXX`` ones provided by ``types.h``, where XX is the number of bits you need.
Switching to a type that is the same on both arches is not suggested since it's
not a clean solution and might cause problems with other arches.

Casts
'''''

Many upstream developers assume that the length of a pointer is 4 bytes, which
can cause problems when programs do casts from ``void *`` to ``int`` and vice
versa. With GCC 3.4, this causes warnings, the compilation won't abort. If
you're lucky, your package works, but it's likely that you encounter
segmentation faults or strange behaviour. GCC 4.0 refuses to compile such code.
