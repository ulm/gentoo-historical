<?xml version='1.0' encoding='UTF-8'?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/en/base/amd64/test/Attic/install-hardware.xml,v 1.3 2004/02/23 18:05:58 brad_mssw Exp $ -->
<!DOCTYPE sections SYSTEM "http://www.gentoo.org/dtd/book.dtd">

<!-- The context of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommonds.org/licenses/by-sa/1.0 -->

<sections>

<section>
	<title>BIOS Updates</title>
<body>
<p>
Many AMD64 motherboard manufacturers are notoriously bad about including buggy BIOS firmware. Make sure you update your BIOS to the latest available firmware before attemption to install Gentoo/AMD64.  Updating your BIOS may resolve problems like memory timing issues and include additional AMD64 feature support (like Cool'n'Quiet).
</p>
</body>
</section>

<section>
	<title>SATA/PATA Raid Controllers</title>
<subsection>
	<title>Controllers, Status and Types</title>
<body>
<p>
Here is the status of the common SATA/PATA Raid Controllers:
</p>
<p>
<table>
<tr>
	<th>Manufacturer</th>
	<th>Model</th>
	<th>Raid Type</th>
	<th>Status</th>
</tr>
<tr>
	<ti>VIA</ti>
	<ti>8237</ti>
	<ti>Software</ti>
	<ti>WORKING</ti>
</tr>
<tr>
	<ti>Promise</ti>
	<ti>PDC202xx/PDC203xx</ti>
	<ti>Software</ti>
	<ti>WORKING</ti>
</tr>
<tr>
	<ti>Silicon Image</ti>
	<ti>3112[a],3512,3114</ti>
	<ti>Software</ti>
	<ti>MOSTLY WORKING</ti>
</tr>
<tr>
	<ti>Promise</ti>
	<ti>SX4000 (PDC20621)</ti>
	<ti>Hardware</ti>
	<ti>WORKING</ti>
</tr>
<tr>
	<ti>3Ware</ti>
	<ti>Escalade 7xxx and 8xxx</ti>
	<ti>Hardware</ti>
	<ti>WORKING</ti>
</tr>
</table>
</p>
</body>
</subsection>

<subsection>
	<title>Difference Between Hardware And Software RAID</title>
<body>
<p>
 A Hardware raid controller is always an add-on card, it never comes distributed on a motherboard. It has a bios which you can enter before booting into any OS and usually supports 0,1,1+0,and 5 at a minimum. It has a full CPU onboard that does all raid calculations and I/O, and displays itself to the OS as configured by the raid controller (i.e. if you configure a single raid 5, from 3 drives, it will show up by the OS as one big drive). A Hardware RAID will always be faster than a software raid, and consumes MUCH less CPU time. A hardware RAID controller can come optionally with DIMM slots for caching, and possibly a battery backup for that cache. Hardware raid also limits the possible complexity of a OS driver because the raid functionality is performed exclusively in hardware. 
</p>
<p>
 A Software raid controller can be found in both add-on cards, and is distributed on many motherboards. A software controller may or may not have a BIOS, but the actual raid functionality is actually implemented by the driver in the OS. For this reason, you will NEVER find a software raid controller that can support a bootable RAID5. The OS will be able to see each drive as a standard hard drive, as it is not masked/transformed by the controller in any way. On 2.4 kernels, there was a module that could read many of the SATA controller's BIOSes, set up a linux software raid as specified by that bios, and create a psuedo device was accessible just like a hardware raid would be presented. This 'ataraid' module has not been ported to 2.6, and the 2.4 version does not support SATA controllers, only old PATA software raid controllers. To put it bluntly, a Software RAID controller is nothing more than a standard SATA/PATA controller with possibly a bios to store configuration information, this makes them extremely cheap to manufacture and is why you see them included on many motherboards. 
 </p>
 </body>
 </subsection>
 </section>
 
 <section>
 	<title>General Opteron/Athlon64 Questions</title>
<subsection>
	<title>What's the difference between Athlon64, Athlon64FX, and Opteron?</title>
<body>
 <p>
 Athlon64 is a 754pin desktop processor, with a single-channel memory bus, they can only be run in single-processor mode. Athlon64FX is a 940pin workstation processor with a dual-channel memory bus, they can also only be run in single processor mode. Opteron is a 940pin server processor with a dual channel memory bus. The Opteron has 3 variations the 1xx series for single processor systems, 2xx series for dual processor systems, and 8xx for up to 8-way systems (or more with an intermediate controller), these variations make no difference in speed, and generally reflect only the number of hypertransport busses in the chip that are active. All chips have the same performance characteristics (besides memory bus capabilities and cache size which may effect performance), and an Athlon64FX is really just a rebranded Opteron 1xx series. In the future, the 754pin socket will be phased out in favor of the 939pin processors which will encompass the Athlon64 and Athlon64FX lines. 
</p>
</body>
</subsection>
<subsection>
	<title>Why are the Athlon64 3200+ and Athlon64 3000+ clocked at the same CPU speed?</title>
<body>
 <p>
 The Athlon64 3000+ has half the cache (512K) of the Athlon64 3200+ (1MB). This accounts for the reduction in the speed rating (this performance difference in the real world accounts for less than 5%). 
</p>
</body>
</subsection>
<subsection>
	<title>Are 32bit applications supported? Is it through emulation or native?</title>
<body>
<p>
Yes, 32bit applications are fully supported by the CPU, and are executed natively. A standard x86 OS can be installed on an amd64 processor, and can execute 32bit applications from a 64bit operating system if it is capable of mapping the 32bit syscalls to the kernel's 64bit interfaces (such as Linux is capable of doing if you enable it in the kernel). Please see the below section on 32bit support for further information. Please also note there is no performance penalty for running 32bit apps on an amd64 class processor, and will always be faster than the athlonxp line of processors running 32bit code (please note this is different than ia64 [itanic ... err itanium] processors!)
</p>
</body>
</subsection>
</section>

<section>
	<title>MPT Fusion SCSI Controllers</title>
<body>
<p>
To make this scsi controller work, you must pass the following option to the kernel at boot time:
</p>
 <pre>
iommu=merge
</pre>
</body>
</section>

<section>
	<title>3D Video Accelleration Suport</title>
<subsection>
	<title>ATI Radeon Cards</title>
<body>
<p>
Higher end ATI Radeon cards such as the Radeon 9600 will not work in XFree86 4.3.0 using the radeon driver. You must use the vesafb driver only, otherwise you will get lockups, etc. If you use 4.3.99.902 (4.4 rc2) it will work, but many other applications do not yet support compiling against that release of X. Also, ATI has not released any accelerated drivers for AMD64 on Linux.
</p>
<p>
<note>The current prediction is that vendor supplied 64-bit ATI drivers will be available sometime in the summer of 2004.</note>
</p>
</body>
</subsection>
<subsection>
	<title>nVidia GeForce</title>
<body>
<p>
nVidia has released AMD64 drivers. Gentoo has provided ebuilds for this. To merge nvidia support, do the following:
</p>
<pre>
emerge nvidia-kernel
emerge nvidia-glx
</pre>
<p>
<impo>You must have kernel 2.6.1 or greater, since 2.6.0 had serious issues with AGP.</impo>
</p>
<p>
Once the emerge is complete, enable nVidia support in <path>/etc/X11/XF86Config</path> as per the nVidia-provided documentation.
</p>
</body>
</subsection>
</section>

<section>
	<title>bcm/tigon3 Network Drivers</title>
<body>
<p>
Many Opteron motherboards come with a built-in on-board network chip manufactured by Broadcom. We have provided both the standard in-kernel tg3 driver as well as the bcm5700 driver to support this card. The tg3 driver should be used if possible, as it is community-supported, and the bcm5700 driver only exists to aide those who have trouble with tg3.
</p>
</body>
</section>

</sections>