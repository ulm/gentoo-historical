<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/en/infrastructure/cvs-migration.xml,v 1.4 2006/06/03 20:41:51 antarus Exp $ -->

<guide link="/proj/en/infrastructure/cvs-migration.xml" lang="en" disclaimer="draft">
<title>CVS Migration Tracking Page</title>

<author title="Author">
  <mail link="antarus@gentoo.org">Alec Warner</mail>
</author>

<abstract>
This page was created to track progress regarding the migration of Gentoo's
CVS repositories to another versioning control system.  This is being done in
conjuction with a Google Summer of Code project.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.0</version>
<date>2006-04-30</date>
<chapter>
<title>CVS Migration</title>
<section>
<title>Reasons for Migration</title>
<body>
<ul>
    <li>CVS does not support branching in a sane manner.</li>
    <li>CVS commits are not atomic.</li>
    <li>CVS has a lot of overhead when working with a remote checkout.</li>
</ul>
</body>
</section>

<section>
<title>Milestones for success</title>
<body>

<table>
    <tr>
        <th>Task</th>
        <th>Status</th>
        <th>Due Date</th>
        <th>Date of Completion</th>
        <th>Notes</th>
    </tr>
    <tr>
        <ti>Select VCS systems for testing.</ti>
        <ti>We have selected Mercurial, Subversion, GIT, and our control, CVS.</ti>
        <ti>May 22nd, 2006</ti>
        <ti>May 22nd, 2006</ti>
        <ti>Other VCS systems may be added provided a repository snapshot is provided by June 19th 2006.</ti>
    </tr>
    <tr>
        <ti>Convert gentoo-x86 to each VCS System.</ti>
        <ti>Subversion is done, GIT is still converting on two machines, Mercurial is being worked on by dostrow.</ti>
        <ti>June 5th, 2006</ti>
        <ti>Pending Completion</ti>
        <ti>GIT will have to be done again with a proper Authors file, but a proper conversion can happen once we are sure the conversion is successful.</ti>
    </tr>
    <tr>
        <ti>Design a set of stress tests and analysis tools for Version Control Systems.</ti>
        <ti>Not yet started</ti>
        <ti>June 12th, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
    <tr>
        <ti>Implement a set of stress tests and analysis tools for Version Control Systems.</ti>
        <ti>Not yet started</ti>
        <ti>June 19th, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
    <tr>
        <ti>Run the stress tests on each VCS system in order to generate useful a data set.</ti>
        <ti>Not yet started</ti>
        <ti>July 17th, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
    <tr>
        <ti>Analyze the data and present this to the Gentoo Community.  Attempt to 
have the community choose a VCS system.  In the event that the community takes too 
long in determining their future VCS system; discuss with Lance and pick a VCS to 
continue the project with.</ti>
        <ti>Not yet started</ti>
        <ti>July 24th, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
    <tr>
        <ti>Compose a Migration Plan to migrate to the new VCS System.</ti>
        <ti>Not yet started</ti>
        <ti>Aug 1st, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
    <tr>
        <ti>Update and author developer documentation related to the VCS system.  This will 
include updating any tools that are focussed on VCS systems such as echangelog, repoman, 
and the cvs->rsync scripts.</ti>
        <ti>Not yet started</ti>
        <ti>Aug 8th, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
    <tr>
        <ti>Set up test environment and give developers a change to use the new VCS 
when it is not live.  This is also a chance to make sure all tools work properly.</ti>
        <ti>Not yet started</ti>
        <ti>Aug 15th, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
    <tr>
        <ti>Test in the testing environment for up to one month, ensure sufficient 
hardware requirements and also ensure that real world data matches data collected 
during the data mining.</ti>
        <ti>Not yet started</ti>
        <ti>Sept 15th, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
    <tr>
        <ti>Set up the live system and migrate to it.</ti>
        <ti>Not yet started</ti>
        <ti>Oct 2nd, 2006</ti>
        <ti>Pending Completion</ti>
        <ti></ti>
    </tr>
</table>
</body>
</section>
<section>
<title>Version Control Systems under consideration</title>
<body>
<table>
	<tr>
	    <th>System</th>
	    <th>Pros</th>
	    <th>Cons</th>
	    <th>Migration</th>
	    <th>Full Checkout</th>
	    <th>Space Considerations</th>
	    <th>Bandwidth Usage</th>
	    <th>Others?</th>
	</tr>
	<tr>
	    <ti>Subversion</ti>
	    <ti>Atomic Commits,
		Merging, Tagging, Branching is a copy operation,
		Versioned Metadata, Directory Versioning, Annotation</ti>
	    <ti>Twice the disk space</ti>
	    <ti>Migration Complete (cvs2svn)</ti>
	    <ti></ti>
	    <ti></ti>
	    <ti></ti>
	    <ti></ti>
	</tr>
	<tr>
	    <ti>GIT</ti>
	    <ti>Annotation;
		Two, interchangeable, on-disk formats are used: 
		An efficient, packed format that saves space and network bandwidth
		An unpacked format, optimized for fast writes and incremental work</ti>
	    <ti></ti>
	    <ti>Migration Pending; Spyderous is working on creating a proper Author Map, Antarus has two machines performing a conversion.</ti>
	    <ti></ti>
	    <ti></ti>
	    <ti></ti>
	    <ti></ti>
	</tr>
	<tr>
	    <ti>Mercurial</ti>
	    <ti>Atomic Commits, Annotation</ti>
	    <ti></ti>
	    <ti>Migration in Progress (dostrow is working on this)</ti>
	    <ti></ti>
	    <ti></ti>
	    <ti></ti>
	    <ti></ti>
	</tr>
	<tr>
	    <ti>CVS (Stats on the current usage)</ti>
	    <ti></ti>
	    <ti></ti>
	    <ti>Migration Unnecessary</ti>
	    <ti></ti>
	    <ti></ti>
	    <ti></ti>
	    <ti></ti>
	</tr>
</table>
</body>
</section>
</chapter>
</guide>
