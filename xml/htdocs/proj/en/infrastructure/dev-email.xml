<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<guide link = "/proc/en/infrastructure/dev-email.xml">
<title>Gentoo E-mail System</title>
<author title="Author">
    <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<abstract>
This document describes what you, as Gentoo Developer, can expect from
our new e-mail system .
</abstract>
<version>1.0</version>
<date>30th of Juky, 2003</date>

<!-- This doesn't look good, can be handy though. Commenting out
     untill someone wants it. How's that for anticipation :)

<chapter>
<title>Content</title>
<section>
<title>Gentoo Developer E-mail Possibilities</title>
<body>
<ul>
<li><uri link="#doc_chap2_sect1">Introduction</uri></li>
<li><uri link="#doc_chap2_sect2">Forwarding E-mails</uri></li>
<li><uri link="#doc_chap2_sect3">Using the mailbox on dev.gentoo.org</uri></li>
</ul>
</body>
</section>
<section>
<title>Using dev.gentoo.org for your e-mails</title>
<body>
<ul>
<li><uri link="#doc_chap3_sect1">Accessing dev.gentoo.org using pop3s</uri></li>
<li><uri link="#doc_chap3_sect2">Accessing dev.gentoo.org using imaps</uri></li>
<li><uri link="#doc_chap3_sect3">Using dev.gentoo.org as a mail relay server</uri></li>
</ul>
</body>
</section>
<section>
<title>Frequently Asked and/or Anticipated Questions</title>
<body>
<ul>
<li><uri link="#doc_chap4_sect1">What happens when dev.gentoo.org goes down?</uri></li>
<li><uri link="#doc_chap4_sect2">Can I use procmail on dev.gentoo.org?</uri></li>
<li><uri link="#doc_chap4_sect3">Are my e-mails or the contents of my home directory backed up regularly?</uri></li>
</ul>
</body>
</section>
</chapter>

-->

<chapter>
<title>Gentoo Developer E-mail Possibilities</title>
<section>
<title>Introduction</title>
<body>
<p>
Old(er) developers are used to having all @gentoo.org e-mails forwarded
to a specific e-mail address. Before anyone starts panicing and
hyperventilating and whatever weird stuff you do when you get stressed:
<e>this doesn't change</e>. However, from now on you will be able to 
choose how e-mails are processed.
</p>
<p>
You can opt for having the e-mails forwarded to a specific e-mail
address, or let them stay on the dev.gentoo.org server to which you can
connect using your favorite e-mail client with pop3s or imaps (the
secure implementations of POP3 and IMAP respectively).
</p>
<p>
This document will describe every possible situation, and how you work
with it.
</p>
</body>
</section>
<section>
<title>Forwarding E-mails</title>
<body>
<p>
If you want to have your e-mails forwarded to another e-mail address, you
should log on to dev.gentoo.org and put the e-mail address in 
<path>~/.forward</path>. Logging on to dev.gentoo.org is similar to
cvs.gentoo.org: you'll be using the same keys.
</p>
<pre caption = "Forwarding e-mails to another e-mail address">
$ <i>ssh -l username dev.gentoo.org</i>
username@peregrine username $ <i>echo new.e-mail@address.com &gt; ~/.forward</i>
username@peregrine username $ <i>exit</i>
</pre>
<note>
Old(er) developers who want to use this situation don't have to do
anything. We have already created all <path>~/.forward</path>'s with
their current e-mail address.
</note>
<p>
If you at some point want to change the e-mail address to which the
e-mails should be forwarded, change the content of the
<path>~/.forward</path> file to the new e-mail address.
</p>
</body>
</section>
<section>
<title>Using the mailbox on dev.gentoo.org</title>
<body>
<p>
If you want to use the mailbox on dev.gentoo.org, you must make sure
that there is no <path>.forward</path> in your homedirectory. Doing this
requires access to dev.gentoo.org (duh). Accessing dev.gentoo.org is no
different than accessing cvs.gentoo.org: you'll be using the same keys.
</p>
<pre caption = "Removing ~/.forward">
$ <i>ssh -l username dev.gentoo.org rm ~/.forward</i>
</pre>
<p>
There are some things you must know about your mailbox on
dev.gentoo.org:
</p>
<ul>
<li>There is a <e>quota</e> on the amount of data you can store on
dev.gentoo.org. This is currently 100 Mb so the chance that e-mails are
lost because you exceeded the quota are slim. However, if you plan on
taking a vacation and you think that the quota can be exceeded during
your vacation, have the e-mails forwarded to another e-mail address
where you have no such quota.</li>
<li>You can only access it using pop3s or imaps (see the following
chapter).</li>
<li>There are some local e-mail clients installed on
dev.gentoo.org (<c>mutt</c> and <c>pine</c> to be exact). Only use those
if you know how to use them :)</li>
<li>The password to access the mailbox is the same password you can set
on dev.gentoo.org using <c>passwd</c>.</li>
</ul>
</body>
</section>
</chapter>
<chapter>
<title>Using dev.gentoo.org for your e-mails</title>
<section>
<title>Accessing dev.gentoo.org using pop3s</title>
<body>
<p>
pop3s is the secure variant of POP3, the Post Office Protocol version 3.
POP3 is a pull-protocol, meaning that e-mails are pulled from the server
to your local disk. 
</p>
<p>
To set up your favorite e-mail client for pop3s, use the following
settings:
</p>
<ul>
<li><e>POP3 server</e>: dev.gentoo.org</li>
<li><e>Use SSL</e>: yes</li>
<li><e>Account</e>: your username</li>
<li><e>Password</e>: your dev.gentoo.org password</li>
</ul>
<warn>
POP3 without SSL is <e>not</e> supported! It is insecure because it
transmits the password in plain tekst, which is a Bad Thing (TM).
</warn>
<note>
The dev.gentoo.org password is the same as the one used on
cvs.gentoo.org (which is now SSH-key only). If you don't know your
password anymore, be <e>very</e> ashamed and ask <mail
link="klieber@gentoo.org">klieber</mail>, <mail
link="avenj@gentoo.org">avenj</mail> or <mail
link="peitolm@gentoo.org">peitolm</mail> to reset your password).
</note>
<p>
For instance, if you are using <c>fetchmail</c> to fetch your e-mails,
your <path>.fetchmailrc</path> should read something like this:
</p>
<pre caption = "fetchmailrc">
poll dev.gentoo.org proto pop3 
    user <i>username</i> pass <i>password</i> nokeep ssl
</pre>
<p>
If you are using <c>sylpheed</c> for your e-mails, create a new account
and make sure that the <e>Receive</e> tab uses POP3 and the <e>SSL</e>
tab has the <e>Use SSL for POP3 connection</e> selected.
</p>
<p>
If you are using <c>mutt</c>, you're smart enough to figure this one out
yourself.
</p>
</body>
</section>
<section>
<title>Accessing dev.gentoo.org using imaps</title>
<body>
<p>
imaps is the secure variant of IMAP, the Internet Message Acces Protocol
version 4. IMAP is a push-protocol, meaning that e-mails stay on the 
remote server and you can manage seperate mailboxes on that server. 
</p>
<p>
To set up your favorite e-mail client for imaps, use the following
settings:
</p>
<ul>
<li><e>IMAP server</e>: dev.gentoo.org</li>
<li><e>Use SSL</e>: yes</li>
<li><e>Account</e>: your username</li>
<li><e>Password</e>: your dev.gentoo.org password</li>
</ul>
<warn>
IMAP without SSL is <e>not</e> supported! It is insecure because it
uses static authentication, which is a Bad Thing (TM).
</warn>
<note>
The dev.gentoo.org password is the same as the one used on
cvs.gentoo.org (which is now SSH-key only). If you don't know your
password anymore, be <e>very</e> ashamed and ask <mail
link="klieber@gentoo.org">klieber</mail>, <mail
link="avenj@gentoo.org">avenj</mail> or <mail
link="peitolm@gentoo.org">peitolm</mail> to reset your password).
</note>
<p>
For instance, if you are using <c>fetchmail</c> to fetch your e-mails,
your <path>.fetchmailrc</path> should read something like this:
</p>
<pre caption = "fetchmailrc">
poll dev.gentoo.org proto imap
    user <i>username</i> pass <i>password</i> nokeep ssl
</pre>
<p>
If you are using <c>mutt</c>, you're smart enough to figure this one out
yourself.
</p>
</body>
</section>
<section>
<title>Using dev.gentoo.org as a mail relay server</title>
<body>
<warn>
Do <e>not</e> do this unless absolutely necessary. Please use your ISPs
relayserver whenever possible. 
</warn>
<p>
If you need a relay-server desperately and have no other means of
sending e-mails, you can use dev.gentoo.org as a relayserver. To do
this, you must first provide it with a password (not your dev.gentoo.org
password!). 
</p>
<pre caption = "Setting a password for auth-smtp">
$ <i>ssh -l username dev.gentoo.org</i>
username@peregrine username $ <i>echo "ChosenPassword" > ~/.asmtppasswd</i>
username@peregrine username $ <i>chmod 0740 ~/.asmtppasswd</i>
username@peregrine username $ <i>chmod o+x ~/</i>
username@peregrine username $ <i>sudo chgrp mail /home/username/.asmtppasswd</i>
username@peregrine username $ <i>exit</i>
</pre>
<impo>Please do <b>not</b> use your regular login password for your asmtp password.  Instead, choose a random password and use that or <c>emerge makepasswd</c> and run <c>makepasswd --chars=8</c> to have it select one for you</impo>
<p>
Now setup your e-mail client to use dev.gentoo.org as the SMTP server.
Select <e>yes</e> when asked if the server uses authentication. If you
get the choice, select <e>cram-md5</e> as the hash-method. Use your
username and the provided password from above for authentication.
</p>
</body>
</section>
</chapter>
<chapter>
<title>Frequently Asked and/or Anticipated Questions</title>
<section>
<title>What happens when dev.gentoo.org goes down?</title>
<body>
<p>
When dev.gentoo.org goes down, blame robh and wait. The e-mails
will stay in the mailqueue on mail.gentoo.org and will be delivered
whenever dev.gentoo.org is up again.
</p>
</body>
</section>
<section>
<title>Can I use procmail on dev.gentoo.org?</title>
<body>
<p>
Yes you can. 
</p>
</body>
</section>
<section>
<title>Are my e-mails or the contents of my home directory backed up 
regularly?</title>
<body>
<p>
No, it's the responsibility of the individual to back up their own 
important files and mail.
</p>
</body>
</section>
</chapter>
</guide>
