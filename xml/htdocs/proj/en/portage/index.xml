<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="/xsl/project.xsl" type="text/xsl"?>
<?xml-stylesheet href="/xsl/guide.xsl" type="text/xsl"?>
<!DOCTYPE project SYSTEM "/dtd/project.dtd">
<project>
  <name>Portage</name>

  <longname>Gentoo Linux Portage Development</longname>

  <date>$Date: 2007/11/14 04:11:35 $</date>

  <author title="Author of old project page"><mail link="carpaski@gentoo.org">Nicholas Jones</mail></author>
  <author title="Author"><mail link="genone@gentoo.org">Marius Mauch</mail></author>

  <description>
    The Portage Development Project is devoted to maintaining
    and updating Portages core functionality and utilities.
  </description>

  <longdescription>
    <p>The Portage Development Project works to provide a continuously
    expanding and developing tool for the management and installation
    of packages. The developers work on providing a coherent system
    that is as trouble free as possible (backwards compatible, automated,
    and simple). Bugs are tracked and fixed from the
    <uri link="http://bugs.gentoo.org/">Gentoo bug tracker</uri> and
    developer-developer correspondence is maintained on the
    gentoo-portage-dev mailing list. Another communication channel is
	the #gentoo-portage IRC channel on the freenode network.</p>
  </longdescription>

  <goals>
    <p>The goal of the Portage Development Project stands at providing
    a seamless integration of developer and user tools to aid the growth
    and maintenance of the Gentoo Portage Tree.
    </p>
  </goals>
  
  <subproject ref="/proj/en/portage/sandbox/index.xml" inheritmembers="yes"/>

  <extraproject name="Documentation" lead="vapier">
    Updating and Creating documentation for the tools of Portage.
  </extraproject>

  <subproject ref="/proj/en/portage/tools/index.xml" inheritmembers="yes"/>

  <dev role="Lead">genone</dev>
  <dev role="Member" description="Documentation">vapier</dev>
  <dev role="Member" description="Release Coordinator">zmedico</dev>
  <dev role="Member">solar</dev>

<extrachapter position="resources">
<title>External Documentation Resources</title>
<section>
<body>
<p>Unless otherwise noted the following resources are maintained by the <uri link="/proj/en/gdp/">documentation project</uri>,
but as they are the primary online documentation for portage we will list them here.</p>

<ul>
  <li><uri link='http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?part=2&amp;chap=1'>A Portage Introduction</uri></li>
  <li><uri link='http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?part=2&amp;chap=3'>Portage Features</uri></li>
  <li><uri link='http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?part=3'>Working with Portage</uri></li>
  <li><uri link='http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?part=2&amp;chap=2'>USE flags</uri></li>
  <li><uri link='http://www.gentoo.org/proj/en/devrel/handbook/handbook.xml'>Gentoo Developer Handbook (maintained by the 'Developer relations' project)</uri></li>
  <li><uri link='http://devmanual.gentoo.org'>Gentoo Devmanual (maintained the 'QA' project)</uri></li>
</ul>
</body>
</section>
</extrachapter>

<resource link="doc/faq.xml">Portage Frequently Asked Questions (FAQ)</resource>
<resource link="doc/common-problems.xml">List of common major portage problems and solutions</resource>
<resource link="doc/manually-fixing-portage.xml">Guide for manually fixing a broken portage install</resource>
<resource link="doc/testing.xml">Some notes about how to obtain and test development versions</resource>
<resource link="doc/policies/membership.xml">Membership policies of the Portage project</resource>
<resource link="http://sources.gentoo.org/viewcvs.py/*checkout*/portage/main/trunk/NEWS">Portage NEWS file listing new features</resource>
<resource link="http://sources.gentoo.org/viewcvs.py/*checkout*/portage/main/trunk/RELEASE-NOTES">Portage RELEASE-NOTES file listing upgrade information</resource>
<resource link="irc://irc.freenode.net/gentoo-portage">#gentoo-portage IRC channel</resource>
<resource link="/main/en/lists.xml">gentoo-portage-dev mailing list</resource>
<resource link="http://packages.gentoo.org/package/sys-apps/portage">sys-apps/portage package</resource>
<resource link="http://sources.gentoo.org/viewcvs.py/portage/main/">Portage SVN repository (over viewcvs)</resource>

<extrachapter position="bottom">
<title>Contributing to Portage</title>
<section>
<title>Bug Reports</title>
<body>
<p>Please report all bugs you encounter on 
<uri link="http://bugs.gentoo.org">our bug tracking system</uri>.
Before opening a new bug report please make sure that the bug has not 
already been reported by another user.</p>
<impo>Do not report bugs/requests about anything other than sys-apps/portage in the Portage Development product</impo>

<p>
In your bug report please state clearly:
</p>

<ul>
<li>How you triggered the bug (commands executed, files edited, ...)</li>
<li>What portage version you used when you found the bug</li>
<li>If the bug is reproducable</li>
<li>The output of the <c>emerge --info</c> command</li>
</ul>

<p>Please don't get too impatient if there is no immideate reaction on your bug,
it can sometimes take a while before a developer has time to look at it (this 
also applies to non-Portage bug reports). Often we'll need additional information
from you while trying to resolve a bug, please provide it as soon as you can, if we
have to wait too long (over a month) we'll likely close the bug as RESOLVED:NEEDINFO,
you can however reopen it when you posted the requested information.
</p>

<p>
Please do not reopen bugs unless you're in one of the following situations:
</p>

<ul>
<li>The bug was marked as RESOLVED:FIXED, but you can still reproduce it with the new 
version that is suposed to contain the fix (the version is generally stated when 
the bug is closed)</li>
<li>The bug was marked as RESOLVED:NEEDINFO and you have provided the requested information</li>
<li>The bug was marked as RESOLVED:WONTFIX, RESOLVED:CANTFIX or RESOLVED:LATER
and you think we misunderstood you. <b>Do not reopen a bug just because you disagree 
with our resolution</b>.</li>
</ul>

<p>
Be aware that we will still read comments on bug reports even if the report itself is closed,
so you don't have to reopen it just to get our attention.
</p>

<p>Every bug report deals with one specific problem, please respect that and don't talk about
other not directly related bugs on a bug report.</p>
</body>
</section>

<section>
<title>Testing multiple Portage versions</title>
<body>
<note>This section only applies to Portage 2.1.2 or later</note>
<p>There are various reasons why you'd want to have multiple versions of portage 
available at the same time without having to install them as system default.
Examples would be to check which versions are affected by a specific bug, to
test new features before deploying a new version or have a svn checkout available
for testing while keeping a stable release for normal operation.</p>
<p>As of Portage-2.1.2 one can have and use an arbitrary number of Portage 
installations parallel to each other by adjusting the two environment variables
<c>PATH</c> and <c>PYTHONPATH</c>. For example if you have a checkout of the
trunk branch at <path>/checkouts/portage/trunk</path> you'd set them like this:</p>
<pre caption="settings to use portage trunk">
export PYTHONPATH="/checkouts/portage/trunk/pym:${PYTHONPATH}"
export PATH="/checkouts/portage/trunk/bin:${PATH}"
</pre>
<p>With those settings calling tools like <c>emerge</c>, <c>repoman</c> or 
<c>ebuild</c> will pickup the correct locations to import libraries. External 
tools like gentoolkit or porthole may or may not respect those settings though.
Setting <c>PATH</c> isn't even necessary if you always call the commands by their full 
name (e.g. <c>/checkouts/portage/trunk/bin/emerge</c> instead of <c>emerge</c>).</p>
</body>
</section>

<section>
<title>Submitting Patches</title>
<body>
<p>If you want to submit a patch to sys-apps/portage or a related package, please make 
sure the patch follows these criteria:</p>
<ul>
<li>Use TABS. Some people like 8 spaces, some people like 4, and some
like 2. Tabs are the happy medium. Patches that use spaces and/or a mix of 
tabs and spaces for indentation will likely be rejected.</li>
<li>Generally submit diff files instead of whole files, only when the diff is 
significantly larger than the file itself or the file didn't exist previously
submitting the whole file is acceptable.</li>
<li>Diffs have to be in unified form (<c>diff -u</c>, <c>svn diff</c>).</li>
<li>Always submit a detailed explanation of what the patch does and, if necessary,
why you chose the specific implementation you submitted (IOW: what's the 
benefit of the patch). Also include any problems and/or drawbacks you think the patch has.</li>
<li>Always state against which version (for releases) or revision and branch (for svn patches)
the patch was made.</li>
<li>Only submit clean patches. Do not include other patches in a
submitted patch. If the code found in a patch does not match the
description of the patch, it will be rejected. Also don't add any unrelated code cleanups
in your patch</li>
<li>Python docstrings should conform to the <uri link="doc/policies/docstring-spec.xml">
Portage Docstring Specification</uri>.</li>
</ul>

<p>
If the patch is related to a specific bug report, please attach it there as text/plain.
If it is not directly related to a bug report (to your knowledge) please send it to the 
<c>gentoo-portage-dev</c> mailing list and tag the subject with '[PATCH]'.</p>
<note>Patches for packages NOT related to sys-apps/portage go on 
<uri>http://bugs.gentoo.org</uri>, please do not send them to the gentoo-portage-dev 
mailing list</note>

</body>
</section>

<section>
<title>Access to Portage SVN repositories</title>
<body>
<p>The Portage sourcecode is maintained within a SVN repository on the Gentoo SVN server. 
This server is only accessible for Gentoo developers, it doesn't offer anonymous access.
If you are a dev: The main repository is located at <uri>svn+ssh://cvs.gentoo.org/var/svnroot/portage/main</uri>,
please note that it is subject to strict access controls, only people listed
in the developers section on this page are able to commit to it.</p>
<note>It is assumed you know how to work with Subversion.</note>
<note>The repository can be viewed over <uri link="http://sources.gentoo.org/viewcvs.py/portage/main/">viewcvs</uri></note>
<p>
The repository currently contains the following branches (incomplete list):
</p>

<ul>
<li>trunk: the current main development line</li>
<li>branches/2.1-experimental: the former development line, now abandoned (don't use it unless you want to backport stuff)</li>
<li>branches/prefix: experimental branch with support for prefix installs</li>
<li>branches/2.0.54: old stable maintenance branch, nothing happens here anymore</li>
<li>branches/2.1.2: current stable maintenance branch</li>
</ul>

<note>The old CVS repository still exists, but is not updated anymore or used in any other way.</note>

</body>
</section>

</extrachapter>

<extrachapter position="bottom">
<title>Project tasks</title>
<section>
<body>
<table>
<tr><th>name</th><th>description</th><th>main contact</th><th>references</th><th>comments</th></tr>
<tr><ti>Elog integration</ti>
	<ti>Development of a modular ebuild logging facility and integration of it into portage</ti>
	<ti>genone</ti>
	<ti><uri link="http://bugs.gentoo.org/11359">bug 11359</uri></ti>
	<ti>included in &gt;=portage-2.1_pre1</ti>
</tr>
<tr><ti>Prefix support</ti>
	<ti>Adding support to portage to install packages into alternate locations</ti>
	<ti>kito</ti>
	<ti>-</ti>
	<ti>-</ti>
</tr>
<tr><ti>Confcache</ti>
	<ti>Add a cache to ./configure scripts to reduce build times</ti>
	<ti>ferringb</ti>
	<ti>-</ti>
	<ti>included in &gt;=portage-2.1_pre5</ti>
</tr>
<tr><ti>Cache subsystem rewrite</ti>
	<ti>A new implementation of the portage metadata cache</ti>
	<ti>ferringb</ti>
	<ti>-</ti>
	<ti>finished in Dec 2005, included in &gt;=portage-2.1_pre1</ti>
</tr>
<tr><ti>metascan integration</ti>
	<ti>Adding the metascan and auxget tools to portage</ti>
	<ti>genone</ti>
	<ti><uri link="http://forums.gentoo.org/viewtopic-t-353919-highlight-.html">Forum thread regarding metascan</uri></ti>
	<ti>-</ti>
</tr>
<tr><ti>Manifest2 support</ti>
	<ti>Implementing a new format for package manifests and digests to replace the current system</ti>
	<ti>genone</ti>
	<ti><uri link="http://www.gentoo.org/proj/en/glep/glep-0044.html">GLEP 44</uri></ti>
	<ti>included in &gt;=portage-2.1_pre7</ti>
</tr>
<tr><ti>Modular sync and transport code</ti>
	<ti>Implement a new transport framework and replace fetch/sync code with it, also enable overlay syncing</ti>
	<ti>genone</ti>
	<ti>-</ti>
	<ti>Started in July 2006</ti>
</tr>
<tr><ti>New dependency resolver</ti>
	<ti>Implement a dependency resolver with support for important requested features such as USE deps and package sets</ti>
	<ti>zmedico</ti>
	<ti>bugs <uri link="http://bugs.gentoo.org/144480">144480</uri> and <uri link="http://bugs.gentoo.org/155723">155723</uri></ti>
	<ti>Started in March 2007</ti>
</tr>
</table>
</body>
</section>
</extrachapter>

</project>
