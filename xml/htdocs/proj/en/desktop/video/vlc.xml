<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/en/desktop/video/vlc.xml,v 1.1 2005/10/14 19:06:18 flameeyes Exp $ -->

<guide link="/proj/en/desktop/video/vlc.xml" lang="en">
<title>vlc and related</title>

<author title="Author">
  <mail link="flameeyes@gentoo.org">Diego Petten√≤</mail>
</author>

<abstract>
Maintainer notes about vlc and its relatives
</abstract>


<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.1</version>
<date>2005-10-14</date>

<chapter> <!-- vlc -->
<title>vlc</title>

<section> <!-- Introduction -->
<title>Introduction</title>

<body>

<p>
<c>media-video/vlc</c> is
<uri link="http://www.videolan.org/">Videolan Client</uri>, a multimedia player
with different interface modules, though primarily as a streaming client.
There are no frontends a part the core <c>vlc</c> binary, but the different
interfaces are loaded as modules.
</p>

<p>
Because of its structure, a crash into the decoding routines means a complete
crash of the interface, too. A careful maintenance is needed, similarly to
<c><uri link="xine.xml">xine-lib</uri></c>.
</p>

<p>
Its maintenance is usually simple, as it's one of the most portable solutions
(it runs natively on Linux, Windows, OSX and FreeBSD). Related to <c>vlc</c>
there are, though, different libraries that might be a problem to maintain.
</p>

<p>
VideoLan Project is where most of the updated and live multimedia libraries come
from.
</p>

</body>
</section>

<section> <!-- Patches -->
<title>Patches</title>

<body>

<p>
Patches for <c>vlc</c> are a bit different respect <c>xine-lib</c>, as they are
sometimes exclusive to Gentoo Linux and simply can't be upstreamed at all. This
is the case of the patch that removes glide v2 support and the one that changes
the name of <c>libmatroska</c> and <c>libebml</c> shared libraries.
</p>

<p>
In general there might be necessity to patch vlc when something in its
dependencies changes, as it's usually quite good-written the internal code and
also the <path>configure.ac</path>. In the past it needed patching to get
wxGTK or Samba dependencies fixed.
</p>

<p>
While there is a Bugzilla for VideoLan software, it's mostly dead, and not
followed by developers at all. The right place where to send patches for
upstream is via their <path>vlc-devel</path>
<uri link="http://developers.videolan.org/lists.html">mailing list</uri>.
</p>

</body>
</section>

<section> <!-- useflags -->
<title>useflags</title>

<body>

<p>
As many other multimedia programs, also <c>vlc</c> have quite a lot of useflags
to disable and enable dependencies and extra features. There are a few missing
dependencies that are not enabled, and a few useflags that were removed for
many reasons in the past.
</p>

<p>
The most severe problem is with <b>threads</b> useflag, that should enable the
pth threading. Unfortunately seems like pth threading doesn't get along well
with other libraries, that might be using pthreads for threading, and makes
<c>vlc</c> highly unstable. For this, it should not be made an useflag, and
<c>--disable-pth</c> should be passed directly to <c>econf</c>.
</p>

<p>
The <b>slp</b> useflag is not added because it requires a version of
<c>openslp</c> that is no more in Portage. Until new versions of <c>vlc</c>
starts supporting new <c>openslp</c> API, this should be forcefully disabled
with a <c>--disable-slp</c> in <c>econf</c>.
</p>

<p>
The <b>hal</b> useflag is not added because the HAL support is tailed for the
old 0.4 API that is deprecated and no more supported by HAL itself. The hal
support is forcefully disabled by <c>--disable-hal</c> because of GNOME and KDE
needing newer version of HAL.
</p>

<p>
The <b>portaudio</b> useflag is not added because <c>vlc</c> requires the
experimental version (19) of <c>portaudio</c> that is not in portage. Also, the
portaudio support is not stable.
</p>

<p>
Extra useflags <b>tremor</b>, <b>tarkin</b>, <b>cyberlink</b> are not added
because of missing dependencies in portage.
Other useflags, like <b>dirac</b>, <b>avahi</b> and <b>h264</b> are not added
because they needs testing, testcases, or are simply unrequested.
</p>
</body>
</section>

<section> <!-- ffmpeg handling -->
<title>ffmpeg handling</title>
<body>

<p>
<c>ffmpeg</c> handling in VLC is somewhat particular, respect other software.
First of all, it doesn't carry an internal version. The <b>ffmpeg</b> useflag
enables generic <c>ffmpeg</c> support, that is only external.
</p>

<p>
Other than enabling <c>ffmpeg</c> support, when enabling the useflag you also
need to check for how that has been compiled, as <c>vlc</c> likes to know if
<c>ffmpeg</c> was built with <b>aac</b>, <b>dts</b>, <b>zlib</b> and
<b>encode</b> (lame support).
</p>
</body>
</section>

</chapter>

</guide>

<!-- kate: space-indent on; indent-width 2; replace-tabs on; -->
