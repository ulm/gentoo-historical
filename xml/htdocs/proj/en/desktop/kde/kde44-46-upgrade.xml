<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/en/desktop/kde/Attic/kde44-46-upgrade.xml,v 1.3 2011/04/10 20:54:40 dilfridge Exp $ -->

<guide>
<title>Gentoo KDE 4.4 - 4.6 Upgrade Guide</title>

<author title="Author">
  <mail link="dilfridge"/>
</author>

<abstract>
This page provides some hints how the smooth upgrade from KDE SC 4.4 to KDE SC 4.6 
can go even smoother. 
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>0.1</version>
<date>2011-04-09</date>

<chapter>
<title>Introduction</title>
<section>
<title>About the upgrade</title>
<body>

<p>
With the stable KDE upgrade from KDE SC 4.4.5 to KDE SC 4.6.2, an entire major
release number is skipped. Naturally some functionality has been shifted between
packages, some has been replaced or deprecated. On the whole, the upgrade should 
go very smooth. This page collects some tips and tricks for the rare cases when
it does not...
</p>

</body>
</section>
</chapter>


<chapter>
<title>About installed software outside kde-base</title>
<section>
<title>Packages that you should deselect or unmerge before upgrade</title>
<body>

<p>
KDE uses some packages outside kde-base for specific services. As an example,
bluetooth integration was in KDE SC 4.4 provided by net-wireless/kbluetooth. 
KDE SC 4.6 uses the new bluetooth system provided by net-wireless/bluedevil, and
kbluetooth and bluedevil cannot be installed at the same time. Normally portage 
should resolve this automatically. However, if you have net-wireless/kbluetooth
in your world file, portage will refuse to unmerge it, blocking the entire upgrade.
In this case you need to run the following command:
</p>

<pre caption="Removing (as an example) net-wireless/kbluetooth from your world file">
# <i>emerge --deselect net-wireless/kbluetooth</i> <comment>(this does not uninstall it yet)</comment>
</pre>

<p>
Afterwards portage should do a better job resolving the upgrade. A list of such
packages is given below.
</p>

<table>
  <tr>
    <th>package used by KDE 4.4</th>
    <th>replaced by</th>
    <th>remarks</th>
  </tr>
  <tr>
    <ti>net-wireless/kbluetooth</ti>
    <ti>net-wireless/bluedevil</ti>
    <ti>pulled in by bluetooth use flag</ti>
  </tr>
</table>

</body>
</section>

<section>
<title>Packages that you should upgrade later on</title>
<body>

<p>
Several applications developed for KDE SC 4.4 do not compile properly with KDE SC 4.6
anymore. In addition, newer application versions may require KDE SC 4.6 for its features
and do not build with KDE SC 4.4 anymore... 
We try to stabilize newer versions together with KDE SC 4.6 so noone runs into
these problems; in case of doubts, below is the relevant information for comparison. 
</p>

<table>
  <tr>
    <th>package name</th>
    <th>maximum version for KDE 4.4</th>
    <th>minimum version for KDE 4.6</th>
  </tr>
  <tr>
    <ti>media-gfx/digikam</ti>
    <ti>1.2</ti>
    <ti></ti>
  </tr>
  <tr>
    <ti>media-plugins/kipi-plugins</ti>
    <ti>1.2</ti>
    <ti></ti>
  </tr>
  <tr>
    <ti>app-office/koffice-libs</ti>
    <ti>2.2.2</ti>
    <ti>2.3.2</ti>
  </tr>
</table>

</body>
</section>
</chapter>
</guide>
