<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/en/desktop/gnome/howtos/gnome-2.22-upgrade.xml,v 1.7 2008/04/03 01:31:18 leio Exp $ -->

<guide link="/proj/en/desktop/gnome/howtos/gnome-2.22-upgrade.xml">

<title>Gnome 2.22 Upgrade Guide</title>
<author title="Author">
  <mail link="remi@gentoo.org">RÃ©mi Cardona</mail>
</author>
<author title="Editor">
  <mail link="leio@gentoo.org">Mart Raudsepp</mail>
</author>

<abstract>
This is a guide for upgrading from GNOME 2.20.x to GNOME 2.22.x.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.0</version>
<date>2008-03-30</date>

<chapter>
<title>Changes</title>
<section>
<title>Seahorse key manager</title>
<body>

<p>
Starting with 2.22, Seahorse (app-crypt/seahorse) is the official key and
password manager, replacing GNOME Keyring Manager
(gnome-extra/gnome-keyring-manager). It handles both GPG and SSH keys, and can
also be used to manage the passwords saved in your GNOME keyring.
</p>

<p>
If you are happy with Seahorse after completing the GNOME upgrade, you may
consider uninstalling gnome-keyring-manager.
</p>

</body>
</section>
<section>
<title>PAM and GNOME Keyring integration</title>
<body>

<p>
Starting with GNOME 2.20, GNOME Keyring (gnome-base/gnome-keyring) started
providing a PAM module (pam_gnome_keyring.so) to automatically unlock your
keyring as you log in to your session, thereby saving you the trouble from
typing two passwords.
</p>

<p>
In GNOME 2.22, this feature is now even more easily configurable, thanks to
sys-auth/pambase that has a gnome USE flag. With this flag enabled, the
pam configuration files in /etc/pam.d/ will automatically have pam_keyring.so
inserted in the right places. Just remember to use "etc-update",
"dispatch-conf" or your other tool of choice after installing pambase to
update those files.
</p>

</body>
</section>
<section>
<title>Other changes</title>
<body>

<p>
Please see the <uri link="http://library.gnome.org/misc/release-notes/2.22/">GNOME 2.22
Release Notes</uri> for what else new is in this major release of GNOME.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Known Issues</title>
<section>
<title>GNOME no longer available as a session option in GDM</title>
<body>

<note>
This section should only concern users of the GNOME overlay. Users who have been using GNOME 2.22 from Portage should be fine.
</note>

<p>
GDM uses the files available in /usr/share/xsessions/* to figure out which desktop environment options the user will be able to select from the "Sessions" menu.
</p>

<p>
In GNOME 2.20, the file /usr/share/xsessions/gnome.desktop was installed by GDM, which causes a lot of headaches. For instance, if you want to use another login manager (such as KDM or Entrance) capable of reading .desktop files but still use a GNOME session, you would have to install GDM even if you never used it.
</p>

<p>
In GNOME 2.22, that small issue was fixed and the gnome.desktop file is now installed by gnome-base/gnome-session (which is the actual program launched by the login manager to start GNOME).
</p>

<p>
The problem is that Portage can sometimes fail to handle file collisions properly (file collisions happen when to packages install the same files) and may delete the gnome.desktop file altogether. To fix the issue, just remerge gnome-base/gnome-session.
</p>
</body>
</section>
</chapter>
</guide>
