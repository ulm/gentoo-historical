<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/en/desktop/gnome/howtos/gnome-2.26-upgrade.xml,v 1.2 2009/07/29 07:48:05 eva Exp $ -->

<guide link="/proj/en/desktop/gnome/howtos/gnome-2.26-upgrade.xml">
<title>Gnome 2.26 Upgrade Guide</title>

<author title="Author">
  <mail link="eva"/>
</author>

<abstract>
This is a guide for upgrading from GNOME 2.24.x to GNOME 2.26.x.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.0</version>
<date>2009-07-28</date>

<chapter>
<title>Changes</title>
<section>
<title>Session handling</title>
<body>

<p>
Due to a major rewrite of <c>gnome-base/gnome-session</c>, saved sessions will
most likely be lost because of a change in the format.
</p>

</body>
</section>
<section>
<title>Brasero Disc Burner</title>
<body>

<p>
Starting with 2.26, Brasero (<c>app-cdr/brasero</c>) is the official optical
media burning utility. It replaces nautilus CD burner
(<c>gnome-extra/nautilus-cd-burner</c>) completely by providing an extension to
nautilus that behaves the same way nautilus CD burner did and an application to
do more advanced tasks.
</p>

<p>
If you are happy with Brasero after completing the GNOME upgrade, you may
consider uninstalling <c>gnome-extra/nautilus-cd-burner</c>.
</p>

</body>
</section>
<section>
<title>Pulseaudio integration</title>
<body>

<p>
GNOME 2.26 now offers a complete pulseaudio integration. Please note that on
some hardware, enabling pulseaudio USE flag means that you will have to enable
its support in other application using sound output (ie. mplayer).
</p>

</body>
</section>
<section>
<title>gnome-desktop API changes</title>
<body>

<p>
Due to the GNOME goal of killing old libraries usage, gnome-desktop changed its
API again. It should not break anything while upgrading but do not forget to run
revdep-rebuild or emerge @preserved-rebuild at then end of the upgrade process
and check that the old library is gone.
</p>

</body>
</section>
<section>
<title>gnome-menus and KDE file-collision changes</title>
<body>

<p>
Due to file-collision between GNOME menus and KDE's own menus,
<c>gnome-base/gnome-menus</c> was changed to use a prefixed location for its
menu. It means that menus can disappear in the middle of the upgrade. To get
them back, just make sure you install <c>>=gnome-base/gnome-session-2.26.2</c>
and <c>>=gnome-base/gnome-menus-2.26.2</c>.
</p>
	
<p>
If you are using a login manager and loose your menu, please re-select
gnome as your session at login prompt. If you start gnome by hand, please 
export XDG_MENU_PREFIX=gnome- to get your menu back. See
<uri link="http://bugs.gentoo.org/256614">bug #256614</uri> for details.
</p>

</body>
</section>
<section>
<title>Other changes</title>
<body>

<p>
Please see the <uri
link="http://library.gnome.org/misc/release-notes/2.26/">GNOME 2.26 Release
Notes</uri> for what else new is in this major release of GNOME.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Kwown Issues</title>
<section>
<title>Nautilus constantly restarting</title>
<body>

<p>
With gnome-session rewrite, nautilus is consider as an insecable part of the
GNOME desktop. Unfortunately, since nautilus exists when it does not handle the
desktop, it will be automatically and immediately respawned by gnome-session
resulting in an infinite nautilus spawning loop. See
<uri link="http://bugs.gentoo.org/266398">bug #266398</uri> for updates on this
issue.
</p>

</body>
</section>
<section>
<title>gnome-base/gnome-keyring build failures</title>
<body>

<p>
Due to changes in RPC code, gnome-keyring fails to build its API documentation
and to pass its tests. These issues are tracked at
<uri link="http://bugs.gentoo.org/272450">bug #272450</uri> and at
<uri link="http://bugs.gentoo.org/267957">bug #267957</uri>.
</p>

</body>
</section>
<section>
<title>net-libs/libsoup does not build with USE="-gnome doc"</title>
<body>

<p>
During GNOME 2.26 development cycle, libsoup got split into libsoup and
libsoup-gnome which contains GNOME oriented functions. The problem is that the
documentation does not reflect this split so well. Progress is tracked at
<uri link="http://bugs.gentoo.org/268592">bug #268592</uri>.
</p>

</body>
</section>
</chapter>
</guide>
