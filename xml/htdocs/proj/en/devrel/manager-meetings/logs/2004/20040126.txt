**** BEGIN LOGGING AT Mon Jan 26 13:52:10 2004

Jan 26 13:52:10 -->	You are now talking on #gentoo-meetings
Jan 26 13:52:20 <pauldv>	hi
Jan 26 13:52:30 <Ramereth>	greetings earthlings and what not
Jan 26 13:52:37 ---	Tester__ is now known as Tester_
Jan 26 13:53:09 <tseng>	would someone mind adding me to the access list before +m?
Jan 26 13:53:22 ---	g2boojum gives channel operator status to tseng
Jan 26 13:53:40 ---	klieber gives channel operator status to spyderous
Jan 26 13:53:51 <tseng>	danke.
Jan 26 13:55:13 <iggy>	tseng: we don't want you talking
Jan 26 13:55:29 <tseng>	='(
Jan 26 13:56:24 <SwifT>	:)
Jan 26 13:58:27 <tseng>	hmm, no seemant or daniel
Jan 26 13:59:55 <klieber>	they still have a minute! :)
Jan 26 13:59:59 <carpaski>	Oh...
Jan 26 14:00:04 <carpaski>	There's a mode that's cool...
Jan 26 14:00:07 <carpaski>	+m+z
Jan 26 14:00:07 <g2boojum>	Good afternoon, evening, or morning, all.  We have a light schedule today: klieber is going to talk to us about Gentoo Server, and then we'll open the floor to the usual rolicking open discussion.  Kurt?
Jan 26 14:00:09 *	port001 chooses a song
Jan 26 14:00:14 <carpaski>	All non-voiced goes to the ops only.
Jan 26 14:00:24 *	carpaski shuts up.
Jan 26 14:00:32 -->	kloeri (~enoch@0x50a11a4e.boanxx8.adsl-dhcp.tele.dk) has joined #gentoo-meetings
Jan 26 14:00:35 <klieber>	OK, so what I wanted to do was get some discussion started around the gentoo-server project.
Jan 26 14:00:57 <klieber>	the current focus of the project is to simplify and improve running Gentoo Linux on servers in an enterprise environment.
Jan 26 14:01:23 <klieber>	to do this, there are a number of requirements that we need to get implemented somehow.
Jan 26 14:01:25 <port001>	(you forgot the +m ;)
Jan 26 14:01:31 <klieber>	I've put together a high level doc here:
Jan 26 14:01:33 <klieber>	http://dev.gentoo.org/~klieber/server/requirements.txt
Jan 26 14:01:38 <klieber>	it's fairly short
Jan 26 14:02:14 <klieber>	the most pressing need is some sort of change/addition to our tree structure to allow for a semi-frozen tree of sorts.
Jan 26 14:02:24 -->	avenj (avenj@h66-222-104-91.66-222.unk.tds.net) has joined #gentoo-meetings
Jan 26 14:02:24 ---	ChanServ gives channel operator status to avenj
Jan 26 14:02:35 <klieber>	which would allow enterprise users to freeze their servers on certain sets of packages.
Jan 26 14:02:38 ---	pauldv sets mode +m #gentoo-meetings
Jan 26 14:02:50 <klieber>	in the enterprise, people do not want to be constantly faced with a dynamically changing tree.
Jan 26 14:03:01 <klieber>	they want stability and a predictable upgrade path.
Jan 26 14:03:19 <klieber>	we had talked about moving to a set of trees/branches similar to FreeBSD's a while back.
Jan 26 14:03:34 <klieber>	this is perfect for what the -server project needs, but there might be other ways of accomplishing the same thing.
Jan 26 14:04:30 <klieber>	previously, we had tabled the QA project, which also tabled our possible move to the FreeBSD approach
Jan 26 14:04:42 -->	ciaranm (~ciaranm@smtp.gentoo.org) has joined #gentoo-meetings
Jan 26 14:04:45 -->	rajiv (~irc@bronze.imagineblue.com) has joined #gentoo-meetings
Jan 26 14:04:49 <klieber>	I was hoping seemant would be here to discuss current plans for QA
Jan 26 14:05:05 -->	DarkSpecter (~dante@port-212-202-40-252.reverse.qsc.de) has joined #gentoo-meetings
Jan 26 14:05:17 -->	HumpBack (~humpback@a213-22-99-75.netcabo.pt) has joined #gentoo-meetings
Jan 26 14:05:21 <klieber>	the other bullet points on that list are largely taken care of already or well on their way to being taken care of
Jan 26 14:05:52 <klieber>	so, without seemant present, that's about all I had to say on the subject.
Jan 26 14:05:53 <pauldv>	would this tree carry only a subset of the packages in the tree, or all. And would it be prescriptive in a way of (as an EXAMPLE only supporting apache2, not apache1)
Jan 26 14:06:17 <klieber>	that's open for discussion.  My preference is to have it be open.  I don't think we should be prescriptive.
Jan 26 14:06:23 <tseng>	i have a few ?s about the first point, the first pauldv just asked for me
Jan 26 14:06:34 <g2boojum>	klieber: How would the tree be frozen?  A CVS branch and a separate repository?
Jan 26 14:06:35 <klieber>	there might be packages which get left out because they're not deemed stable enough
Jan 26 14:06:49 <tseng>	who will commit to the second tree? the first proposal from ben coles spoke of an isloated team.
Jan 26 14:06:54 -->	beejay (~benni@beejay.registered.freenode) has joined #gentoo-meetings
Jan 26 14:06:55 <klieber>	g2boojum: when we had discussed the FreeBSD stuff a while back, I believe that's how the implementation was planned, yes.
Jan 26 14:07:11 <tseng>	or will package maintainers also be responsible for keeping up their packages in this second tree
Jan 26 14:07:16 <klieber>	tseng: there will be no isolated team -- we can't manage that much on our own
Jan 26 14:07:18 <pauldv>	klieber: things like games, they would be included?
Jan 26 14:07:26 <klieber>	pauldv: again, open to discussion
Jan 26 14:07:30 <spyderous>	why do you need a branch instead of a new set of keywords?
Jan 26 14:07:31 -->	trance (~kevyn@c-24-6-101-81.client.comcast.net) has joined #gentoo-meetings
Jan 26 14:07:33 <tseng>	good.
Jan 26 14:07:37 <klieber>	spyderous: we don't necessarily
Jan 26 14:07:44 <klieber>	also, one thing which is very important...
Jan 26 14:07:45 <avenj>	i think a new set of keywords is a better approach, personally
Jan 26 14:08:04 <klieber>	the addition of a stable tree should not be viewed as a "server only" thing.  This is, imo, something that is needed/wanted by many users.
Jan 26 14:08:11 <klieber>	some people prefer stability over bleeding edge.
Jan 26 14:08:14 -->	Weeve (weeve@209-6-112-18.c3-0.wth-ubr1.sbo-wth.ma.cable.rcn.com) has joined #gentoo-meetings
Jan 26 14:08:25 <avenj>	branches are very difficult to keep current and usable, especially when you're trying to be very particular about what goes in
Jan 26 14:08:27 <klieber>	we should try to cater to those users without impacting those that do prefer bleeding edge stuff
Jan 26 14:08:29 -->	mboman (~michael@cm3.sigma230.maxonline.com.sg) has joined #gentoo-meetings
Jan 26 14:08:55 <klieber>	my own preference about how the work flow would work is something similar to what we have with keywords today, except more refined and regimented.
Jan 26 14:08:56 <avenj>	(5000+ ebuilds with ~200 devs is difficult enough to manage with a single tree)
Jan 26 14:09:16 <klieber>	meaning things can't be added to the stable tree except during a pre-defined, well-publicized period.
Jan 26 14:09:16 <pauldv>	spyderous: the stable tree as discussed would be quite longlived. It is something which would clutter the normal tree I fear
Jan 26 14:09:18 <g2boojum>	spyderous, avenj: We're going to introduce 2004.0, 2004.1, ..., keywords throughout the entire tree?  (I'm assuming that we keep at least a year's worth of builds for stability)
Jan 26 14:09:26 <klieber>	to allow for quarterly/semi-annual releases, etc.
Jan 26 14:09:37 <pauldv>	g2boojum: at least
Jan 26 14:09:55 <avenj>	g2boojum: i don't think we need multiple keywords
Jan 26 14:09:59 <spyderous>	klieber: i could picture a quarterly week where the focus was keywording things for servers
Jan 26 14:10:13 <spyderous>	for most people it wouldn't take that long
Jan 26 14:10:13 <klieber>	spyderous: I think that would be great.
Jan 26 14:10:35 <g2boojum>	avenj: Then a tree is only frozen for a quarter?  I'm not trying to be argumentative; just understanding how your keyword idea matches klieber's proposal for stability.
Jan 26 14:11:11 <avenj>	g2boojum: what i'm thinking of is a situation where we have, say, ^arch keywords
Jan 26 14:11:13 <klieber>	another requirement that I didn't list, but just thought of is having formal guidelines for how long something lives in the stable tree.  i.e. "at least a year" or something similar.
Jan 26 14:11:26 <avenj>	g2boojum: that indicates "this is ultrastable for this arch"
Jan 26 14:11:29 <klieber>	so users know how often they must upgrade their machines to avoid being orphaned
Jan 26 14:11:36 *	carpaski notes that he might have a suggestion for maintaining it in tree but it will probably require a good bit of discussion.
Jan 26 14:11:46 <pauldv>	g2boojum: my idea is to start a new tree say every half year with a lifespan of say 1.5 year (whatever we can maintain) during which it will be fixed for security
Jan 26 14:11:54 <avenj>	g2boojum: and doesn't change except under klieber's guidelines (security/bugfixes and quarterly updates)
Jan 26 14:12:01 <spyderous>	pauldv: new tree, or branch?
Jan 26 14:12:09 <klieber>	pauldv: I like that idea, but think we also need to include bugfixes in it on a periodic schedule as well
Jan 26 14:12:30 <pauldv>	spyderous: branch I guess. But basically a new release
Jan 26 14:12:32 <klieber>	perhaps only "critical" bugs or something like that
Jan 26 14:12:51 <pauldv>	klieber: indeed. The idea was critical  bugs and security fixes (these backported if possible)
Jan 26 14:13:25 <klieber>	I don't necessarily like the idea of backporting things 
Jan 26 14:13:30 <pauldv>	spyderous: it is basically a tagged tree, but as we need backports we might use a branch instead.
Jan 26 14:13:37 <spyderous>	pauldv: right.
Jan 26 14:13:42 <g2boojum>	avenj: My understanding of klieber's proposal is that he's proposing more than just "this package really does work", but a system whereby the 2004.0 release packages do not change at all except for security fixes.  Without the quarterly updates, that is.  Perhaps I'm misunderstanding what the enterprise folks want, however.
Jan 26 14:13:51 <spyderous>	or if not backports, newly stabilized things in that branch.
Jan 26 14:13:54 <klieber>	g2boojum: your understanding is correct
Jan 26 14:13:57 <avenj>	g2boojum: i think we're talking about the same thing :)
Jan 26 14:14:00 <klieber>	spyderous: that's what I'd rather see, imo
Jan 26 14:14:11 <avenj>	g2boojum: that's what i'm talking about too, but with keywords rather than a branch
Jan 26 14:14:18 <klieber>	I'd rather leave that decision up to the upstream maintainer.
Jan 26 14:14:33 <pauldv>	klieber: if you go enterprise that means keeping exactly the same version, and if changing, changing as little as possible
Jan 26 14:14:34 <avenj>	although i guess the advantage of a branch is that old ebuilds don't disappear
Jan 26 14:14:39 <klieber>	because backporting things can often take up a significant amount of time and effort.  Perhaps more than is warranted.
Jan 26 14:14:40 <avenj>	carpaski: what's your suggestion?
Jan 26 14:14:59 <spyderous>	the disadvantage of a branch is that you can't run some "non-ultrastable" ebuilds as a mixture, as you can with current 'arch' and '~arch'
Jan 26 14:15:07 <klieber>	pauldv: generally, bugfixes are released as minor version bumps anyway.  I'd rather bump the version in that case.
Jan 26 14:15:26 <g2boojum>	avenj: Okay, but then it would seem that it would be possible to have both a 2004 release, say, and also a 2005 release while still maintaining the 2004 version the way it was.  That's why I thought one would need multiple keywords.
Jan 26 14:15:26 <klieber>	spyderous: we possibly could with multiple overlay support.  not sure. haven't really thought that one through.
Jan 26 14:15:27 <spyderous>	at least not easily.
Jan 26 14:15:29 -->	tigger^ (~rob@smtp.gentoo.org) has joined #gentoo-meetings
Jan 26 14:15:35 <pauldv>	klieber: I think that a policy for that should be drafted. Comparing the costs of a backport with the actual changes in the package. In the ultimate case it could mean premature deprecation of a release
Jan 26 14:15:52 <klieber>	pauldv: that sounds like a good way of handling it.
Jan 26 14:16:07 <spyderous>	klieber: but that multiplies the space portage trees take up by two, or however many trees they feel the need to keep
Jan 26 14:16:10 -->	dorileo (yginducjhp@200-163-061-058.cbabm7002.e.brasiltelecom.net.br) has joined #gentoo-meetings
Jan 26 14:16:20 <klieber>	spyderous: yep -- agreed.  
Jan 26 14:16:29 <klieber>	spyderous: but we're working on some stuff in infra that should allow us to handle that.
Jan 26 14:16:30 <g2boojum>	klieber: Do you have any feeling for how much extra work your proposal would generate, and if we have the manpower to do it?
Jan 26 14:17:02 <klieber>	g2boojum: if we integrate it into our regular process, I think the only "extra" work would be that around the actual branching of the tree (or however we decide to do it)
Jan 26 14:17:04 <pauldv>	klieber: if the only (or almost only) thing changed is the security problem that is no problem. But what if we say have 1.0 in the release, current is 1.1.3 and security fix is 1.1.4. In somecases the diff from 1.1.3 to 1.1.4 actually can be made to apply to 1.0 with ease, in some cases not at all
Jan 26 14:17:28 <klieber>	g2boojum: it's largely doing what we do now, except compressing it into pre-defined timeframes.
Jan 26 14:17:49 <klieber>	and putting some QA around it, but we need to do that anyway (i.e. that's not server-specific)
Jan 26 14:18:06 <tseng>	pauldv, I believe redhat provides backports where possible, and upgrades when absolutely nessecary
Jan 26 14:18:19 <klieber>	tseng: I would reverse that, actually.
Jan 26 14:18:22 <klieber>	for gentoo, I mean.
Jan 26 14:18:29 <tseng>	just a precedent.
Jan 26 14:18:41 <klieber>	yeah, but red hat has a lot more manpower on their side.
Jan 26 14:18:47 <pauldv>	tseng: I think that would be acceptable
Jan 26 14:18:48 <tseng>	yes ;)
Jan 26 14:18:56 <klieber>	we need to balance our available resources against the wants of our users.
Jan 26 14:19:27 <tseng>	I see no reason not to backport when it is trivial.
Jan 26 14:19:45 <spyderous>	i see no reason not to upgrade when it's even more trivial.
Jan 26 14:19:47 <klieber>	well, that's something that can be worked out later.
Jan 26 14:19:49 <g2boojum>	So far most of the discussion has been about the frozen tree (which, I daresay, is going to need a GLEP to flesh out).  Are there any comments about the rest of the proposal?
Jan 26 14:19:55 <carpaski>	Ok... Here's the short of my suggestion:
Jan 26 14:19:56 <carpaski>	Use a 'server' keyword in packages for server in the common tree. They are not m
Jan 26 14:19:56 <carpaski>	odified further. '~server' can be used to flag server-stable candidates. Differe
Jan 26 14:19:56 <carpaski>	nces between the server-tree (seperate repo) is taken against the normal tree an
Jan 26 14:19:57 <carpaski>	d differences noted and ~server candidates noted.
Jan 26 14:19:59 <klieber>	as paul said, we just need to have a policy 
Jan 26 14:20:09 <carpaski>	Sorry. vi seems to hate me.
Jan 26 14:20:46 -->	seemant (~seemant@ca-stmnca-cuda1-blade2b-128.stmnca.adelphia.net) has joined #gentoo-meetings
Jan 26 14:20:46 ---	ChanServ gives channel operator status to seemant
Jan 26 14:21:00 <klieber>	welcome seemant
Jan 26 14:21:05 <carpaski>	Basically, it's marked in the real tree and 'diff'd for publication/release.
Jan 26 14:21:11 <tseng>	in fact, the entire process should become a GLEP, with specific recommendations on these issues.
Jan 26 14:21:12 <seemant>	thank you kurt, sorry I'm late
Jan 26 14:21:21 <klieber>	carpaski: if it was marked in the tree, would we still need to publish it separately?
Jan 26 14:21:29 <g2boojum>	seemant: Welcome.  Please read http://dev.gentoo.org/~klieber/server/requirements.txt, if you haven't already, and Kurt has some QA questions for you.
Jan 26 14:21:30 <spyderous>	seemant: want query of everything so far?
Jan 26 14:21:34 <pauldv>	carpaski: I think we might also create a list of "main packages" those packages will be check manually at release on whether their ~server versions are up to date. If they are not the maintainers can be consulted
Jan 26 14:21:42 <klieber>	tseng: that's the next step -- I want to get some input first, though.
Jan 26 14:22:08 <seemant>	spyderous: yes please
Jan 26 14:22:40 <tseng>	I like carpaski's solution, btw
Jan 26 14:22:57 <tseng>	this would make it easy for development to remain in the current tree.
Jan 26 14:23:09 <carpaski>	klieber: yes. It's a marker... and prone to deletion and modification (if by accident).
Jan 26 14:23:55 <avenj>	carpaski: that may get complex with things in files/ and so on, wouldn't it?
Jan 26 14:24:23 <carpaski>	Not really...
Jan 26 14:24:37 <carpaski>	The stuff in the common tree wouldn't be used, per se.
Jan 26 14:24:49 <carpaski>	It's a checkable tag for comparison only.
Jan 26 14:24:53 <avenj>	hmm
Jan 26 14:24:59 <klieber>	carpaski: but as we diff/publish, how would we pull all the right stuff from files/ as well?
Jan 26 14:24:59 <pauldv>	avenj: for portageng we could have a way to specify the files involved in an ebuild (would even allow for self-contained build packages, including everything)
Jan 26 14:25:05 <carpaski>	If oyu deleted the server ebuild...
Jan 26 14:25:11 <carpaski>	You'd be aware that something needed to be updated.
Jan 26 14:25:14 <avenj>	i'm actually starting to think a branch might be better to deal with issues like files/ files, old ebuilds getting removed from the existing tree, and so on
Jan 26 14:25:40 <carpaski>	You'd have two trees... So branch/repo is purely implementation.
Jan 26 14:25:49 <pauldv>	avenj: I think so too, also because the main tree will clutter a lot if we let 1 (or more) year old ebuilds linger around
Jan 26 14:25:56 <avenj>	carpaski: so things would be migrated by the maintainers?
Jan 26 14:25:59 <avenj>	pauldv: right
Jan 26 14:26:03 <carpaski>	By the server-dudes, yeah.
Jan 26 14:26:10 <klieber>	no no no
Jan 26 14:26:16 <pauldv>	avenj: also, we would release server just as tarball with a set of erata (patches)
Jan 26 14:26:22 <klieber>	it's crucial that this be integrated into the regular development process.
Jan 26 14:26:44 <klieber>	the stable tree should not be looked at as "server only"
Jan 26 14:26:55 <klieber>	we have a number of users who want stable vs. bleeding edge.
Jan 26 14:27:00 <klieber>	LWE re-affirmed this.
Jan 26 14:27:10 <pauldv>	klieber: I think we might use the server keyword (or something similar) to flag a candidate. (Maybe just have a server file specifying the server version and it's file)
Jan 26 14:27:33 <iggy>	too many devs are too careless to be trusted with something like this
Jan 26 14:27:34 <klieber>	pauldv: that's fine -- I just don't want it to be up to a (small) group of server-only folk to have the responsibility of doing this.
Jan 26 14:27:58 <klieber>	iggy: I don't think this can be effectively implemented and managed outside of the regular process.
Jan 26 14:28:06 <pauldv>	klieber: the flagging should be part of the process. Then a script creates a branch (whatever, I don't care) with only those ebuilds and supporting files that are needed
Jan 26 14:28:20 <klieber>	pauldv: that sounds reasonable.
Jan 26 14:28:28 <SwifT>	can't we have new ebuilds tell portage if they are bugfix/security or just new version? then have portage resort the ebuilds itself
Jan 26 14:28:33 <carpaski>	It's easy enough to invoke a policy that requires all files to be laid out by version... files/${PVR}/ and files/common
Jan 26 14:28:56 <iggy>	klieber: that may be true, but I still think you are going to have just as many accidents and mishaps if you let the entire dev group work on it
Jan 26 14:28:57 <avenj>	carpaski: not so easy to bend the existing implementations into shape
Jan 26 14:29:03 <carpaski>	It'd just be more cleanups.
Jan 26 14:29:05 <avenj>	yeah
Jan 26 14:29:12 <klieber>	iggy: quite possibly, especially at first.  I think it will smooth out over time, though.
Jan 26 14:29:17 <klieber>	especially as we improve our QA
Jan 26 14:29:21 <iggy>	I don't
Jan 26 14:29:23 <klieber>	which is where seemant comes in...
Jan 26 14:29:43 <klieber>	a large part of the success of the server project depends on proper QA being implemented
Jan 26 14:29:47 <seemant>	well, current QA effort is completely in its infancy
Jan 26 14:30:01 <pauldv>	SwifT: portage-ng ;-)
Jan 26 14:30:08 <SwifT>	ic :)
Jan 26 14:30:09 -->	cybersystem (cyber@cybersystem.staff.freenode) has joined #gentoo-meetings
Jan 26 14:30:10 <seemant>	and all we've talked about so far are possible tools (catalyst is an example, for build issues sanity)
Jan 26 14:30:23 <iggy>	you are always going to have careless devs in a volunteer organization, multiply that by the fact that they don't care about a stable tree, and you are going to have just as much trouble as if people were using !arch
Jan 26 14:30:32 <seemant>	and we've talked about encouraging/teaching all devs a mindset to be QA oriented
Jan 26 14:30:56 <seemant>	however, the more I've thought of it, the more it seems to me that we're going to have to separate ultra-stable from bleeding-edge
Jan 26 14:31:08 <avenj>	iggy: if people are repeatedly causing problems in the stable tree, devrel can deal with it
Jan 26 14:31:10 <klieber>	iggy: there will be errors, agreed.  But we need to weigh the risk of that against the feasibility of having 5-10 people try to tag and manage an entire tree.
Jan 26 14:31:13 <klieber>	I don't think it can be done.
Jan 26 14:31:14 <seemant>	whether we do that debian style, and allow people to sync from multiple tree branches, or what, I'm not sure
Jan 26 14:31:14 <pauldv>	klieber: I think that a core package list needs to be created which needs to be monitored for committing (indeed creating a set of lesser members to the ebuild universe) while others can be done more automatically
Jan 26 14:31:19 <avenj>	iggy: just like any other repeated QA problems
Jan 26 14:31:33 <seemant>	klieber: that's really something for carpaski and you to figure out -- what can be done with portage and with the infrastructure setup
Jan 26 14:31:41 <pauldv>	seemant: multiple trees that are far apart can very well create problems
Jan 26 14:31:58 <iggy>	I haven't seen much done to people thus far, maybe it all happens behind the scenes
Jan 26 14:32:05 <klieber>	seemant: we can handle multiple trees/branches/whatever infrastructure-wise.  I've been planning for that for a while now.
Jan 26 14:32:11 <avenj>	iggy: i haven't seen very many complaints
Jan 26 14:32:22 <avenj>	iggy: if nobody points out repeated offenders, we can't be expected to know about it
Jan 26 14:32:28 <carpaski>	klieber: My suggestion didn't need to be 5-10 people... You can have regular maintainer mark with ~server as potentials. You'd just need to see versions/packages with 'server' to get things moving.
Jan 26 14:32:47 <iggy>	avenj: what makes you think they are going to point them out more if there is a stable tree?
Jan 26 14:32:51 -->	solar (~solar@smtp.gentoo.org) has joined #gentoo-meetings
Jan 26 14:32:52 <klieber>	carpaski: ok, then that's doable then.  As long as the regular maintainers handle the ~server tagging, we can handle the rest.
Jan 26 14:33:07 <seemant>	klieber: then my personal suggestion is to branch out the RELEASE or STABLE branch at release time
Jan 26 14:33:10 <carpaski>	The idea would be to just ~server packages that they feel are good and well.
Jan 26 14:33:22 <avenj>	iggy: i have a feeling klieber will tell me if he's seeing a lot of issues in the stable tree, for one :)
Jan 26 14:33:35 <klieber>	seemant: I was also thinking this could/should be integrated with the branching of the GRP stuff that is already happening.
Jan 26 14:33:35 ---	SwifT gives voice to HumpBack
Jan 26 14:33:36 <seemant>	klieber: the freebsd model works -- quarterly updates on that, if necessary, security updates immediately
Jan 26 14:33:43 <klieber>	I'd like to dovetail into existing processes rather than create new one.s
Jan 26 14:33:44 <seemant>	klieber: howz that now?
Jan 26 14:33:52 <pauldv>	carpaski: how easy would it be to have a way to see which auxiliary files are used by an ebuild / specify that
Jan 26 14:33:56 <SwifT>	HumpBack: go ahead
Jan 26 14:34:00 <HumpBack>	How about having normal dev submitting stuff to the stable branch and then a "senior" dev testing and reporting if it is ok or not, this would give the "normal" dev a scoring. With time more "normal" devs could be upgraded based on that score.
Jan 26 14:34:02 <klieber>	seemant: well, not sure about this go around, but at least the first time GRP was released, drobbins branched the tree.
Jan 26 14:34:31 <carpaski>	pauldv: Uh... Automatically? Sandbox can report most if it with a little bit of modification... but not necessarily all files on every pass... conditionals and all...
Jan 26 14:34:43 <carpaski>	Easiest would be to create version and common subdirs in files.
Jan 26 14:34:51 <klieber>	HumpBack: I'd like to see something like that, but it belongs in QA imo as all our users should have that benefit and not just server folks.
Jan 26 14:34:52 -->	Pylon (pylon@20-8.stw.uni-duisburg.de) has joined #gentoo-meetings
Jan 26 14:35:01 <pauldv>	carpaski: so ideally we would just specify it in a list in portage (and maybe even use that in the ebuild)
Jan 26 14:35:29 <pauldv>	carpaski: versioned subdirs do create pointless duplication sometimes
Jan 26 14:35:47 <carpaski>	pauldv: Note the comment about common/
Jan 26 14:36:15 <seemant>	klieber: oh wow, I'd forgotten that! you're absolutely right
Jan 26 14:36:20 <klieber>	so what are the benefits of doing ~server instead of just branching?
Jan 26 14:36:33 ---	SwifT removes voice from HumpBack
Jan 26 14:36:56 <tseng>	it lets everyone stay in a single tree, simplifying development.
Jan 26 14:37:08 ---	SwifT gives voice to HumpBack
Jan 26 14:37:11 <HumpBack>	klieber: how about using bugzilla then. Having a stable@gentoo.org to who devs would post the new additions. Like that any user could go to the bugzilla and see bugs assigned to the "server" team.
Jan 26 14:37:13 <tseng>	the branch is later automated based on the keyword
Jan 26 14:37:30 <klieber>	tseng: so we're still branching in either case, right?
Jan 26 14:37:37 -->	tantive (~tantive@tantive.registered.freenode) has joined #gentoo-meetings
Jan 26 14:37:38 <tseng>	yes.
Jan 26 14:37:46 <klieber>	ok, that makes sense
Jan 26 14:37:59 <tseng>	cutting a release branch based on "server" keywords
Jan 26 14:38:04 <tseng>	everything else gets dropped.
Jan 26 14:38:17 -->	dertobi123 (~tobias@dertobi123.registered.freenode) has joined #gentoo-meetings
Jan 26 14:38:45 <carpaski>	It'd be something akin to a very selective branch.
Jan 26 14:38:57 <pauldv>	HumpBack: that would be quite inefficient. I would even prefer a staging area to which ebuilds would be uploaded to be candidates for server. Then these ebuilds can then be moved from the staging area to server by the server devs
Jan 26 14:39:33 <tseng>	carpaski covered this also w/ ~server
Jan 26 14:39:45 <tseng>	these are the candidates to be tagged for the next release branch.
Jan 26 14:39:51 <pauldv>	carpaski: klieber: what about a staging area with category/package-ver and a tool to move things to the real server tree
Jan 26 14:39:57 <g2boojum>	Since it's about 1940, let me again point out that so far most of the discussion has been about the frozen tree issues.  Are there any comments about the rest of the proposal?
Jan 26 14:40:04 <pauldv>	carpaski: that would solve the aux files problem.
Jan 26 14:40:09 <HumpBack>	pauldv: yes, but that staging area should be open to users to follow klieber's idea
Jan 26 14:40:29 <klieber>	ok -- tell you what -- sounds like everyone is ok with *some* sort of separate stable tree.  It just remains to figure out the implementation.
Jan 26 14:40:37 <tseng>	g2boojum, the other issues are largely underway.
Jan 26 14:40:39 <klieber>	so, I'll take the next step of creating/submitting a glep
Jan 26 14:40:47 <tseng>	g2boojum, and very defined at this point.
Jan 26 14:40:55 -->	LiveWire_ (rlj2@ppp-67-37-6-218.dialup.ipltin.ameritech.net) has joined #gentoo-meetings
Jan 26 14:41:09 <pauldv>	klieber: please. I think we can conclude that people agree with going further on this
Jan 26 14:41:18 ---	SwifT removes voice from HumpBack
Jan 26 14:41:22 <klieber>	if nobody has any other comments on the rest of the proposal, then perhaps we can open it up for questions?
Jan 26 14:41:29 <g2boojum>	tseng: I agree, but I wanted to give people a chance.
Jan 26 14:41:47 <tseng>	g2boojum: sorry =/
Jan 26 14:41:58 <tseng>	right, q&a time?
Jan 26 14:42:00 <g2boojum>	pauldv: Would you open the floor, please?
Jan 26 14:42:15 ---	pauldv sets mode -m #gentoo-meetings
Jan 26 14:42:24 *	klieber braces for the onslaught
Jan 26 14:42:27 <iggy>	klieber: what do you think about server metapackages?
Jan 26 14:42:30 <g2boojum>	The floor is now open for questions.  (Thanks, Paul)
Jan 26 14:42:34 *	pauldv trembles
Jan 26 14:42:37 <klieber>	iggy: what do you mean by that/
Jan 26 14:42:38 <klieber>	?
Jan 26 14:42:41 <klieber>	can you give me an example?
Jan 26 14:43:00 <tseng>	emerge vmail perhaps
Jan 26 14:43:02 <gustavoz>	klieber: have you considered doing some QA on updates & config files? some people will tend to auto-update blindly and the new revisions should just start & work, when possible, with the new packages
Jan 26 14:43:04 <--	LiveWire has quit (Read error: 113 (No route to host))
Jan 26 14:43:07 <pauldv>	klieber: a metapackage is something like the gnome or kde metapackages, but then for server app-groups
Jan 26 14:43:07 <tseng>	or emerge webapp
Jan 26 14:43:13 <spyderous>	i really feel like that concept won't work until reverse dependencies do
Jan 26 14:43:18 <klieber>	ah...hadn't considered that.
Jan 26 14:43:23 <klieber>	gustavoz: that's more of a QA thing
Jan 26 14:43:26 <iggy>	like "emerge postfix-courier-vmail" and you get postfix, courier-imap, mysql to do auth, etc
Jan 26 14:43:27 <tseng>	where webapp = apache + mod_php + mysql
Jan 26 14:43:32 <tseng>	right.
Jan 26 14:43:35 <spyderous>	otherwise you can't repurpose a server without sitting around unmerging everything manually
Jan 26 14:43:38 <klieber>	gustavoz: I think it's a great idea, but not within the scope of the server project.
Jan 26 14:43:57 <beejay>	Guys, I have another thing that looks also important to me
Jan 26 14:44:01 <gustavoz>	klieber: probably get files that don't need to be auto-updated out of etc-update's focus
Jan 26 14:44:05 <g2boojum>	iggy, gustavoz: Perhaps those would items would be better as scripts, instead?
Jan 26 14:44:11 <klieber>	iggy: I like the idea -- I just wonder how many users would be offended because we chose Foo instead of their favorite, Bar.
Jan 26 14:44:13 ---	seemant gives voice to DarkSpecter
Jan 26 14:44:22 *	klieber points at the number of "why no vim on the livecd?!?!?!1111"
Jan 26 14:44:24 <seemant>	DarkSpecter: that's a good idea -- you should repeat
Jan 26 14:44:29 <spyderous>	klieber: that's what USE flags are for. change the deps.
Jan 26 14:44:36 <klieber>	hrm...didn't think about that.
Jan 26 14:44:39 <pauldv>	klieber: I don't read -user anymore for that reason
Jan 26 14:44:44 <g2boojum>	beejay: Just spit it out.
Jan 26 14:44:44 <klieber>	that's a good option, actually
Jan 26 14:44:46 <DarkSpecter>	seemant: thx
Jan 26 14:44:48 <DarkSpecter>	just a idea, show me the flaw in it ;) why not keep this ultra stable tree completely separate, even away from the rsync servers, boxes running it would fetch a tarball ala webrsync initialy and then every update to this tree could be delivered a xdelta/deltup
Jan 26 14:45:02 <spyderous>	klieber: i've thought about it previously with virtual-desktops =P
Jan 26 14:45:05 <carpaski>	What's wrong with using depclean to clear deps?
Jan 26 14:45:20 <tseng>	its very manual atm.
Jan 26 14:45:23 <iggy>	klieber: well, other "enterprise" operating systems come with stuff like that ready to go, I'm personally okay with google and emerge
Jan 26 14:45:31 <klieber>	DarkSpecter: I'd rather avoid breaking too many existing processes with the server project.
Jan 26 14:45:44 <klieber>	DarkSpecter: doing so affects the project's ability to be sustainable imo
Jan 26 14:45:49 <pauldv>	carpaski: depclean only works when all packages have been updated.
Jan 26 14:46:07 <klieber>	iggy: yeah, I think it's a good idea.
Jan 26 14:46:19 <Pylon>	DarkSpecter: You ca do branching with CVS and tell the master-rsync to take only the most recent version and not a special branch (or the other way round, when we have the need for a stable-rsync-master).
Jan 26 14:46:20 <klieber>	esp. with use flags to control stuff.
Jan 26 14:46:22 <DarkSpecter>	klieber: well imo this ultra-stable tree needs a clear separation
Jan 26 14:46:36 <klieber>	DarkSpecter: agreed -- currently, we've proposed a separate tree via rsync.
Jan 26 14:46:50 <klieber>	we could also offer separate snapshots for webrsync usage.
Jan 26 14:47:00 <klieber>	I just don't know about the xdelta stuff.
Jan 26 14:47:14 <klieber>	I'd rather see that integrated into Gentoo proper before mucking around with it on -server.
Jan 26 14:47:31 <beejay>	LiveWire_ Brought some guy in contact with me who states that he's from IBM and interested about Gentoo on zSeries
Jan 26 14:47:41 <DarkSpecter>	klieber: webrsync will be anecesity i guess, in a corporate enviroment there are many paranoid firewalls, thats why i thought of this xdelta aproach
Jan 26 14:47:58 <klieber>	yep -- webrsync should be implemented.  good suggestion.
Jan 26 14:48:00 <gustavoz>	any plans on keeping an up to date set of GRP packages for -server? many production environments dislike the idea of having compilers around
Jan 26 14:48:00 <pauldv>	klieber: the changes should be small so a tarball with xdelta over rsync would probably the most efficient use of resources
Jan 26 14:48:37 <klieber>	gustavoz: no, not atm.  we will support use of binaries, but we have no plans to provide our own.
Jan 26 14:48:40 <genone>	webrsync will go away and its functionality integrated in emerge sync
Jan 26 14:48:57 <DarkSpecter>	Pylon: i don't realy care if it's a branch os a separate cvs tree as the needed maintanance is the same in both cases, but there has to be a clear separation imo
Jan 26 14:49:18 <Pylon>	DarkSpecter: agreed
Jan 26 14:49:19 <klieber>	pauldv: if all the functionality for xdelta exists in portage/gentoo then we'd certainly look at using it.  otherwise, like I said, I don't want to go too far outside the boundaries.
Jan 26 14:49:31 <bazik>	taking up gustavoz's point, some sort of "build and deploy" system would be handy. which means, build on one box and deploy to your network... its easy to do, but users want it all graphical and easy to manage as you know
Jan 26 14:49:41 <klieber>	DarkSpecter: I think we've all agreed so far that things will be separate.  So that shouldn't be an issue.
Jan 26 14:49:41 <Weeve>	will we have seperate server profiles?  if nothing else, the default useflags on the regular profiles don't seem server friendly.
Jan 26 14:49:50 <klieber>	bazik: GSDS
Jan 26 14:49:55 <bazik>	klieber: ?
Jan 26 14:49:56 <klieber>	Weeve: yes
Jan 26 14:50:00 <Pylon>	DarkSpecter: I just wanted to clearify that I don't like to see another portage-tree at the CVS-server...
Jan 26 14:50:01 <pauldv>	gustavoz: it should not be very complicated. catalyst automates much of GRP building. It would basically be a matter of calling the tool and waiting (a lot of that)
Jan 26 14:50:01 <klieber>	http://dev.gentoo.org/~klieber/server/requirements.txt
Jan 26 14:50:02 <Weeve>	klieber: awesome
Jan 26 14:50:31 <bazik>	klieber: cool
Jan 26 14:50:38 <gustavoz>	pauldv: in small production environments they won't want to do it themselves, that's why i ask
Jan 26 14:50:59 <bazik>	will the devs working on the stable server tree care as much about other archs as they do right now?
Jan 26 14:51:02 <klieber>	gustavoz: we have no plans to offer GRP binaries for server atm.
Jan 26 14:51:17 <DarkSpecter>	Pylon: the only benefit of the separate tree is that packages that definitely don't belong into the -server tree simply aren't in there
Jan 26 14:51:18 <klieber>	bazik: the devs working on the stable server tree will be all the regular devs
Jan 26 14:51:32 <bazik>	klieber: so no change... well 
Jan 26 14:51:33 *	carpaski notes that GRP is doing well in 2.0.50... It handles downloading better as well as a few other fixes.
Jan 26 14:51:35 <klieber>	bazik: we won't be putting our own ebuilds into the stable tree -- they will be pulled from the regular tree.
Jan 26 14:51:46 <Weeve>	On a different note, since developers now have the ability to see how their changes effect other architectures with repoman in 2.0.50_pre*, can you all quadruple check your commits that you aren't causing any new breaks for arches you can't test on?  people have been breaking dependencies a bit lately, particularly with stable packages.
Jan 26 14:52:05 <DarkSpecter>	Weeve++
Jan 26 14:52:12 <bazik>	i second and third that
Jan 26 14:52:13 <ciaranm>	Weeve++
Jan 26 14:52:24 <mboman>	while we are on the binary packages topic: could (will?) portage-ng support downloading pre-compiled packages from a FTP/WWW server? At the moment I run NFS on the build system and that works OK as long it's not too far away from the end server..
Jan 26 14:52:25 <Weeve>	Some people seem to be developing talents at it
Jan 26 14:52:36 <pauldv>	bazik: klieber: I think that ebuilds that are stable for an architecture will automatically be server ebuilds when they are put in the server tree for any other arch
Jan 26 14:52:36 <iggy>	mboman: it does now
Jan 26 14:52:37 <ciaranm>	mboman: portage does that already
Jan 26 14:52:40 <genone>	mboman: portage does that already
Jan 26 14:52:40 <SwifT>	mboman: portage already supports it
Jan 26 14:52:46 <klieber>	wow
Jan 26 14:52:51 <bazik>	another thing is that i raelly wonder how people manage to commit actually BROKEN ebuild as stable
Jan 26 14:52:55 <pauldv>	mboman: current pre portage supports it allready
Jan 26 14:53:02 <ciaranm>	pauldv: bootloaders? i can see some exceptions there...
Jan 26 14:53:03 <genone>	and -ng is still far far away
Jan 26 14:53:03 <bazik>	BROKEN in sense of syntax errors
Jan 26 14:53:08 <gustavoz>	somewhat offtopic... will/does catalyst support incremental GRP building? (as in new portage tree to create updates)
Jan 26 14:53:11 <Weeve>	the gentoo developer choir, now featuring ciaranm, gnome and SwifT!
Jan 26 14:53:12 <SwifT>	mboman: set PORTAGE_BINHOST variable to the WWW/FTP server and use --getbinpkg 
Jan 26 14:53:19 <tigger^>	pauldv: stable portage supports it too
Jan 26 14:53:19 <DarkSpecter>	bazik: easy, carpaski also implemented a --ignore-other-arches switch
Jan 26 14:53:19 <beejay>	gustavoz: yup
Jan 26 14:53:23 <dmwaters>	heh
Jan 26 14:53:27 <beejay>	gustavoz: RTFM ;)
Jan 26 14:53:38 <pauldv>	ciaranm: bootloaders hardly are stable for archs they do not work on
Jan 26 14:53:41 <spyderous>	mboman: portage can do that now
Jan 26 14:53:44 <beejay>	gustavoz: You can already to that
Jan 26 14:53:52 <genone>	spyderous: late
Jan 26 14:53:56 <Weeve>	gustavoz: tinderbox is probably what you want.
Jan 26 14:54:00 <ciaranm>	pauldv: i mean, won't a server flag confuse things there? or will portage be able to handle that?
Jan 26 14:54:02 <spyderous>	genone: i know =)
Jan 26 14:54:06 <Weeve>	gustavoz: as a catalyst target that is
Jan 26 14:54:14 <bazik>	DarkSpecter: i rather mean stuff like 'ssl ? ( foo-baz/bar ) in DEPEND
Jan 26 14:54:27 *	carpaski notes that nakano did the repoman stuff. :)
Jan 26 14:54:29 <bazik>	people commit ebuilds with those errors
Jan 26 14:54:37 <bazik>	they are not mergable and repoman pukes at it
Jan 26 14:54:40 <bazik>	still they get commited
Jan 26 14:54:44 *	carpaski also notes that binary downloads have been in for a lot longer than 2.0.50
Jan 26 14:54:48 <DarkSpecter>	bazik: guess there are still devs out there that don't commit with repoman
Jan 26 14:54:57 <bazik>	this should be restricted
Jan 26 14:55:05 <genone>	bazik: how ?
Jan 26 14:55:10 <ciaranm>	DarkSpecter: there are definitely devs who don't commit with repoman, and they regularly screw stuff up
Jan 26 14:55:13 -->	sj8trunks (squid@mobius.lpbproductions.com) has joined #gentoo-meetings
Jan 26 14:55:16 <klieber>	oh please don't say "cvs wrapper"
Jan 26 14:55:19 <bazik>	i am not that much in repoman and cvs things
Jan 26 14:55:22 <ciaranm>	how about a large stick?
Jan 26 14:55:24 <pauldv>	ciaranm: I think a staging area is better, but basically it would be ignored by portage. Only be used by a server collecting program
Jan 26 14:55:26 <SwifT>	cluebat
Jan 26 14:55:26 <SwifT>	:)
Jan 26 14:55:28 <bazik>	but if people dont learn, you have to force them
Jan 26 14:55:43 <ciaranm>	bazik: if people don't learn you take away their commit access
Jan 26 14:55:50 <bazik>	good point
Jan 26 14:55:54 <bazik>	can i open a blacklist? :P
Jan 26 14:55:57 <g2boojum>	People who regularly break things should be reported to devrel@gentoo.org.
Jan 26 14:56:00 <pauldv>	carpaski: auto-downloading has not been in so long. And it seems that the pre version handles it better than the previous version
Jan 26 14:56:12 <ciaranm>	especially when people commit a stable baselayout that has a DEPEND upon ~arch packages... grrrr
Jan 26 14:56:21 <carpaski>	16 Jul 2003; Nicholas Jones <carpaski@gentoo.org> getbinpkg.py: Supporting code for binary package retrieval.
Jan 26 14:56:22 <bazik>	ciaranm++
Jan 26 14:56:34 <Weeve>	g2boojum: you might post that to -core as i don't think many of us are aware of that.
Jan 26 14:56:46 <iggy>	we could tell repoman to add a special little "flag" to every commit it does, then search through the tree in a few weeks
Jan 26 14:56:48 <g2boojum>	It's about 3 minutes until 2000.  Any important issues that need to be raised?
Jan 26 14:56:52 <klieber>	ok, so are we done with -server stuff? can I wander back to my hole now?
Jan 26 14:57:00 <spyderous>	well, one little thing g2boojum
Jan 26 14:57:05 <g2boojum>	spyderous: k
Jan 26 14:57:09 <spyderous>	we're just starting some work on the gentoo installer
Jan 26 14:57:14 <spyderous>	anybody interested, /j #gentoo-installer
Jan 26 14:57:19 <spyderous>	that's all =)
Jan 26 14:57:24 <pauldv>	g2boojum: I won't be going anywhere for a while so questions/remarks are welcome
Jan 26 14:57:41 <Ramereth>	klieber: go back to your hole
Jan 26 14:57:48 <seemant>	I can't join that many channels :(
Jan 26 14:57:51 <seemant>	dmwaters: help
Jan 26 14:57:54 <carpaski>	If anyone is interested... porthole.sourceforge.net is kinda interesting.
Jan 26 14:58:01 <Pylon>	Just an information to the European Devs: There will be the Fosdem in February.  I summed up some ideas and organsitonal stuff at http://forums.gentoo.org/viewtopic.php?t=128462
Jan 26 14:58:09 <carpaski>	seemant: Normal human limit: 20
Jan 26 14:58:14 <tigger^>	spyderous: this gentoo-installed is gsds thing?
Jan 26 14:58:17 <beejay>	hmm...Fosdem...
Jan 26 14:58:21 <seemant>	carpaski: yeah, and looks like I've hit it
Jan 26 14:58:21 <g2boojum>	pauldv: That's fine.  I like to have an actual close of the official part of the meeting, though, so that folks who need to go can do so.
Jan 26 14:58:23 <--	SwifT has quit ("leaving")
Jan 26 14:58:24 <gustavoz>	beejay: i mean build updated GRPs, not the whole set, tinderbox does that?
Jan 26 14:58:34 <esammer>	if gentoo installer project comes together, gsds will be part of it
Jan 26 14:58:46 <spyderous>	tigger^: no, it'll be a comprehensive solution -- including a gui redhat-style thing
Jan 26 14:58:49 <beejay>	gustavoz: oh...I never tried that - I only know that it can do this grp stuff
Jan 26 14:58:58 <gustavoz>	hmm, then RTFM doesn't apply :)
Jan 26 14:58:59 <tigger^>	spyderous: marketing speak ;P
Jan 26 14:59:04 <gustavoz>	because the FM doesn't say ;-)
Jan 26 14:59:12 <g2boojum>	Oh, bother!  Did anybody log this meeting?  I forgot to turn on autolog.
Jan 26 14:59:17 <esammer>	g2boojum: i did
Jan 26 14:59:30 <carpaski>	seemant: I've talked with one of the devs. Working on getting things enhanced for them.
Jan 26 14:59:36 <iggy>	g2boojum: I log everything
Jan 26 14:59:47 <gustavoz>	Weeve: tinderbox does build just a set of GRPs? say, new update to apache and just build apache for a previous set?
Jan 26 14:59:49 <pauldv>	g2boojum: allways
Jan 26 14:59:51 <g2boojum>	esammer: Thanks.  Would you e-mail a copy to -core, please?
Jan 26 14:59:57 <seemant>	carpaski: that'll be cool
Jan 26 14:59:59 <esammer>	g2boojum: of course
Jan 26 15:00:11 <g2boojum>	iggy, pauldv: Thank you, as well.
Jan 26 15:00:17 <--	tigger^ (~rob@smtp.gentoo.org) has left #gentoo-meetings
Jan 26 15:00:27 <--	beejay (~benni@beejay.registered.freenode) has left #gentoo-meetings
Jan 26 15:00:35 <--	dertobi123 (~tobias@dertobi123.registered.freenode) has left #gentoo-meetings
Jan 26 15:01:19 <Weeve>	gustavoz: tinderbox is more for testing things out.  if you want to update a package, pkgcache was enabled on a previous run through, and nothing that depends on that package will break from the update, you could just change the given package in the portage snapshot and re-run the stage.  it'll use the binary packages for the rest of them.
Jan 26 15:01:30 <--	HumpBack has quit ("Client exiting")
Jan 26 15:01:36 <g2boojum>	Okay, I'm closing the meeting.  Feel free to chat, but I spent three+ hours this morning driving on ice in a state w/o decent snow/ice removal equipment, so I'm catching some sleep.
Jan 26 15:01:50 <klieber>	thanks grant
Jan 26 15:01:58 <tseng>	heh, I'm signing off as well.
Jan 26 15:02:03 <tseng>	good work grant.
Jan 26 15:02:04 <g2boojum>	klieber: You're quite welcome.  Thanks for the report.
Jan 26 15:02:08 <tseng>	thanks klieber.
