<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/en/hardened/selinux/Attic/hb-selinux-initpol.xml,v 1.6 2008/05/20 15:45:43 pebenito Exp $ -->

<sections>
<version>1.3</version>
<date>2004-11-16</date>

<section><title>Verify Available Policy</title>
<subsection><body>
<p>
  You must be in <c>sysadm_r</c> to perform this action.
</p>
<p>
  A binary policy must be available in 
  /etc/selinux/{strict,targeted}/policy.  If it is missing, then install
  the policy.
</p>
<pre caption="Install policy">
# <i>semodule -n -B</i>
</pre>
</body>
</subsection>
</section>

<section><title>Verify Init Can Load the Policy</title>
<subsection><body>
<p>
  The final check is to ensure init can load the policy.  Run <c>ldd</c> on
  init, and if libselinux is not in the output, remerge sysvinit.
</p>
<pre caption="">
# <i>ldd /sbin/init</i>
  linux-gate.so.1 =>  (0xffffe000)
  <comment>libselinux.so.1 => /lib/libselinux.so.1 (0x40025000)</comment>
  libc.so.6 => /lib/libc.so.6 (0x40035000)
  /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)
</pre>
<p>
  Now reboot so init gains the correct context, and loads the policy.
</p>
</body></subsection>
</section>
</sections>
