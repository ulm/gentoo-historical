<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/fr/overlays/userguide.xml,v 1.6 2012/10/28 15:21:21 swift Exp $ -->

<!-- Le contenu de ce document est sous licence CC-BY-SA. -->
<!-- Voir http://creativecommons.org/licenses/by-sa/2.5 -->

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->

<guide lang="fr">
<title>Les surcouches de Gentoo&nbsp;: guide de l'utilisateur</title>

<author title="Auteur">
  <mail link="stuart">Stuart Herbert</mail>
</author>
<author title="Author">
  <mail link="jokey">Markus Ullmann</mail>
</author>
<author title="Traducteur">
  <mail link="nicolas@litchinko.fr">Nicolas Litchinko</mail>
</author>

<abstract>
Ce guide aide les utilisateurs à appréhender l'utilisation du service des
surcouches de Portage (ou «&nbsp;overlays&nbsp;»).
</abstract>

<license/>

<version>1.1</version>
<date>2008-10-30</date>

<chapter>
<title>Introduction</title>

<section>
<title>Public visé</title>
<body>

<p>
Ce document a été écrit pour tous les utilisateurs de Gentoo. Si vous êtes un
développeur Gentoo ou un membre du staff de Gentoo et que vous désirez gérer
votre propre surcouche, veuillez vous réferer au <uri
link="/proj/en/overlays/devguide.xml">Guide du Développeur</uri>.
</p>

</body>
</section>

<section>
<title>Que sont les surcouches&nbsp;?</title>
<body>

<p>
Les surcouches ou «&nbsp;overlays&nbsp;» sont des arbres de paquets pour
Portage. Elles contiennent des ebuilds supplémentaires pour Gentoo. Elles sont
gérées par des développeurs Gentoo et les projets, mais sont diffusées
séparément de l'arbre principal de Portage.
</p>

</body>
</section>

<section>
<title>Pourquoi utiliser les surcouches&nbsp;?</title>
<body>

<p>
Les gens créent des surcouches pour toutes sortes de raisons. Voici les
principales&nbsp;:
</p>

<ul>
  <li>
    Si vous modifiez un ebuild dans <path>/usr/portage</path>, votre
    modification sera perdue dès que vous exécuterez <c>emerge --sync</c>.
    Toutefois, si vous placez votre modification dans une surcouche, elle ne
    sera pas écrasée par <c>emerge --sync</c>.
  </li>
  <li>
    Puisque les surcouches ne sont pas l'arbre principal de Portage, elles sont
    un emplacement privilégié pour développer et tester un ebuild sans risquer
    de compromettre l'arbre principal de Portage.
  </li>
  <li>
    Tous les ebuilds ne sont pas adaptés à l'arbre principal de Portage. Une
    surcouche est un bon emplacement pour stocker un ebuild jusqu'à ce qu'il
    soit prêt à être intégré dans l'arbre principal de Portage.
  </li>
</ul>

</body>
</section>

<section>
<title>Qu'est-ce que le projet Gentoo Overlays&nbsp;?</title>
<body>

<p>
Le projet Gentoo Overlays fournit des emplacements de travail pour permettre
aux projets, développeurs et utilisateurs de Gentoo de collaborer autour des
paquets Gentoo de demain. Nous permettons cela en hébergeant des surcouches
pour les projets et les développeurs de Gentoo.
</p>

</body>
</section>

<section>
<title>Est-ce que toutes les surcouches officielles sont hébergées sur
overlays.gentoo.org&nbsp;?</title>
<body>

<p>
Non. Les développeurs Gentoo sont libres de placer leurs surcouches où il leur
plaît. Ils ne sont pas forcés d'utiliser overlays.gentoo.org s'ils ne le
souhaitent pas.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Débuter avec les surcouches</title>
<section>
<body>

<p>
Gunnar Wrobel a créé Layman pour installer et mettre à jour les surcouches.
</p>

</body>
</section>

<section>
<title>Installation de Layman</title>
<body>

<p>
Pour installer Layman, exécutez les commandes suivantes&nbsp;:
</p>

<pre caption="Installation de Layman">
# <i>emerge layman</i>
</pre>

<pre caption="Indiquer à Portage comment récupérer les dépôts de layman">
<comment>(pour layman 1.1)</comment>
<i># echo "source /usr/portage/local/layman/make.conf" >> /etc/make.conf</i>

<comment>(pour layman 1.2 et supérieur)</comment>
<i># echo "source /usr/local/portage/layman/make.conf" >> /etc/make.conf</i>
</pre>

<note>
Layman va créer un fichier <path>/usr/local/portage/layman/make.conf</path> dès
que vous ajouterez votre première surcouche. Toutefois, si vous ne comptez pas
installer une surcouche immédiatement, vous devriez vous assurez que ce fichier
existe et qu'il contient la variable vide PORTDIR_OVERLAY. Dans le cas
contraire, Portage va se plaindre. Vous pouvez exécuter <c>echo
PORTDIR_OVERLAY=\"\" > /usr/portage/local/layman/make.conf</c> pour créer ce
fichier correctement.
</note>

</body>
</section>

<section>
<title>Afficher la liste des surcouches disponibles</title>
<body>

<p>
Pour afficher la liste des surcouches disponibles, exécutez&nbsp;:
</p>

<pre caption="Afficher la liste des surcouches disponibles">
# <i>layman -L</i>
</pre>

</body>
</section>

<section>
<title>Installer une surcouche</title>
<body>

<p>
Pour installer une surcouche sur votre ordinateur, exécutez&nbsp;
</p>

<pre caption="Ajouter une surcouche">
# <i>layman -a &lt;nom-de-la-surcouche&gt;</i>
</pre>

<p>
Par exemple, pour installer <uri link="http://overlays.gentoo.org/proj/php">la
surcouche du projet PHP de Gentoo</uri>, exécutez&nbsp;:
</p>

<pre caption="Ajoutez la surcouche du projet PHP de Gentoo">
# <i>layman -a php</i>
</pre>

</body>
</section>

<section>
<title>Installer des paquets depuis une surcouche</title>
<body>

<p>
Après avoir installé une surcouche, vous pouvez installer des paquets de cette
surcouche en exécutant&nbsp;:
</p>

<pre caption="Installer un paquet depuis une surcouche">
# <i>emerge -av &lt;categorie&gt;/&lt;paquet&gt;</i>
</pre>

<p>
Portage parcourt automatiquement l'arbre principal de Portage (dans
<path>/usr/portage</path>) et toutes les surcouches que vous avez installées et
sélectionne la version la plus récente du paquet.
</p>

<p>
Si Portage ne sélectionne pas le paquet fourni par la surcouche, c'est en
général parce que le paquet est marqué ~arch , où «&nbsp;arch&nbsp;» est
l'architecture de votre ordinateur (souvent x86).
</p>

</body>
</section>

<section>
<title>Mettre à jour une surcouche</title>
<body>

<p>
Pour garder les surcouches que vous avez installées à jour, exécutez&nbsp;:
</p>

<pre caption="Mettre à jour les surcouches installées">
# <i>layman -S</i>
</pre>

<p>
Veuillez ne pas exécuter cette commande plus d'une fois par jour ou vous
pourriez mettre trop de pression sur l'infrastructure de Gentoo.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Comment s'investir</title>

<section>
<title>Introduction</title>
<body>

<p>
Tous les développeurs Gentoo ont été des utilisateurs de Gentoo avant de
devenir développeurs et sont toujours des utilisateurs. Nos utilisateurs sont
la raison pour laquelle Gentoo existe aujourd'hui&nbsp;; ils sont également nos
futurs volontaires.
</p>

<p>
Si vous commencez à contribuer à un projet, nous vous donnerons un accès en
écriture à la surcouche du projet et nous vous fournirons des mentors pour vous
aider dans votre contribution. Si nous apprécions votre travail et la façon
dont vous le faites, nous pourrions vous inviter à rejoindre l'équipe des
développeurs Gentoo.
</p>

</body>
</section>

<section>
<title>Comment démarrer</title>
<body>

<p>
Si vous voulez contribuer à une surcouche, la meilleure méthode est de créer
des liens solides avec les développeurs Gentoo responsables de cette surcouche.
Vous pouvez découvrir qui est responsable de chaque surcouche en consultant
<uri link="http://overlays.gentoo.org">la page de garde
d'overlays.gentoo.org</uri> et en cliquant sur le lien de la surcouche en
question.
</p>

<p>
Les développeurs peuvent être contactés de différentes manières. Certains sont
disponibles sur IRC et ont peut-être même leurs propres salons pour leurs
projets. C'est le cas par exemple du projet PHP de Gentoo (#gentoo-php) et du
projet Webapps (#gentoo-web). D'autres préfèrent être contactés uniquement par
courrier électronique. La seule façon de le découvrir est d'essayer de les
contacter. Généralement les personnes présentes sur le canal #gentoo-bugs du
réseau IRC Freenode savent comment trouver les responsables en question.
</p>

</body>
</section>

<section>
<title>Travailler avec Subversion</title>
<body>

<p>
Subversion est l'un des progiciels de gestion des versions que nous utilisons
pour gérer le contenu de nos surcouches. Si vous n'avez jamais utilisé
Subversion auparavant, le livre de Subversion (en anglais) est un excellent
moyen d'apprendre à se servir de Subversion. Vous pouvez soit l'acheter au
format papier, soit le lire gratuitement en ligne.
</p>

</body>
</section>

<section>
<title>Travailler avec Git</title>
<body>

<p>
Git est un autre progiciel de gestion des versions que nous utilisons pour nos
surcouches. Vous pourrez le découvrir et apprendre à l'utiliser grâce au
tutoriel fourni sur le site web.
</p>

</body>
</section>

<section>
<title>Plus d'information</title>
<body>

<p>
Le projet Gentoo (ou le développeur) avec lequel vous travaillez devrait être
en mesure de vous procurer l'aide et l'assistance dont vous pourriez avoir
besoin.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Foire aux questions</title>
<section>
<body>

<p>
Q : Hébergez-vous des surcouches pour les utilisateurs&nbsp;?
</p>

<ul>
  <li>
    R : Non. Si vous désirez faire héberger votre propre surcouche sur
    (git.)overlays.gentoo.org, vous devez d'abord devenir un développeur Gentoo.
  </li>
</ul>

</body>
</section>
</chapter>
</guide>
