<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/pl/hardened/selinux/Attic/hb-install-tools.xml,v 1.1 2006/04/07 21:35:54 shadoww Exp $ -->

<sections>
<section>
<title>Program logujący</title>
<body>

<p>
Mówiąc o <e>stage3</e> wspomnieliśmy, że zawiera on wszystkie potrzebne
narzędzia systemowe, dla których nie ma alternatywy w postaci inny
programów. Powiedzieliśmy również, że pozostałe narzędzie zainstalujemy później.
Właśnie teraz się tym zajmiemy.
</p>

<p>
Pierwszym narzędziem, przy którym należy dokonać wyboru, jest program do obsługi
logów systemowych. Unix i Linux posiadają bogatą historię w tym zakresie. Jeśli
to konieczne, można logować do plików wszystko, co dzieje się w systemie.
Mechanizmem tym zarządza właśnie <e>program logujący</e>.
</p>

<p>
Gentoo oferuje kilka różnych programów logujących: <c>sysklogd</c> - tradycyjny
zestaw logujących demonów, <c>syslog-ng</c> - zaawansowany program logujący oraz
<c>metalog</c>, charakteryzujący się dużą liczbą opcji konfiguracyjnych. W
drzewie Portage znajduje cały wachlarz programów logujących i innych - liczba
naszych pakietów rośnie z każdym dniem.
</p>

<note>
Tylko <c>metalog</c> i <c>syslog-ng</c> zostały w pełni przetestowane z aktualną
polityką SELinux, niemniej jednak można wypróbować inne programy logujące.
</note>

<p>
Jeśli nie jesteśmy zdecydowani, z jakiego programu logującego powinniśmy
skorzystać, wybierzmy <c>metalog</c>. Jest to potężne narzędzie z bardzo
dobrą domyślną konfiguracją.
</p>

<p>
Wybrany program logujący instalujemy przy użyciu narzędzia <c>emerge</c>, a
następnie dodajemy do domyślego poziomu uruchamiania wykorzystując program
<c>rc-update</c>. Poniższy przykład przedstawia instalację
<c>metalog</c>. Należy zastąpić jego nazwę nazwą wybranego programu.
</p>

<pre caption="Instalacja programu logującego">
# <i>emerge metalog</i>
# <i>rc-update add metalog default</i>
</pre>

</body>
</section>
<section>
<title>Opcjonalnie: demon Cron</title>
<body>

<p>
Następnym programem jest demon Cron. Pomimo, że jest on opcjonalny i nie jest
wymagany do poprawnej pracy systemu, zalecane jest jego zainstalowanie. Czym
jest demon Cron? Jest to program służący do wykonywania zaplanowanych poleceń w
określonym czasie. Jest on bardzo przydatny, gdy wykonujemy pewne czynności
regularnie (na przykład codziennie, co tydzień, co miesiąc).
</p>

<p>
Gentoo oferuje trzy demony cron: <c>dcron</c>, <c>fcron</c> i
<c>vixie-cron</c>. Instalacja wybranego demona jest podobna do instalacji
programu logującego, jednak <c>dcron</c> i <c>fcron</c> wymagają wykonania
dodatkowego polecenia: <c>crontab /etc/crontab</c>. Jeśli nie jesteśmy pewni co
powinniśmy wybrać, zainstalujmy <c>vixie-cron</c>.
</p>

<note>
Demon cron wymaga patcha SELinux do poprawnej pracy. Tylko <c>vixie-cron</c> i
<c>fcron</c> posiadają obsługę tej funkcjonalności.
</note>

<pre caption="Instalacja demona cron">
# <i>emerge vixie-cron</i>
# <i>rc-update add vixie-cron default</i>
<comment>(Jeśli wybraliśmy dcron lub fcron)</comment>
# <i>crontab /etc/crontab</i>
</pre>

</body>
</section>
<section>
<title>Narzędzia obsługi systemu plików</title>
<body>

<p>
W zależności od tego, jakiego systemu plików używamy, musimy zainstalować
odpowiednie narzędzia do jego obsługi (do sprawdzania jego integralności,
czy też tworzenia dodatkowych systemów plików).
</p>

<p>
Poniższa tabela przedstawia jakie narzędzia musimy zainstalować w zależności od
tego, z jakiego systemu plików korzystamy.
</p>

<table>
<tr>
  <th>System plików</th>
  <th>Narzędzie</th>
  <th>Polecenie instalujące</th>
</tr>
<tr>
  <ti>XFS</ti>
  <ti>xfsprogs</ti>
  <ti><c>emerge xfsprogs</c></ti>
</tr>
<!--
<tr>
  <ti>ReiserFS</ti>
  <ti>reiserfsprogs</ti>
  <ti><c>emerge reiserfsprogs</c></ti>
</tr>
-->
<tr>
  <ti>JFS</ti>
  <ti>jfsutils</ti>
  <ti><c>emerge jfsutils</c></ti>
</tr>
</table>

<!-- TODO reactivate when LVM2 instructions are boarded
<p>
If you are an LVM user, you also need to install <c>lvm-user</c>:
</p>

<pre caption="Installing LVM utilities">
# <i>emerge - -usepkg lvm-user</i>
</pre>
-->

<p>
Jeśli nie potrzebujemy programu <c>rp-pppoe</c> do łączenia się z internetem,
kontynuujemy instalację zgodnie z rozdziałem <uri
link="?part=1&amp;chap=10">Konfiguracja bootloadera</uri>. W innym przypadku
przechodzimy do akapitu <uri link="#doc_chap4">Opcjonalnie: narzędzia sieciowe</uri>.
</p>

</body>
</section>
<section>
<title>Opcjonalnie: narzędzia sieciowe</title>
<body>

<p>
Jeśli do łączenia się z siecią potrzebujemy programu <c>rp-pppoe</c>, należy go
zainstalować.
</p>

<pre caption="Instalowanie rp-pppoe">
# <i>USE="-X" emerge rp-pppoe</i>
</pre>

<p>
Użycie <c>USE="-X"</c> zapobiega instalacji pakietu xorg-x11, który jest jedną z
zależności <c>rp-pppoe</c> (<c>rp-pppoe</c> posiada narzędzia graficzne; aby z
nich korzystać, należy przekompilować ten program po instalacji serwera xorg-x11
lub zainstalować serwer teraz, jednak jego kompilacja zajmie dużo czasu).
</p>

</body>
</section>
</sections>
