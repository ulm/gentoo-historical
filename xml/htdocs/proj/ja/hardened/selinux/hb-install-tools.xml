<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/proj/ja/hardened/selinux/Attic/hb-install-tools.xml,v 1.3 2006/02/17 20:25:01 idani Exp $ -->

<!-- Original revision: 1.3 -->

<sections>
<section>
<title>システムログツール</title>
<body>

<p>
<e>stage3</e>とは何かを説明した際に、ユーザーには選択肢は与えられない代りに必要な全てのシステムツールが含まれていると言いました。またその一方で、後で他のツールをインストールするとも言いました。では、見てみましょう。:)
</p>

<p>
最初に決める必要のあるツールは、システムにロギング機能を提供するものです。UnixとLinuxにはログ性能の素晴らしい歴史があります。もし望むならログファイルにシステムで起こった全てを記録できます。これは<e>システムログツール</e>を通して行われます。
</p>

<p>
Gentooでは選択可能ないくつかのシステムログツールを提供しています。伝統的なシステムロギングデーモンの<c>sysklogd</c>があります。<c>syslog-ng</c>は高機能なシステムログツールです。そして<c>metalog</c>は詳細な設定ができるシステムログツールです。他の選択もPortageを通じて可能でしょう。有効パッケージの数は日毎に増えていますから。
</p>

<note>
<c>metalog</c>と<c>syslog-ng</c>のみが現在のSELinuxポリシーで完全にテストされていますが、他のログツールを試すことも歓迎されます。
</note>

<p>
もし決められないなら、デフォルトの設定がとても優れて、強力なので<c>metalog</c>を使ってください。
</p>

<p>
選択したシステムログツールをインストールするには、それを<c>emerge</c>して、<c>rc-update</c>を使って通常にランレベルにスクリプトを追加してください。次の例では<c>metalog</c>をインストールします。もちろん自分で選択したシステムログツールに置き換えても構いません。
</p>

<pre caption="システムログツールをインストールする">
# <i>emerge metalog</i>
# <i>rc-update add metalog default</i>
</pre>

</body>
</section>
<section>
<title>自由選択:Cronデーモン</title>
<body>

<p>
次はcronデーモンです。これは任意で、システムに必須ではありませんが、インストールするのは賢明なことです。しかしcronデーモンとは何でしょうか。cronデーモンは予定されたコマンドを実行します。定期的にあるコマンドを実行する必要があるならとても重宝します。(例えば日毎、週毎、月毎)。
</p>

<p>
Gentooでは3つのcronデーモンを提供しています。<c>dcron</c>、<c>fcron</c>そして<c>vixie-cron</c>です。その内の1つをインストールするのはシステムログツールをインストールするのに似ています。しかし、<c>dcron</c>と<c>fcron</c>では特別な設定コマンドが必要とされます。すなわち<c>crontab /etc/crontab</c>です。もし何を選んだら良いかわからなかったら、<c>vixie-cron</c>を使ってください。
</p>

<note>
Cronは、機能的に正しく動作するために、SELinux用パッチを当てる必要があります。
vixie-cronとfcronのみがこれをサポートしています。
</note>

<pre caption="cronデーモンをインストールする">
# <i>emerge vixie-cron</i>
# <i>rc-update add vixie-cron default</i>
<comment>(dcronかfcronを選んだときのみ)</comment> # <i>crontab /etc/crontab</i>
</pre>

</body>
</section>
<section>
<title>ファイルシステムツール</title>
<body>

<p>
使っているファイルシステムに依存しますが、必須のファイルシステムツールをインストールする必要があります(ファイルシステムの整合性をチェックしたり、追加のファイルシステムを作成する等のために)。
</p>

<p>
次の表はどのファイルシステムを使っているかでどのツールをインストールする必要があるかを表しています。
</p>

<table>
<tr>
  <th>ファイルシステム</th>
  <th>ツール</th>
  <th>インストールコマンド</th>
</tr>
<tr>
  <ti>XFS</ti>
  <ti>xfsprogs</ti>
  <ti><c>emerge xfsprogs</c></ti>
</tr>
<!--
<tr>
  <ti>ReiserFS</ti>
  <ti>reiserfsprogs</ti>
  <ti><c>emerge reiserfsprogs</c></ti>
</tr>
-->
<tr>
  <ti>JFS</ti>
  <ti>jfsutils</ti>
  <ti><c>emerge jfsutils</c></ti>
</tr>
</table>

<p>
もしLVMユーザーなら、<c>lvm-user</c>もインストールする必要があります。
</p>

<pre caption="LVMユーティリティーをインストールする">
# <i>emerge lvm-user</i>
</pre>

<p>
もしEVMSユーザーなら、<c>evms</c>もインストールする必要があります。
</p>

<pre caption="EVMSユーティリティーをインストールする">
# <i>emerge evms</i>
</pre>


<p>
インターネットに接続するために<c>rp-pppoe</c>が必要なければ、<uri link="?part=1&amp;chap=10">ブートローダを設定する</uri>に進んでください。
そうでなければ、<uri link="#doc_chap4">自由選択: ネットワークツール</uri>に進んでください。
</p>

</body>
</section>
<section>
<title>自由選択: ネットワークツール</title>
<body>

<p>
もしインターネットに接続するのに<c>rp-pppoe</c>が必要なら、インストールしなければなりません。
</p>

<pre caption="rp-pppoeをインストールする">
# <i>USE="-X" emerge rp-pppoe</i>
</pre>

<p>
<c>USE="-X"</c>は、依存関係によるxorg-x11のインストールを防ぎます。(<c>rp-pppoe</c>にはグラフィカルツールがあります。もしそれを有効にしたいなら、後で<c>rp-pppoe</c>を再コンパイルできますし、コンパイルにかなりの時間が掛かりますがxorg-x11をここでインストールもできます)。
</p>

</body>
</section>
</sections>
