<?xml version='1.0'?>
<!DOCTYPE guide SYSTEM "../../../dtd/guide.dtd">
<guide link="/doc/mirroring.html">

<title>Gentoo Linux Mirroring Anleitung</title>

<author title="Chief Architect"><mail link="drobbins@gentoo.org">Daniel Robbins</mail></author>
<author title="Editor"><mail link="peitolm@gentoo.org">Colin Morey</mail></author>
<author title="&#220;bersetzung"><mail link="scandium@gentoo-linux.net">Rainer Groesslinger</mail></author>

<abstract>
Dieses Dokument beinhaltet Anweisungen um einen Gentoo Linux rsync Mirror zu erstellen.
</abstract>

<version>1.0</version>
<date>04 Mai 2002</date>

<chapter>
<title>Erstellen eines rsync Mirrors</title>
<section>
<body>

<p>Zur Zeit ben&#xF6;tigt man ca. 56Mb um unseren Portage tree zu mirrorn, es ist also nicht
sehr Speicherintensiv; mit min. 200Mb freiem Speicher sollte man genug Speicher f&#xFC;r das zuk&#xFC;nftige Wachstum haben.
Einen Portage tree Mirror zu erstellen ist einfach -- Stellen Sie zuerst sicher, dass ihr Mirror rsync
installiert hat. Dann bearbeiten Sie die Datei <path>rsyncd.conf</path> um etwa so
auszusehen: </p>

<pre>
pid file = /var/run/rsyncd.pid
motd file = /etc/rsync/rsyncd.motd
syslog facility = local3
timeout = 150
[gentoo-x86-portage]
        path = /space/gentoo/rsync
        comment = Gentoo Linux Portage tree
[gentoo-portage]
        path = /space/gentoo/rsync
        comment = Gentoo Linux Portage tree 
</pre>

<p>Im obigen Beispiel zeigt der <c>gentoo-x86-portage</c> Mirror zu den selben Daten wie
<c>gentoo-portage</c>. Obwohl wir vor kurzem den offiziellen Name des Mirrors zu
<c>gentoo-portage</c> ge&#xE4;ndert haben, wird <c>gentoo-x86-portage</c> noch f&#xFC;r zur&#xFC;ckgreifende Kompatibilit&#xE4;t
ben&#xF6;tigt, f&#xFC;gen Sie also beide Eintr&#xE4;ge ein. Ihre rsync motd kann alles annehmbare enthalten,
wie z.B. Informationen &#xFC;ber den Host der den Portage Mirror zur Verf&#xFC;gung stellt und administrative Kontakte.</p>

<p>Jetzt m&#xFC;ssen Sie den Gentoo Linux Portage tree mirrorn. Sie sollten den folgenden Befehl
daf&#xFC;r benutzen:</p> <pre>rsync -rlptDvz --delete
rsync://rsync.gentoo.org/gentoo-portage/ /space/gentoo/rsync/</pre> <p>Vergewissern Sie sich, dass
Sie die <c>--delete</c> Option aktiviert haben, damit die veralteten ebuilds von ihrem Mirror
gel&#xF6;scht werden. Erstellen Sie einen cron job der jede halbe Stunde den rsync ausf&#xFC;hrt, und zwar um :00
und :30. Schicken Sie dann eine email an <mail link="sandymac_[at]_gentoo.org">William McArthur</mail> 
und lassen Sie ihn wissen, dass ihr rsync Mirror bereit ist. Er wird dann einen offiziellen
rsync[num].[countrycode].gentoo.org DNS Eintrag erstellen und Sie in unseren DNS
Zyklus f&#xFC;r rsync.gentoo.org und rsync.[countrycode].gentoo.org eintragen. Er wird auch
cvs.gentoo.org's QoS erstellen, damit Sie "bevorzugten" Zugriff auf unsere
rsync Server erhalten. Kurz nachdem Sie in unseren DNS eingetragen wurden, sollten sie
rsync Zugriffe sehen; Dann m&#xFC;ssen Sie den cron job so &#xE4;ndern, dass er auf den Haupt-Mirror
- rsync://rsync1.us.gentoo.org verweist (alles andere sollte gleich bleiben).
-- Danke, dass sie Gentoo Linux Usern und Entwicklern helfen! :)</p>

</body>
</section>
</chapter>
</guide>

