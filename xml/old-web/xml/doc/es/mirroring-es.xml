<?xml version='1.0' encoding="ISO-8859-15"?>
<guide link="/doc/mirroring-es.html">

<title>Guía para preparar Sítio de Réplicas Espejo (mirror) de Gentoo Linux</title>

<author title="Chief Architect">
<mail link="drobbins@gentoo.org">Daniel Robbins</mail>
<author title="Traductor"><mail link="pdmp@interhoster.com">Pedro Del Medico P.</mail></author>
<author title="Editor-es"><mail link="bass@gentoo.org">José Alberto Suárez López</mail></author>

</author>

<abstract>Este documento contiene las instrucciones necesarias para preparar 
un Mirror ó Sítio de Réplicas Espejo con la finalidad de poder usar rsync en ellos.
</abstract>

<version>1.0</version>
<date>04 May 2002</date>

<chapter>
<title>Configurando un Sítio de Réplicas (mirror) con rsync</title>
<section>
<body>

<p>En este momento, un Sítio de Réplicas del árbol de Portage requiere cerca de 56Mb, 
de manera tal, que no requiere un espacio tan extensivo, teniendo al menos 200 Mb 
libres, le permitiran incluso espacio para crecer.
Configurar un árbol de Portage para réplicas es simple -- primero, asegúrese de 
tener rsync instalado. Luego ajuste su archivo  <path>rsyncd.conf</path> para que 
luzca identico al siguiente: </p>

<pre>
pid file = /var/run/rsyncd.pid
motd file = /etc/rsync/rsyncd.motd
syslog facility = local3
timeout = 150
[gentoo-x86-portage]
        path = /space/gentoo/rsync
        comment = Arbol de Gentoo Linux Portage
[gentoo-portage]
        path = /space/gentoo/rsync
        comment = Arbol de Gentoo Linux Portage 
</pre>

<p>Arriba, el enlace del punto de réplica de <c>gentoo-x86-portage</c> apunta al 
mismo punto de los datos que tiene <c>gentoo-portage</c>.  También recientemente 
hemos cambiado el nombre oficial de nuestro sítio de réplicas a <c>gentoo-portage</c>, 
<c>gentoo-x86-portage</c> es necesario para compatibilidad retroactiva, de manera 
tal que debe incluir ambas entradas. El archivo motd de su rsync puede contener 
cualquier texto razonable, tal como la información del huesped que provee la réplica 
de Portage y los datos de los contactos administrativos.</p>

<p>Ahora, necesita replicar el árbol de Gentoo Linux Portage. Debe usar el siguiente 
comando para ello:</p> 
<pre>rsync -rlptDvz --delete rsync://cvs.gentoo.org/gentoo-portage/* /space/gentoo/rsync/</pre> 
<p>Asegúrese de habilitar la opción <c>--delete</c> de manera que viejos ebuilds sean 
removidos de su sítio de réplicas. Programe su actividad cron para que corra el rsync 
cada media hora, en los :00 y :30. Luego envíe un correo a <mail link="drobbins@gentoo.org">Daniel
Robbins</mail> y hagale saber a él que su sítio de réplicas esta listo.  Daniel 
configurará una entrada DNS oficial rsync[num].[codigodepais].gentoo.org y agregarlo 
a usted nuestro DNS round-robin para rsync.gentoo.org y rsync.[codigodepais].gentoo.org.  
Tambien configurará el QoS de cvs.gentoo.org de manera tal que tenga acceso "preferencial" 
a nuestro servidor de rsync. Poco tiempo después de haberlo agregado a nuestro DNS, 
usted comenzará a ver el tráfico del rsync -- gracias por Usuarios y desarrolladores 
de Gentoo Linux! :)</p>

</body>
</section>
</chapter>
</guide>

