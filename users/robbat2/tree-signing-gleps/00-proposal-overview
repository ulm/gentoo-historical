GLEP: xx
Title: Security of distribution of Gentoo software - Overview
Version: $Version$
Last-Modified: $Date: 2006/10/11 06:36:50 $
Author: Robin Hugh Johnson <robbat2@gentoo.org>, 
        Patrick Lauer <patrick@gentoo.org>,
Status: Draft
Type: Informational
Content-Type: text/plain
Created: 21-May-2006
Updated: 01-Oct-2006
Post-History: ...

TODO:
- Solar to review security aspects

Abstract
========
To provide an overview of existing security problems, and a
near-complete security solution for Gentoo's software distribution
methods, with the aim of greatly reducing the ability of an attacker to
exploit any present shortcomings.

Motivation
==========
Gentoo's software distribution system as it presently stands, contains a
number of security shortcomings [TODO: reference Patrick's email - get a copy of it for here?]
1. Unverifiable executable code distributed.
2. Shortcomings of existing Manifest verification
3. Vulnerability of existing infrastructure to attacks.

Specification
=============
Security is not something that can be considered in isolation. It is
both an ongoing holistic process and lessons learnt by examining
previous shortcomings.

System Elements
---------------
In Gentoo, there are 4 significant entities:
1. Developers
2. Gentoo Infrastructure (we are primarily concerned about CVS and the
   master rsync system)
3. Gentoo mirrors (maintained by third parties).
4. Users

Attacks may be conducted against any of these entities.

Processes
---------
There are two major processes in the distribution of Gentoo, where
security needs to be implemented:
1. Developer commits to version control systems controlled by
   Infrastructure.
2. Tree and distfile distribution from Infrastructure to Users, via the
   mirrors (this includes both HTTP and rsync distribution).

Both processes need their security improved.

Attacks against Processes
-------------------------
Attacks against the process #1 may be as complex as a malicious or
compromised developer (stolen SSH keys, rooted systems), or as simple as
a patch from a user that does a little more than it claims, and is not
adequately reviewed.

Attacks against the process #2 may be as simple as a single rooted
mirror, distributing a modified tree to the users of that mirror - or
some alteration of upstream sources.

Security for Processes
------------------------
Protection for process #1 can never be complete (without major
modifications to our development process), as a malicious developer has
fully authorized to distribute materials. Partial protection can be
gained by Portage and Infrastructure changes, but the real improvements
needed are developer education and continued vigilance. This is further
discussed in [GLEPxx+2].

Protection for process #2 is a different matter entirely. While it also
cannot be complete (as the User may be attacked directly). We can ensure
that Gentoo infrastructure and any third-party mirrors are not a weak
point. This objective is actually much closer than it seems already -
most of the work has been completed for other things!. This work is
further discussed in [GLEPxx+1]. As this process has the most to gain in
security, and the most immediate impact, it should be implemented before
or at the same time as any changes to process #1.

Requirements pertaining to and management of keys (OpenPGP or otherwise)
is an issue that affects both processes, and is broken out into a
separate GLEP due to the technical complexity of the subject.
This deals with everything including: types of keys to use; usage
guidelines; procedures for managing signatures and trust for keys,
including cases of lost (destroyed) and stolen (or otherwise turned
malicous) keys.

Backwards Compatibility
=======================
As an informational GLEP, this document has no direct impact on
backwards compatibility. However the related in-depth documents may
delve further into any issues of backwards compatibility.

Copyright
=========
Copyright (c) 2006 by Robin Hugh Johnson. This material may be
distributed only subject to the terms and conditions set forth in the
Open Publication License, v1.0 or later (the latest version is presently
available at http://www.opencontent.org/openpub/).

vim: tw=72 ts=2 expandtab:
