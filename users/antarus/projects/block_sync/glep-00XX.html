<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
GLEP, see http://www.gentoo.org/proj/en/glep/glep-0001.html for --
instructions and links to templates.
DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
  <title>GLEP XX -- Sync Control for Developers</title>
  <style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:date: $Date: 2007/01/24 06:06:02 $
:version: $Revision: 1.2 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the PEP HTML output of Docutils.
*/

.first {
  margin-top: 0 }

.last {
  margin-bottom: 0 }

.navigation {
  width: 100% ;
  background: #cc99ff ;
  margin-top: 0px ;
  margin-bottom: 0px }

.navigation .navicon {
  width: 150px ;
  height: 35px }

.navigation .textlinks {
  padding-left: 1em ;
  text-align: left }

.navigation td, .navigation th {
  padding-left: 0em ;
  padding-right: 0em ;
  vertical-align: middle }

.rfc2822 {
  margin-top: 0.5em ;
  margin-left: 0.5em ;
  margin-right: 0.5em ;
  margin-bottom: 0em }

.rfc2822 td {
  text-align: left }

.rfc2822 th.field-name {
  text-align: right ;
  font-family: sans-serif ;
  padding-right: 0.5em ;
  font-weight: bold ;
  margin-bottom: 0em }

a.toc-backref {
  text-decoration: none ;
  color: black }

body {
  margin: 0px ;
  margin-bottom: 1em ;
  padding: 0px }

dd {
  margin-bottom: 0.5em }

div.section {
  margin-left: 1em ;
  margin-right: 1em ;
  margin-bottom: 1.5em }

div.section div.section {
  margin-left: 0em ;
  margin-right: 0em ;
  margin-top: 1.5em }

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

div.hint p.admonition-title, div.important p.admonition-title,
div.note p.admonition-title, div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.figure {
  margin-left: 2em }

div.footer, div.header {
  font-size: smaller }

div.footer {
  margin-left: 1em ;
  margin-right: 1em }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1 {
  font-family: sans-serif ;
  font-size: large }

h2 {
  font-family: sans-serif ;
  font-size: medium }

h3 {
  font-family: sans-serif ;
  font-size: small }

h4 {
  font-family: sans-serif ;
  font-style: italic ;
  font-size: small }

h5 {
  font-family: sans-serif;
  font-size: x-small }

h6 {
  font-family: sans-serif;
  font-style: italic ;
  font-size: x-small }

.section hr {
  width: 75% }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.topic-title {
  font-family: sans-serif ;
  font-weight: bold }

pre.line-block {
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

table {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

td, th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

td.num {
  text-align: right }

th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap }

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100% }

tt {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body bgcolor="white">
<table class="navigation" cellpadding="0" cellspacing="0"
       width="100%" border="0">
<tr><td class="navicon" width="150" height="35">
<a href="http://www.gentoo.org/" title="Gentoo Linux Home Page">
<img src="http://www.gentoo.org/images/gentoo-new.gif" alt="[Gentoo]"
 border="0" width="150" height="35" /></a></td>
<td class="textlinks" align="left">
[<b><a href="http://www.gentoo.org/">Gentoo Linux Home</a></b>]
[<b><a href="http://www.gentoo.org/proj/en/glep">GLEP Index</a></b>]
[<b><a href="http://www.gentoo.org/proj/en/glep/glep-XX.txt">GLEP Source</a></b>]
</td></tr></table>
<div class="document">
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">GLEP:</th><td class="field-body"><a href="#id1" name="id2"><span class="problematic" id="id2">XX</span></a></td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Sync Control for Developers</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1.1</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body">2007/01/24 04:40:54</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Alec Warner &lt;antarus&#32;&#97;t&#32;gentoo.org&gt;</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Robbin Johnson &lt;robbat2&#32;&#97;t&#32;gentoo.org&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference" href="glep-0002.html">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">15-Jan-2007</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#credits" id="id7" name="id7">Credits</a></li>
<li><a class="reference" href="#abstract" id="id8" name="id8">Abstract</a></li>
<li><a class="reference" href="#motivation" id="id9" name="id9">Motivation</a></li>
<li><a class="reference" href="#rationale" id="id10" name="id10">Rationale</a></li>
<li><a class="reference" href="#specification" id="id11" name="id11">Specification</a><ul>
<li><a class="reference" href="#block-sync-file" id="id12" name="id12">block_sync File</a></li>
<li><a class="reference" href="#block-sync-file-entries" id="id13" name="id13">block_sync File Entries</a></li>
<li><a class="reference" href="#block-sync-entry-example" id="id14" name="id14">block_sync Entry Example</a></li>
</ul>
</li>
<li><a class="reference" href="#implementation" id="id15" name="id15">Implementation</a></li>
<li><a class="reference" href="#backwards-compatibility" id="id16" name="id16">Backwards Compatibility</a></li>
<li><a class="reference" href="#reference-implementation" id="id17" name="id17">Reference Implementation</a></li>
<li><a class="reference" href="#references" id="id18" name="id18">References</a></li>
<li><a class="reference" href="#copyright" id="id19" name="id19">Copyright</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id7" id="credits" name="credits">Credits</a></h1>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id8" id="abstract" name="abstract">Abstract</a></h1>
<p>This GLEP proposes a method for providing Gentoo developers who have gentoo-x86
commit access the ability to stop the CVS -&gt; RSYNC propagation process for a
predefined period of time.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id9" id="motivation" name="motivation">Motivation</a></h1>
<p>Situations may <a class="reference" href="http://article.gmane.org/gmane.linux.gentoo.devel/45314/match=block+sync">arise</a> <a class="footnote-reference" href="#id3" id="id4" name="id4">[1]</a> when a developers require the CVS -&gt; RSYNC propagation
to be turned off for a predefined period of time.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id10" id="rationale" name="rationale">Rationale</a></h1>
<p>There are times when stopping the CVS -&gt; RSYNC propagation is necessary.
Sometimes it is difficult to find an infrastruction developer with sufficient
permissions to do so (or alternatively, developers have no idea whom to
ask to have this done and assume it is not allowed.)  An example of when this
maybe be opportune is if a developer makes a mistaken commit that is
non-trivial to fix, propagation may be halted to address the issue properly.
This also aids in preventing a worse hack to 'fix it before the propagation'
which some people are prone to suggesting from time to time.</p>
<p>Perhaps a better example is a large commit of a package such as Xorg or KDE.
Often the ebuilds are commited in package.mask and then unmasked afterwards;
this gets around the time window restrictions nicely, but it does not account
for developers who are stabling packages.  If a large package is not fully
keyworded during one propagation cycle users may recview a half-keyworded
set of ebuilds.  Delaying the propation in this case ensures a fully keyworded
package.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id11" id="specification" name="specification">Specification</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id12" id="block-sync-file" name="block-sync-file">block_sync File</a></h2>
<p>There will exist a file that can be placed in gentoo-x86; its name shall be
'block_sync'.</p>
<p>The block_sync file will have a set of <a class="reference" href="http://www.faqs.org/rfcs/rfc822.html">RFC 822</a> style entries.</p>
<p>The block_sync file will not remain in cvs, the developers will place a set
of headers in the file to disable CVS -&gt; RSYNC propagation and then remove the
file when the propagation is ready to be re-enabled.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id13" id="block-sync-file-entries" name="block-sync-file-entries">block_sync File Entries</a></h2>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Entry-Date:</span></tt></dt>
<dd>This denotes the date the entry was added to the file.  It should
contain an <a class="reference" href="http://www.faqs.org/rfcs/rfc822.html">RFC 822</a> style date (Thu, 11 Jan 2007 21:45:23 +0000).  This
field is mandatory.</dd>
<dt><tt class="docutils literal"><span class="pre">Start-Date:</span></tt></dt>
<dd>This denotes the start time of the CVS -&gt; RSYNC downtime.  It should
contain an <a class="reference" href="http://www.faqs.org/rfcs/rfc822.html">RFC 822</a> style date (Thu, 11 Jan 2007 21:45:23 +0000).  This
field is mandatory.</dd>
<dt><tt class="docutils literal"><span class="pre">Completion-Date:</span></tt></dt>
<dd>This denotes the ending time of the CVS -&gt; RSYNC downtime.  It should
contain an <a class="reference" href="http://www.faqs.org/rfcs/rfc822.html">RFC 822</a> style date (Thu, 11 Jan 2007 21:45:23 +0000).  This
field is mandatory.</dd>
<dt><tt class="docutils literal"><span class="pre">Signed-Off-By:</span></tt></dt>
<dd>This denotes who to contact about the downtime.  A changelog-like
syntax should be used (Alec Warner &lt;<a class="reference" href="mailto:antarus&#64;gentoo.org">antarus&#64;gentoo.org</a>&gt;).  This field
is mandatory.</dd>
<dt><tt class="docutils literal"><span class="pre">References:</span></tt></dt>
<dd>This field may contain any references that the downtime is for; this
could include a bug report, a forums thread, an e-mail thread, etc...
This field is optional.</dd>
<dt><tt class="docutils literal"><span class="pre">Reason:</span></tt></dt>
<dd>This field contains the reason for the CVS -&gt; RSYNC downtime.  Please
be concise in your reasoning.  This field is required.</dd>
</dl>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id14" id="block-sync-entry-example" name="block-sync-entry-example">block_sync Entry Example</a></h2>
<p>A sample entry is below:</p>
<pre class="literal-block">
==============
Entry-Date: Thu, 11 Jan 2007 21:45:23 +0000
Start-Date: Thu, 11 Jan 2007 22:00:00 +0000
Completion-Date: Thu, 11 Jan 2007 23:00:00 +0000
Signed-Off-By: Robin H. Johnson &lt;robbat2 &lt;at&gt; gentoo.org&gt;
References: http://article.gmane.org/gmane.linux.gentoo.devel/45310
Reason: The following is an example of a block for the block_sync file.
 This is a continuation line. Notice the leading space. It is still part
 of the Reason header.
# The above is the example block
==============
</pre>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id15" id="implementation" name="implementation">Implementation</a></h1>
<p>A template file will be placed online that developers can then fetch and commit
to cvs with the relevant fields filled in.  The python script that will become
a part of gmirror is already written and lives within CVS at:</p>
<blockquote>
gentoo/users/antarus/projects/block_sync/block_sync.py</blockquote>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id16" id="backwards-compatibility" name="backwards-compatibility">Backwards Compatibility</a></h1>
<p>I believe there are no known backwards compatability issues.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id17" id="reference-implementation" name="reference-implementation">Reference Implementation</a></h1>
<p>Please see <a class="reference" href="http://sources.gentoo.org/viewcvs.py/gentoo/users/antarus/projects/block_sync/block_sync.py?rev=1.1&amp;view=log">block_sync.py</a> <a class="footnote-reference" href="#id5" id="id6" name="id6">[2]</a></p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id18" id="references" name="references">References</a></h1>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4" name="id3">[1]</a></td><td><a class="reference" href="http://article.gmane.org/gmane.linux.gentoo.devel/45314/match=block+sync">http://article.gmane.org/gmane.linux.gentoo.devel/45314/match=block+sync</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6" name="id5">[2]</a></td><td><a class="reference" href="http://sources.gentoo.org/viewcvs.py/gentoo/users/antarus/projects/block_sync/block_sync.py?rev=1.1&amp;view=log">http://sources.gentoo.org/viewcvs.py/gentoo/users/antarus/projects/block_sync/block_sync.py?rev=1.1&amp;view=log</a></td></tr>
</tbody>
</table>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id19" id="copyright" name="copyright">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
</div>
<div class="system-messages section">
<h1>Docutils System Messages</h1>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: <a name="id1">WARNING/2</a> (<tt class="docutils">glep-00XX.txt</tt>); <em><a href="#id2">backlink</a></em></p>
&quot;GLEP&quot; header must contain an integer; &quot;XX&quot; is an invalid value.</div>
</div>

</div>
<div class="footer">
<hr class="footer" />
<a class="reference" href="glep-00XX.txt">View document source</a>.
Generated on: 2007-01-24 05:55 UTC.
Generated by <a class="reference" href="http://docutils.sourceforge.net/">Docutils</a> from <a class="reference" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> source.

</div>
</body>
</html>

