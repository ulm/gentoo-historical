Index: flac-1.1.3-beta2/src/flac/Makefile.am
===================================================================
--- flac-1.1.3-beta2.orig/src/flac/Makefile.am
+++ flac-1.1.3-beta2/src/flac/Makefile.am
@@ -17,8 +17,6 @@
 
 bin_PROGRAMS = flac
 
-AM_CFLAGS = @OGG_CFLAGS@
-
 EXTRA_DIST = \
 	Makefile.lite \
 	flac.dsp
@@ -45,6 +43,5 @@ flac_LDADD = \
 	$(top_builddir)/src/share/replaygain_synthesis/libreplaygain_synthesis.la \
 	$(top_builddir)/src/share/utf8/libutf8.la \
 	$(top_builddir)/src/libFLAC/libFLAC.la \
-	@OGG_LIBS@ \
 	@LIBICONV@ \
 	-lm
Index: flac-1.1.3-beta2/src/libFLAC/Makefile.am
===================================================================
--- flac-1.1.3-beta2.orig/src/libFLAC/Makefile.am
+++ flac-1.1.3-beta2/src/libFLAC/Makefile.am
@@ -47,22 +47,25 @@ endif
 
 AM_CFLAGS = $(DEBUGCFLAGS) $(CPUCFLAGS)
 
+libFLAC_la_LIBADD = 
+libFLAC_la_CFLAGS = $(AM_CFLAGS)
+
 if FLaC__NO_ASM
 else
 if FLaC__CPU_IA32
 if FLaC__HAS_NASM
 ARCH_SUBDIRS = ia32
-libFLAC_la_LIBADD = ia32/libFLAC-asm.la
+libFLAC_la_LIBADD += ia32/libFLAC-asm.la
 endif
 endif
 if FLaC__CPU_PPC
 ARCH_SUBDIRS = ppc
 if FLaC__HAS_AS__TEMPORARILY_DISABLED
-libFLAC_la_LIBADD = ppc/as/libFLAC-asm.la
+libFLAC_la_LIBADD += ppc/as/libFLAC-asm.la
 LOCAL_EXTRA_LDFLAGS = "-Wl,-read_only_relocs,warning"
 else
 if FLaC__HAS_GAS__TEMPORARILY_DISABLED
-libFLAC_la_LIBADD = ppc/gas/libFLAC-asm.la
+libFLAC_la_LIBADD += ppc/gas/libFLAC-asm.la
 LOCAL_EXTRA_LDFLAGS = ""
 endif
 endif
@@ -81,11 +84,13 @@ EXTRA_DIST = \
 	libFLAC.m4
 
 if FLaC__HAS_OGG
+libFLAC_la_CFLAGS += $(OGG_FLAGS)
 extra_ogg_sources = \
 	ogg_decoder_aspect.c \
 	ogg_encoder_aspect.c \
 	ogg_helper.c \
 	ogg_mapping.c
+libFLAC_la_LIBADD += $(OGG_LIBS)
 endif
 # see 'http://www.gnu.org/software/libtool/manual.html#Libtool-versioning' for numbering convention
 libFLAC_la_LDFLAGS = -version-info 8:0:0 -lm $(LOCAL_EXTRA_LDFLAGS)
