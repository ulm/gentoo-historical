http://bugs.gentoo.org/292492
http://emacsbugs.donarmstrong.com/4336
Define x_*_window_to_frame for non-toolkit.
Patch by Jan Dj√§rv <jan.h.d@swipnet.se>, from upstream CVS

--- emacs-23.1-orig/src/xterm.h
+++ emacs-23.1/src/xterm.h
@@ -372,10 +372,13 @@
 
 extern struct frame *x_window_to_frame P_ ((struct x_display_info *, int));
 
-#if defined (USE_X_TOOLKIT) || defined (USE_GTK)
 extern struct frame *x_any_window_to_frame P_ ((struct x_display_info *, int));
 extern struct frame *x_menubar_window_to_frame P_ ((struct x_display_info *, int));
 extern struct frame *x_top_window_to_frame P_ ((struct x_display_info *, int));
+
+#if ! defined (USE_X_TOOLKIT) && ! defined (USE_GTK)
+#define x_any_window_to_frame x_window_to_frame
+#define x_top_window_to_frame x_window_to_frame
 #endif
 
 /* This is a chain of structures for all the X displays currently in use.  */
