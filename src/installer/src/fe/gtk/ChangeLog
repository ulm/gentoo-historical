# ChangeLog for Gentoo Linux Installer
# Copyright 2004 Gentoo Technologies, Inc.
# $Header: /var/cvsroot/gentoo/src/installer/src/fe/gtk/ChangeLog,v 1.149 2005/08/20 21:24:03 agaffney Exp $

*GLI-gtkfe-0.2 (13 Aug 2005)

  20 Aug 2005; Andrew Gaffney <agaffney@gentoo.org>
  add ability to create reiserfs, xfs, and jfs
  fixed timezone loading

  17 Aug 2005; Andrew Gaffney <agaffney@gentoo.org>
  change finish to Install on InstallSummary.py
  disable USE selection if GRP install

  16 Aug 2005; Andrew Gaffney <agaffney@gentoo.org>
  add validate_uri() checks to Stage.py and PortageTree.py
  CD snapshot URI automaticaly filled in for PortageTree.py
  force sync method to "snapshot" and snapshot URI on CD for dynamic-stage3

  13 Aug 2005; Andrew Gaffney <agaffney@gentoo.org>
  add check for 0MB partition

  10 Aug 2005; Andrew Gaffney <agaffney@gentoo.org>
  set kernel_build_method to "genkernel" as default

*GLI-gtkfe-0.1 (03 Aug 2005)

  3 Aug 2005; Andrew Gaffney <agaffney@gentoo.org>
  Determine HPaned handle-width dynamically in order to work properly on all
  GTK themes.

  30 Jul 2005; Andrew Gaffney <agaffney@gentoo.org>
  Reduce spacing on Stage screen.
  Don't prompt about blank stage tarball URI if dynamic stage3
  Disable chost_combo if stage > 1

  24 Jul 2005; Andrew Gaffney <agaffney@gentoo.org>
  Add support for dynamic stage3 to Stage.py
  Add proxy and kernel module fields to CC screen.
  CC screen pulls values from self.controller.client_profile.
  CC screen saves values to self.controller.client_profile.

  23 Jun 2005; Andrew Gaffney <agaffney@gentoo.org>
  Add --debug flag for gtkfe.py. Add fields to Advanced screen of Client
  Config screen.

  22 Jun 2005; Andrew Gaffney <agaffney@gentoo.org>
  Actually commit ClientConfig screen with "working" pre-install net setup.

  20 Jun 2005; Andrew Gaffney <agaffney@gentoo.org>
  Add new screen for ClientConfig (nothing in it yet).

  14 Jun 2005; John N. Laliberte <allanonjl@gentoo.org>
  Users.py: bugfix to not check if uid is an int if its not set.

  13 Jun 2005; Andrew Gaffney <agaffney@gentoo.org>
  Add check for blank stage tarball URI and ask user if they want to continue.
  Remove '/usr/share/zoneinfo/' part from timezone.

  12 Jun 2005; John N. Laliberte <allanonjl@gentoo.org>
  Networking.py: complete overhaul.  added in gui support ( no backend support
  yet ) for wireless, added in hardware identification for ethernet devices,
  added a new tab that will hold proxy and other networking information.
  Timezone.py: changed error if timezone is bad.
  RcDotConf.py: stopped printing KeyError in loading phase.
  
  9 Jun 2005; Andrew Gaffney <agaffney@gentoo.org>
  Change from .1 and .9 to constants.

  7 Jun 2005; Andrew Gaffney <agaffney@gentoo.org>
  Minor changes as suggested by pychecker.

  2 Jun 2005; Andrew Gaffney <agaffney@gentoo.org>
  Fix text running off the side of the window on all screens.

  31 May 2005; John N. Laliberte <allanonjl@gentoo.org>
  timezone_map_gui: Small fix to prevent race condition on area_expose. 

  31 May 2005; Andrew Gaffney <agaffney@gentoo.org>
  Cause install to *actually* fail on a failure. Added more detail to the error
  message. Add back error message on partition load error.

  28 May 2005; John N. Laliberte <allanonjl@gentoo.org>
  timezone_map_gui.py: small update to fix refresh on area expose.

  28 May 2005; John N. Laliberte <allanonjl@gentoo.org>
  recommit of Timezone.py due to removal of gnomecanvas dep in
  timezone_map_gui.py.
  
  27 May 2005; Andrew Gaffney <agaffney@gentoo.org>
  Typo fix, WARNING instead of WARN

  24 May 2005; Andrew Gaffney <agaffney@gentoo.org>
  Changes for IP using GLISD directly.

  16 May 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added code to deactivate() in Partitioning.py to make sure there is a
  partition with the mountpoint /.
  
  15 May 2005; John N. Laliberte <allanonjl@gentoo.org>
  Removed dependency on gnomecanvas for timezone_map_gui.py by re-implementing
  anything needed in pure gtk.
  
  13 May 2005; Andrew Gaffney <agaffney@gentoo.org>
  Changed Welcome screen message and disabled setting of root password.

  8 May 2005; John N. Laliberte <allanonjl@gentoo.org>
  Complete overhaul of Timezone.py.  Now has a very gui selector that was
  ripped out of a redhat timezone configuration utility. Has been integrated
  into the backend.
  
  4 May 2005; Andrew Gaffney <agaffney@gentoo.org>
  More idiot-proofing: mountpoint/opts fields disables for swap and mountopts
  defaults to 'defaults' if blank and a mountpoint is specified

  2 May 2005; Andrew Gaffney <agaffney@gentoo.org>
  Readded resizing support.

  1 May 2005; Andrew Gaffney <agaffney@gentoo.org>
  PartProperties gets cur_size parameter. PartProperties allows sliding bar
  when a partition is resizeable. Additional manual size entry validation code.

  30 Apr 2005; Andrew Gaffney <agaffney@gentoo.org>
  Add 'Format' to PartProperties. Remove craptastic split partitioning screen
  stuff.

  29 Apr 2005; Andrew Gaffney <agaffney@gentoo.org>
  Split 'custom' sync option into 'none' and 'snapshot'.

  16 Apr 2005; John N. Laliberte <allanonjl@gentoo.org>
  Integrated RcDotConf into the backend.
  
  16 Apr 2005; John N. Laliberte <allanonjl@gentoo.org>
  Complete overhaul of RcDotConf.
  
  10 Apr 2005; John N. Laliberte <allanonjl@gentoo.org>
  Added check to ensure uid is an int and not a str.
  Changed named of root password button in gui, added
  a seperate reset button for root password.  Fixed
  warning about reparenting a widget.  Added popup
  error message if root passwords do not match.  Changed
  behavior so click on an item automatically selects
  it for editing, getting rid of the need for a button.
  
  09 Apr 2005; Andrew Gaffney <agaffney@gentoo.org>
  Major overhaul of partitioning code for overhauled GLIStorageDevice.

  03 Apr 2005; John N. Laliberte <allanonjl@gentoo.org>
  Fixed 2 bugs in Users.py.
  
  02 Apr 2005; Andrew Gaffney <agaffney@gentoo.org>
  Removed reiserfs from the supported filesystems

  02 Apr 2005; John N. Laliberte <allanonjl@gentoo.org>
  Users.py- put in password field for user adding, 
  loading from saved config file implemented.
  Networking.py, Timezone.py, fixed tab spacings.
  
  30 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Cleanup deactivate() in Users

  30 Mar 2005; John N. Laliberte <allanonjl@gentoo.org>
  Users.py is now half integrated into the backend (saving only).
  
  29 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added code to detect when the output logfile is moved and temporarily
  disabled the done/error dialogs.

  29 Mar 2005; John N. Laliberte <allanonjl@gentoo.org>
  Complete overhaul of Users.py.  UI is smart, but not yet integrated
  into the backend.

  28 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added install complete/error message boxes and a TextView for displaying
  output. Change /tmp/install.log back to /var/log/install.log

  26 Mar 2005; Preston Cody <codeman@gentoo.org>
  removed /usr/local/zoneinfo from gtkfe b/c it's already being added on the BE.
  
  26 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Blank entry won't get added with Update in Networking.py

  25 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  gentoo-sources is default option in Kernel.py. Changed all gtk.TRUE/FALSE
  to True/False

  23 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added livecd-kernel option to Kernel.py.

  21 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Reenabled 'emerge sync' option. Removed get_random_salt() function and
  replaced call to crypt.crypt() with GLIUtility.hash_password()

  19 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Temporarily disabled 'emerge sync' option in PortageTree due to python
  threading bug. Removed fifo code.

  16 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  PartitioningMain calls deactivate() in active notebook page in its
  deactivate(). PartitioningMain's deactivate() returns a value. Subtract
  1 from end value.

  7 Mar 2005; John Laliberte <allanonl@bu.edu>
  Added a custom package bar where you can fill in custom packages to emerge
  (space seperated list)

  6 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Fix for swapped broadcast and netmask in Networking.py. Put empty try/except
  block around line to set snapshot URI in PortageTree.py. Loading an install
  profile uses a temporary GLIInstallProfile object to parse and then assigns
  it to the main object so the master object doesn't get left in an
  inconsistent state after a failed profile load.

  5 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Entry fields and slider in PartProperties.py now sync with each other.
  Sliding the slider will update the entry fields and changing an entry
  field will update the slider and the other entry field. Added help label
  below slider and above entry fields.

  1 Mar 2005; Andrew Gaffney <agaffney@gentoo.org>
  Quick fix to empty the fifo

  17 Feb 2005; John Laliberte <allanonl@bu.edu>
  ExtraPackages.py - Added a lot of UI reaction details.  It now
  reacts in a reasonable way that users will expect. Added support
  for each section to have "default" packages selected when you
  select the category.

  16 Feb 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added PartitioningMain which has a gtk.Notebook for Partitioning and
  PartitioningUgly (will be renamed). PartitioningMain calls activate()
  in child screens. Ugly screen is auto-selected if partition tables
  can't be read

  06 Feb 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added GRP checkbox in Stage.py

  01 Feb 2005; John Laliberte <allanonl@bu.edu>
  ExtraPackages.py - Added class Details.  Large portions updated so
  that there is now a tree structure of packages associated with each
  section and category. Many visual changes to the screen.

  31 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  Changed vertical spacing for install steps. Removed "Install" activation
  if profile is loaded. Bottom buttons are dynamically generated. Cleaned up
  unneeded code from Partitioning.py

  30 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  Deleting and recreating swap doesn't cause nastiness anymore. Switched
  to dynamically creating color key blocks. Made "whole disk" display taller
  to begin with. Fixed primary/logical checking in PartProperties.py

  29 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  Shell for partition properties dialog. Added "working" Ok and Cancel
  buttons to PartProperties.py. Began moving code from Partitioning.py
  to PartProperties.py. Lots more code moved. All editing functionality
  moved to PartProperties.py

  27 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  add len(sys.argv) check so gtkfe.py can be run without -p. Readded
  development-sources and gentoo-dev-sources to Kernel.py

  26 Jan 2005; John Laliberte <allanonl@bu.edu>
  ExtraPackages.py - major overhaul of the screen.  Uses objects for the
  'Section' and 'Category'.

  24 Jan 2005; John Laliberte <allanonl@bu.edu>
  Networking.py - fixed the bug where if no device was entered, it would
  raise an exception.  also fixed the bug for if you had only a dhcp device.
  Left justified the labels on the entry boxen.

  22 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  Fixed bug where end sector was set 1 too high causing the last partition
  to be 1 sector past the end of the drive. Added --pretend flag to gtkfe.py
  that gets passed to GLIClientController

  19 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added "Portage snapshot URI" field to PortageTree.py

  17 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added blurb about me being lazy to Welcome. Turned off pretend mode for
  gtkfe (no more training wheels!). Added mount point/opts fields to
  Partitioning.py. "fixed" invalid IP address problem in Networking.py

  17 Jan 2005; John Laliberte <allanonl@bu.edu>
  Networking.py - changed from combobox to comboentrybox.  Redid some of the
  logic used to make the user experience better.
  Widgets.py - added an errorbox2 that has okay and cancel.

  16 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  RunInstall.py called poll_notifications() in gtk idle loop and progress
  bar/status display work. Take ~5 fscking hours to figure out that pygtk
  is fscking retarted and locks its thread so python won't switch to
  another thread :(

  15 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  USE flag editor in MakeDotConf.py. Fix double spacing issue for USE flags.
  USE flag editor now generated proper + and - USE line. CFLAGS ComboBoxes
  and Entry in MakeDotConf. CFLAGS is set in InstallProfile. MakeDotConf does
  CHOST, ACCEPT_KEYWORDS, MAKEOPTS, and FEATURES. New screen/code to actually
  run the install.

  15 Jan 2005; John Laliberte <allanonl@bu.edu>
  Networking.py - added support for a custom ethernet device.
  Fixed a lot of little bugs having to do with user interaction,
  and added support for loading from the .xml file.
  Networking.py - added support for hostname and dnsdomainname.

  14 Jan 2005; John Laliberte <allanonl@bu.edu>
  Timezone.py - fixed bug where after selecting a timezone, it would jump
  to the parent of the selection.
  Networking.py - fixed bug where some fields would be available if device
  was selected and was dhcp.  also integrated into backend ( one way only
  so far, only will save, not load settings yet ).  Added error box to
  ask the user if they want to replace settings or cancel if the device
  is already listed.
  
  14 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  Added description to the top of NetworkMounts and changed the spacing
  of the description on Partitioning. In NetworkMounts, activate() now
  disables all buttons except 'New'. NetworkMounts now does field
  validation. Welcome.py code cleanups. Created Template.py based on
  Welcome.py. Rewrote Stage.py from scratch. Rewrote PortageTree.py.
  Added set_size_request() calls in PortageTree and Stage for alignment.
  Rewrote Kernel.py. Rewrote Daemons.py. Added sysklogd to loggers section
  of Daemons.py. Rewrote Bootloader.py

  13 Jan 2005; John Laliberte <allanonl@bu.edu>
  Networking.py - Complete rework of the screen using (as a
  template ) agaffney's network mounts screen. This screen still
  needs to be "integrated" into the backend, but will be completed
  within the next few days. At some point the dropdown needs to be
  changed to an entry combobox.

  09 Jan 2005; John Laliberte <allanonl@bu.edu>
  Timezone.py - Updated so it now is integrated with the backend.
  When you select and item in the tree that is not a node,
  ( you need to press enter or double-click ) it will set your timezone.

  05 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  Change all the math in Partitioning.py to work with sectors instead of
  cylinders.

  04 Jan 2005; Andrew Gaffney <agaffney@gentoo.org>
  A few tweaks to make it "work" with the GLIStorageDevice changes.

  21 Dec 2004; John Laliberte <allanonl@bu.edu>
  Daemons.py, Bootloader.py, Kernel.py, Stage.py, PortageTree.py, 
  MakeDotConf.py, RcDotConf.py now selects/loads the appropriate 
  options if a profile is loaded.  They are selected when each screen 
  is activated.
  In Timezone.py,Users.py
  Removed deprecation warning caused by gtk.OptionMenu() in Widgets.py.
  Removed some old debug values that were unnecessary.
  Integrated the Stage tarball URI, it nows loads from a profile and checks
  to make sure its a valid value by changing the background to pink.
  Created a test profile, "test_installprofile.xml" that selects different
  options illustrating the changes.
  Stage.py: Now doesn't change screens if the URI is invalid.
  Timezone.py: Changed the entire layout.  Made a recursive function to
  populate the treeview with the timezones from /usr/share/zoneinfo.
  
  20 Dec 2004; Andrew Gaffney <agaffney@gentoo.org>
  Partition screen "complete" with idiot-proofed goodness! Minor modification
  for info display when creating logical partition. Slider color changes to
  match selected filesystem when creating new partition.

  19 Dec 2004; Andrew Gaffney <agaffney@gentoo.org>
  Exit button works. Load button works. Save button works. Minor fixes to
  NetworkMounts due to switch to ComboBox for Type field. Old resize slider
  is now "new partition" slider. Partition screen adds/removes partitions.

  18 Dec 2004; Andrew Gaffney <agaffney@gentoo.org>
  Added Load/Save buttons and images (don't do anything yet). Reordered
  fields in NetworkMounts and added button next to Export ComboBox.

  12 Dec 2004; Andrew Gaffney <agaffney@gentoo.org>
  Completed rough working NetworkMounts screen: adds/removes/updates entries
  and saves to/reads from install profile. Moved some duplicated code into
  [enable|disable]_all_fields() functions. "fixed" the problem with the GTK
  assertion when calling set_text_column(0).

  12 Dec 2004; John Laliberte <allanonl@bu.edu>
  Networking.py updated to check ips while you type, as well as disabling
  the dropdown if any of the ip's are faulty.  This version turns the
  background of the gtk.Entry to "pink" until a valid ip address is found.
  Timezone.py updated to include the function generate_timezones which had
  previously been put in GLIUtility. Networking.py code has been
  overhauled/cleaned up to reflect the growing complexity of the panel.
  
  11 Dec 2004; Andrew Gaffney <agaffney@gentoo.org>
  Initial ChangeLog commit. Added set_size_request() call in gtkfe.py so the
  width of the left frame doesn't shift. Incorporated screen updates from
  John Laliberte <allanonl@bu.edu> (AllanonJL in #gentoo-installer). Added
  functionality to NetworkMounts.py to list NFS exports on a particular host.
